var Zd=Object.defineProperty;var qd=(e,t,r)=>t in e?Zd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Vl=(e,t,r)=>qd(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pc={exports:{}},ni={},mc={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vn=Symbol.for("react.element"),Qd=Symbol.for("react.portal"),Xd=Symbol.for("react.fragment"),Yd=Symbol.for("react.strict_mode"),Jd=Symbol.for("react.profiler"),ef=Symbol.for("react.provider"),tf=Symbol.for("react.context"),rf=Symbol.for("react.forward_ref"),nf=Symbol.for("react.suspense"),sf=Symbol.for("react.memo"),af=Symbol.for("react.lazy"),Wl=Symbol.iterator;function lf(e){return e===null||typeof e!="object"?null:(e=Wl&&e[Wl]||e["@@iterator"],typeof e=="function"?e:null)}var gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xc=Object.assign,vc={};function Zr(e,t,r){this.props=e,this.context=t,this.refs=vc,this.updater=r||gc}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yc(){}yc.prototype=Zr.prototype;function Ba(e,t,r){this.props=e,this.context=t,this.refs=vc,this.updater=r||gc}var Ua=Ba.prototype=new yc;Ua.constructor=Ba;xc(Ua,Zr.prototype);Ua.isPureReactComponent=!0;var Gl=Array.isArray,bc=Object.prototype.hasOwnProperty,Ha={current:null},wc={key:!0,ref:!0,__self:!0,__source:!0};function _c(e,t,r){var n,s={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)bc.call(t,n)&&!wc.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Vn,type:e,key:i,ref:l,props:s,_owner:Ha.current}}function of(e,t){return{$$typeof:Vn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Va(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vn}function cf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Kl=/\/+/g;function wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cf(""+e.key):t.toString(36)}function xs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Vn:case Qd:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+wi(l,0):n,Gl(s)?(r="",e!=null&&(r=e.replace(Kl,"$&/")+"/"),xs(s,t,r,"",function(d){return d})):s!=null&&(Va(s)&&(s=of(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Kl,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",Gl(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+wi(i,o);l+=xs(i,t,r,c,s)}else if(c=lf(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+wi(i,o++),l+=xs(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Yn(e,t,r){if(e==null)return e;var n=[],s=0;return xs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function uf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},vs={transition:null},df={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:vs,ReactCurrentOwner:Ha};function jc(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Yn,forEach:function(e,t,r){Yn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Yn(e,function(){t++}),t},toArray:function(e){return Yn(e,function(t){return t})||[]},only:function(e){if(!Va(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Zr;ce.Fragment=Xd;ce.Profiler=Jd;ce.PureComponent=Ba;ce.StrictMode=Yd;ce.Suspense=nf;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=df;ce.act=jc;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xc({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Ha.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)bc.call(t,c)&&!wc.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Vn,type:e.type,key:s,ref:i,props:n,_owner:l}};ce.createContext=function(e){return e={$$typeof:tf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ef,_context:e},e.Consumer=e};ce.createElement=_c;ce.createFactory=function(e){var t=_c.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:rf,render:e}};ce.isValidElement=Va;ce.lazy=function(e){return{$$typeof:af,_payload:{_status:-1,_result:e},_init:uf}};ce.memo=function(e,t){return{$$typeof:sf,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=vs.transition;vs.transition={};try{e()}finally{vs.transition=t}};ce.unstable_act=jc;ce.useCallback=function(e,t){return Ge.current.useCallback(e,t)};ce.useContext=function(e){return Ge.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Ge.current.useEffect(e,t)};ce.useId=function(){return Ge.current.useId()};ce.useImperativeHandle=function(e,t,r){return Ge.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Ge.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return Ge.current.useReducer(e,t,r)};ce.useRef=function(e){return Ge.current.useRef(e)};ce.useState=function(e){return Ge.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return Ge.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return Ge.current.useTransition()};ce.version="18.3.1";mc.exports=ce;var ne=mc.exports;const Le=hc(ne);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=ne,hf=Symbol.for("react.element"),pf=Symbol.for("react.fragment"),mf=Object.prototype.hasOwnProperty,gf=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xf={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)mf.call(t,n)&&!xf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:hf,type:e,key:i,ref:l,props:s,_owner:gf.current}}ni.Fragment=pf;ni.jsx=Nc;ni.jsxs=Nc;pc.exports=ni;var a=pc.exports,kc={exports:{}},nt={},Cc={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,z){var E=R.length;R.push(z);e:for(;0<E;){var P=E-1>>>1,T=R[P];if(0<s(T,z))R[P]=z,R[E]=T,E=P;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var z=R[0],E=R.pop();if(E!==z){R[0]=E;e:for(var P=0,T=R.length,q=T>>>1;P<q;){var I=2*(P+1)-1,L=R[I],ie=I+1,de=R[ie];if(0>s(L,E))ie<T&&0>s(de,L)?(R[P]=de,R[ie]=E,P=ie):(R[P]=L,R[I]=E,P=I);else if(ie<T&&0>s(de,E))R[P]=de,R[ie]=E,P=ie;else break e}}return z}function s(R,z){var E=R.sortIndex-z.sortIndex;return E!==0?E:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],b=1,g=null,x=3,p=!1,w=!1,h=!1,j=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var z=r(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=R)n(d),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(d)}}function _(R){if(h=!1,v(R),!w)if(r(c)!==null)w=!0,re(N);else{var z=r(d);z!==null&&G(_,z.startTime-R)}}function N(R,z){w=!1,h&&(h=!1,u(S),S=-1),p=!0;var E=x;try{for(v(z),g=r(c);g!==null&&(!(g.expirationTime>z)||R&&!ee());){var P=g.callback;if(typeof P=="function"){g.callback=null,x=g.priorityLevel;var T=P(g.expirationTime<=z);z=e.unstable_now(),typeof T=="function"?g.callback=T:g===r(c)&&n(c),v(z)}else n(c);g=r(c)}if(g!==null)var q=!0;else{var I=r(d);I!==null&&G(_,I.startTime-z),q=!1}return q}finally{g=null,x=E,p=!1}}var D=!1,A=null,S=-1,$=5,H=-1;function ee(){return!(e.unstable_now()-H<$)}function M(){if(A!==null){var R=e.unstable_now();H=R;var z=!0;try{z=A(!0,R)}finally{z?U():(D=!1,A=null)}}else D=!1}var U;if(typeof f=="function")U=function(){f(M)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,V=y.port2;y.port1.onmessage=M,U=function(){V.postMessage(null)}}else U=function(){j(M,0)};function re(R){A=R,D||(D=!0,U())}function G(R,z){S=j(function(){R(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,re(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var E=x;x=z;try{return R()}finally{x=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var E=x;x=R;try{return z()}finally{x=E}},e.unstable_scheduleCallback=function(R,z,E){var P=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?P+E:P):E=P,R){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=E+T,R={id:b++,callback:z,priorityLevel:R,startTime:E,expirationTime:T,sortIndex:-1},E>P?(R.sortIndex=E,t(d,R),r(c)===null&&R===r(d)&&(h?(u(S),S=-1):h=!0,G(_,E-P))):(R.sortIndex=T,t(c,R),w||p||(w=!0,re(N))),R},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(R){var z=x;return function(){var E=x;x=z;try{return R.apply(this,arguments)}finally{x=E}}}})(Sc);Cc.exports=Sc;var vf=Cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=ne,rt=vf;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ec=new Set,kn={};function vr(e,t){Br(e,t),Br(e+"Capture",t)}function Br(e,t){for(kn[e]=t,e=0;e<t.length;e++)Ec.add(t[e])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=Object.prototype.hasOwnProperty,bf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zl={},ql={};function wf(e){return Zi.call(ql,e)?!0:Zi.call(Zl,e)?!1:bf.test(e)?ql[e]=!0:(Zl[e]=!0,!1)}function _f(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jf(e,t,r,n){if(t===null||typeof t>"u"||_f(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,r,n,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wa=/[\-:]([a-z])/g;function Ga(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wa,Ga);Re[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wa,Ga);Re[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wa,Ga);Re[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ka(e,t,r,n){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jf(t,r,s,n)&&(r=null),n||s===null?wf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $t=yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jn=Symbol.for("react.element"),wr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),Za=Symbol.for("react.strict_mode"),qi=Symbol.for("react.profiler"),Dc=Symbol.for("react.provider"),Tc=Symbol.for("react.context"),qa=Symbol.for("react.forward_ref"),Qi=Symbol.for("react.suspense"),Xi=Symbol.for("react.suspense_list"),Qa=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Ac=Symbol.for("react.offscreen"),Ql=Symbol.iterator;function en(e){return e===null||typeof e!="object"?null:(e=Ql&&e[Ql]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,_i;function dn(e){if(_i===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_i=t&&t[1]||""}return`
`+_i+e}var ji=!1;function Ni(e,t){if(!e||ji)return"";ji=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{ji=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?dn(e):""}function Nf(e){switch(e.tag){case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return dn("Suspense");case 19:return dn("SuspenseList");case 0:case 2:case 15:return e=Ni(e.type,!1),e;case 11:return e=Ni(e.type.render,!1),e;case 1:return e=Ni(e.type,!0),e;default:return""}}function Yi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _r:return"Fragment";case wr:return"Portal";case qi:return"Profiler";case Za:return"StrictMode";case Qi:return"Suspense";case Xi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tc:return(e.displayName||"Context")+".Consumer";case Dc:return(e._context.displayName||"Context")+".Provider";case qa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qa:return t=e.displayName||null,t!==null?t:Yi(e.type)||"Memo";case Lt:t=e._payload,e=e._init;try{return Yi(e(t))}catch{}}return null}function kf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yi(t);case 8:return t===Za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cf(e){var t=zc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function es(e){e._valueTracker||(e._valueTracker=Cf(e))}function Mc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ji(e,t){var r=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xl(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=er(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ic(e,t){t=t.checked,t!=null&&Ka(e,"checked",t,!1)}function ea(e,t){Ic(e,t);var r=er(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ta(e,t.type,r):t.hasOwnProperty("defaultValue")&&ta(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ta(e,t,r){(t!=="number"||Ds(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fn=Array.isArray;function Ir(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+er(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(fn(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:er(r)}}function Pc(e,t){var r=er(t.value),n=er(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function eo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,Fc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sf=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(e){Sf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mn[t]=mn[e]})});function $c(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mn.hasOwnProperty(e)&&mn[e]?(""+t).trim():t+"px"}function Oc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$c(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Ef=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(e,t){if(t){if(Ef[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function ia(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function Xa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,Pr=null,Rr=null;function to(e){if(e=Kn(e)){if(typeof la!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=oi(t),la(e.stateNode,e.type,t))}}function Lc(e){Pr?Rr?Rr.push(e):Rr=[e]:Pr=e}function Bc(){if(Pr){var e=Pr,t=Rr;if(Rr=Pr=null,to(e),t)for(e=0;e<t.length;e++)to(t[e])}}function Uc(e,t){return e(t)}function Hc(){}var ki=!1;function Vc(e,t,r){if(ki)return e(t,r);ki=!0;try{return Uc(e,t,r)}finally{ki=!1,(Pr!==null||Rr!==null)&&(Hc(),Bc())}}function Sn(e,t){var r=e.stateNode;if(r===null)return null;var n=oi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var oa=!1;if(It)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){oa=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{oa=!1}function Df(e,t,r,n,s,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(b){this.onError(b)}}var gn=!1,Ts=null,As=!1,ca=null,Tf={onError:function(e){gn=!0,Ts=e}};function Af(e,t,r,n,s,i,l,o,c){gn=!1,Ts=null,Df.apply(Tf,arguments)}function zf(e,t,r,n,s,i,l,o,c){if(Af.apply(this,arguments),gn){if(gn){var d=Ts;gn=!1,Ts=null}else throw Error(Q(198));As||(As=!0,ca=d)}}function yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ro(e){if(yr(e)!==e)throw Error(Q(188))}function Mf(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ro(s),e;if(i===n)return ro(s),t;i=i.sibling}throw Error(Q(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function Gc(e){return e=Mf(e),e!==null?Kc(e):null}function Kc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kc(e);if(t!==null)return t;e=e.sibling}return null}var Zc=rt.unstable_scheduleCallback,no=rt.unstable_cancelCallback,If=rt.unstable_shouldYield,Pf=rt.unstable_requestPaint,Se=rt.unstable_now,Rf=rt.unstable_getCurrentPriorityLevel,Ya=rt.unstable_ImmediatePriority,qc=rt.unstable_UserBlockingPriority,zs=rt.unstable_NormalPriority,Ff=rt.unstable_LowPriority,Qc=rt.unstable_IdlePriority,si=null,kt=null;function $f(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Bf,Of=Math.log,Lf=Math.LN2;function Bf(e){return e>>>=0,e===0?32:31-(Of(e)/Lf|0)|0}var rs=64,ns=4194304;function hn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=hn(o):(i&=l,i!==0&&(n=hn(i)))}else l=r&~s,l!==0?n=hn(l):i!==0&&(n=hn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gt(t),s=1<<r,n|=e[r],t&=~s;return n}function Uf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hf(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-gt(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=Uf(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function ua(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xc(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function Ci(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=r}function Vf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-gt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ja(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var me=0;function Yc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jc,el,eu,tu,ru,da=!1,ss=[],Gt=null,Kt=null,Zt=null,En=new Map,Dn=new Map,Ut=[],Wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function so(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":En.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(t.pointerId)}}function rn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Kn(t),t!==null&&el(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Gf(e,t,r,n,s){switch(t){case"focusin":return Gt=rn(Gt,e,t,r,n,s),!0;case"dragenter":return Kt=rn(Kt,e,t,r,n,s),!0;case"mouseover":return Zt=rn(Zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return En.set(i,rn(En.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Dn.set(i,rn(Dn.get(i)||null,e,t,r,n,s)),!0}return!1}function nu(e){var t=or(e.target);if(t!==null){var r=yr(t);if(r!==null){if(t=r.tag,t===13){if(t=Wc(r),t!==null){e.blockedOn=t,ru(e.priority,function(){eu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);aa=n,r.target.dispatchEvent(n),aa=null}else return t=Kn(r),t!==null&&el(t),e.blockedOn=r,!1;t.shift()}return!0}function io(e,t,r){ys(e)&&r.delete(t)}function Kf(){da=!1,Gt!==null&&ys(Gt)&&(Gt=null),Kt!==null&&ys(Kt)&&(Kt=null),Zt!==null&&ys(Zt)&&(Zt=null),En.forEach(io),Dn.forEach(io)}function nn(e,t){e.blockedOn===t&&(e.blockedOn=null,da||(da=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,Kf)))}function Tn(e){function t(s){return nn(s,e)}if(0<ss.length){nn(ss[0],e);for(var r=1;r<ss.length;r++){var n=ss[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Gt!==null&&nn(Gt,e),Kt!==null&&nn(Kt,e),Zt!==null&&nn(Zt,e),En.forEach(t),Dn.forEach(t),r=0;r<Ut.length;r++)n=Ut[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ut.length&&(r=Ut[0],r.blockedOn===null);)nu(r),r.blockedOn===null&&Ut.shift()}var Fr=$t.ReactCurrentBatchConfig,Is=!0;function Zf(e,t,r,n){var s=me,i=Fr.transition;Fr.transition=null;try{me=1,tl(e,t,r,n)}finally{me=s,Fr.transition=i}}function qf(e,t,r,n){var s=me,i=Fr.transition;Fr.transition=null;try{me=4,tl(e,t,r,n)}finally{me=s,Fr.transition=i}}function tl(e,t,r,n){if(Is){var s=fa(e,t,r,n);if(s===null)Ri(e,t,n,Ps,r),so(e,n);else if(Gf(s,e,t,r,n))n.stopPropagation();else if(so(e,n),t&4&&-1<Wf.indexOf(e)){for(;s!==null;){var i=Kn(s);if(i!==null&&Jc(i),i=fa(e,t,r,n),i===null&&Ri(e,t,n,Ps,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ri(e,t,n,null,r)}}var Ps=null;function fa(e,t,r,n){if(Ps=null,e=Xa(n),e=or(e),e!==null)if(t=yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ps=e,null}function su(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rf()){case Ya:return 1;case qc:return 4;case zs:case Ff:return 16;case Qc:return 536870912;default:return 16}default:return 16}}var Vt=null,rl=null,bs=null;function iu(){if(bs)return bs;var e,t=rl,r=t.length,n,s="value"in Vt?Vt.value:Vt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[i-n];n++);return bs=s.slice(e,1<n?1-n:void 0)}function ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function ao(){return!1}function st(e){function t(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?is:ao,this.isPropagationStopped=ao,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=st(qr),Gn=Ne({},qr,{view:0,detail:0}),Qf=st(Gn),Si,Ei,sn,ii=Ne({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&e.type==="mousemove"?(Si=e.screenX-sn.screenX,Ei=e.screenY-sn.screenY):Ei=Si=0,sn=e),Si)},movementY:function(e){return"movementY"in e?e.movementY:Ei}}),lo=st(ii),Xf=Ne({},ii,{dataTransfer:0}),Yf=st(Xf),Jf=Ne({},Gn,{relatedTarget:0}),Di=st(Jf),eh=Ne({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),th=st(eh),rh=Ne({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nh=st(rh),sh=Ne({},qr,{data:0}),oo=st(sh),ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lh[e])?!!t[e]:!1}function sl(){return oh}var ch=Ne({},Gn,{key:function(e){if(e.key){var t=ih[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ah[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sl,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uh=st(ch),dh=Ne({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),co=st(dh),fh=Ne({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sl}),hh=st(fh),ph=Ne({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mh=st(ph),gh=Ne({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xh=st(gh),vh=[9,13,27,32],il=It&&"CompositionEvent"in window,xn=null;It&&"documentMode"in document&&(xn=document.documentMode);var yh=It&&"TextEvent"in window&&!xn,au=It&&(!il||xn&&8<xn&&11>=xn),uo=" ",fo=!1;function lu(e,t){switch(e){case"keyup":return vh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function bh(e,t){switch(e){case"compositionend":return ou(t);case"keypress":return t.which!==32?null:(fo=!0,uo);case"textInput":return e=t.data,e===uo&&fo?null:e;default:return null}}function wh(e,t){if(jr)return e==="compositionend"||!il&&lu(e,t)?(e=iu(),bs=rl=Vt=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return au&&t.locale!=="ko"?null:t.data;default:return null}}var _h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_h[e.type]:t==="textarea"}function cu(e,t,r,n){Lc(n),t=Rs(t,"onChange"),0<t.length&&(r=new nl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vn=null,An=null;function jh(e){bu(e,0)}function ai(e){var t=Cr(e);if(Mc(t))return e}function Nh(e,t){if(e==="change")return t}var uu=!1;if(It){var Ti;if(It){var Ai="oninput"in document;if(!Ai){var po=document.createElement("div");po.setAttribute("oninput","return;"),Ai=typeof po.oninput=="function"}Ti=Ai}else Ti=!1;uu=Ti&&(!document.documentMode||9<document.documentMode)}function mo(){vn&&(vn.detachEvent("onpropertychange",du),An=vn=null)}function du(e){if(e.propertyName==="value"&&ai(An)){var t=[];cu(t,An,e,Xa(e)),Vc(jh,t)}}function kh(e,t,r){e==="focusin"?(mo(),vn=t,An=r,vn.attachEvent("onpropertychange",du)):e==="focusout"&&mo()}function Ch(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ai(An)}function Sh(e,t){if(e==="click")return ai(t)}function Eh(e,t){if(e==="input"||e==="change")return ai(t)}function Dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Dh;function zn(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Zi.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function go(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xo(e,t){var r=go(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=go(r)}}function fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hu(){for(var e=window,t=Ds();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ds(e.document)}return t}function al(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Th(e){var t=hu(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fu(r.ownerDocument.documentElement,r)){if(n!==null&&al(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=xo(r,i);var l=xo(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ah=It&&"documentMode"in document&&11>=document.documentMode,Nr=null,ha=null,yn=null,pa=!1;function vo(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pa||Nr==null||Nr!==Ds(n)||(n=Nr,"selectionStart"in n&&al(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yn&&zn(yn,n)||(yn=n,n=Rs(ha,"onSelect"),0<n.length&&(t=new nl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nr)))}function as(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},zi={},pu={};It&&(pu=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function li(e){if(zi[e])return zi[e];if(!kr[e])return e;var t=kr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pu)return zi[e]=t[r];return e}var mu=li("animationend"),gu=li("animationiteration"),xu=li("animationstart"),vu=li("transitionend"),yu=new Map,yo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){yu.set(e,t),vr(t,[e])}for(var Mi=0;Mi<yo.length;Mi++){var Ii=yo[Mi],zh=Ii.toLowerCase(),Mh=Ii[0].toUpperCase()+Ii.slice(1);nr(zh,"on"+Mh)}nr(mu,"onAnimationEnd");nr(gu,"onAnimationIteration");nr(xu,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(vu,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ih=new Set("cancel close invalid load scroll toggle".split(" ").concat(pn));function bo(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zf(n,t,void 0,e),e.currentTarget=null}function bu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;bo(s,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;bo(s,o,d),i=c}}}if(As)throw e=ca,As=!1,ca=null,e}function ye(e,t){var r=t[ya];r===void 0&&(r=t[ya]=new Set);var n=e+"__bubble";r.has(n)||(wu(t,e,2,!1),r.add(n))}function Pi(e,t,r){var n=0;t&&(n|=4),wu(r,e,n,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Mn(e){if(!e[ls]){e[ls]=!0,Ec.forEach(function(r){r!=="selectionchange"&&(Ih.has(r)||Pi(r,!1,e),Pi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Pi("selectionchange",!1,t))}}function wu(e,t,r,n){switch(su(t)){case 1:var s=Zf;break;case 4:s=qf;break;default:s=tl}r=s.bind(null,t,r,e),s=void 0,!oa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ri(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=or(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}Vc(function(){var d=i,b=Xa(r),g=[];e:{var x=yu.get(e);if(x!==void 0){var p=nl,w=e;switch(e){case"keypress":if(ws(r)===0)break e;case"keydown":case"keyup":p=uh;break;case"focusin":w="focus",p=Di;break;case"focusout":w="blur",p=Di;break;case"beforeblur":case"afterblur":p=Di;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hh;break;case mu:case gu:case xu:p=th;break;case vu:p=mh;break;case"scroll":p=Qf;break;case"wheel":p=xh;break;case"copy":case"cut":case"paste":p=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=co}var h=(t&4)!==0,j=!h&&e==="scroll",u=h?x!==null?x+"Capture":null:x;h=[];for(var f=d,v;f!==null;){v=f;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,u!==null&&(_=Sn(f,u),_!=null&&h.push(In(f,_,v)))),j)break;f=f.return}0<h.length&&(x=new p(x,w,null,r,b),g.push({event:x,listeners:h}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",x&&r!==aa&&(w=r.relatedTarget||r.fromElement)&&(or(w)||w[Pt]))break e;if((p||x)&&(x=b.window===b?b:(x=b.ownerDocument)?x.defaultView||x.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=d,w=w?or(w):null,w!==null&&(j=yr(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(h=lo,_="onMouseLeave",u="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(h=co,_="onPointerLeave",u="onPointerEnter",f="pointer"),j=p==null?x:Cr(p),v=w==null?x:Cr(w),x=new h(_,f+"leave",p,r,b),x.target=j,x.relatedTarget=v,_=null,or(b)===d&&(h=new h(u,f+"enter",w,r,b),h.target=v,h.relatedTarget=j,_=h),j=_,p&&w)t:{for(h=p,u=w,f=0,v=h;v;v=br(v))f++;for(v=0,_=u;_;_=br(_))v++;for(;0<f-v;)h=br(h),f--;for(;0<v-f;)u=br(u),v--;for(;f--;){if(h===u||u!==null&&h===u.alternate)break t;h=br(h),u=br(u)}h=null}else h=null;p!==null&&wo(g,x,p,h,!1),w!==null&&j!==null&&wo(g,j,w,h,!0)}}e:{if(x=d?Cr(d):window,p=x.nodeName&&x.nodeName.toLowerCase(),p==="select"||p==="input"&&x.type==="file")var N=Nh;else if(ho(x))if(uu)N=Eh;else{N=Ch;var D=kh}else(p=x.nodeName)&&p.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(N=Sh);if(N&&(N=N(e,d))){cu(g,N,r,b);break e}D&&D(e,x,d),e==="focusout"&&(D=x._wrapperState)&&D.controlled&&x.type==="number"&&ta(x,"number",x.value)}switch(D=d?Cr(d):window,e){case"focusin":(ho(D)||D.contentEditable==="true")&&(Nr=D,ha=d,yn=null);break;case"focusout":yn=ha=Nr=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,vo(g,r,b);break;case"selectionchange":if(Ah)break;case"keydown":case"keyup":vo(g,r,b)}var A;if(il)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else jr?lu(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(au&&r.locale!=="ko"&&(jr||S!=="onCompositionStart"?S==="onCompositionEnd"&&jr&&(A=iu()):(Vt=b,rl="value"in Vt?Vt.value:Vt.textContent,jr=!0)),D=Rs(d,S),0<D.length&&(S=new oo(S,e,null,r,b),g.push({event:S,listeners:D}),A?S.data=A:(A=ou(r),A!==null&&(S.data=A)))),(A=yh?bh(e,r):wh(e,r))&&(d=Rs(d,"onBeforeInput"),0<d.length&&(b=new oo("onBeforeInput","beforeinput",null,r,b),g.push({event:b,listeners:d}),b.data=A))}bu(g,t)})}function In(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rs(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sn(e,r),i!=null&&n.unshift(In(e,i,s)),i=Sn(e,t),i!=null&&n.push(In(e,i,s))),e=e.return}return n}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wo(e,t,r,n,s){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,s?(c=Sn(r,i),c!=null&&l.unshift(In(r,c,o))):s||(c=Sn(r,i),c!=null&&l.push(In(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Ph=/\r\n?/g,Rh=/\u0000|\uFFFD/g;function _o(e){return(typeof e=="string"?e:""+e).replace(Ph,`
`).replace(Rh,"")}function os(e,t,r){if(t=_o(t),_o(e)!==t&&r)throw Error(Q(425))}function Fs(){}var ma=null,ga=null;function xa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var va=typeof setTimeout=="function"?setTimeout:void 0,Fh=typeof clearTimeout=="function"?clearTimeout:void 0,jo=typeof Promise=="function"?Promise:void 0,$h=typeof queueMicrotask=="function"?queueMicrotask:typeof jo<"u"?function(e){return jo.resolve(null).then(e).catch(Oh)}:va;function Oh(e){setTimeout(function(){throw e})}function Fi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Tn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Tn(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function No(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),jt="__reactFiber$"+Qr,Pn="__reactProps$"+Qr,Pt="__reactContainer$"+Qr,ya="__reactEvents$"+Qr,Lh="__reactListeners$"+Qr,Bh="__reactHandles$"+Qr;function or(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pt]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=No(e);e!==null;){if(r=e[jt])return r;e=No(e)}return t}e=r,r=e.parentNode}return null}function Kn(e){return e=e[jt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function oi(e){return e[Pn]||null}var ba=[],Sr=-1;function sr(e){return{current:e}}function be(e){0>Sr||(e.current=ba[Sr],ba[Sr]=null,Sr--)}function ve(e,t){Sr++,ba[Sr]=e.current,e.current=t}var tr={},He=sr(tr),Qe=sr(!1),hr=tr;function Ur(e,t){var r=e.type.contextTypes;if(!r)return tr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xe(e){return e=e.childContextTypes,e!=null}function $s(){be(Qe),be(He)}function ko(e,t,r){if(He.current!==tr)throw Error(Q(168));ve(He,t),ve(Qe,r)}function _u(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Q(108,kf(e)||"Unknown",s));return Ne({},r,n)}function Os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,hr=He.current,ve(He,e),ve(Qe,Qe.current),!0}function Co(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=_u(e,t,hr),n.__reactInternalMemoizedMergedChildContext=e,be(Qe),be(He),ve(He,e)):be(Qe),ve(Qe,r)}var Dt=null,ci=!1,$i=!1;function ju(e){Dt===null?Dt=[e]:Dt.push(e)}function Uh(e){ci=!0,ju(e)}function ir(){if(!$i&&Dt!==null){$i=!0;var e=0,t=me;try{var r=Dt;for(me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Dt=null,ci=!1}catch(s){throw Dt!==null&&(Dt=Dt.slice(e+1)),Zc(Ya,ir),s}finally{me=t,$i=!1}}return null}var Er=[],Dr=0,Ls=null,Bs=0,at=[],lt=0,pr=null,Tt=1,At="";function ar(e,t){Er[Dr++]=Bs,Er[Dr++]=Ls,Ls=e,Bs=t}function Nu(e,t,r){at[lt++]=Tt,at[lt++]=At,at[lt++]=pr,pr=e;var n=Tt;e=At;var s=32-gt(n)-1;n&=~(1<<s),r+=1;var i=32-gt(t)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Tt=1<<32-gt(t)+s|r<<s|n,At=i+e}else Tt=1<<i|r<<s|n,At=e}function ll(e){e.return!==null&&(ar(e,1),Nu(e,1,0))}function ol(e){for(;e===Ls;)Ls=Er[--Dr],Er[Dr]=null,Bs=Er[--Dr],Er[Dr]=null;for(;e===pr;)pr=at[--lt],at[lt]=null,At=at[--lt],at[lt]=null,Tt=at[--lt],at[lt]=null}var tt=null,et=null,we=!1,mt=null;function ku(e,t){var r=ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function So(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pr!==null?{id:Tt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tt=e,et=null,!0):!1;default:return!1}}function wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _a(e){if(we){var t=et;if(t){var r=t;if(!So(e,t)){if(wa(e))throw Error(Q(418));t=qt(r.nextSibling);var n=tt;t&&So(e,t)?ku(n,r):(e.flags=e.flags&-4097|2,we=!1,tt=e)}}else{if(wa(e))throw Error(Q(418));e.flags=e.flags&-4097|2,we=!1,tt=e}}}function Eo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function cs(e){if(e!==tt)return!1;if(!we)return Eo(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xa(e.type,e.memoizedProps)),t&&(t=et)){if(wa(e))throw Cu(),Error(Q(418));for(;t;)ku(e,t),t=qt(t.nextSibling)}if(Eo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){et=qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?qt(e.stateNode.nextSibling):null;return!0}function Cu(){for(var e=et;e;)e=qt(e.nextSibling)}function Hr(){et=tt=null,we=!1}function cl(e){mt===null?mt=[e]:mt.push(e)}var Hh=$t.ReactCurrentBatchConfig;function an(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function us(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Do(e){var t=e._init;return t(e._payload)}function Su(e){function t(u,f){if(e){var v=u.deletions;v===null?(u.deletions=[f],u.flags|=16):v.push(f)}}function r(u,f){if(!e)return null;for(;f!==null;)t(u,f),f=f.sibling;return null}function n(u,f){for(u=new Map;f!==null;)f.key!==null?u.set(f.key,f):u.set(f.index,f),f=f.sibling;return u}function s(u,f){return u=Jt(u,f),u.index=0,u.sibling=null,u}function i(u,f,v){return u.index=v,e?(v=u.alternate,v!==null?(v=v.index,v<f?(u.flags|=2,f):v):(u.flags|=2,f)):(u.flags|=1048576,f)}function l(u){return e&&u.alternate===null&&(u.flags|=2),u}function o(u,f,v,_){return f===null||f.tag!==6?(f=Wi(v,u.mode,_),f.return=u,f):(f=s(f,v),f.return=u,f)}function c(u,f,v,_){var N=v.type;return N===_r?b(u,f,v.props.children,_,v.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Lt&&Do(N)===f.type)?(_=s(f,v.props),_.ref=an(u,f,v),_.return=u,_):(_=Es(v.type,v.key,v.props,null,u.mode,_),_.ref=an(u,f,v),_.return=u,_)}function d(u,f,v,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Gi(v,u.mode,_),f.return=u,f):(f=s(f,v.children||[]),f.return=u,f)}function b(u,f,v,_,N){return f===null||f.tag!==7?(f=fr(v,u.mode,_,N),f.return=u,f):(f=s(f,v),f.return=u,f)}function g(u,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Wi(""+f,u.mode,v),f.return=u,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Jn:return v=Es(f.type,f.key,f.props,null,u.mode,v),v.ref=an(u,null,f),v.return=u,v;case wr:return f=Gi(f,u.mode,v),f.return=u,f;case Lt:var _=f._init;return g(u,_(f._payload),v)}if(fn(f)||en(f))return f=fr(f,u.mode,v,null),f.return=u,f;us(u,f)}return null}function x(u,f,v,_){var N=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:o(u,f,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Jn:return v.key===N?c(u,f,v,_):null;case wr:return v.key===N?d(u,f,v,_):null;case Lt:return N=v._init,x(u,f,N(v._payload),_)}if(fn(v)||en(v))return N!==null?null:b(u,f,v,_,null);us(u,v)}return null}function p(u,f,v,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return u=u.get(v)||null,o(f,u,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jn:return u=u.get(_.key===null?v:_.key)||null,c(f,u,_,N);case wr:return u=u.get(_.key===null?v:_.key)||null,d(f,u,_,N);case Lt:var D=_._init;return p(u,f,v,D(_._payload),N)}if(fn(_)||en(_))return u=u.get(v)||null,b(f,u,_,N,null);us(f,_)}return null}function w(u,f,v,_){for(var N=null,D=null,A=f,S=f=0,$=null;A!==null&&S<v.length;S++){A.index>S?($=A,A=null):$=A.sibling;var H=x(u,A,v[S],_);if(H===null){A===null&&(A=$);break}e&&A&&H.alternate===null&&t(u,A),f=i(H,f,S),D===null?N=H:D.sibling=H,D=H,A=$}if(S===v.length)return r(u,A),we&&ar(u,S),N;if(A===null){for(;S<v.length;S++)A=g(u,v[S],_),A!==null&&(f=i(A,f,S),D===null?N=A:D.sibling=A,D=A);return we&&ar(u,S),N}for(A=n(u,A);S<v.length;S++)$=p(A,u,S,v[S],_),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?S:$.key),f=i($,f,S),D===null?N=$:D.sibling=$,D=$);return e&&A.forEach(function(ee){return t(u,ee)}),we&&ar(u,S),N}function h(u,f,v,_){var N=en(v);if(typeof N!="function")throw Error(Q(150));if(v=N.call(v),v==null)throw Error(Q(151));for(var D=N=null,A=f,S=f=0,$=null,H=v.next();A!==null&&!H.done;S++,H=v.next()){A.index>S?($=A,A=null):$=A.sibling;var ee=x(u,A,H.value,_);if(ee===null){A===null&&(A=$);break}e&&A&&ee.alternate===null&&t(u,A),f=i(ee,f,S),D===null?N=ee:D.sibling=ee,D=ee,A=$}if(H.done)return r(u,A),we&&ar(u,S),N;if(A===null){for(;!H.done;S++,H=v.next())H=g(u,H.value,_),H!==null&&(f=i(H,f,S),D===null?N=H:D.sibling=H,D=H);return we&&ar(u,S),N}for(A=n(u,A);!H.done;S++,H=v.next())H=p(A,u,S,H.value,_),H!==null&&(e&&H.alternate!==null&&A.delete(H.key===null?S:H.key),f=i(H,f,S),D===null?N=H:D.sibling=H,D=H);return e&&A.forEach(function(M){return t(u,M)}),we&&ar(u,S),N}function j(u,f,v,_){if(typeof v=="object"&&v!==null&&v.type===_r&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Jn:e:{for(var N=v.key,D=f;D!==null;){if(D.key===N){if(N=v.type,N===_r){if(D.tag===7){r(u,D.sibling),f=s(D,v.props.children),f.return=u,u=f;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Lt&&Do(N)===D.type){r(u,D.sibling),f=s(D,v.props),f.ref=an(u,D,v),f.return=u,u=f;break e}r(u,D);break}else t(u,D);D=D.sibling}v.type===_r?(f=fr(v.props.children,u.mode,_,v.key),f.return=u,u=f):(_=Es(v.type,v.key,v.props,null,u.mode,_),_.ref=an(u,f,v),_.return=u,u=_)}return l(u);case wr:e:{for(D=v.key;f!==null;){if(f.key===D)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){r(u,f.sibling),f=s(f,v.children||[]),f.return=u,u=f;break e}else{r(u,f);break}else t(u,f);f=f.sibling}f=Gi(v,u.mode,_),f.return=u,u=f}return l(u);case Lt:return D=v._init,j(u,f,D(v._payload),_)}if(fn(v))return w(u,f,v,_);if(en(v))return h(u,f,v,_);us(u,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(r(u,f.sibling),f=s(f,v),f.return=u,u=f):(r(u,f),f=Wi(v,u.mode,_),f.return=u,u=f),l(u)):r(u,f)}return j}var Vr=Su(!0),Eu=Su(!1),Us=sr(null),Hs=null,Tr=null,ul=null;function dl(){ul=Tr=Hs=null}function fl(e){var t=Us.current;be(Us),e._currentValue=t}function ja(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $r(e,t){Hs=e,ul=Tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(ul!==e)if(e={context:e,memoizedValue:t,next:null},Tr===null){if(Hs===null)throw Error(Q(308));Tr=e,Hs.dependencies={lanes:0,firstContext:e}}else Tr=Tr.next=e;return t}var cr=null;function hl(e){cr===null?cr=[e]:cr.push(e)}function Du(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,hl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Rt(e,n)}function Rt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bt=!1;function pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Rt(e,r)}return s=n.interleaved,s===null?(t.next=t,hl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Rt(e,r)}function _s(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ja(e,r)}}function To(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vs(e,t,r,n){var s=e.updateQueue;Bt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var b=e.alternate;b!==null&&(b=b.updateQueue,o=b.lastBaseUpdate,o!==l&&(o===null?b.firstBaseUpdate=d:o.next=d,b.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;l=0,b=d=c=null,o=i;do{var x=o.lane,p=o.eventTime;if((n&x)===x){b!==null&&(b=b.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,h=o;switch(x=t,p=r,h.tag){case 1:if(w=h.payload,typeof w=="function"){g=w.call(p,g,x);break e}g=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=h.payload,x=typeof w=="function"?w.call(p,g,x):w,x==null)break e;g=Ne({},g,x);break e;case 2:Bt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[o]:x.push(o))}else p={eventTime:p,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},b===null?(d=b=p,c=g):b=b.next=p,l|=x;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;x=o,o=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(b===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=b,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gr|=l,e.lanes=l,e.memoizedState=g}}function Ao(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Q(191,s));s.call(n)}}}var Zn={},Ct=sr(Zn),Rn=sr(Zn),Fn=sr(Zn);function ur(e){if(e===Zn)throw Error(Q(174));return e}function ml(e,t){switch(ve(Fn,t),ve(Rn,e),ve(Ct,Zn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=na(t,e)}be(Ct),ve(Ct,t)}function Wr(){be(Ct),be(Rn),be(Fn)}function Au(e){ur(Fn.current);var t=ur(Ct.current),r=na(t,e.type);t!==r&&(ve(Rn,e),ve(Ct,r))}function gl(e){Rn.current===e&&(be(Ct),be(Rn))}var _e=sr(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oi=[];function xl(){for(var e=0;e<Oi.length;e++)Oi[e]._workInProgressVersionPrimary=null;Oi.length=0}var js=$t.ReactCurrentDispatcher,Li=$t.ReactCurrentBatchConfig,mr=0,je=null,De=null,Ae=null,Gs=!1,bn=!1,$n=0,Vh=0;function $e(){throw Error(Q(321))}function vl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}function yl(e,t,r,n,s,i){if(mr=i,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,js.current=e===null||e.memoizedState===null?Zh:qh,e=r(n,s),bn){i=0;do{if(bn=!1,$n=0,25<=i)throw Error(Q(301));i+=1,Ae=De=null,t.updateQueue=null,js.current=Qh,e=r(n,s)}while(bn)}if(js.current=Ks,t=De!==null&&De.next!==null,mr=0,Ae=De=je=null,Gs=!1,t)throw Error(Q(300));return e}function bl(){var e=$n!==0;return $n=0,e}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?je.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function dt(){if(De===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ae===null?je.memoizedState:Ae.next;if(t!==null)Ae=t,De=e;else{if(e===null)throw Error(Q(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ae===null?je.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function On(e,t){return typeof t=="function"?t(e):t}function Bi(e){var t=dt(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=De,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=l=null,c=null,d=i;do{var b=d.lane;if((mr&b)===b)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var g={lane:b,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=g,l=n):c=c.next=g,je.lanes|=b,gr|=b}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,vt(n,t.memoizedState)||(qe=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,je.lanes|=i,gr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ui(e){var t=dt(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);vt(i,t.memoizedState)||(qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function zu(){}function Mu(e,t){var r=je,n=dt(),s=t(),i=!vt(n.memoizedState,s);if(i&&(n.memoizedState=s,qe=!0),n=n.queue,wl(Ru.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ae!==null&&Ae.memoizedState.tag&1){if(r.flags|=2048,Ln(9,Pu.bind(null,r,n,s,t),void 0,null),ze===null)throw Error(Q(349));mr&30||Iu(r,t,s)}return s}function Iu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Pu(e,t,r,n){t.value=r,t.getSnapshot=n,Fu(t)&&$u(e)}function Ru(e,t,r){return r(function(){Fu(t)&&$u(e)})}function Fu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vt(e,r)}catch{return!0}}function $u(e){var t=Rt(e,1);t!==null&&xt(t,e,1,-1)}function zo(e){var t=_t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:e},t.queue=e,e=e.dispatch=Kh.bind(null,je,e),[t.memoizedState,e]}function Ln(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ou(){return dt().memoizedState}function Ns(e,t,r,n){var s=_t();je.flags|=e,s.memoizedState=Ln(1|t,r,void 0,n===void 0?null:n)}function ui(e,t,r,n){var s=dt();n=n===void 0?null:n;var i=void 0;if(De!==null){var l=De.memoizedState;if(i=l.destroy,n!==null&&vl(n,l.deps)){s.memoizedState=Ln(t,r,i,n);return}}je.flags|=e,s.memoizedState=Ln(1|t,r,i,n)}function Mo(e,t){return Ns(8390656,8,e,t)}function wl(e,t){return ui(2048,8,e,t)}function Lu(e,t){return ui(4,2,e,t)}function Bu(e,t){return ui(4,4,e,t)}function Uu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hu(e,t,r){return r=r!=null?r.concat([e]):null,ui(4,4,Uu.bind(null,t,e),r)}function _l(){}function Vu(e,t){var r=dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wu(e,t){var r=dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Gu(e,t,r){return mr&21?(vt(r,t)||(r=Xc(),je.lanes|=r,gr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=r)}function Wh(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var n=Li.transition;Li.transition={};try{e(!1),t()}finally{me=r,Li.transition=n}}function Ku(){return dt().memoizedState}function Gh(e,t,r){var n=Yt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zu(e))qu(t,r);else if(r=Du(e,t,r,n),r!==null){var s=We();xt(r,e,n,s),Qu(r,t,n)}}function Kh(e,t,r){var n=Yt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))qu(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,vt(o,l)){var c=t.interleaved;c===null?(s.next=s,hl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Du(e,t,s,n),r!==null&&(s=We(),xt(r,e,n,s),Qu(r,t,n))}}function Zu(e){var t=e.alternate;return e===je||t!==null&&t===je}function qu(e,t){bn=Gs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qu(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ja(e,r)}}var Ks={readContext:ut,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Zh={readContext:ut,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Mo,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ns(4194308,4,Uu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var r=_t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Gh.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:zo,useDebugValue:_l,useDeferredValue:function(e){return _t().memoizedState=e},useTransition:function(){var e=zo(!1),t=e[0];return e=Wh.bind(null,e[1]),_t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=je,s=_t();if(we){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),ze===null)throw Error(Q(349));mr&30||Iu(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Mo(Ru.bind(null,n,i,e),[e]),n.flags|=2048,Ln(9,Pu.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=_t(),t=ze.identifierPrefix;if(we){var r=At,n=Tt;r=(n&~(1<<32-gt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$n++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qh={readContext:ut,useCallback:Vu,useContext:ut,useEffect:wl,useImperativeHandle:Hu,useInsertionEffect:Lu,useLayoutEffect:Bu,useMemo:Wu,useReducer:Bi,useRef:Ou,useState:function(){return Bi(On)},useDebugValue:_l,useDeferredValue:function(e){var t=dt();return Gu(t,De.memoizedState,e)},useTransition:function(){var e=Bi(On)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Mu,useId:Ku,unstable_isNewReconciler:!1},Qh={readContext:ut,useCallback:Vu,useContext:ut,useEffect:wl,useImperativeHandle:Hu,useInsertionEffect:Lu,useLayoutEffect:Bu,useMemo:Wu,useReducer:Ui,useRef:Ou,useState:function(){return Ui(On)},useDebugValue:_l,useDeferredValue:function(e){var t=dt();return De===null?t.memoizedState=e:Gu(t,De.memoizedState,e)},useTransition:function(){var e=Ui(On)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Mu,useId:Ku,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Na(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var di={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=We(),s=Yt(e),i=zt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Qt(e,i,s),t!==null&&(xt(t,e,s,n),_s(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=We(),s=Yt(e),i=zt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Qt(e,i,s),t!==null&&(xt(t,e,s,n),_s(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=We(),n=Yt(e),s=zt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Qt(e,s,n),t!==null&&(xt(t,e,n,r),_s(t,e,n))}};function Io(e,t,r,n,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!zn(r,n)||!zn(s,i):!0}function Xu(e,t,r){var n=!1,s=tr,i=t.contextType;return typeof i=="object"&&i!==null?i=ut(i):(s=Xe(t)?hr:He.current,n=t.contextTypes,i=(n=n!=null)?Ur(e,s):tr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=di,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Po(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&di.enqueueReplaceState(t,t.state,null)}function ka(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},pl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ut(i):(i=Xe(t)?hr:He.current,s.context=Ur(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Na(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&di.enqueueReplaceState(s,s.state,null),Vs(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t){try{var r="",n=t;do r+=Nf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Hi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ca(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Xh=typeof WeakMap=="function"?WeakMap:Map;function Yu(e,t,r){r=zt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qs||(qs=!0,Ra=n),Ca(e,t)},r}function Ju(e,t,r){r=zt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ca(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ca(e,t),typeof n!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Ro(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Xh;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=dp.bind(null,e,t,r),t.then(e,e))}function Fo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $o(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=zt(-1,1),t.tag=2,Qt(r,t,1))),r.lanes|=1),e)}var Yh=$t.ReactCurrentOwner,qe=!1;function Ve(e,t,r,n){t.child=e===null?Eu(t,null,r,n):Vr(t,e.child,r,n)}function Oo(e,t,r,n,s){r=r.render;var i=t.ref;return $r(t,s),n=yl(e,t,r,n,i,s),r=bl(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(we&&r&&ll(t),t.flags|=1,Ve(e,t,n,s),t.child)}function Lo(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Tl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ed(e,t,i,n,s)):(e=Es(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:zn,r(l,n)&&e.ref===t.ref)return Ft(e,t,s)}return t.flags|=1,e=Jt(i,n),e.ref=t.ref,e.return=t,t.child=e}function ed(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(zn(i,n)&&e.ref===t.ref)if(qe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Ft(e,t,s)}return Sa(e,t,r,n,s)}function td(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(zr,Je),Je|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(zr,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ve(zr,Je),Je|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ve(zr,Je),Je|=n;return Ve(e,t,s,r),t.child}function rd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,r,n,s){var i=Xe(r)?hr:He.current;return i=Ur(t,i),$r(t,s),r=yl(e,t,r,n,i,s),n=bl(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(we&&n&&ll(t),t.flags|=1,Ve(e,t,r,s),t.child)}function Bo(e,t,r,n,s){if(Xe(r)){var i=!0;Os(t)}else i=!1;if($r(t,s),t.stateNode===null)ks(e,t),Xu(t,r,n),ka(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=ut(d):(d=Xe(r)?hr:He.current,d=Ur(t,d));var b=r.getDerivedStateFromProps,g=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Po(t,l,n,d),Bt=!1;var x=t.memoizedState;l.state=x,Vs(t,n,l,s),c=t.memoizedState,o!==n||x!==c||Qe.current||Bt?(typeof b=="function"&&(Na(t,r,b,n),c=t.memoizedState),(o=Bt||Io(t,r,o,n,x,c,d))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Tu(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:ht(t.type,o),l.props=d,g=t.pendingProps,x=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=ut(c):(c=Xe(r)?hr:He.current,c=Ur(t,c));var p=r.getDerivedStateFromProps;(b=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==g||x!==c)&&Po(t,l,n,c),Bt=!1,x=t.memoizedState,l.state=x,Vs(t,n,l,s);var w=t.memoizedState;o!==g||x!==w||Qe.current||Bt?(typeof p=="function"&&(Na(t,r,p,n),w=t.memoizedState),(d=Bt||Io(t,r,d,n,x,w,c)||!1)?(b||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,w,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,w,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),l.props=n,l.state=w,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return Ea(e,t,r,n,i,s)}function Ea(e,t,r,n,s,i){rd(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&Co(t,r,!1),Ft(e,t,i);n=t.stateNode,Yh.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Vr(t,e.child,null,i),t.child=Vr(t,null,o,i)):Ve(e,t,o,i),t.memoizedState=n.state,s&&Co(t,r,!0),t.child}function nd(e){var t=e.stateNode;t.pendingContext?ko(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ko(e,t.context,!1),ml(e,t.containerInfo)}function Uo(e,t,r,n,s){return Hr(),cl(s),t.flags|=256,Ve(e,t,r,n),t.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function Ta(e){return{baseLanes:e,cachePool:null,transitions:null}}function sd(e,t,r){var n=t.pendingProps,s=_e.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ve(_e,s&1),e===null)return _a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=pi(l,n,0,null),e=fr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ta(r),t.memoizedState=Da,e):jl(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Jh(e,t,l,n,o,s,r);if(i){i=n.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Jt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Jt(o,i):(i=fr(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Ta(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Da,n}return i=e.child,e=i.sibling,n=Jt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jl(e,t){return t=pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,r,n){return n!==null&&cl(n),Vr(t,e.child,null,r),e=jl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jh(e,t,r,n,s,i,l){if(r)return t.flags&256?(t.flags&=-257,n=Hi(Error(Q(422))),ds(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=pi({mode:"visible",children:n.children},s,0,null),i=fr(i,s,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Vr(t,e.child,null,l),t.child.memoizedState=Ta(l),t.memoizedState=Da,i);if(!(t.mode&1))return ds(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Q(419)),n=Hi(i,n,void 0),ds(e,t,l,n)}if(o=(l&e.childLanes)!==0,qe||o){if(n=ze,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rt(e,s),xt(n,e,s,-1))}return Dl(),n=Hi(Error(Q(421))),ds(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,et=qt(s.nextSibling),tt=t,we=!0,mt=null,e!==null&&(at[lt++]=Tt,at[lt++]=At,at[lt++]=pr,Tt=e.id,At=e.overflow,pr=t),t=jl(t,n.children),t.flags|=4096,t)}function Ho(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ja(e.return,t,r)}function Vi(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function id(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ve(e,t,n.children,r),n=_e.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ho(e,r,t);else if(e.tag===19)Ho(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ve(_e,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ws(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Vi(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ws(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Vi(t,!0,r,null,i);break;case"together":Vi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=Jt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ep(e,t,r){switch(t.tag){case 3:nd(t),Hr();break;case 5:Au(t);break;case 1:Xe(t.type)&&Os(t);break;case 4:ml(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ve(Us,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ve(_e,_e.current&1),t.flags|=128,null):r&t.child.childLanes?sd(e,t,r):(ve(_e,_e.current&1),e=Ft(e,t,r),e!==null?e.sibling:null);ve(_e,_e.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return id(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(_e,_e.current),n)break;return null;case 22:case 23:return t.lanes=0,td(e,t,r)}return Ft(e,t,r)}var ad,Aa,ld,od;ad=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Aa=function(){};ld=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ur(Ct.current);var i=null;switch(r){case"input":s=Ji(e,s),n=Ji(e,n),i=[];break;case"select":s=Ne({},s,{value:void 0}),n=Ne({},n,{value:void 0}),i=[];break;case"textarea":s=ra(e,s),n=ra(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fs)}sa(r,n);var l;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(kn.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(kn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ye("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};od=function(e,t,r,n){r!==n&&(t.flags|=4)};function ln(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tp(e,t,r){var n=t.pendingProps;switch(ol(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Xe(t.type)&&$s(),Oe(t),null;case 3:return n=t.stateNode,Wr(),be(Qe),be(He),xl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(Oa(mt),mt=null))),Aa(e,t),Oe(t),null;case 5:gl(t);var s=ur(Fn.current);if(r=t.type,e!==null&&t.stateNode!=null)ld(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return Oe(t),null}if(e=ur(Ct.current),cs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[jt]=t,n[Pn]=i,e=(t.mode&1)!==0,r){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(s=0;s<pn.length;s++)ye(pn[s],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":Xl(n,i),ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ye("invalid",n);break;case"textarea":Jl(n,i),ye("invalid",n)}sa(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&os(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&os(n.textContent,o,e),s=["children",""+o]):kn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ye("scroll",n)}switch(r){case"input":es(n),Yl(n,i,!0);break;case"textarea":es(n),eo(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fs)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[jt]=t,e[Pn]=n,ad(e,t,!1,!1),t.stateNode=e;e:{switch(l=ia(r,n),r){case"dialog":ye("cancel",e),ye("close",e),s=n;break;case"iframe":case"object":case"embed":ye("load",e),s=n;break;case"video":case"audio":for(s=0;s<pn.length;s++)ye(pn[s],e);s=n;break;case"source":ye("error",e),s=n;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=n;break;case"details":ye("toggle",e),s=n;break;case"input":Xl(e,n),s=Ji(e,n),ye("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ne({},n,{value:void 0}),ye("invalid",e);break;case"textarea":Jl(e,n),s=ra(e,n),ye("invalid",e);break;default:s=n}sa(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Oc(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fc(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Cn(e,c):typeof c=="number"&&Cn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ye("scroll",e):c!=null&&Ka(e,i,c,l))}switch(r){case"input":es(e),Yl(e,n,!1);break;case"textarea":es(e),eo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+er(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ir(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ir(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)od(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=ur(Fn.current),ur(Ct.current),cs(t)){if(n=t.stateNode,r=t.memoizedProps,n[jt]=t,(i=n.nodeValue!==r)&&(e=tt,e!==null))switch(e.tag){case 3:os(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&os(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jt]=t,t.stateNode=n}return Oe(t),null;case 13:if(be(_e),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&et!==null&&t.mode&1&&!(t.flags&128))Cu(),Hr(),t.flags|=98560,i=!1;else if(i=cs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[jt]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else mt!==null&&(Oa(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Te===0&&(Te=3):Dl())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Wr(),Aa(e,t),e===null&&Mn(t.stateNode.containerInfo),Oe(t),null;case 10:return fl(t.type._context),Oe(t),null;case 17:return Xe(t.type)&&$s(),Oe(t),null;case 19:if(be(_e),i=t.memoizedState,i===null)return Oe(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)ln(i,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ws(e),l!==null){for(t.flags|=128,ln(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(_e,_e.current&1|2),t.child}e=e.sibling}i.tail!==null&&Se()>Kr&&(t.flags|=128,n=!0,ln(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ws(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ln(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!we)return Oe(t),null}else 2*Se()-i.renderingStartTime>Kr&&r!==1073741824&&(t.flags|=128,n=!0,ln(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Se(),t.sibling=null,r=_e.current,ve(_e,n?r&1|2:r&1),t):(Oe(t),null);case 22:case 23:return El(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Je&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function rp(e,t){switch(ol(t),t.tag){case 1:return Xe(t.type)&&$s(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wr(),be(Qe),be(He),xl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gl(t),null;case 13:if(be(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(_e),null;case 4:return Wr(),null;case 10:return fl(t.type._context),null;case 22:case 23:return El(),null;case 24:return null;default:return null}}var fs=!1,Be=!1,np=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ar(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(e,t,n)}else r.current=null}function za(e,t,r){try{r()}catch(n){ke(e,t,n)}}var Vo=!1;function sp(e,t){if(ma=Is,e=hu(),al(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,b=0,g=e,x=null;t:for(;;){for(var p;g!==r||s!==0&&g.nodeType!==3||(o=l+s),g!==i||n!==0&&g.nodeType!==3||(c=l+n),g.nodeType===3&&(l+=g.nodeValue.length),(p=g.firstChild)!==null;)x=g,g=p;for(;;){if(g===e)break t;if(x===r&&++d===s&&(o=l),x===i&&++b===n&&(c=l),(p=g.nextSibling)!==null)break;g=x,x=g.parentNode}g=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ga={focusedElem:e,selectionRange:r},Is=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var h=w.memoizedProps,j=w.memoizedState,u=t.stateNode,f=u.getSnapshotBeforeUpdate(t.elementType===t.type?h:ht(t.type,h),j);u.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(_){ke(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return w=Vo,Vo=!1,w}function wn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&za(t,r,i)}s=s.next}while(s!==n)}}function fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ma(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cd(e){var t=e.alternate;t!==null&&(e.alternate=null,cd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[Pn],delete t[ya],delete t[Lh],delete t[Bh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ud(e){return e.tag===5||e.tag===3||e.tag===4}function Wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ud(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ia(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fs));else if(n!==4&&(e=e.child,e!==null))for(Ia(e,t,r),e=e.sibling;e!==null;)Ia(e,t,r),e=e.sibling}function Pa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Pa(e,t,r),e=e.sibling;e!==null;)Pa(e,t,r),e=e.sibling}var Ie=null,pt=!1;function Ot(e,t,r){for(r=r.child;r!==null;)dd(e,t,r),r=r.sibling}function dd(e,t,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(si,r)}catch{}switch(r.tag){case 5:Be||Ar(r,t);case 6:var n=Ie,s=pt;Ie=null,Ot(e,t,r),Ie=n,pt=s,Ie!==null&&(pt?(e=Ie,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ie.removeChild(r.stateNode));break;case 18:Ie!==null&&(pt?(e=Ie,r=r.stateNode,e.nodeType===8?Fi(e.parentNode,r):e.nodeType===1&&Fi(e,r),Tn(e)):Fi(Ie,r.stateNode));break;case 4:n=Ie,s=pt,Ie=r.stateNode.containerInfo,pt=!0,Ot(e,t,r),Ie=n,pt=s;break;case 0:case 11:case 14:case 15:if(!Be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&za(r,t,l),s=s.next}while(s!==n)}Ot(e,t,r);break;case 1:if(!Be&&(Ar(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ke(r,t,o)}Ot(e,t,r);break;case 21:Ot(e,t,r);break;case 22:r.mode&1?(Be=(n=Be)||r.memoizedState!==null,Ot(e,t,r),Be=n):Ot(e,t,r);break;default:Ot(e,t,r)}}function Go(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new np),t.forEach(function(n){var s=hp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ie=o.stateNode,pt=!1;break e;case 3:Ie=o.stateNode.containerInfo,pt=!0;break e;case 4:Ie=o.stateNode.containerInfo,pt=!0;break e}o=o.return}if(Ie===null)throw Error(Q(160));dd(i,l,s),Ie=null,pt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ke(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fd(t,e),t=t.sibling}function fd(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),wt(e),n&4){try{wn(3,e,e.return),fi(3,e)}catch(h){ke(e,e.return,h)}try{wn(5,e,e.return)}catch(h){ke(e,e.return,h)}}break;case 1:ft(t,e),wt(e),n&512&&r!==null&&Ar(r,r.return);break;case 5:if(ft(t,e),wt(e),n&512&&r!==null&&Ar(r,r.return),e.flags&32){var s=e.stateNode;try{Cn(s,"")}catch(h){ke(e,e.return,h)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Ic(s,i),ia(o,l);var d=ia(o,i);for(l=0;l<c.length;l+=2){var b=c[l],g=c[l+1];b==="style"?Oc(s,g):b==="dangerouslySetInnerHTML"?Fc(s,g):b==="children"?Cn(s,g):Ka(s,b,g,d)}switch(o){case"input":ea(s,i);break;case"textarea":Pc(s,i);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ir(s,!!i.multiple,p,!1):x!==!!i.multiple&&(i.defaultValue!=null?Ir(s,!!i.multiple,i.defaultValue,!0):Ir(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pn]=i}catch(h){ke(e,e.return,h)}}break;case 6:if(ft(t,e),wt(e),n&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(h){ke(e,e.return,h)}}break;case 3:if(ft(t,e),wt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tn(t.containerInfo)}catch(h){ke(e,e.return,h)}break;case 4:ft(t,e),wt(e);break;case 13:ft(t,e),wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cl=Se())),n&4&&Go(e);break;case 22:if(b=r!==null&&r.memoizedState!==null,e.mode&1?(Be=(d=Be)||b,ft(t,e),Be=d):ft(t,e),wt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!b&&e.mode&1)for(se=e,b=e.child;b!==null;){for(g=se=b;se!==null;){switch(x=se,p=x.child,x.tag){case 0:case 11:case 14:case 15:wn(4,x,x.return);break;case 1:Ar(x,x.return);var w=x.stateNode;if(typeof w.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(h){ke(n,r,h)}}break;case 5:Ar(x,x.return);break;case 22:if(x.memoizedState!==null){Zo(g);continue}}p!==null?(p.return=x,se=p):Zo(g)}b=b.sibling}e:for(b=null,g=e;;){if(g.tag===5){if(b===null){b=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=g.stateNode,c=g.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=$c("display",l))}catch(h){ke(e,e.return,h)}}}else if(g.tag===6){if(b===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(h){ke(e,e.return,h)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;b===g&&(b=null),g=g.return}b===g&&(b=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ft(t,e),wt(e),n&4&&Go(e);break;case 21:break;default:ft(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ud(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Cn(s,""),n.flags&=-33);var i=Wo(e);Pa(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Wo(e);Ia(e,o,l);break;default:throw Error(Q(161))}}catch(c){ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ip(e,t,r){se=e,hd(e)}function hd(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||fs;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Be;o=fs;var d=Be;if(fs=l,(Be=c)&&!d)for(se=s;se!==null;)l=se,c=l.child,l.tag===22&&l.memoizedState!==null?qo(s):c!==null?(c.return=l,se=c):qo(s);for(;i!==null;)se=i,hd(i),i=i.sibling;se=s,fs=o,Be=d}Ko(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):Ko(e)}}function Ko(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||fi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Be)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ht(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ao(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ao(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var b=d.memoizedState;if(b!==null){var g=b.dehydrated;g!==null&&Tn(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Be||t.flags&512&&Ma(t)}catch(x){ke(t,t.return,x)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function Zo(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function qo(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fi(4,t)}catch(c){ke(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ke(t,s,c)}}var i=t.return;try{Ma(t)}catch(c){ke(t,i,c)}break;case 5:var l=t.return;try{Ma(t)}catch(c){ke(t,l,c)}}}catch(c){ke(t,t.return,c)}if(t===e){se=null;break}var o=t.sibling;if(o!==null){o.return=t.return,se=o;break}se=t.return}}var ap=Math.ceil,Zs=$t.ReactCurrentDispatcher,Nl=$t.ReactCurrentOwner,ct=$t.ReactCurrentBatchConfig,fe=0,ze=null,Ee=null,Pe=0,Je=0,zr=sr(0),Te=0,Bn=null,gr=0,hi=0,kl=0,_n=null,Ze=null,Cl=0,Kr=1/0,Et=null,qs=!1,Ra=null,Xt=null,hs=!1,Wt=null,Qs=0,jn=0,Fa=null,Cs=-1,Ss=0;function We(){return fe&6?Se():Cs!==-1?Cs:Cs=Se()}function Yt(e){return e.mode&1?fe&2&&Pe!==0?Pe&-Pe:Hh.transition!==null?(Ss===0&&(Ss=Xc()),Ss):(e=me,e!==0||(e=window.event,e=e===void 0?16:su(e.type)),e):1}function xt(e,t,r,n){if(50<jn)throw jn=0,Fa=null,Error(Q(185));Wn(e,r,n),(!(fe&2)||e!==ze)&&(e===ze&&(!(fe&2)&&(hi|=r),Te===4&&Ht(e,Pe)),Ye(e,n),r===1&&fe===0&&!(t.mode&1)&&(Kr=Se()+500,ci&&ir()))}function Ye(e,t){var r=e.callbackNode;Hf(e,t);var n=Ms(e,e===ze?Pe:0);if(n===0)r!==null&&no(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&no(r),t===1)e.tag===0?Uh(Qo.bind(null,e)):ju(Qo.bind(null,e)),$h(function(){!(fe&6)&&ir()}),r=null;else{switch(Yc(n)){case 1:r=Ya;break;case 4:r=qc;break;case 16:r=zs;break;case 536870912:r=Qc;break;default:r=zs}r=wd(r,pd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pd(e,t){if(Cs=-1,Ss=0,fe&6)throw Error(Q(327));var r=e.callbackNode;if(Or()&&e.callbackNode!==r)return null;var n=Ms(e,e===ze?Pe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xs(e,n);else{t=n;var s=fe;fe|=2;var i=gd();(ze!==e||Pe!==t)&&(Et=null,Kr=Se()+500,dr(e,t));do try{cp();break}catch(o){md(e,o)}while(!0);dl(),Zs.current=i,fe=s,Ee!==null?t=0:(ze=null,Pe=0,t=Te)}if(t!==0){if(t===2&&(s=ua(e),s!==0&&(n=s,t=$a(e,s))),t===1)throw r=Bn,dr(e,0),Ht(e,n),Ye(e,Se()),r;if(t===6)Ht(e,n);else{if(s=e.current.alternate,!(n&30)&&!lp(s)&&(t=Xs(e,n),t===2&&(i=ua(e),i!==0&&(n=i,t=$a(e,i))),t===1))throw r=Bn,dr(e,0),Ht(e,n),Ye(e,Se()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:lr(e,Ze,Et);break;case 3:if(Ht(e,n),(n&130023424)===n&&(t=Cl+500-Se(),10<t)){if(Ms(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){We(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=va(lr.bind(null,e,Ze,Et),t);break}lr(e,Ze,Et);break;case 4:if(Ht(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-gt(n);i=1<<l,l=t[l],l>s&&(s=l),n&=~i}if(n=s,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ap(n/1960))-n,10<n){e.timeoutHandle=va(lr.bind(null,e,Ze,Et),n);break}lr(e,Ze,Et);break;case 5:lr(e,Ze,Et);break;default:throw Error(Q(329))}}}return Ye(e,Se()),e.callbackNode===r?pd.bind(null,e):null}function $a(e,t){var r=_n;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=Xs(e,t),e!==2&&(t=Ze,Ze=r,t!==null&&Oa(t)),e}function Oa(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function lp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ht(e,t){for(t&=~kl,t&=~hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gt(t),n=1<<r;e[r]=-1,t&=~n}}function Qo(e){if(fe&6)throw Error(Q(327));Or();var t=Ms(e,0);if(!(t&1))return Ye(e,Se()),null;var r=Xs(e,t);if(e.tag!==0&&r===2){var n=ua(e);n!==0&&(t=n,r=$a(e,n))}if(r===1)throw r=Bn,dr(e,0),Ht(e,t),Ye(e,Se()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,Ze,Et),Ye(e,Se()),null}function Sl(e,t){var r=fe;fe|=1;try{return e(t)}finally{fe=r,fe===0&&(Kr=Se()+500,ci&&ir())}}function xr(e){Wt!==null&&Wt.tag===0&&!(fe&6)&&Or();var t=fe;fe|=1;var r=ct.transition,n=me;try{if(ct.transition=null,me=1,e)return e()}finally{me=n,ct.transition=r,fe=t,!(fe&6)&&ir()}}function El(){Je=zr.current,be(zr)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fh(r)),Ee!==null)for(r=Ee.return;r!==null;){var n=r;switch(ol(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$s();break;case 3:Wr(),be(Qe),be(He),xl();break;case 5:gl(n);break;case 4:Wr();break;case 13:be(_e);break;case 19:be(_e);break;case 10:fl(n.type._context);break;case 22:case 23:El()}r=r.return}if(ze=e,Ee=e=Jt(e.current,null),Pe=Je=t,Te=0,Bn=null,kl=hi=gr=0,Ze=_n=null,cr!==null){for(t=0;t<cr.length;t++)if(r=cr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}cr=null}return e}function md(e,t){do{var r=Ee;try{if(dl(),js.current=Ks,Gs){for(var n=je.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gs=!1}if(mr=0,Ae=De=je=null,bn=!1,$n=0,Nl.current=null,r===null||r.return===null){Te=1,Bn=t,Ee=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Pe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,b=o,g=b.tag;if(!(b.mode&1)&&(g===0||g===11||g===15)){var x=b.alternate;x?(b.updateQueue=x.updateQueue,b.memoizedState=x.memoizedState,b.lanes=x.lanes):(b.updateQueue=null,b.memoizedState=null)}var p=Fo(l);if(p!==null){p.flags&=-257,$o(p,l,o,i,t),p.mode&1&&Ro(i,d,t),t=p,c=d;var w=t.updateQueue;if(w===null){var h=new Set;h.add(c),t.updateQueue=h}else w.add(c);break e}else{if(!(t&1)){Ro(i,d,t),Dl();break e}c=Error(Q(426))}}else if(we&&o.mode&1){var j=Fo(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),$o(j,l,o,i,t),cl(Gr(c,o));break e}}i=c=Gr(c,o),Te!==4&&(Te=2),_n===null?_n=[i]:_n.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var u=Yu(i,c,t);To(i,u);break e;case 1:o=c;var f=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xt===null||!Xt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Ju(i,o,t);To(i,_);break e}}i=i.return}while(i!==null)}vd(r)}catch(N){t=N,Ee===r&&r!==null&&(Ee=r=r.return);continue}break}while(!0)}function gd(){var e=Zs.current;return Zs.current=Ks,e===null?Ks:e}function Dl(){(Te===0||Te===3||Te===2)&&(Te=4),ze===null||!(gr&268435455)&&!(hi&268435455)||Ht(ze,Pe)}function Xs(e,t){var r=fe;fe|=2;var n=gd();(ze!==e||Pe!==t)&&(Et=null,dr(e,t));do try{op();break}catch(s){md(e,s)}while(!0);if(dl(),fe=r,Zs.current=n,Ee!==null)throw Error(Q(261));return ze=null,Pe=0,Te}function op(){for(;Ee!==null;)xd(Ee)}function cp(){for(;Ee!==null&&!If();)xd(Ee)}function xd(e){var t=bd(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?vd(e):Ee=t,Nl.current=null}function vd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rp(r,t),r!==null){r.flags&=32767,Ee=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ee=null;return}}else if(r=tp(r,t,Je),r!==null){Ee=r;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Te===0&&(Te=5)}function lr(e,t,r){var n=me,s=ct.transition;try{ct.transition=null,me=1,up(e,t,r,n)}finally{ct.transition=s,me=n}return null}function up(e,t,r,n){do Or();while(Wt!==null);if(fe&6)throw Error(Q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Vf(e,i),e===ze&&(Ee=ze=null,Pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hs||(hs=!0,wd(zs,function(){return Or(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ct.transition,ct.transition=null;var l=me;me=1;var o=fe;fe|=4,Nl.current=null,sp(e,r),fd(r,e),Th(ga),Is=!!ma,ga=ma=null,e.current=r,ip(r),Pf(),fe=o,me=l,ct.transition=i}else e.current=r;if(hs&&(hs=!1,Wt=e,Qs=s),i=e.pendingLanes,i===0&&(Xt=null),$f(r.stateNode),Ye(e,Se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qs)throw qs=!1,e=Ra,Ra=null,e;return Qs&1&&e.tag!==0&&Or(),i=e.pendingLanes,i&1?e===Fa?jn++:(jn=0,Fa=e):jn=0,ir(),null}function Or(){if(Wt!==null){var e=Yc(Qs),t=ct.transition,r=me;try{if(ct.transition=null,me=16>e?16:e,Wt===null)var n=!1;else{if(e=Wt,Wt=null,Qs=0,fe&6)throw Error(Q(331));var s=fe;for(fe|=4,se=e.current;se!==null;){var i=se,l=i.child;if(se.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(se=d;se!==null;){var b=se;switch(b.tag){case 0:case 11:case 15:wn(8,b,i)}var g=b.child;if(g!==null)g.return=b,se=g;else for(;se!==null;){b=se;var x=b.sibling,p=b.return;if(cd(b),b===d){se=null;break}if(x!==null){x.return=p,se=x;break}se=p}}}var w=i.alternate;if(w!==null){var h=w.child;if(h!==null){w.child=null;do{var j=h.sibling;h.sibling=null,h=j}while(h!==null)}}se=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,se=l;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wn(9,i,i.return)}var u=i.sibling;if(u!==null){u.return=i.return,se=u;break e}se=i.return}}var f=e.current;for(se=f;se!==null;){l=se;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,se=v;else e:for(l=f;se!==null;){if(o=se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:fi(9,o)}}catch(N){ke(o,o.return,N)}if(o===l){se=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,se=_;break e}se=o.return}}if(fe=s,ir(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(si,e)}catch{}n=!0}return n}finally{me=r,ct.transition=t}}return!1}function Xo(e,t,r){t=Gr(r,t),t=Yu(e,t,1),e=Qt(e,t,1),t=We(),e!==null&&(Wn(e,1,t),Ye(e,t))}function ke(e,t,r){if(e.tag===3)Xo(e,e,r);else for(;t!==null;){if(t.tag===3){Xo(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xt===null||!Xt.has(n))){e=Gr(r,e),e=Ju(t,e,1),t=Qt(t,e,1),e=We(),t!==null&&(Wn(t,1,e),Ye(t,e));break}}t=t.return}}function dp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&r,ze===e&&(Pe&r)===r&&(Te===4||Te===3&&(Pe&130023424)===Pe&&500>Se()-Cl?dr(e,0):kl|=r),Ye(e,t)}function yd(e,t){t===0&&(e.mode&1?(t=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):t=1);var r=We();e=Rt(e,t),e!==null&&(Wn(e,t,r),Ye(e,r))}function fp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yd(e,r)}function hp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),yd(e,r)}var bd;bd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)qe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qe=!1,ep(e,t,r);qe=!!(e.flags&131072)}else qe=!1,we&&t.flags&1048576&&Nu(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ks(e,t),e=t.pendingProps;var s=Ur(t,He.current);$r(t,r),s=yl(null,t,n,e,s,r);var i=bl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(n)?(i=!0,Os(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pl(t),s.updater=di,t.stateNode=s,s._reactInternals=t,ka(t,n,e,r),t=Ea(null,t,n,!0,i,r)):(t.tag=0,we&&i&&ll(t),Ve(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ks(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=mp(n),e=ht(n,e),s){case 0:t=Sa(null,t,n,e,r);break e;case 1:t=Bo(null,t,n,e,r);break e;case 11:t=Oo(null,t,n,e,r);break e;case 14:t=Lo(null,t,n,ht(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),Sa(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),Bo(e,t,n,s,r);case 3:e:{if(nd(t),e===null)throw Error(Q(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Tu(e,t),Vs(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gr(Error(Q(423)),t),t=Uo(e,t,n,r,s);break e}else if(n!==s){s=Gr(Error(Q(424)),t),t=Uo(e,t,n,r,s);break e}else for(et=qt(t.stateNode.containerInfo.firstChild),tt=t,we=!0,mt=null,r=Eu(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),n===s){t=Ft(e,t,r);break e}Ve(e,t,n,r)}t=t.child}return t;case 5:return Au(t),e===null&&_a(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,xa(n,s)?l=null:i!==null&&xa(n,i)&&(t.flags|=32),rd(e,t),Ve(e,t,l,r),t.child;case 6:return e===null&&_a(t),null;case 13:return sd(e,t,r);case 4:return ml(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Vr(t,null,n,r):Ve(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),Oo(e,t,n,s,r);case 7:return Ve(e,t,t.pendingProps,r),t.child;case 8:return Ve(e,t,t.pendingProps.children,r),t.child;case 12:return Ve(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,ve(Us,n._currentValue),n._currentValue=l,i!==null)if(vt(i.value,l)){if(i.children===s.children&&!Qe.current){t=Ft(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=zt(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var b=d.pending;b===null?c.next=c:(c.next=b.next,b.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ja(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Q(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),ja(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ve(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$r(t,r),s=ut(s),n=n(s),t.flags|=1,Ve(e,t,n,r),t.child;case 14:return n=t.type,s=ht(n,t.pendingProps),s=ht(n.type,s),Lo(e,t,n,s,r);case 15:return ed(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),ks(e,t),t.tag=1,Xe(n)?(e=!0,Os(t)):e=!1,$r(t,r),Xu(t,n,s),ka(t,n,s,r),Ea(null,t,n,!0,e,r);case 19:return id(e,t,r);case 22:return td(e,t,r)}throw Error(Q(156,t.tag))};function wd(e,t){return Zc(e,t)}function pp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,r,n){return new pp(e,t,r,n)}function Tl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mp(e){if(typeof e=="function")return Tl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qa)return 11;if(e===Qa)return 14}return 2}function Jt(e,t){var r=e.alternate;return r===null?(r=ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Es(e,t,r,n,s,i){var l=2;if(n=e,typeof e=="function")Tl(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case _r:return fr(r.children,s,i,t);case Za:l=8,s|=8;break;case qi:return e=ot(12,r,t,s|2),e.elementType=qi,e.lanes=i,e;case Qi:return e=ot(13,r,t,s),e.elementType=Qi,e.lanes=i,e;case Xi:return e=ot(19,r,t,s),e.elementType=Xi,e.lanes=i,e;case Ac:return pi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dc:l=10;break e;case Tc:l=9;break e;case qa:l=11;break e;case Qa:l=14;break e;case Lt:l=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=ot(l,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function fr(e,t,r,n){return e=ot(7,e,n,t),e.lanes=r,e}function pi(e,t,r,n){return e=ot(22,e,n,t),e.elementType=Ac,e.lanes=r,e.stateNode={isHidden:!1},e}function Wi(e,t,r){return e=ot(6,e,null,t),e.lanes=r,e}function Gi(e,t,r){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gp(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Al(e,t,r,n,s,i,l,o,c){return e=new gp(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pl(i),e}function xp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _d(e){if(!e)return tr;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Xe(r))return _u(e,r,t)}return t}function jd(e,t,r,n,s,i,l,o,c){return e=Al(r,n,!0,e,s,i,l,o,c),e.context=_d(null),r=e.current,n=We(),s=Yt(r),i=zt(n,s),i.callback=t??null,Qt(r,i,s),e.current.lanes=s,Wn(e,s,n),Ye(e,n),e}function mi(e,t,r,n){var s=t.current,i=We(),l=Yt(s);return r=_d(r),t.context===null?t.context=r:t.pendingContext=r,t=zt(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qt(s,t,l),e!==null&&(xt(e,s,l,i),_s(e,s,l)),l}function Ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zl(e,t){Yo(e,t),(e=e.alternate)&&Yo(e,t)}function vp(){return null}var Nd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ml(e){this._internalRoot=e}gi.prototype.render=Ml.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));mi(e,t,null,null)};gi.prototype.unmount=Ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){mi(null,e,null,null)}),t[Pt]=null}};function gi(e){this._internalRoot=e}gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=tu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ut.length&&t!==0&&t<Ut[r].priority;r++);Ut.splice(r,0,e),r===0&&nu(e)}};function Il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jo(){}function yp(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=Ys(l);i.call(d)}}var l=jd(t,n,e,0,null,!1,!1,"",Jo);return e._reactRootContainer=l,e[Pt]=l.current,Mn(e.nodeType===8?e.parentNode:e),xr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var d=Ys(c);o.call(d)}}var c=Al(e,0,!1,null,null,!1,!1,"",Jo);return e._reactRootContainer=c,e[Pt]=c.current,Mn(e.nodeType===8?e.parentNode:e),xr(function(){mi(t,c,r,n)}),c}function vi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=Ys(l);o.call(c)}}mi(t,l,e,s)}else l=yp(r,t,e,s,n);return Ys(l)}Jc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hn(t.pendingLanes);r!==0&&(Ja(t,r|1),Ye(t,Se()),!(fe&6)&&(Kr=Se()+500,ir()))}break;case 13:xr(function(){var n=Rt(e,1);if(n!==null){var s=We();xt(n,e,1,s)}}),zl(e,1)}};el=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var r=We();xt(t,e,134217728,r)}zl(e,134217728)}};eu=function(e){if(e.tag===13){var t=Yt(e),r=Rt(e,t);if(r!==null){var n=We();xt(r,e,t,n)}zl(e,t)}};tu=function(){return me};ru=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};la=function(e,t,r){switch(t){case"input":if(ea(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=oi(n);if(!s)throw Error(Q(90));Mc(n),ea(n,s)}}}break;case"textarea":Pc(e,r);break;case"select":t=r.value,t!=null&&Ir(e,!!r.multiple,t,!1)}};Uc=Sl;Hc=xr;var bp={usingClientEntryPoint:!1,Events:[Kn,Cr,oi,Lc,Bc,Sl]},on={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wp={bundleType:on.bundleType,version:on.version,rendererPackageName:on.rendererPackageName,rendererConfig:on.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gc(e),e===null?null:e.stateNode},findFiberByHostInstance:on.findFiberByHostInstance||vp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{si=ps.inject(wp),kt=ps}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bp;nt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Il(t))throw Error(Q(200));return xp(e,t,null,r)};nt.createRoot=function(e,t){if(!Il(e))throw Error(Q(299));var r=!1,n="",s=Nd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Al(e,1,!1,null,null,r,!1,n,s),e[Pt]=t.current,Mn(e.nodeType===8?e.parentNode:e),new Ml(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Gc(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return xr(e)};nt.hydrate=function(e,t,r){if(!xi(t))throw Error(Q(200));return vi(null,e,t,!0,r)};nt.hydrateRoot=function(e,t,r){if(!Il(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Nd;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=jd(t,null,e,1,r??null,s,!1,i,l),e[Pt]=t.current,Mn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new gi(t)};nt.render=function(e,t,r){if(!xi(t))throw Error(Q(200));return vi(null,e,t,!1,r)};nt.unmountComponentAtNode=function(e){if(!xi(e))throw Error(Q(40));return e._reactRootContainer?(xr(function(){vi(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};nt.unstable_batchedUpdates=Sl;nt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xi(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return vi(e,t,r,!1,n)};nt.version="18.3.1-next-f1338f8080-20240426";function kd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kd)}catch(e){console.error(e)}}kd(),kc.exports=nt;var _p=kc.exports,Cd,ec=_p;Cd=ec.createRoot,ec.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(e,t)=>{const r=ne.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},b)=>ne.createElement("svg",{ref:b,...jp,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Np(e)}`,o].join(" "),...d},[...t.map(([g,x])=>ne.createElement(g,x)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=oe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=oe("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=oe("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=oe("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=oe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=oe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=oe("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=oe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=oe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=oe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=oe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=oe("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=oe("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=oe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=oe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rc="72b4987f77607964f64d1fd5a4935f81",Vp="https://api.themoviedb.org/3",Ki="https://image.tmdb.org/t/p/";class Wp{constructor(t=rc){Vl(this,"apiKey");this.apiKey=t}setApiKey(t){this.apiKey=t}async makeRequest(t,r={},n="fr"){const s=this.apiKey||rc;if(s.length<32)throw new Error("Clé API TMDB invalide - vérifiez que vous avez saisi la bonne clé");const i=new URL(`${Vp}${t}`);i.searchParams.append("api_key",s),i.searchParams.append("language",n==="fr"?"fr-FR":"en-US"),Object.entries(r).forEach(([o,c])=>{i.searchParams.append(o,c)});const l=await fetch(i.toString());if(!l.ok)throw l.status===401?new Error("Clé API TMDB invalide ou expirée - vérifiez votre clé dans les paramètres"):l.status===400?new Error("Requête invalide - vérifiez votre clé API TMDB dans les paramètres"):new Error(`Erreur TMDB: ${l.status} ${l.statusText}`);return l.json()}async searchMulti(t,r=1,n="fr"){if(t.match(/^\d+$/)){const i=parseInt(t);try{const l=await this.getMovie(i,n);return{results:[{id:l.id,title:l.title,name:void 0,media_type:"movie",poster_path:l.poster_path,release_date:l.release_date,first_air_date:void 0,vote_average:l.vote_average,overview:l.overview}],total_pages:1}}catch{}try{const l=await this.getTVShow(i,n);return{results:[{id:l.id,title:void 0,name:l.name,media_type:"tv",poster_path:l.poster_path,release_date:void 0,first_air_date:l.first_air_date,vote_average:l.vote_average,overview:l.overview}],total_pages:1}}catch{return{results:[],total_pages:0}}}return this.makeRequest("/search/multi",{query:encodeURIComponent(t),page:r.toString()},n)}async getMovie(t,r="fr"){return this.makeRequest(`/movie/${t}`,{append_to_response:"videos"},r)}async getTVShow(t,r="fr"){return this.makeRequest(`/tv/${t}`,{append_to_response:"videos"},r)}async getMovieCredits(t,r="fr"){return this.makeRequest(`/movie/${t}/credits`,{},r)}async getTVCredits(t,r="fr"){return this.makeRequest(`/tv/${t}/credits`,{},r)}getImageUrl(t,r="w500"){return t?`${Ki}${r}${t}`:"/placeholder-poster.jpg"}getActorImageUrl(t){return t?`${Ki}w138_and_h175_face${t}`:"/placeholder-actor.jpg"}getBackdropUrl(t,r="w1280"){return t?`${Ki}${r}${t}`:"/placeholder-backdrop.jpg"}async getMovieVideos(t){return this.makeRequest(`/movie/${t}/videos`)}async getTVVideos(t){return this.makeRequest(`/tv/${t}/videos`)}async getMovieImages(t){return this.makeRequest(`/movie/${t}/images`,{include_image_language:"en,fr,null"})}async getTVImages(t){return this.makeRequest(`/tv/${t}/images`,{include_image_language:"en,fr,null"})}async getTrailerUrl(t,r){var n,s,i;try{const l=r==="movie"?await this.getMovieVideos(t):await this.getTVVideos(t);let o=(n=l.results)==null?void 0:n.find(c=>c.type==="Trailer"&&c.site==="YouTube"&&c.iso_639_1==="fr");return o||(o=(s=l.results)==null?void 0:s.find(c=>c.type==="Trailer"&&c.site==="YouTube"&&c.iso_639_1==="en")),o||(o=(i=l.results)==null?void 0:i.find(c=>c.site==="YouTube")),o?`https://www.youtube.com/watch?v=${o.key}`:null}catch(l){return console.error("Erreur lors de la récupération de la bande-annonce:",l),null}}}const pe=new Wp;function Ad(e){if(!e)return!1;const t=e.toLowerCase(),r=["<movie>","<tvshow>","<episodedetails>","<title>","<originaltitle>","<plot>","<director>","<?xml","<root>"],n=["general","video","audio","text","complete name","movie name","format ","codec","bit rate","width","height","frame rate","duration"],s=r.some(l=>t.includes(l)),i=n.some(l=>t.includes(l));return s||i}function zd(e){if(!e)return!1;const t=e.toLowerCase();return["general","video","audio","text","complete name","format ","codec","bit rate","width","height","frame rate","duration","mediainfo","media info"].some(n=>t.includes(n))}function Md(e){const t={};try{const r=e.match(/<originaltitle[^>]*>(.*?)<\/originaltitle>/is);r&&(t.originaltitle=r[1].trim());const n=e.match(/<votes[^>]*>(.*?)<\/votes>/is);n&&(t.votes=n[1].trim());const s=e.match(/<premiered[^>]*>(.*?)<\/premiered>/is);s&&(t.premiered=s[1].trim());const i=e.match(/<aired[^>]*>(.*?)<\/aired>/is);i&&(t.aired=i[1].trim());const l=e.match(/<season[^>]*>(.*?)<\/season>/is);l&&(t.season=l[1].trim());const o=e.match(/<episode[^>]*>(.*?)<\/episode>/is);o&&(t.episode=o[1].trim());const c=e.match(/<tvdbid[^>]*>(.*?)<\/tvdbid>/is)||e.match(/thetvdb\.com\/(?:series|episode)\/(\d+)/i);c&&(t.tvdbId=c[1].trim());const d=e.match(/<title[^>]*>(.*?)<\/title>/is);d&&(t.title=d[1].trim());const b=e.match(/<year[^>]*>(.*?)<\/year>/is);b&&(t.year=b[1].trim());const g=e.match(/<plot[^>]*>(.*?)<\/plot>/is);g&&(t.plot=g[1].trim());const x=e.match(/<director[^>]*>(.*?)<\/director>/is);x&&(t.director=x[1].trim());const p=e.match(/<actor[^>]*>.*?<name[^>]*>(.*?)<\/name>.*?<\/actor>/gis);p&&(t.actors=p.map(A=>{const S=A.match(/<name[^>]*>(.*?)<\/name>/is);return S?S[1].trim():""}).filter(A=>A));const w=e.match(/<genre[^>]*>(.*?)<\/genre>/gis);w&&(t.genres=w.map(A=>A.replace(/<\/?genre[^>]*>/gi,"").trim()));const h=e.match(/<writer[^>]*>(.*?)<\/writer>/gis);h&&(t.writer=h.map(A=>A.replace(/<\/?writer[^>]*>/gi,"").trim()).filter(Boolean));const j=e.match(/<studio[^>]*>(.*?)<\/studio>/gis);j&&(t.studio=j.map(A=>A.replace(/<\/?studio[^>]*>/gi,"").trim()).filter(Boolean));const u=e.match(/<country[^>]*>(.*?)<\/country>/gis);u&&(t.country=u.map(A=>A.replace(/<\/?country[^>]*>/gi,"").trim()).filter(Boolean));const f=e.match(/<language[^>]*>(.*?)<\/language>/gis);f&&(t.language=f.map(A=>A.replace(/<\/?language[^>]*>/gi,"").trim()).filter(Boolean));const v=e.match(/<runtime[^>]*>(.*?)<\/runtime>/is);v&&(t.runtime=v[1].trim());const _=e.match(/<rating[^>]*>(.*?)<\/rating>/is);_&&(t.rating=_[1].trim());const N=e.match(/<imdb[^>]*>(.*?)<\/imdb>/is)||e.match(/imdb\.com\/title\/(tt\d+)/i);N&&(t.imdbId=N[1].trim());const D=e.match(/<tmdbid[^>]*>(.*?)<\/tmdbid>/is)||e.match(/themoviedb\.org\/(?:movie|tv)\/(\d+)/i);D&&(t.tmdbId=D[1].trim())}catch(r){console.error("Erreur lors du parsing NFO XML:",r)}return t}function Gp(e){return e?e.replace(/\.[^.]+$/,"").replace(/[[\]()]/g," ").replace(/[._-]/g," ").replace(/\b(19|20)\d{2}\b.*$/,"").replace(/\b(S\d+E\d+|Season\s+\d+|Episode\s+\d+)\b.*$/i,"").replace(/\b(FRENCH|ENGLISH|MULTI|TRUEFRENCH|VFF|VFQ|VOSTFR|MULTI\.TRUEFRENCH)\b.*$/i,"").replace(/\b(720p|1080p|2160p|4K|UHD|HDR|BluRay|WEB|WEB-DL|WEBRIP|HDTV|REMUX)\b.*$/i,"").replace(/\s+/g," ").trim():""}function Kp(e){if(!e)return"";const t=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(t){const o=t[2].trim().split(/[\\/]/).pop()||"",c=Gp(o);if(c)return c}const r=e.match(/(Movie\s*name|Nom\s*du\s*film)\s*:\s*(.+)/i);if(r){const l=r[2].trim();if(l&&l.length>1)return l}const n=e.match(/^\s*([^\n]+?)\s*\((19|20)\d{2}\).*$/m);if(n){const l=n[1].replace(/[._]/g," ").replace(/\s+/g," ").trim();if(l&&l.length>1)return l}const s=e.match(/^\s*Source\s*:\s*(.+)$/mi)||e.match(/^\s*Source\s*VF\s*:\s*(.+)$/mi);if(s){let l=s[1].trim().replace(/[._]/g," ");const o=l.search(/\b(19|20)\d{2}\b/);if(o>0&&(l=l.slice(0,o)),l=l.replace(/\s+$/g,"").trim(),l&&l.length>1)return l}const i=Md(e);return i.title?i.title:""}function Zp(e){const t=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(!t)return"";const r=t[2].trim();return(r.split(/[\\/]/).pop()||r).trim().replace(/\.[^.]+$/,"").replace(/\./g," ").trim()}const qp={quality:"1080p",format:"MKV",codec:"H.264",bitrate:5,bitrateUnit:"Mbps",size:8};function Qp(e){const t={video:{...qp},audio:[],subtitles:[]},r=e.match(/RESOLUTiON[.\s]*:\s*(\d+)\s*x\s*(\d+)/i);if(r){const g=parseInt(r[2]);g>=2160?t.video.quality="2160p":g>=1080?t.video.quality="1080p":g>=720?t.video.quality="720p":g>=480&&(t.video.quality="480p"),t.video.height=g,t.video.width=parseInt(r[1])}const n=e.match(/CODEC[.\s]*:\s*([^\n█]+)/i);if(n){let g=n[1].trim().split("-")[0].trim();/265|hevc/i.test(g)?t.video.codec="H.265":/264/i.test(g)?t.video.codec="H.264":t.video.codec=g}const s=e.match(/BiTRATE[.\s]*:\s*([\d\s,]+)\s*kb\/s/i);if(s){const g=parseInt(s[1].replace(/[\s,]/g,""));t.video.bitrate=Math.round(g/1e3*100)/100,t.video.bitrateUnit="Mbps"}const i=e.match(/RELEASE\s*SiZE[.\s]*:\s*([\d.]+)\s*(GiB|GB)/i);i&&(t.video.size=parseFloat(i[1]));const l=e.match(/Format\s*:\s*(\w+)/i);if(l){let g=l[1].toUpperCase();g==="MATROSKA"&&(g="MKV"),t.video.format=g}[...e.matchAll(/AUDiO\s*#(\d+)[^█]*?█[^█]*?█([\s\S]*?)(?=█[^█]*?█[^█]*?(?:AUDiO\s*#|SUBTiTLES\s*#|LiNKS|NOTE|GREETZ)|$)/gi)].forEach((g,x)=>{const p=g[1]||(x+1).toString(),w=g[2],h={id:p,language:"Français",languageCode:"fr",codec:"AC-3",channels:"2.0",bitrate:256,bitrateUnit:"Kbps",isDefault:x===0},j=w.match(/LANGUAGE[.\s]*:\s*([^\n█■]+)/i);if(j){const _=j[1].trim().toLowerCase();_.includes("french ca")||_.includes("vfq")?(h.language="Québécois",h.languageCode="fr-ca"):_.includes("french")||_.includes("français")?(h.language="Français",h.languageCode="fr"):_.includes("english")||_.includes("anglais")?(h.language="Anglais",h.languageCode="en"):(h.language=j[1].trim(),h.languageCode="other")}const u=w.match(/CODEC[.\s]*:\s*([^\n█■]+)/i);if(u){const _=u[1].trim();/(E-AC-3|EAC-3)/i.test(_)?h.codec="Dolby Digital Plus (E-AC-3)":/(AC-3|AC3)/i.test(_)?h.codec="AC-3":/DTS(-HD)?/i.test(_)?h.codec="DTS":h.codec=_}const f=w.match(/CHANNELS[.\s]*:\s*([^\n█■]+)/i);if(f){const _=f[1].trim();/2\.0|stereo/i.test(_)?h.channels="Stéréo":/5\.1/i.test(_)?h.channels="5.1":/7\.1/i.test(_)?h.channels="7.1":h.channels=_}const v=w.match(/BiTRATE[.\s]*:\s*([\d\s,]+)\s*kb\/s/i);v&&(h.bitrate=parseInt(v[1])),t.audio.push(h)}),[...e.matchAll(/SUBTiTLES\s*#(\d+)[^█]*?█[^█]*?█([\s\S]*?)(?=█[^█]*?█[^█]*?(?:SUBTiTLES\s*#|LiNKS|NOTE|GREETZ)|$)/gi)].forEach((g,x)=>{const p=g[1]||(x+1).toString(),w=g[2],h={id:p,language:"Français",languageCode:"fr",type:"embedded",format:"SRT",isForced:!1,isDefault:x===0},j=w.match(/LANGUAGE[.\s]*:\s*([^\n█■]+)/i);if(j){const v=j[1].trim(),_=v.toLowerCase();_.includes("french ca")||_.includes("vfq")?(h.language="Québécois",h.languageCode="fr-ca"):_.includes("french")||_.includes("français")?(h.language="Français",h.languageCode="fr"):_.includes("english")||_.includes("anglais")?(h.language="Anglais",h.languageCode="en"):(h.language=v,h.languageCode="other")}const u=w.match(/TYPE[.\s]*:\s*([^\n█■]+)/i);if(u){const v=u[1].trim().toLowerCase();v.includes("forced")&&(h.isForced=!0),v.includes("full")&&(h.isComplete=!0),v.includes("sdh")&&(h.isSDH=!0)}const f=w.match(/FORMAT[.\s]*:\s*([^\n█■]+)/i);if(f){const v=f[1].trim();/hardcoded/i.test(v)?(h.format="Hardcoded",h.type="embedded"):h.format=v.toUpperCase()==="UTF-8"?"SRT":v}t.subtitles.push(h)});const d=e.match(/SOURCE[.\s]*:\s*([^\n█■]+)/i);d&&(t.source=Xp(d[1]));const b=e.match(/^\s*([^\n]+?\.(?:MULTi|FRENCH|ENGLISH|TRUEFRENCH)\..*?-[A-Z0-9]+)\s*$/m);return b&&(t.releaseGroup=b[1].trim()),t}function Xp(e){const t=e.toLowerCase();return/(^|[._\-\s])webrip([._\-\s]|$)/i.test(t)?"WEBRip":/(^|[._\-\s])web\-?dl([._\-\s]|$)/i.test(t)||/(^|[._\-\s])web([._\-\s]|$)/i.test(t)||/(^|[._\-\s])(amzn|amazon|nf|netflix|dsnp|disney\+?|dplus|itunes|atvp|appletv\+?|hulu|max|hbomax|paramount|pmtp|peacock)([._\-\s]|$)/i.test(t)?"WEB-DL":/(^|[._\-\s])(bdremux|remux)([._\-\s]|$)/i.test(t)?"REMUX":/(^|[._\-\s])(uhd|4k)([._\-\s]|$)/i.test(t)?"UHD BluRay":/(^|[._\-\s])(bluray|blu\-ray)([._\-\s]|$)/i.test(t)?"BluRay":/(^|[._\-\s])hdtv([._\-\s]|$)/i.test(t)?"HDTV":/(^|[._\-\s])dvdrip([._\-\s]|$)/i.test(t)?"DVDRip":e.trim()}const Yp={"V_MPEG4/ISO/AVC":"H.264","V_MPEGH/ISO/HEVC":"H.265",V_MPEG2:"MPEG-2","V_MPEG4/ISO/ASP":"MPEG-4","V_MS/VFW/FOURCC":"FOURCC","V_MS/VFW/FOURCC / DIV3":"DivX 3","V_MS/VFW/FOURCC / DIVX":"DivX","V_MS/VFW/FOURCC / DX50":"DivX 5","V_MS/VFW/FOURCC / XVID":"Xvid",XVID:"XVID",xvid:"XVID","V_MPEG4/ISO/AP":"MPEG-4 Part 2",V_MJPEG:"MJPEG","V_MS/VFW/FOURCC / H264":"H.264","V_MS/VFW/FOURCC / X264":"H.264","V_MS/VFW/FOURCC / AVC1":"H.264","V_MS/VFW/FOURCC / H265":"H.265","V_MS/VFW/FOURCC / HEVC":"H.265","V_MS/VFW/FOURCC / x265":"H.265","V_MS/VFW/FOURCC / hev1":"H.265",V_VP8:"VP8",V_VP9:"VP9",V_THEORA:"Theora",V_MPEG1:"MPEG-1","V_MPEG4/ISO/SP":"MPEG-4 Part 2","V_MPEG4/ISO/MP4V-ES":"MPEG-4 Part 2",V_AV01:"AV1",avc1:"H.264",hev1:"H.265",hvc1:"H.265",av01:"AV1",vp09:"VP9",vp08:"VP8"},Jp={"A_AAC-2":"AAC",A_AAC:"AAC",A_AC3:"AC-3",A_DTS:"DTS","A_DTS/ES":"DTS-ES","A_DTS/HD":"DTS-HD","A_DTS/HDMA":"DTS-HD MA","Dolby Digital Plus with Atmos":"Dolby Digital Plus / E-AC3 Atmos","Dolby Digital Plus with Dolby Atmos":"Dolby Digital Plus / E-AC3 Atmos","E-AC-3 JOC":"Dolby Digital Plus / E-AC3 Atmos","DD+ Atmos":"Dolby Digital Plus / E-AC3 Atmos","DDP Atmos":"Dolby Digital Plus / E-AC3 Atmos","Dolby Digital Plus (E-AC-3)":"Dolby Digital Plus / E-AC3","Dolby Digital Plus":"Dolby Digital Plus / E-AC3","E-AC-3":"Dolby Digital Plus / E-AC3","EC-3":"Dolby Digital Plus / E-AC3","DD+":"Dolby Digital Plus / E-AC3",A_EAC3:"E-AC-3",A_FLAC:"FLAC","A_MPEG/L3":"MP3","A_MPEG/L2":"MP2",A_TRUEHD:"TrueHD",A_VORBIS:"Vorbis",A_WAVPACK4:"WavPack",A_PCM:"PCM","A_PCM/INT/LIT":"PCM","A_PCM/INT/BIG":"PCM","A_PCM/FLOAT/IEEE":"PCM",mp4a:"AAC","ac-3":"AC-3","ec-3":"E-AC-3",dts:"DTS",dtsh:"DTS-HD",dtsl:"DTS-HD MA","dts-es":"DTS-ES",dtses:"DTS-ES",flac:"FLAC"},em={1:"Mono",2:"Stéréo",3:"2.1",4:"4.0",5:"5.0",6:"5.1",7:"6.1",8:"7.1",10:"7.1.2 (Atmos)",12:"7.1.4 (Atmos)",16:"15.1"},cn={fr:{code:"fr",name:"Français",flag:"https://flagcdn.com/20x15/fr.png"},"fr-ca":{code:"fr-ca",name:"Québécois",flag:"https://flagcdn.com/20x15/ca.png"},en:{code:"en",name:"Anglais",flag:"https://flagcdn.com/20x15/us.png"},es:{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},de:{code:"de",name:"Allemand",flag:"https://flagcdn.com/20x15/de.png"},it:{code:"it",name:"Italien",flag:"https://flagcdn.com/20x15/it.png"},pt:{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},ru:{code:"ru",name:"Russe",flag:"https://flagcdn.com/20x15/ru.png"},ja:{code:"ja",name:"Japonais",flag:"https://flagcdn.com/20x15/jp.png"},ko:{code:"ko",name:"Coréen",flag:"https://flagcdn.com/20x15/kr.png"},zh:{code:"zh",name:"Chinois",flag:"https://flagcdn.com/20x15/cn.png"},ar:{code:"ar",name:"Arabe",flag:"https://flagcdn.com/20x15/sa.png"},he:{code:"he",name:"Hébreu",flag:"https://flagcdn.com/20x15/il.png"},th:{code:"th",name:"Thaï",flag:"https://flagcdn.com/20x15/th.png"},vi:{code:"vi",name:"Vietnamien",flag:"https://flagcdn.com/20x15/vn.png"},hi:{code:"hi",name:"Hindi",flag:"https://flagcdn.com/20x15/in.png"},nl:{code:"nl",name:"Néerlandais",flag:"https://flagcdn.com/20x15/nl.png"},sv:{code:"sv",name:"Suédois",flag:"https://flagcdn.com/20x15/se.png"},no:{code:"no",name:"Norvégien",flag:"https://flagcdn.com/20x15/no.png"},da:{code:"da",name:"Danois",flag:"https://flagcdn.com/20x15/dk.png"},fi:{code:"fi",name:"Finnois",flag:"https://flagcdn.com/20x15/fi.png"},pl:{code:"pl",name:"Polonais",flag:"https://flagcdn.com/20x15/pl.png"},cs:{code:"cs",name:"Tchèque",flag:"https://flagcdn.com/20x15/cz.png"},hu:{code:"hu",name:"Hongrois",flag:"https://flagcdn.com/20x15/hu.png"},tr:{code:"tr",name:"Turc",flag:"https://flagcdn.com/20x15/tr.png"},ro:{code:"ro",name:"Roumain",flag:"https://flagcdn.com/20x15/ro.png"},bg:{code:"bg",name:"Bulgare",flag:"https://flagcdn.com/20x15/bg.png"},el:{code:"el",name:"Grec",flag:"https://flagcdn.com/20x15/gr.png"},id:{code:"id",name:"Indonésien",flag:"https://flagcdn.com/20x15/id.png"},ms:{code:"ms",name:"Malais",flag:"https://flagcdn.com/20x15/my.png"},tl:{code:"tl",name:"Filipino",flag:"https://flagcdn.com/20x15/ph.png"},uk:{code:"uk",name:"Ukrainien",flag:"https://flagcdn.com/20x15/ua.png"},hr:{code:"hr",name:"Croate",flag:"https://flagcdn.com/20x15/hr.png"},sr:{code:"sr",name:"Serbe",flag:"https://flagcdn.com/20x15/rs.png"},sl:{code:"sl",name:"Slovène",flag:"https://flagcdn.com/20x15/si.png"},sk:{code:"sk",name:"Slovaque",flag:"https://flagcdn.com/20x15/sk.png"},lt:{code:"lt",name:"Lituanien",flag:"https://flagcdn.com/20x15/lt.png"},lv:{code:"lv",name:"Letton",flag:"https://flagcdn.com/20x15/lv.png"},et:{code:"et",name:"Estonien",flag:"https://flagcdn.com/20x15/ee.png"},"chinese (simplified)":{code:"zh",name:"Chinois (Simplifié)",flag:"https://flagcdn.com/20x15/cn.png"},"chinese (traditional)":{code:"zh-tw",name:"Chinois (Traditionnel)",flag:"https://flagcdn.com/20x15/tw.png"},"spanish (latin america)":{code:"es-mx",name:"Espagnol (Amérique Latine)",flag:"https://flagcdn.com/20x15/mx.png"},"spanish (es)":{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},"portuguese (br)":{code:"pt-br",name:"Portugais (Brésil)",flag:"https://flagcdn.com/20x15/br.png"},"portuguese (pt)":{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},"norwegian bokmal":{code:"no",name:"Norvégien",flag:"https://flagcdn.com/20x15/no.png"},chinese:{code:"zh",name:"Chinois",flag:"https://flagcdn.com/20x15/cn.png"},arabic:{code:"ar",name:"Arabe",flag:"https://flagcdn.com/20x15/sa.png"},czech:{code:"cs",name:"Tchèque",flag:"https://flagcdn.com/20x15/cz.png"},danish:{code:"da",name:"Danois",flag:"https://flagcdn.com/20x15/dk.png"},german:{code:"de",name:"Allemand",flag:"https://flagcdn.com/20x15/de.png"},greek:{code:"el",name:"Grec",flag:"https://flagcdn.com/20x15/gr.png"},finnish:{code:"fi",name:"Finnois",flag:"https://flagcdn.com/20x15/fi.png"},hebrew:{code:"he",name:"Hébreu",flag:"https://flagcdn.com/20x15/il.png"},croatian:{code:"hr",name:"Croate",flag:"https://flagcdn.com/20x15/hr.png"},hungarian:{code:"hu",name:"Hongrois",flag:"https://flagcdn.com/20x15/hu.png"},indonesian:{code:"id",name:"Indonésien",flag:"https://flagcdn.com/20x15/id.png"},italian:{code:"it",name:"Italien",flag:"https://flagcdn.com/20x15/it.png"},korean:{code:"ko",name:"Coréen",flag:"https://flagcdn.com/20x15/kr.png"},malay:{code:"ms",name:"Malais",flag:"https://flagcdn.com/20x15/my.png"},dutch:{code:"nl",name:"Néerlandais",flag:"https://flagcdn.com/20x15/nl.png"},polish:{code:"pl",name:"Polonais",flag:"https://flagcdn.com/20x15/pl.png"},romanian:{code:"ro",name:"Roumain",flag:"https://flagcdn.com/20x15/ro.png"},russian:{code:"ru",name:"Russe",flag:"https://flagcdn.com/20x15/ru.png"},swedish:{code:"sv",name:"Suédois",flag:"https://flagcdn.com/20x15/se.png"},thai:{code:"th",name:"Thaï",flag:"https://flagcdn.com/20x15/th.png"},turkish:{code:"tr",name:"Turc",flag:"https://flagcdn.com/20x15/tr.png"},ukrainian:{code:"uk",name:"Ukrainien",flag:"https://flagcdn.com/20x15/ua.png"},vietnamese:{code:"vi",name:"Vietnamien",flag:"https://flagcdn.com/20x15/vn.png"}};function tm(e){return Yp[e]||e}function rm(e){if(!e)return"Autre";const t=e.trim(),r=t.toLowerCase();return/e[\- _]?ac[\- _]?3\s*joc/.test(r)||/(^|[\s\-_/])(e[\- _]?ac[\- _]?3|ec[\- _]?3|dd\+|dolby\s*digital\s*plus)([^a-z]|$)/.test(r)&&/(atmos|joc)/.test(r)||r==="dolby digital plus with atmos"||r==="dd+ atmos"||r==="ddp atmos"?"Dolby Digital Plus / E-AC3 Atmos":/dolby\s*truehd/.test(r)&&/atmos/.test(r)||/\bmlp\s*fba\s*16-ch\b/.test(r)?"Dolby TrueHD Atmos":/(^|[\s\-_/])(e[\- _]?ac[\- _]?3|ec[\- _]?3|dd\+|dolby\s*digital\s*plus)([^a-z]|$)/.test(r)?"Dolby Digital Plus / E-AC3":/(^|[\s\-_/])ac[\- _]?3([^a-z]|$)/.test(r)||/dolby\s*digital(?!\s*plus)/.test(r)?"AC-3":Jp[e]||t}function nm(e){return em[e]||`${e} canaux`}function Ue(e){const t=e.toLowerCase(),r=e.toLowerCase();return t==="autre"||t==="other"||!cn[t]?{code:t,name:e,flag:null}:cn[t]?cn[t]:cn[r]?cn[r]:{code:t,name:e,flag:null}}function sm(e){const t={},r=e.split(`
`);let n="",s=[];for(const i of r){const l=i.trim(),o=/^(general|général)(\s*#\d+)?\s*$/i.test(l),c=/^(video|vidéo)(\s*#\d+)?\s*$/i.test(l),d=/^audio(\s*#\d+)?\s*$/i.test(l),b=/^(text|texte)(\s*#\d+)?\s*$/i.test(l),g=/^(subtitle|sous-titre)\s*#\d+\s*$/i.test(l);o?(n&&s.length>0&&un(t,n,s.join(`
`)),n="general",s=[]):c?(n&&s.length>0&&un(t,n,s.join(`
`)),n="video",s=[]):d?(n&&s.length>0&&un(t,n,s.join(`
`)),n="audio",s=[]):b||g?(n&&s.length>0&&un(t,n,s.join(`
`)),n="text",s=[]):l&&n&&s.push(l)}return n&&s.length>0&&un(t,n,s.join(`
`)),t}function un(e,t,r){t==="general"?e.general=r:t==="video"?(e.video||(e.video=[]),e.video.push(r)):t==="audio"?(e.audio||(e.audio=[]),e.audio.push(r)):t==="text"&&(e.text||(e.text=[]),e.text.push(r))}function im(e){const t={},r=e.match(/(Duration|Durée)\s*:\s*(.+)/i);r&&(t.duration=r[2].trim());const n=e.match(/(File\s*size|Taille\s*du\s*fichier)\s*:\s*([\d\s,.]+)\s*(GiB|GB|MiB|MB|Gio|Mio)/i);if(n){const s=n[2].replace(/\s/g,"").replace(",","."),i=n[3].toUpperCase(),l=parseFloat(s);Number.isNaN(l)||(i==="GIB"||i==="GB"||i==="GIO"?t.fileSizeGiB=l:(i==="MIB"||i==="MB"||i==="MIO")&&(t.fileSizeGiB=l/1024))}return t}function am(e){const t={},r=e.match(/(Duration|Durée)\s*:\s*(.+)/i);r&&(t.duration=r[2].trim());const n=e.match(/(Width|Largeur)\s*:\s*([\d\s.,]+)/i),s=e.match(/(Height|Hauteur)\s*:\s*([\d\s.,]+)/i);if(n&&s){const d=parseInt(n[2].replace(/\D/g,"")),b=parseInt(s[2].replace(/\D/g,""));if(!Number.isNaN(d)&&!Number.isNaN(b)){t.width=d,t.height=b;const g=d>=3800||b>=2160||d>=3e3&&b>=1600,x=!g&&(d>=1900||b>=1e3||d>=1900&&b>=800),p=!g&&!x&&(d>=1280||b>=700);g?t.quality="2160p":x?t.quality="1080p":p?t.quality="720p":t.quality="SD"}}const i=e.match(/Format\s*:\s*(.+)/i);if(i){let d=i[1].trim().toUpperCase();d==="MATROSKA"?d="MKV":(d==="AVI"||d.includes("AVI"))&&(d="AVI"),t.format=["MKV","MP4","AVI","M2TS","ISO"].includes(d)?d:"MKV",console.log("Video section format detected:",d,"mapped to:",t.format)}const l=e.match(/(Codec ID|Identifiant du codec)\s*:\s*(.+)/i)||e.match(/Format\s*:\s*(.+)/i);if(l){const d=(l[2]||l[1]).trim();t.codec=tm(d)}const o=e.match(/(Frame\s*rate|Images\s*par\s*seconde)\s*:\s*([\d.,]+)\s*(FPS|Im\/s)/i);o&&(t.frameRate=o[2].replace(",","."));const c=e.match(/(Bit[ _-]?rate|Débit)\s*:\s*([\d\s.,]+)\s*(Mb\/?s|Mbps|Kb\/?s|Kbps|kb\/?s)/i)||e.match(/Bitrate\s*:\s*([\d\s.,]+)\s*(Mb\/?s|Mbps|Kb\/?s|Kbps|kb\/?s)/i);if(c){const d=c[2].replace(/\s/g,"").replace(",","."),b=c[3].toLowerCase();let g=parseFloat(d);Number.isNaN(g)||(b.startsWith("kb")&&(g=g/1e3),t.bitrate=parseFloat(g.toFixed(3)),t.bitrateUnit="Mbps")}return t}function Id(e,t="Français",r="fr"){const n=e.match(/(Language|Langue)\s*:\s*(.+)/i);if(n){const s=n[2].trim().toLowerCase();return s.includes("french")||s.includes("français")?{language:"Français",languageCode:"fr"}:s.includes("english")||s.includes("anglais")?{language:"Anglais",languageCode:"en"}:s.includes("japanese")||s.includes("japonais")?{language:"Japonais",languageCode:"ja"}:s.includes("french ca")||s.includes("vfq")?{language:"Québécois",languageCode:"fr-ca"}:{language:n[2].trim(),languageCode:"other"}}return{language:t,languageCode:r}}function lm(e,t){try{const r={id:(t+1).toString(),language:"Français",languageCode:"fr",codec:"AAC",channels:"Stéréo",bitrate:128,bitrateUnit:"Kbps",isDefault:t===0};let n=!1;const s=Id(e);r.language=s.language,r.languageCode=s.languageCode;const i=e.match(/(Commercial\s*name|Nom\s*commercial)\s*:\s*(.+)/i);if(i){const g=i[2].trim().toLowerCase();g.includes("dts-hd high resolution audio")||g.includes("dts-hd hra")?(r.codec="DTS-HD",n=!0):g.includes("dts-hd master audio")||g.includes("dts-hd ma")?(r.codec="DTS-HD MA",n=!0):g.includes("dts:x")?(r.codec="DTS:X",n=!0):g.includes("dolby truehd")&&g.includes("atmos")?(r.codec="Dolby TrueHD with Dolby Atmos",n=!0):g.includes("dolby truehd")?(r.codec="Dolby TrueHD",n=!0):(g.includes("dolby digital plus")||g.includes("e-ac-3")||g.includes("eac3")||g.includes("dd+"))&&(g.includes("atmos")||g.includes("joc"))?(r.codec="Dolby Digital Plus with Atmos",n=!0):g.includes("dolby digital plus")||g.includes("e-ac-3")||g.includes("eac3")||g.includes("dd+")?(r.codec="Dolby Digital Plus (E-AC-3)",n=!0):g.includes("dts-es")&&(r.codec="DTS-ES",n=!0)}const l=/\bAtmos\b|\bJOC\b/i.test(e),o=e.match(/Format\s*:\s*(.+)/i)||e.match(/(Codec ID|Identifiant du codec)\s*:\s*(.+)/i);if(o&&!n){const g=o[1].trim(),x=g.toLowerCase(),p=e.match(/(Format\s*\/\s*Info|Format\/Info)\s*:\s*(.+)/i),w=p?p[1].trim().toLowerCase():"",h=e.match(/(Codec\s*ID|Identifiant\s*du\s*codec)\s*:\s*(.+)/i),j=h?h[1].trim().toLowerCase():"";if(x.includes("dts xll")||w.includes("dts xll"))r.codec="DTS-HD MA";else if(x.includes("dts-hd")&&x.includes("master"))r.codec="DTS-HD Master Audio";else if(x.includes("dts:x"))r.codec="DTS:X";else if(x.includes("truehd")&&l)r.codec="Dolby TrueHD with Dolby Atmos";else if(x.includes("truehd"))r.codec="Dolby TrueHD";else if(x==="dts"||x.includes("dts es")||w.includes("digital theater systems")||j.includes("a_dts"))r.codec="DTS";else if(x==="ac-3"||x.includes("ac-3")||x.includes("dolby digital")||j.includes("a_ac3")||w.includes("audio coding 3")||x.includes("ac3"))r.codec="AC-3";else if(x.includes("e-ac-3")||x.includes("eac3")||x.includes("dd+")||x.includes("dolby digital plus")||j.includes("a_eac3")||w.includes("enhanced ac-3"))r.codec=l?"Dolby Digital Plus with Atmos":"Dolby Digital Plus (E-AC-3)";else if(x.includes("mlp fba"))r.codec=l?"Dolby TrueHD with Dolby Atmos":"Dolby TrueHD";else if(x.includes("aac")||j.includes("a_aac"))r.codec="AAC";else if(x.includes("pcm")||j.includes("a_pcm"))r.codec="PCM";else if(x.includes("flac")||j.includes("a_flac"))r.codec="FLAC";else{const u=rm(g);typeof u=="string"&&u&&!/^(autre|other)$/i.test(u)?r.codec=u:r.codec=g||"Autre"}}const c=e.match(/Title\s*:\s*(.+)/i);if(c){c[1].toLowerCase().includes("atmos")&&(r.codec&&/dolby truehd/i.test(r.codec)?r.codec="Dolby TrueHD with Dolby Atmos":r.codec&&/dolby digital plus/i.test(r.codec)&&(r.codec="Dolby Digital Plus with Atmos"));const x=c[1].toLowerCase();(x.includes("french ca")||x.includes("vfq")||x==="french ca")&&(r.language="Québécois",r.languageCode="fr-ca")}const d=e.match(/(Channel\(s\)|Canaux)\s*:\s*(\d+)/i);if(d){const g=parseInt(d[2]);r.channels=nm(g)}const b=e.match(/(Bit[ _-]?rate|Débit)\s*:\s*([\d\s.,]+)\s*(Kb\/?s|kb\/?s|Kbps|kbps)/i)||e.match(/Bitrate\s*:\s*([\d\s.,]+)\s*(Kb\/?s|kb\/?s|Kbps|kbps)/i);if(b){const g=b[2].replace(/\s/g,"").replace(",",".");let x=parseFloat(g);Number.isNaN(x)||(r.bitrate=Math.round(x),r.bitrateUnit="Kbps")}return r}catch(r){return console.error("Erreur lors du parsing de la piste audio:",r),null}}function om(e,t){try{const r={id:(t+1).toString(),language:"Français",languageCode:"fr",type:"embedded",format:"SRT",isForced:!1,isDefault:t===0},n=Id(e);r.language=n.language,r.languageCode=n.languageCode;const s=e.match(/Format\s*:\s*(.+)/i);if(s){const c=s[1].trim().toUpperCase();["SRT","ASS","SSA","PGS","VOBSUB","SUP","UTF-8"].includes(c)&&(r.format=c==="UTF-8"?"SRT":c)}const i=e.match(/(Title|Titre)\s*:\s*(.+)/i);if(i){const c=i[2].toLowerCase();(c.includes("forced")||c.includes("forcé"))&&(r.isForced=!0),c.includes("sdh")&&(r.isSDH=!0),(c.includes("full")||c.includes("complete"))&&(r.isComplete=!0)}const l=e.match(/(Forced|Forcé)\s*:\s*(Yes|No|Oui|Non)/i);l&&(r.isForced=/^(yes|oui)$/i.test(l[2]));const o=e.match(/(Default|Défaut)\s*:\s*(Yes|No|Oui|Non)/i);return o&&(r.isDefault=/^(yes|oui)$/i.test(o[2])),r}catch(r){return console.error("Erreur lors du parsing des sous-titres:",r),null}}function cm(e){var o;const t={},r=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i),n=e.match(/(Movie\s*name|Nom\s*du\s*film)\s*:\s*(.+)/i),s=e.match(/(Encoded\s*by|Encodé\s*par)\s*:\s*(.+)/i),i=e.match(/(Original\s*source\s*medium|Support\s*source\s*original)\s*:\s*(.+)/i),l=((o=r?r[2]:n?n[2]:"")==null?void 0:o.trim())||"";if(l){const d=(l.split(/[\\/]/).pop()||l).trim().replace(/\.[^.]+$/,"").trim(),b=d.toLowerCase();t.source=Pd(b)||t.source,t.releaseGroup=d.replace(/\./g," ")}if(!t.source&&i){const c=i[2].toLowerCase();c.includes("uhd")||c.includes("4k")?t.source="UHD BluRay":c.includes("blu-ray")?t.source="BluRay":c.includes("web")&&(t.source="WEB-DL")}return!t.releaseGroup&&s&&(t.releaseGroup=s[2].trim()),t}function Pd(e){const t=e.toLowerCase();if(/(^|[._\-\s])webrip([._\-\s]|$)/i.test(t))return"WEBRip";if(/(^|[._\-\s])web\-?dl([._\-\s]|$)/i.test(t)||/(^|[._\-\s])web([._\-\s]|$)/i.test(t)||/(^|[._\-\s])(amzn|amazon|nf|netflix|dsnp|disney\+?|dplus|itunes|atvp|appletv\+?|hulu|max|hbomax|paramount|pmtp|peacock)([._\-\s]|$)/i.test(t))return"WEB-DL";if(/(^|[._\-\s])(bdremux|remux)([._\-\s]|$)/i.test(t))return"REMUX";if(/(^|[._\-\s])(uhd|4k)([._\-\s]|$)/i.test(t))return"UHD BluRay";if(/(^|[._\-\s])(bluray|blu\-ray|bdrip)([._\-\s]|$)/i.test(t))return"BluRay";if(/(^|[._\-\s])hdtv([._\-\s]|$)/i.test(t))return"HDTV";if(/(^|[._\-\s])dvdrip([._\-\s]|$)/i.test(t))return"DVDRip";if(/(^|[._\-\s])cam([._\-\s]|$)/i.test(t))return"CAM";if(/(^|[._\-\s])ts([._\-\s]|$)/i.test(t))return"TS"}function um(e){if(!e||!Ad(e))return null;const t=/\bRESOLUTiON\b|\bViDEO\b|\bAUDiO\b|\bSUBTiTLES\b/i.test(e),r={video:{},audio:[],subtitles:[]};try{if(!zd(e)&&t){const s=Qp(e);if(s)return s}const n=sm(e);return dm(n.general,r),gm(n.video,r),xm(n.audio,r),vm(n.text,r),ym(r),r}catch(n){return console.error("Erreur lors du parsing des spécifications techniques:",n),null}}function dm(e,t){if(!e)return;const r=im(e),n=t.video,s=e.match(/Format\s*:\s*(.+)/i);if(s){let l=s[1].trim().toUpperCase();l==="MATROSKA"?l="MKV":l==="AVI"?l="AVI":l==="MP4"?l="MP4":l==="M2TS"?l="M2TS":l==="ISO"&&(l="ISO"),["MKV","MP4","AVI","M2TS","ISO"].includes(l)&&(n.format=l),console.log("Format detected from General section:",l)}r.duration&&(n.duration=r.duration),r.fileSizeGiB&&!Number.isNaN(r.fileSizeGiB)&&(n.size=r.fileSizeGiB);const i=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(i){const l=i[2];fm(l,n),hm(l,t),pm(e,t)}mm(e,t)}function fm(e,t){const r=e.toLowerCase();/\b(2160p|uhd|4k)\b/i.test(r)?t.quality="2160p":/\b1080p\b/i.test(r)?t.quality="1080p":/\b720p\b/i.test(r)&&(t.quality="720p")}function hm(e,t){const r=Pd(e);r&&(t.source=r)}function pm(e,t){const r=Zp(e);r&&(t.releaseName=r,t.releaseGroup||(t.releaseGroup=r.replace(/\./g," ")))}function mm(e,t){const r=cm(e);r.source&&!t.source&&(t.source=r.source),r.releaseGroup&&!t.releaseGroup&&(t.releaseGroup=r.releaseGroup)}function gm(e,t){if(!e||e.length===0)return;const r=am(e[0]),n=t.video,s="Mbps",i=n.format;t.video={quality:r.quality||n.quality||"1080p",format:i||r.format||"MKV",codec:r.codec||n.codec||"H.264",bitrate:r.bitrate??n.bitrate??5,bitrateUnit:r.bitrateUnit||n.bitrateUnit||s,size:n.size??r.size,duration:n.duration||r.duration},console.log("Final video format after processing:",t.video.format);const l=t.video,o=r;o.width&&(l.width=o.width),o.height&&(l.height=o.height),o.frameRate&&(l.frameRate=o.frameRate)}function xm(e,t){!e||e.length===0||(t.audio=e.map((r,n)=>lm(r,n)).filter(r=>r!==null))}function vm(e,t){!e||e.length===0||(t.subtitles=e.map((r,n)=>om(r,n)).filter(r=>r!==null))}function ym(e){if(e.audio){const t=r=>`${r.language}-${r.codec}-${r.channels}-${r.bitrate}`;e.audio=nc(e.audio,t)}if(e.subtitles){const t=r=>{const n=r;return`${r.language}-${r.format}-${r.isForced}-${n.isSDH}-${n.isComplete}`};e.subtitles=nc(e.subtitles,t)}}function nc(e,t){const r=new Set;return e.filter(n=>{const s=t(n);return r.has(s)?!1:(r.add(s),!0)})}const Rd=ne.createContext(void 0),bm={fr:{"footer.version":"V.0.99","header.title":"FicheGen","header.subtitle":"Générateur de Fiches Films/Séries","search.placeholder":"Rechercher un film ou une série...","search.nfo.upload":"Importer NFO","search.nfo.paste":"Coller NFO","search.nfo.notitle":"NFO importé avec succès, mais aucun titre trouvé. Recherchez le manuellement.","specs.title":"Spécifications techniques","specs.back":"Retour","specs.name":"Nom de la release","specs.size":"Taille","specs.video":"Vidéo","specs.resolution":"Résolution","specs.codec":"Codec","specs.bitrate":"Débit","specs.audio":"Audio","specs.subtitles":"Sous-titres","specs.language":"Langue(s)","specs.format":"Format","specs.default":"Défaut","specs.add":"Ajouter","specs.generate":"Générer la fiche","lang.french":"Français","lang.english":"Anglais","lang.spanish":"Espagnol","lang.german":"Allemand","lang.italian":"Italien","lang.portuguese":"Portugais","lang.russian":"Russe","lang.japanese":"Japonais","lang.korean":"Coréen","lang.chinese":"Chinois","lang.arabic":"Arabe","lang.hindi":"Hindi","lang.dutch":"Néerlandais","lang.swedish":"Suédois","lang.norwegian":"Norvégien","lang.danish":"Danois","lang.finnish":"Finnois","lang.polish":"Polonais","lang.czech":"Tchèque","lang.hungarian":"Hongrois","lang.romanian":"Roumain","lang.bulgarian":"Bulgare","lang.greek":"Grec","lang.turkish":"Turc","lang.hebrew":"Hébreu","lang.thai":"Thaï","lang.vietnamese":"Vietnamien","lang.indonesian":"Indonésien","lang.malay":"Malais","lang.filipino":"Filipino","lang.ukrainian":"Ukrainien","lang.croatian":"Croate","lang.serbian":"Serbe","lang.slovenian":"Slovène","lang.slovak":"Slovaque","lang.lithuanian":"Lituanien","lang.latvian":"Letton","lang.estonian":"Estonien","lang.quebecois":"Québécois","lang.other":"Autre","card.synopsis":"Synopsis","card.cast":"Distribution","card.crew":"Équipe technique","card.director":"Réalisateur","card.writer":"Scénariste","card.producer":"Producteur","card.composer":"Compositeur","card.cinematographer":"Directeur de la photographie","card.editor":"Monteur","card.production":"Production","card.company":"Société de production","card.country":"Pays","card.release":"Date de sortie","card.runtime":"Durée","card.budget":"Budget","card.revenue":"Recettes","card.genres":"Genres","card.rating":"Note","card.votes":"votes","card.technical":"Infos complémentaires","card.torrent":"Infos","card.torrent.specs":"Spécifications techniques","card.export.bbcode":"Exporter BBCode","card.export.html":"Exporter HTML","card.export.markdown":"Exporter Markdown","card.export.text":"Exporter Texte","tv.seasons":"Saisons","tv.episodes":"Épisodes","tv.status":"Statut","tv.network":"Chaîne","tv.firstAired":"Première diffusion","tv.lastAired":"Dernière diffusion","app.create":"Créez vos fiches","app.professional":"de séries ou films","app.description":"Recherchez un film ou une série via son titre, depuis un NFO ou son ID TMDB","app.config.required":"Configuration requise :","app.config.message":"Vous devez configurer votre clé API TMDB pour utiliser cette application.","app.config.now":"Configurer maintenant","app.loading":"Chargement des détails...","app.specs.detected":"Spécifications techniques détectées :","app.specs.message":"NFO analysé. Vous pouvez modifier les informations si nécessaire.","app.preview.title":"Prévisualisation de la fiche","app.preview.change":"Changer","app.preview.continue":"Continuer","app.preview.check":"Prévisualisation :","app.preview.verify":"Vérifiez que c'est bien le bon film/série avant de remplir les spécifications techniques.","app.sheet.generated":"Fiche générée","app.sheet.modify":"Modifier le film/série","app.sheet.edit.specs":"Modifier les spécifications","app.sheet.new":"Nouvelle recherche","app.ready.title":"Prêt à créer votre première fiche ?","app.ready.description":"Utilisez la barre de recherche ci-dessus ou glissez un fichier NFO pour commencer.","app.step1":"Recherchez","app.step1.desc":"Tapez le nom d'un film, d'une série ou son ID TMDB","app.step2":"Sélectionnez","app.step2.desc":"Choisissez dans les résultats de recherche","app.step3":"Exportez","app.step3.desc":"Téléchargez votre fiche en BBCODE, HTML, Markdown ou TXT","search.movie":"Film","search.tv":"Série","search.searching":"Recherche en cours...","nfo.title.not.found":"Titre non trouvé","nfo.close":"Fermer","nfo.paste.title":"Coller le contenu NFO","nfo.paste.description":"Collez ici le contenu de votre NFO. Les spécifications techniques seront automatiquement analysées.","nfo.paste.placeholder":"Collez le contenu de votre fichier NFO ici...","nfo.cancel":"Annuler","nfo.analyze":"Analyser","specs.channels":"Canaux","specs.additional":"Infos supplémentaires","specs.release.group":"Release","specs.notes":"Notes","specs.notes.placeholder":"Informations supplémentaires ...","specs.release.placeholder":"ex : nom de la release source","specs.track.audio":"Piste Audio","specs.track.subtitle":"Sous-titre","specs.type":"Type","specs.embedded":"Intégré","specs.external":"Externe","specs.forced":"Forcé","card.main.cast":"Casting principal","card.data.provided":"Données fournies par","specs.video.title":"Spécifications Vidéo","specs.quality":"Qualité","specs.audio.tracks":"Pistes Audio","specs.bitrate.label":"Débit","specs.track.default":"Piste par défaut","poster.choose":"Choisir une affiche","poster.select":"Sélectionner","poster.close":"Fermer","poster.description":"Sélectionnez l'affiche voulue. Les affiches sont triées par popularité et qualité.","poster.loading":"Chargement des affiches...","poster.none":"Aucune affiche supplémentaire disponible","poster.use":"Utiliser cette affiche","api.title":"Configuration API TMDB","api.description":"Entrez votre clé API TMDB pour accéder aux données des films et séries.","api.key.label":"Clé API TMDB","api.key.placeholder":"Votre clé API TMDB...","api.get.key":"Obtenir une clé API","api.save":"Sauvegarder","export.title":"Exporter la fiche en bbcode","export.style":"Style de la présentation","export.copy":"Copier le code","export.download":"Télécharger","card.export.actions":"Actions","card.change.poster":"Changer l'affiche","card.export.formats":"Formats d'export","history.title":"Historique des fiches","history.clear.all":"Tout supprimer","history.empty":"Aucune fiche dans l'historique","history.empty.description":"Les fiches générées apparaîtront ici","history.load":"Charger","history.button":"Historique"},en:{"header.title":"FicheGen","header.subtitle":"Sheet Generator for Movies/TV Shows","search.placeholder":"Search for a movie or TV show...","search.nfo.upload":"Upload NFO","search.nfo.paste":"Paste NFO","search.nfo.notitle":"NFO imported successfully, but no extractable title found. Please search manually.","specs.title":"Technical Specifications","specs.back":"Back","specs.name":"Release","specs.size":"Size","specs.video":"Video","specs.resolution":"Resolution","specs.codec":"Codec","specs.bitrate":"Bitrate","specs.audio":"Audio","specs.subtitles":"Subtitles","specs.language":"Language","specs.format":"Format","specs.default":"Default","specs.add":"Add","specs.generate":"Generate Sheet","lang.french":"French","lang.english":"English","lang.spanish":"Spanish","lang.german":"German","lang.italian":"Italian","lang.portuguese":"Portuguese","lang.russian":"Russian","lang.japanese":"Japanese","lang.korean":"Korean","lang.chinese":"Chinese","lang.arabic":"Arabic","lang.hindi":"Hindi","lang.dutch":"Dutch","lang.swedish":"Swedish","lang.norwegian":"Norwegian","lang.danish":"Danish","lang.finnish":"Finnish","lang.polish":"Polish","lang.czech":"Czech","lang.hungarian":"Hungarian","lang.romanian":"Romanian","lang.bulgarian":"Bulgarian","lang.greek":"Greek","lang.turkish":"Turkish","lang.hebrew":"Hebrew","lang.thai":"Thai","lang.vietnamese":"Vietnamese","lang.indonesian":"Indonesian","lang.malay":"Malay","lang.filipino":"Filipino","lang.ukrainian":"Ukrainian","lang.croatian":"Croatian","lang.serbian":"Serbian","lang.slovenian":"Slovenian","lang.slovak":"Slovak","lang.lithuanian":"Lithuanian","lang.latvian":"Latvian","lang.estonian":"Estonian","lang.quebecois":"Quebec French","lang.other":"Other","card.synopsis":"Synopsis","card.cast":"Cast","card.crew":"Crew","card.director":"Director","card.writer":"Writer","card.producer":"Producer","card.composer":"Composer","card.cinematographer":"Cinematographer","card.editor":"Editor","card.production":"Production","card.company":"Production Company","card.country":"Country","card.release":"Release Date","card.runtime":"Runtime","card.budget":"Budget","card.revenue":"Revenue","card.genres":"Genres","card.rating":"Rating","card.votes":"votes","card.technical":"Technical Information","card.torrent":"Specifications","card.torrent.specs":"Technical Specifications","card.export.bbcode":"Export BBCode","card.export.html":"Export HTML","card.export.markdown":"Export Markdown","card.export.text":"Export Text","tv.seasons":"Seasons","tv.episodes":"Episodes","tv.status":"Status","tv.network":"Network","tv.firstAired":"First Aired","tv.lastAired":"Last Aired","footer.version":"V 0.99","app.create":"Create your TV show or movie","app.professional":"sheets","app.description":"Search for a movie or TV series by title, from an NFO file, or by its TMDB ID to generate its detail page.","app.config.required":"Configuration required:","app.config.message":"You must configure your TMDB API key to use this application.","app.config.now":"Configure now","app.loading":"Loading details...","app.specs.detected":"Technical specifications detected:","app.specs.message":"NFO file information has been analyzed and pre-filled automatically. You can modify them if necessary","app.preview.title":"Sheet Preview","app.preview.change":"Change movie/TV show","app.preview.continue":"Continue with this movie/TV show","app.preview.check":"Preview:","app.preview.verify":"Verify this is the correct movie/TV show before filling in technical specifications","app.sheet.generated":"Generated Sheet","app.sheet.modify":"Modify movie/TV show","app.sheet.edit.specs":"Edit specifications","app.sheet.new":"New search","app.ready.title":"Ready to create your first sheet?","app.ready.description":"Use the search bar above or drag an NFO file to get started","app.step1":"Search","app.step1.desc":"Type the name of a movie, a series, or its TMDB ID","app.step2":"Select","app.step2.desc":"Choose from search results","app.step3":"Export","app.step3.desc":"Download your file in BBCode, HTML, Markdown, or TXT.","search.movie":"Movie","search.tv":"TV Show","search.searching":"Searching...","nfo.title.not.found":"Title not found","nfo.close":"Close","nfo.paste.title":"Paste NFO content","nfo.paste.description":"Paste your NFO file content here (MediaInfo or XML). Technical specifications will be automatically analyzed.","nfo.paste.placeholder":"Paste your NFO file content here...","nfo.cancel":"Cancel","nfo.analyze":"Analyze","specs.channels":"Channels","specs.additional":"Additional Information","specs.release.group":"Release Group","specs.notes":"Notes","specs.notes.placeholder":"Additional information...","specs.release.placeholder":"Ex: release source","specs.track.audio":"Audio Track","specs.track.subtitle":"Subtitle","specs.type":"Type","specs.embedded":"Embedded","specs.external":"External","specs.forced":"Forced","card.main.cast":"Main Cast","card.data.provided":"Data provided by","specs.video.title":"Video Specifications","specs.quality":"Quality","specs.audio.tracks":"Audio Tracks","specs.bitrate.label":"Bitrate","specs.track.default":"Default track","poster.choose":"Choose Poster","poster.select":"Select","poster.close":"Close","poster.description":"Select the poster you want to use for your sheet. Posters are sorted by popularity and quality.","poster.loading":"Loading posters...","poster.none":"No additional posters available","poster.use":"Use this poster","api.title":"TMDB API Configuration","api.description":"Enter your TMDB API key to access movie and TV show data.","api.key.label":"TMDB API Key","api.key.placeholder":"Your TMDB API key...","api.get.key":"Get API Key","api.save":"Save","export.title":"Export Sheet","export.style":"Export Style","export.copy":"Copy Code","export.download":"Download","card.export.actions":"Actions","card.change.poster":"Change Poster","card.export.formats":"Export Formats","history.title":"Sheet History","history.clear.all":"Clear All","history.empty":"No sheets in history","history.empty.description":"Generated sheets will appear here","history.load":"Load","history.button":"History"}},wm=({children:e})=>{const[t,r]=ne.useState(()=>{const i=localStorage.getItem("language");return i&&(i==="fr"||i==="en")?i:navigator.language.startsWith("fr")?"fr":"en"});ne.useEffect(()=>{localStorage.setItem("language",t)},[t]);const n=i=>{r(i)},s=i=>bm[t][i]||i;return a.jsx(Rd.Provider,{value:{language:t,setLanguage:n,t:s},children:e})},yt=()=>{const e=ne.useContext(Rd);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e};function _m({onResultSelect:e,onTechnicalSpecsFound:t,apiKey:r,disabled:n=!1,language:s="fr"}){const{t:i}=yt(),[l,o]=ne.useState(""),[c,d]=ne.useState([]),[b,g]=ne.useState(!1),[x,p]=ne.useState(!1),[w,h]=ne.useState(1),[j,u]=ne.useState(0),[f,v]=ne.useState(!1),[_,N]=ne.useState(!1),[D,A]=ne.useState(!1),[S,$]=ne.useState(""),[H,ee]=ne.useState(!1),M=ne.useRef(null),U=ne.useRef(null);ne.useEffect(()=>{r&&pe.setApiKey(r)},[r]),ne.useEffect(()=>{const I=L=>{M.current&&!M.current.contains(L.target)&&p(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),ne.useEffect(()=>{const I=setTimeout(async()=>{if(l.trim()){g(!0),h(1);try{const L=await pe.searchMulti(l,1,s);d(L.results),u(L.total_pages),p(!0)}catch(L){console.error("Erreur de recherche:",L),d([]),u(0)}g(!1)}else d([]),p(!1),h(1),u(0)},300);return()=>clearTimeout(I)},[l,s]);const y=async()=>{if(!(f||w>=j)){v(!0);try{const I=await pe.searchMulti(l,w+1,s);d(L=>[...L,...I.results]),h(L=>L+1)}catch(I){console.error("Erreur lors du chargement de plus de résultats:",I)}v(!1)}},V=I=>{if(Ad(I)){let L="";if(zd(I)){L=Kp(I);const ie=um(I);ie&&t&&t(ie)}else L=Md(I).title||"";L?o(L):ee(!0)}},re=I=>{var de;const L=(de=I.target.files)==null?void 0:de[0];if(!L)return;const ie=new FileReader;ie.onload=async ae=>{var he;const le=(he=ae.target)==null?void 0:he.result;V(le)},ie.readAsText(L),I.target.value=""},G=I=>{I.preventDefault(),N(!0)},R=I=>{I.preventDefault(),N(!1)},z=I=>{I.preventDefault(),N(!1);const ie=Array.from(I.dataTransfer.files)[0];if(ie&&(ie.name.endsWith(".nfo")||ie.type.startsWith("text/"))){const de=new FileReader;de.onload=ae=>{var he;const le=(he=ae.target)==null?void 0:he.result;V(le)},de.readAsText(ie)}},E=I=>{e(I),p(!1),o(I.title||I.name||"")},P=()=>{S.trim()&&(V(S),A(!1),$(""))},T=()=>{A(!1),$("")},q=()=>{o(""),d([]),p(!1),ee(!1)};return a.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[a.jsxs("div",{ref:M,className:`relative transition-all duration-200 ${_?"scale-105":""}`,onDragOver:G,onDragLeave:R,onDrop:z,children:[a.jsx("div",{className:`relative bg-gray-800/60 backdrop-blur-sm border-2 rounded-xl transition-all duration-200 ${_?"border-violet-400 bg-violet-500/20":"border-gray-700/50 hover:border-gray-600/70 focus-within:border-violet-500"}`,children:a.jsxs("div",{className:"flex items-center px-4 py-3",children:[a.jsx(Op,{className:"w-5 h-5 text-gray-400 mr-3"}),a.jsx("input",{type:"text",placeholder:_?"🎬 Déposez votre fichier NFO ici pour génération automatique...":i("search.placeholder"),value:l,onChange:I=>{o(I.target.value),H&&ee(!1)},className:"flex-1 bg-transparent text-white placeholder-gray-400 outline-none",disabled:_}),l&&a.jsx("button",{onClick:q,className:"ml-2 p-1 text-gray-400 hover:text-white transition-colors",children:a.jsx(rr,{className:"w-4 h-4"})}),a.jsx("input",{ref:U,type:"file",accept:".nfo,.txt",onChange:re,className:"hidden"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsxs("button",{onClick:()=>{var I;return(I=U.current)==null?void 0:I.click()},className:"px-3 py-2 text-xs bg-violet-600/20 hover:bg-violet-600/30 text-violet-300 hover:text-violet-200 transition-colors rounded-lg border border-violet-500/30 hover:border-violet-400/50 flex items-center space-x-1",title:"Génération automatique depuis fichier NFO",children:[a.jsx(Bp,{className:"w-3 h-3"}),a.jsx("span",{children:i("search.nfo.upload")})]}),a.jsxs("button",{onClick:()=>A(!0),className:"px-3 py-2 text-xs bg-blue-600/20 hover:bg-blue-600/30 text-blue-300 hover:text-blue-200 transition-colors rounded-lg border border-blue-500/30 hover:border-blue-400/50 flex items-center space-x-1",title:"Coller contenu MediaInfo/NFO",children:[a.jsx(Tp,{className:"w-3 h-3"}),a.jsx("span",{children:i("search.nfo.paste")})]})]})]})}),x&&c.length>0&&!n&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-xl shadow-2xl overflow-hidden z-50 max-h-[32rem]",children:[a.jsx("div",{className:"overflow-y-auto max-h-[28rem]",children:c.map(I=>a.jsxs("button",{onClick:()=>E(I),className:"w-full flex items-center px-4 py-3 hover:bg-gray-700/50 transition-colors text-left",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-16 mr-3 bg-gray-700 rounded overflow-hidden",children:I.poster_path?a.jsx("img",{src:pe.getImageUrl(I.poster_path,"w92"),alt:"",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:I.media_type==="movie"?a.jsx(Nt,{className:"w-5 h-5 text-gray-500"}):a.jsx(Mt,{className:"w-5 h-5 text-gray-500"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-white font-medium truncate",children:I.title||I.name}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[I.media_type==="movie"?i("search.movie"):i("search.tv")," • ",I.release_date?new Date(I.release_date).getFullYear():I.first_air_date?new Date(I.first_air_date).getFullYear():"N/A"]}),I.vote_average>0&&a.jsx("div",{className:"flex items-center mt-1",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-yellow-400 text-sm",children:"★"}),a.jsx("span",{className:"text-gray-400 text-sm ml-1",children:I.vote_average.toFixed(1)})]})})]})]},I.id))}),w<j&&a.jsx("div",{className:"border-t border-gray-700/50 p-3",children:a.jsx("button",{onClick:y,disabled:f,className:"w-full py-2 text-sm text-violet-300 hover:text-violet-200 disabled:text-gray-500 transition-colors",children:f?"Chargement...":`Voir plus de résultats (${c.length}/${j>1?"20+":c.length})`})})]}),b&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-violet-500 mx-auto"}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:i("search.searching")})]}),H&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-orange-500/10 backdrop-blur-sm border border-orange-500/30 rounded-xl p-4 z-50",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Js,{className:"w-5 h-5 text-orange-400 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-orange-300 font-medium mb-1",children:i("nfo.title.not.found")}),a.jsx("p",{className:"text-orange-200 text-sm mb-3",children:i("search.nfo.notitle")}),a.jsx("button",{onClick:()=>ee(!1),className:"text-orange-300 hover:text-orange-200 text-sm underline",children:i("nfo.close")})]})]})})]}),D&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[80vh] shadow-2xl border border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Js,{className:"w-6 h-6 text-violet-400 mr-3"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:i("nfo.paste.title")})]}),a.jsx("button",{onClick:T,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(rr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-gray-300 mb-4",children:i("nfo.paste.description")}),a.jsx("textarea",{value:S,onChange:I=>$(I.target.value),placeholder:i("nfo.paste.placeholder"),className:"w-full h-64 bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500 font-mono text-sm resize-none"}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:i("nfo.cancel")}),a.jsx("button",{onClick:P,disabled:!S.trim(),className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:i("nfo.analyze")})]})]})]})})]})}const jm=e=>e==="movie"?"https://i.imgur.com/gCBzIjL.png":"https://i.imgur.com/mHzDDIe.png",$l=e=>{if(!e)return"N/A";const t=Math.floor(e/60),r=e%60;return`${t}h${r.toString().padStart(2,"0")}`},Ol=e=>!e||e.length===0?"N/A":`${Math.round(e.reduce((r,n)=>r+n,0)/e.length)} min`,Nm=e=>new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),Ll=(e,t,r)=>{const n=r==="movie",s=e,i=e,l=t.crew.find(d=>d.job==="Director"),o=t.crew.filter(d=>d.job==="Creator"||d.job==="Executive Producer"),c=t.cast.slice(0,5);return{isMovie:n,movie:s,tvShow:i,director:l,creators:o,mainActors:c,title:n?s.title:i.name,originalTitle:n?s.original_title:i.original_name,releaseDate:n?s.release_date:i.first_air_date,overview:e.overview,tagline:e.tagline,voteAverage:e.vote_average,voteCount:e.vote_count,id:e.id,posterPath:e.poster_path,genres:e.genres,productionCountries:e.production_countries}},km=e=>e.audio.map(t=>{let r=Ue(t.languageCode);return!r.flag&&t.language&&(r=Ue(t.language)),`${r.flag?`[img]${r.flag}[/img] `:""}${t.language} [${t.channels}] ${t.codec} @ ${t.bitrate} ${t.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}`}).join(`
`),Cm=e=>e.subtitles.length===0?"Aucun":e.subtitles.map(t=>{let r=Ue(t.languageCode);return!r.flag&&t.language&&(r=Ue(t.language)),`${r.flag?`[img]${r.flag}[/img] `:""}${t.language} (${t.type==="embedded"?"Intégré":"Externe"}) : ${t.format} (${t.isForced?"Forcé":"complets"})`}).join(`
`);function Sm(e,t,r,n=1,s){return Fd(e,t,"movie",r,n,s)}function Em(e,t,r,n=1,s){return Fd(e,t,"tv",r,n,s)}function Fd(e,t,r,n,s=1,i){switch(s){case 1:return sc(e,t,r,n,i);case 2:return Dm(e,t,r,n);case 3:return Tm(e,t,r,n,i);default:return sc(e,t,r,n,i)}}function sc(e,t,r,n,s){const{isMovie:i,movie:l,tvShow:o,director:c,creators:d,mainActors:b,title:g,originalTitle:x,releaseDate:p,overview:w,tagline:h,voteAverage:j,voteCount:u,id:f,posterPath:v,genres:_,productionCountries:N}=Ll(e,t,r);let D=`[center][b][font=Verdana][color=#3d85c6][size=29]${g}

[/size][size=18](${new Date(p).getFullYear()})[/size][/color][/font][/b]

[img]${pe.getImageUrl(v,"original")}[/img]${h?`[color=#ea9999][i]

[/i][/color][color=#ea9999][i][b][font=Verdana][size=29]
"${h}"[/size][/font][/b][/i][/color]`:""}

[img]${jm(r)}[/img]${i?"":`
`}

[font=Verdana][size=13]${i?`[b][color=#3d85c6]Titre original :[/color][/b] [i]${x}[/i]
`:""}[b][color=#3d85c6]Pays :[/color][/b] [i]${N.map(S=>S.name).join(", ")||"N/A"}[/i]
[b][color=#3d85c6]Genres :[/color][/b] [i]${_.map(S=>S.name).join(", ")}[/i]
[b][color=#3d85c6]Date de sortie :[/color][/b] [i]${Nm(p)}[/i]
${i?`[b][color=#3d85c6]Durée :[/color][/b] [i]${$l(l.runtime)}[/i]`:`[b][color=#3d85c6]Titre original :[/color][/b] [i]${x}[/i]
[b][color=#3d85c6]Durée :[/color][/b] [i]${Ol(o.episode_run_time)}[/i]`}

[b][color=#3d85c6]${i?"Réalisateur":"Créateur(s)"} :[/color][/b] [i]${i?(c==null?void 0:c.name)||"N/A":d.slice(0,2).map(S=>S.name).join(", ")||"N/A"}[/i]
[color=#3d85c6][b]Acteurs :[/b] [/color][i]${b.map(S=>S.name).join(", ")}`;const A=b.filter(S=>S.profile_path).map(S=>`[img]${pe.getImageUrl(S.profile_path,"w185")}[/img]`).join(" ");return A&&(D+=`
${i?`
`:""}${A}`),D+=`
[/i]

[b][color=#3d85c6]Note des spectateurs :[/color][/b] [img]https://img.streetprez.com/note/${Math.round(j*10)}.svg[/img] [i]${j.toFixed(2)} (${u})[/i]

[size=13][url=https://www.themoviedb.org/${i?"movie":"tv"}/${f}][b][color=#1e84cc]Plus d'info  >> [img]https://i.imgur.com/mxI05s2.png[/img][/color][/b][/url]

${s?`[url=${s}][img]https://i.imgur.com/jKQt520.png[/img][b][color=#1e84cc]${i?"Bande Annonce":"Voir Bande Annonce"}[/color][/b][/url]`:""}[/size]

[img]https://i.imgur.com/ATVsdeo.png[/img]

[font=Verdana][size=13]${w||"Aucun synopsis disponible."}[/size][/font]


[img]https://i.imgur.com/Ji92VqD.png[/img]`,n&&(D+=`
[b][color=#3d85c6]${i?"Source":"Release source"} :[/color][/b] [i]${n.source||"N/A"}[/i]
[b][color=#3d85c6]Qualité vidéo :[/color][/b] [i]${n.video.quality}[/i]
[color=#3d85c6][b]Format vidéo :[/b] [/color][i]${n.video.format}[/i]
[b][color=#3d85c6]Codec vidéo :[/color][/b] [i]${n.video.codec}[/i]
[b][color=#3d85c6]Débit vidéo :[/color][/b] [i]${n.video.bitrate} ${n.video.bitrateUnit}${i?`
[/i]`:"[/i]"}

[b][color=#3d85c6]Langue${i?"(s)":""} :[/color][/b]`,D+=`
${km(n)}
${i?`
`:""}[b][color=#3d85c6]Sous-titres :[/color][/b]
${Cm(n)}`),D+=`

[img]https://i.imgur.com/ZutFbjb.png[/img]`,n!=null&&n.releaseGroup&&(D+=`
[b][color=#3d85c6]Release :[/color][/b] [i]${n.releaseGroup}[/i]`),n!=null&&n.notes&&(D+=`
[b][color=#3d85c6]Notes :[/color][/b] [i]${n.notes}[/i]`),D+=`
[b][color=#3d85c6]Taille totale :[/color][/b] ${(n==null?void 0:n.video.size)||"0"} Go
[color=#3d85c6][b]Nombre de fichier [/b][/color]: ${(n==null?void 0:n.numberOfFiles)||(i?1:o.number_of_episodes||1)}[/size][/font][/center]`,D}function Dm(e,t,r,n,s){const{isMovie:i,movie:l,tvShow:o,director:c,creators:d,mainActors:b,title:g,originalTitle:x,releaseDate:p,overview:w,tagline:h,voteAverage:j,voteCount:u,posterPath:f,genres:v,productionCountries:_}=Ll(e,t,r);let N=`[center][b][size=29]${g}[/size][/b]
[size=18](${new Date(p).getFullYear()})[/size]

[img]${pe.getImageUrl(f,"original")}[/img]${h?`

[i]"${h}"[/i]`:""}[/center]

[list]
[*] [b]Titre original :[/b] ${x}[/*]
[*] [b]Pays :[/b] ${_.map(D=>D.name).join(", ")||"N/A"}[/*]
[*] [b]Genres :[/b] ${v.map(D=>D.name).join(", ")}[/*]
[*] [b]Date de sortie :[/b] ${new Date(p).toLocaleDateString("fr-FR")}[/*]
[*] [b]Durée :[/b] ${i?$l(l.runtime):Ol(o.episode_run_time)}[/*]`;return i||(N+=`
[*] [b]Saisons :[/b] ${o.number_of_seasons}[/*]
[*] [b]Épisodes :[/b] ${o.number_of_episodes}[/*]`),N+=`
[*] [b]${i?"Réalisateur":"Créateur(s)"} :[/b] ${i?(c==null?void 0:c.name)||"N/A":d.slice(0,2).map(D=>D.name).join(", ")||"N/A"}[/*]
[*] [b]Note TMDB :[/b] ${j.toFixed(1)}/10 (${u} votes)[/*]
[*] [b]Casting :[/b]
    [list]`,b.forEach(D=>{N+=`
    [*] ${D.name} - ${D.character}[/*]`}),N+=`
   [/list][/*] 
[/list]`,n&&(N+=`

[b]Spécifications techniques :[/b]
[list]
[*] [b]Source :[/b] ${n.source||"N/A"}[/*]
[*] [b]Qualité :[/b] ${n.video.quality}[/*]
[*] [b]Format :[/b] ${n.video.format}[/*]
[*] [b]Codec vidéo :[/b] ${n.video.codec}[/*]
[*] [b]Débit vidéo :[/b] ${n.video.bitrate} ${n.video.bitrateUnit}[/*]
[*] [b]Taille :[/b] ${n.video.size} Go[/*]`,n.audio.length>0&&(N+=`
[*] [b]Audio :[/b]
    [list]`,n.audio.forEach(D=>{let A=Ue(D.languageCode);!A.flag&&D.language&&(A=Ue(D.language));const S=A.flag?`[img]${A.flag}[/img] `:"";N+=`
    [*] ${S}${D.language} [${D.channels}] ${D.codec} @ ${D.bitrate} ${D.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}[/*]`}),N+=`
   [/list][/*] `),n.subtitles.length>0&&(N+=`
[*] [b]Sous-titres :[/b]
    [list]`,n.subtitles.forEach(D=>{let A=Ue(D.languageCode);!A.flag&&D.language&&(A=Ue(D.language));const S=A.flag?`[img]${A.flag}[/img] `:"";N+=`
    [*] ${S}${D.language} (${D.format}) ${D.isForced?"- Forcé":""}[/*]`}),N+=`
    [/list] [/*]`),n.releaseGroup&&(N+=`
[*] [b]Release :[/b] ${n.releaseGroup}[/*]`),n.notes&&(N+=`
[*] [b]Notes :[/b] ${n.notes}[/*]`),N+=`
[*] [b]Nombre de fichiers :[/b] ${n.numberOfFiles||(i?1:o.number_of_episodes||1)}[/*]`,N+=`
[/list]`),N+=`

[b]Synopsis :[/b]
${w||"Aucun synopsis disponible."}`,N}function Tm(e,t,r,n,s){const{isMovie:i,movie:l,tvShow:o,director:c,creators:d,mainActors:b,title:g,originalTitle:x,releaseDate:p,overview:w,tagline:h,voteAverage:j,posterPath:u,genres:f}=Ll(e,t,r),v=pe.getImageUrl(u,"original"),_=new Date(p).getFullYear(),N=f.slice(0,2).map(q=>q.name).join(", "),D=i?$l(l.runtime):Ol(o.episode_run_time),A=`${j.toFixed(1)}/10`,S=i?(c==null?void 0:c.name)||"N/A":d.slice(0,2).map(q=>q.name).join(", ")||"N/A",$=b.map(q=>q.name).join(", "),H=w||"Aucun synopsis disponible.",ee=(n==null?void 0:n.video.quality)||"N/A",M=`${(n==null?void 0:n.video.size)||"0"} Go`,U=(n==null?void 0:n.video.format)||"N/A",y=n?`${n.video.bitrate} ${n.video.bitrateUnit}`:"N/A",V=(n==null?void 0:n.source)||"N/A",re=(n==null?void 0:n.numberOfFiles)||(i?1:o.number_of_episodes||1);let G="N/A";n&&n.audio.length>0&&(G=n.audio.map(q=>{let I=Ue(q.languageCode);return!I.flag&&q.language&&(I=Ue(q.language)),`${I.flag?`[img]${I.flag}[/img] `:""}${q.language} [${q.channels}] ${q.codec} @ ${q.bitrate} ${q.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}`}).join(", "));let R="Aucun";n&&n.subtitles.length>0&&(R=n.subtitles.map(q=>{let I=Ue(q.languageCode);return!I.flag&&q.language&&(I=Ue(q.language)),`${I.flag?`[img]${I.flag}[/img] `:""}${q.language} (${q.format})`}).join(", "));const z=n==null?void 0:n.releaseGroup,E=n==null?void 0:n.notes;let P=`[table][tr][td] [/td][td][table][tr][td][table][tr][td][table][tr][td]
&nbsp; &nbsp; &nbsp; [img width=550]${v}[/img] &nbsp; &nbsp; &nbsp; [/td][td] [/td][/tr][/table][/td][td][table][tr][td][table][tr][td][table][tr][td][color=#3d85c6][size=29] ${g}[/size][/color][/td][/tr][tr][td][table][tr][td]  ${_} - ${N} - ${D}  [/td][td][size=10]   [/size][/td][td] &nbsp; - Note : ${A} - [url=https://www.themoviedb.org/${i?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`;const T=s?`[url=${s}][img]https://i.imgur.com/jKQt520.png[/img][/url] &nbsp; `:"";return P=P.replace(`&nbsp; - Note : ${A} - [url=https://www.themoviedb.org/${i?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`,`&nbsp; - Note : ${A} - [url=https://www.themoviedb.org/${i?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; ${T}[/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`),h&&(P+=`[tr][td][i][color=#c27ba0][size=18][center][b]"${h}"[/b][/center][/size][/color][/i]
[/td][/tr]`),P+=`[tr][td] 
[/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Titre original : &nbsp;[/color][/b][/td][td] ${x}[/td][/tr][tr][td][b][color=#3d85c6]Réalisateur : &nbsp;[/color][/b][/td][td] ${S}[/td][/tr][tr][td][b][color=#3d85c6]Acteurs : &nbsp;[/color][/b][/td][td] ${$}[/td][/tr][/table][/td][/tr][tr][td]  [br] [/br][b][color=#3d85c6]Synopsis &nbsp;[br] [/br] [br] [/br][/color][/b][/td][/tr][tr][td]  &nbsp; ${H}[br] [/br][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Qualité :  &nbsp;[/color][/b][/td][td]${ee}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Format vidéo :  &nbsp;[/right][/color][/b][/td][td]${U}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Débit vidéo : &nbsp;[/color][/b][/td][td]${y}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Source  : &nbsp;[/right][/color][/b][/td][td]&nbsp;${V}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td] [b][color=#3d85c6]Taille totale : &nbsp;[/color][/b][/td][td]${M}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Nb de fichiers : &nbsp;[/right][/color][/b][/td][td]&nbsp;${re}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6] Langue(s) : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${G}[/size][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][b][color=#3d85c6]Sous-titres : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${R}[/size][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][/table][/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr]`,z&&(P+=`[tr][td][b][color=#3d85c6]Nom release : &nbsp; [/color][/b] [br] [/br] ${z}[/td][/tr]`),E&&(P+=`[tr][td][b][color=#3d85c6][br] [/br]Notes:  [/color][/b] [br] [/br] ${E}[/td][/tr]`),P+="[/table][/td][/tr][/table]",P}function ms(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $d={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,s,i){function l(d,b){if(!s[d]){if(!n[d]){var g=typeof ms=="function"&&ms;if(!b&&g)return g(d,!0);if(o)return o(d,!0);var x=new Error("Cannot find module '"+d+"'");throw x.code="MODULE_NOT_FOUND",x}var p=s[d]={exports:{}};n[d][0].call(p.exports,function(w){var h=n[d][1][w];return l(h||w)},p,p.exports,r,n,s,i)}return s[d].exports}for(var o=typeof ms=="function"&&ms,c=0;c<i.length;c++)l(i[c]);return l}({1:[function(r,n,s){var i=r("./utils"),l=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var d,b,g,x,p,w,h,j=[],u=0,f=c.length,v=f,_=i.getTypeOf(c)!=="string";u<c.length;)v=f-u,g=_?(d=c[u++],b=u<f?c[u++]:0,u<f?c[u++]:0):(d=c.charCodeAt(u++),b=u<f?c.charCodeAt(u++):0,u<f?c.charCodeAt(u++):0),x=d>>2,p=(3&d)<<4|b>>4,w=1<v?(15&b)<<2|g>>6:64,h=2<v?63&g:64,j.push(o.charAt(x)+o.charAt(p)+o.charAt(w)+o.charAt(h));return j.join("")},s.decode=function(c){var d,b,g,x,p,w,h=0,j=0,u="data:";if(c.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var f,v=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&v--,c.charAt(c.length-2)===o.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=l.uint8array?new Uint8Array(0|v):new Array(0|v);h<c.length;)d=o.indexOf(c.charAt(h++))<<2|(x=o.indexOf(c.charAt(h++)))>>4,b=(15&x)<<4|(p=o.indexOf(c.charAt(h++)))>>2,g=(3&p)<<6|(w=o.indexOf(c.charAt(h++))),f[j++]=d,p!==64&&(f[j++]=b),w!==64&&(f[j++]=g);return f}},{"./support":30,"./utils":32}],2:[function(r,n,s){var i=r("./external"),l=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function d(b,g,x,p,w){this.compressedSize=b,this.uncompressedSize=g,this.crc32=x,this.compression=p,this.compressedContent=w}d.prototype={getContentWorker:function(){var b=new l(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return b.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new l(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(b,g,x){return b.pipe(new o).pipe(new c("uncompressedSize")).pipe(g.compressWorker(x)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},n.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var i=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var i=r("./utils"),l=function(){for(var o,c=[],d=0;d<256;d++){o=d;for(var b=0;b<8;b++)o=1&o?3988292384^o>>>1:o>>>1;c[d]=o}return c}();n.exports=function(o,c){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(d,b,g,x){var p=l,w=x+g;d^=-1;for(var h=x;h<w;h++)d=d>>>8^p[255&(d^b[h])];return-1^d}(0|c,o,o.length,0):function(d,b,g,x){var p=l,w=x+g;d^=-1;for(var h=x;h<w;h++)d=d>>>8^p[255&(d^b.charCodeAt(h))];return-1^d}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),d=i?"uint8array":"array";function b(g,x){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=x,this.meta={}}s.magic="\b\0",o.inherits(b,c),b.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(d,g.data),!1)},b.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(x){g.push({data:x,meta:g.meta})}},s.compressWorker=function(g){return new b("Deflate",g)},s.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function i(p,w){var h,j="";for(h=0;h<w;h++)j+=String.fromCharCode(255&p),p>>>=8;return j}function l(p,w,h,j,u,f){var v,_,N=p.file,D=p.compression,A=f!==d.utf8encode,S=o.transformTo("string",f(N.name)),$=o.transformTo("string",d.utf8encode(N.name)),H=N.comment,ee=o.transformTo("string",f(H)),M=o.transformTo("string",d.utf8encode(H)),U=$.length!==N.name.length,y=M.length!==H.length,V="",re="",G="",R=N.dir,z=N.date,E={crc32:0,compressedSize:0,uncompressedSize:0};w&&!h||(E.crc32=p.crc32,E.compressedSize=p.compressedSize,E.uncompressedSize=p.uncompressedSize);var P=0;w&&(P|=8),A||!U&&!y||(P|=2048);var T=0,q=0;R&&(T|=16),u==="UNIX"?(q=798,T|=function(L,ie){var de=L;return L||(de=ie?16893:33204),(65535&de)<<16}(N.unixPermissions,R)):(q=20,T|=function(L){return 63&(L||0)}(N.dosPermissions)),v=z.getUTCHours(),v<<=6,v|=z.getUTCMinutes(),v<<=5,v|=z.getUTCSeconds()/2,_=z.getUTCFullYear()-1980,_<<=4,_|=z.getUTCMonth()+1,_<<=5,_|=z.getUTCDate(),U&&(re=i(1,1)+i(b(S),4)+$,V+="up"+i(re.length,2)+re),y&&(G=i(1,1)+i(b(ee),4)+M,V+="uc"+i(G.length,2)+G);var I="";return I+=`
\0`,I+=i(P,2),I+=D.magic,I+=i(v,2),I+=i(_,2),I+=i(E.crc32,4),I+=i(E.compressedSize,4),I+=i(E.uncompressedSize,4),I+=i(S.length,2),I+=i(V.length,2),{fileRecord:g.LOCAL_FILE_HEADER+I+S+V,dirRecord:g.CENTRAL_FILE_HEADER+i(q,2)+I+i(ee.length,2)+"\0\0\0\0"+i(T,4)+i(j,4)+S+V+ee}}var o=r("../utils"),c=r("../stream/GenericWorker"),d=r("../utf8"),b=r("../crc32"),g=r("../signature");function x(p,w,h,j){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=h,this.encodeFileName=j,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(x,c),x.prototype.push=function(p){var w=p.meta.percent||0,h=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:h?(w+100*(h-j-1))/h:100}}))},x.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var w=this.streamFiles&&!p.file.dir;if(w){var h=l(p,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(p){this.accumulate=!1;var w=this.streamFiles&&!p.file.dir,h=l(p,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),w)this.push({data:function(j){return g.DATA_DESCRIPTOR+i(j.crc32,4)+i(j.compressedSize,4)+i(j.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var p=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var h=this.bytesWritten-p,j=function(u,f,v,_,N){var D=o.transformTo("string",N(_));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(u,2)+i(u,2)+i(f,4)+i(v,4)+i(D.length,2)+D}(this.dirRecords.length,h,p,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(p){this._sources.push(p);var w=this;return p.on("data",function(h){w.processChunk(h)}),p.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),p.on("error",function(h){w.error(h)}),this},x.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(p){var w=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var h=0;h<w.length;h++)try{w[h].error(p)}catch{}return!0},x.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,w=0;w<p.length;w++)p[w].lock()},n.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var i=r("../compressions"),l=r("./ZipFileWorker");s.generateWorker=function(o,c,d){var b=new l(c.streamFiles,d,c.platform,c.encodeFileName),g=0;try{o.forEach(function(x,p){g++;var w=function(f,v){var _=f||v,N=i[_];if(!N)throw new Error(_+" is not a valid compression method !");return N}(p.options.compression,c.compression),h=p.options.compressionOptions||c.compressionOptions||{},j=p.dir,u=p.date;p._compressWorker(w,h).withStreamInfo("file",{name:x,dir:j,date:u,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(b)}),b.entriesCount=g}catch(x){b.error(x)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new i;for(var o in this)typeof this[o]!="function"&&(l[o]=this[o]);return l}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(l,o){return new i().loadAsync(l,o)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var i=r("./utils"),l=r("./external"),o=r("./utf8"),c=r("./zipEntries"),d=r("./stream/Crc32Probe"),b=r("./nodejsUtils");function g(x){return new l.Promise(function(p,w){var h=x.decompressed.getContentWorker().pipe(new d);h.on("error",function(j){w(j)}).on("end",function(){h.streamInfo.crc32!==x.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(x,p){var w=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),b.isNode&&b.isStream(x)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",x,!0,p.optimizedBinaryString,p.base64).then(function(h){var j=new c(p);return j.load(h),j}).then(function(h){var j=[l.Promise.resolve(h)],u=h.files;if(p.checkCRC32)for(var f=0;f<u.length;f++)j.push(g(u[f]));return l.Promise.all(j)}).then(function(h){for(var j=h.shift(),u=j.files,f=0;f<u.length;f++){var v=u[f],_=v.fileNameStr,N=i.resolve(v.fileNameStr);w.file(N,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:p.createFolders}),v.dir||(w.file(N).unsafeOriginalName=_)}return j.zipComment.length&&(w.comment=j.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var i=r("../utils"),l=r("../stream/GenericWorker");function o(c,d){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}i.inherits(o,l),o.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(b){d.push({data:b,meta:{percent:0}})}).on("error",function(b){d.isPaused?this.generatedError=b:d.error(b)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},o.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var i=r("readable-stream").Readable;function l(o,c,d){i.call(this,c),this._helper=o;var b=this;o.on("data",function(g,x){b.push(g)||b._helper.pause(),d&&d(x)}).on("error",function(g){b.emit("error",g)}).on("end",function(){b.push(null)})}r("../utils").inherits(l,i),l.prototype._read=function(){this._helper.resume()},n.exports=l},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,l);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,l)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var l=new Buffer(i);return l.fill(0),l},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,s){function i(N,D,A){var S,$=o.getTypeOf(D),H=o.extend(A||{},b);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(N=u(N)),H.createFolders&&(S=j(N))&&f.call(this,S,!0);var ee=$==="string"&&H.binary===!1&&H.base64===!1;A&&A.binary!==void 0||(H.binary=!ee),(D instanceof g&&D.uncompressedSize===0||H.dir||!D||D.length===0)&&(H.base64=!1,H.binary=!0,D="",H.compression="STORE",$="string");var M=null;M=D instanceof g||D instanceof c?D:w.isNode&&w.isStream(D)?new h(N,D):o.prepareContent(N,D,H.binary,H.optimizedBinaryString,H.base64);var U=new x(N,M,H);this.files[N]=U}var l=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),d=r("./stream/StreamHelper"),b=r("./defaults"),g=r("./compressedObject"),x=r("./zipObject"),p=r("./generate"),w=r("./nodejsUtils"),h=r("./nodejs/NodejsStreamInputAdapter"),j=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var D=N.lastIndexOf("/");return 0<D?N.substring(0,D):""},u=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},f=function(N,D){return D=D!==void 0?D:b.createFolders,N=u(N),this.files[N]||i.call(this,N,null,{dir:!0,createFolders:D}),this.files[N]};function v(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var D,A,S;for(D in this.files)S=this.files[D],(A=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&N(A,S)},filter:function(N){var D=[];return this.forEach(function(A,S){N(A,S)&&D.push(S)}),D},file:function(N,D,A){if(arguments.length!==1)return N=this.root+N,i.call(this,N,D,A),this;if(v(N)){var S=N;return this.filter(function(H,ee){return!ee.dir&&S.test(H)})}var $=this.files[this.root+N];return $&&!$.dir?$:null},folder:function(N){if(!N)return this;if(v(N))return this.filter(function($,H){return H.dir&&N.test($)});var D=this.root+N,A=f.call(this,D),S=this.clone();return S.root=A.name,S},remove:function(N){N=this.root+N;var D=this.files[N];if(D||(N.slice(-1)!=="/"&&(N+="/"),D=this.files[N]),D&&!D.dir)delete this.files[N];else for(var A=this.filter(function($,H){return H.name.slice(0,N.length)===N}),S=0;S<A.length;S++)delete this.files[A[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var D,A={};try{if((A=o.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");o.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var S=A.comment||this.comment||"";D=p.generateWorker(this,A,S)}catch($){(D=new c("error")).error($)}return new d(D,A.type||"string",A.mimeType)},generateAsync:function(N,D){return this.generateInternalStream(N).accumulate(D)},generateNodeStream:function(N,D){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(D)}};n.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var i=r("./DataReader");function l(o){i.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(l,i),l.prototype.byteAt=function(o){return this.data[this.zero+o]},l.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),d=o.charCodeAt(1),b=o.charCodeAt(2),g=o.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===c&&this.data[x+1]===d&&this.data[x+2]===b&&this.data[x+3]===g)return x-this.zero;return-1},l.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),d=o.charCodeAt(1),b=o.charCodeAt(2),g=o.charCodeAt(3),x=this.readData(4);return c===x[0]&&d===x[1]&&b===x[2]&&g===x[3]},l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=l},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var i=r("../utils");function l(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,d=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=o,d},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=l},{"../utils":32}],19:[function(r,n,s){var i=r("./Uint8ArrayReader");function l(o){i.call(this,o)}r("../utils").inherits(l,i),l.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var i=r("./DataReader");function l(o){i.call(this,o)}r("../utils").inherits(l,i),l.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},l.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},l.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},l.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=l},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var i=r("./ArrayReader");function l(o){i.call(this,o)}r("../utils").inherits(l,i),l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var i=r("../utils"),l=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),d=r("./NodeBufferReader"),b=r("./Uint8ArrayReader");n.exports=function(g){var x=i.getTypeOf(g);return i.checkSupport(x),x!=="string"||l.uint8array?x==="nodebuffer"?new d(g):l.uint8array?new b(i.transformTo("uint8array",g)):new o(i.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var i=r("./GenericWorker"),l=r("../utils");function o(c){i.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(o,i),o.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var i=r("./GenericWorker"),l=r("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,i),o.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var i=r("../utils"),l=r("./GenericWorker");function o(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(o,l),o.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}l.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var i=r("../utils"),l=r("./GenericWorker");function o(c){l.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(b){d.dataIsReady=!0,d.data=b,d.max=b&&b.length||0,d.type=i.getTypeOf(b),d.isPaused||d._tickAndRepeat()},function(b){d.error(b)})}i.inherits(o,l),o.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function i(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,o){return this._listeners[l].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,o){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,o)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var o=this;return l.on("data",function(c){o.processChunk(c)}),l.on("end",function(){o.end()}),l.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,o){return this.extraStreamInfo[l]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},n.exports=i},{}],29:[function(r,n,s){var i=r("../utils"),l=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),d=r("../support"),b=r("../external"),g=null;if(d.nodestream)try{g=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(w,h){return new b.Promise(function(j,u){var f=[],v=w._internalType,_=w._outputType,N=w._mimeType;w.on("data",function(D,A){f.push(D),h&&h(A)}).on("error",function(D){f=[],u(D)}).on("end",function(){try{var D=function(A,S,$){switch(A){case"blob":return i.newBlob(i.transformTo("arraybuffer",S),$);case"base64":return c.encode(S);default:return i.transformTo(A,S)}}(_,function(A,S){var $,H=0,ee=null,M=0;for($=0;$<S.length;$++)M+=S[$].length;switch(A){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(ee=new Uint8Array(M),$=0;$<S.length;$++)ee.set(S[$],H),H+=S[$].length;return ee;case"nodebuffer":return Buffer.concat(S);default:throw new Error("concat : unsupported type '"+A+"'")}}(v,f),N);j(D)}catch(A){u(A)}f=[]}).resume()})}function p(w,h,j){var u=h;switch(h){case"blob":case"arraybuffer":u="uint8array";break;case"base64":u="string"}try{this._internalType=u,this._outputType=h,this._mimeType=j,i.checkSupport(u),this._worker=w.pipe(new l(u)),w.lock()}catch(f){this._worker=new o("error"),this._worker.error(f)}}p.prototype={accumulate:function(w){return x(this,w)},on:function(w,h){var j=this;return w==="data"?this._worker.on(w,function(u){h.call(j,u.data,u.meta)}):this._worker.on(w,function(){i.delay(h,arguments,j)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},w)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(i),s.blob=l.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var i=r("./utils"),l=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),d=new Array(256),b=0;b<256;b++)d[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;d[254]=d[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function x(){c.call(this,"utf-8 encode")}s.utf8encode=function(p){return l.nodebuffer?o.newBufferFrom(p,"utf-8"):function(w){var h,j,u,f,v,_=w.length,N=0;for(f=0;f<_;f++)(64512&(j=w.charCodeAt(f)))==55296&&f+1<_&&(64512&(u=w.charCodeAt(f+1)))==56320&&(j=65536+(j-55296<<10)+(u-56320),f++),N+=j<128?1:j<2048?2:j<65536?3:4;for(h=l.uint8array?new Uint8Array(N):new Array(N),f=v=0;v<N;f++)(64512&(j=w.charCodeAt(f)))==55296&&f+1<_&&(64512&(u=w.charCodeAt(f+1)))==56320&&(j=65536+(j-55296<<10)+(u-56320),f++),j<128?h[v++]=j:(j<2048?h[v++]=192|j>>>6:(j<65536?h[v++]=224|j>>>12:(h[v++]=240|j>>>18,h[v++]=128|j>>>12&63),h[v++]=128|j>>>6&63),h[v++]=128|63&j);return h}(p)},s.utf8decode=function(p){return l.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(w){var h,j,u,f,v=w.length,_=new Array(2*v);for(h=j=0;h<v;)if((u=w[h++])<128)_[j++]=u;else if(4<(f=d[u]))_[j++]=65533,h+=f-1;else{for(u&=f===2?31:f===3?15:7;1<f&&h<v;)u=u<<6|63&w[h++],f--;1<f?_[j++]=65533:u<65536?_[j++]=u:(u-=65536,_[j++]=55296|u>>10&1023,_[j++]=56320|1023&u)}return _.length!==j&&(_.subarray?_=_.subarray(0,j):_.length=j),i.applyFromCharCode(_)}(p=i.transformTo(l.uint8array?"uint8array":"array",p))},i.inherits(g,c),g.prototype.processChunk=function(p){var w=i.transformTo(l.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var h=w;(w=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),w.set(h,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var j=function(f,v){var _;for((v=v||f.length)>f.length&&(v=f.length),_=v-1;0<=_&&(192&f[_])==128;)_--;return _<0||_===0?v:_+d[f[_]]>v?_:v}(w),u=w;j!==w.length&&(l.uint8array?(u=w.subarray(0,j),this.leftOver=w.subarray(j,w.length)):(u=w.slice(0,j),this.leftOver=w.slice(j,w.length))),this.push({data:s.utf8decode(u),meta:p.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=g,i.inherits(x,c),x.prototype.processChunk=function(p){this.push({data:s.utf8encode(p.data),meta:p.meta})},s.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var i=r("./support"),l=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function d(h){return h}function b(h,j){for(var u=0;u<h.length;++u)j[u]=255&h.charCodeAt(u);return j}r("setimmediate"),s.newBlob=function(h,j){s.checkSupport("blob");try{return new Blob([h],{type:j})}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return u.append(h),u.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(h,j,u){var f=[],v=0,_=h.length;if(_<=u)return String.fromCharCode.apply(null,h);for(;v<_;)j==="array"||j==="nodebuffer"?f.push(String.fromCharCode.apply(null,h.slice(v,Math.min(v+u,_)))):f.push(String.fromCharCode.apply(null,h.subarray(v,Math.min(v+u,_)))),v+=u;return f.join("")},stringifyByChar:function(h){for(var j="",u=0;u<h.length;u++)j+=String.fromCharCode(h[u]);return j},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function x(h){var j=65536,u=s.getTypeOf(h),f=!0;if(u==="uint8array"?f=g.applyCanBeUsed.uint8array:u==="nodebuffer"&&(f=g.applyCanBeUsed.nodebuffer),f)for(;1<j;)try{return g.stringifyByChunk(h,u,j)}catch{j=Math.floor(j/2)}return g.stringifyByChar(h)}function p(h,j){for(var u=0;u<h.length;u++)j[u]=h[u];return j}s.applyFromCharCode=x;var w={};w.string={string:d,array:function(h){return b(h,new Array(h.length))},arraybuffer:function(h){return w.string.uint8array(h).buffer},uint8array:function(h){return b(h,new Uint8Array(h.length))},nodebuffer:function(h){return b(h,o.allocBuffer(h.length))}},w.array={string:x,array:d,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},w.arraybuffer={string:function(h){return x(new Uint8Array(h))},array:function(h){return p(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:d,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},w.uint8array={string:x,array:function(h){return p(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:d,nodebuffer:function(h){return o.newBufferFrom(h)}},w.nodebuffer={string:x,array:function(h){return p(h,new Array(h.length))},arraybuffer:function(h){return w.nodebuffer.uint8array(h).buffer},uint8array:function(h){return p(h,new Uint8Array(h.length))},nodebuffer:d},s.transformTo=function(h,j){if(j=j||"",!h)return j;s.checkSupport(h);var u=s.getTypeOf(j);return w[u][h](j)},s.resolve=function(h){for(var j=h.split("/"),u=[],f=0;f<j.length;f++){var v=j[f];v==="."||v===""&&f!==0&&f!==j.length-1||(v===".."?u.pop():u.push(v))}return u.join("/")},s.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(h)?"nodebuffer":i.uint8array&&h instanceof Uint8Array?"uint8array":i.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(h){if(!i[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(h){var j,u,f="";for(u=0;u<(h||"").length;u++)f+="\\x"+((j=h.charCodeAt(u))<16?"0":"")+j.toString(16).toUpperCase();return f},s.delay=function(h,j,u){setImmediate(function(){h.apply(u||null,j||[])})},s.inherits=function(h,j){function u(){}u.prototype=j.prototype,h.prototype=new u},s.extend=function(){var h,j,u={};for(h=0;h<arguments.length;h++)for(j in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],j)&&u[j]===void 0&&(u[j]=arguments[h][j]);return u},s.prepareContent=function(h,j,u,f,v){return c.Promise.resolve(j).then(function(_){return i.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new c.Promise(function(N,D){var A=new FileReader;A.onload=function(S){N(S.target.result)},A.onerror=function(S){D(S.target.error)},A.readAsArrayBuffer(_)}):_}).then(function(_){var N=s.getTypeOf(_);return N?(N==="arraybuffer"?_=s.transformTo("uint8array",_):N==="string"&&(v?_=l.decode(_):u&&f!==!0&&(_=function(D){return b(D,i.uint8array?new Uint8Array(D.length):new Array(D.length))}(_))),_):c.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var i=r("./reader/readerFor"),l=r("./utils"),o=r("./signature"),c=r("./zipEntry"),d=r("./support");function b(g){this.files=[],this.loadOptions=g}b.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(x)+", expected "+l.pretty(g)+")")}},isSignature:function(g,x){var p=this.reader.index;this.reader.setIndex(g);var w=this.reader.readString(4)===x;return this.reader.setIndex(p),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),x=d.uint8array?"uint8array":"array",p=l.transformTo(x,g);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,x,p,w=this.zip64EndOfCentralSize-44;0<w;)g=this.reader.readInt(2),x=this.reader.readInt(4),p=this.reader.readData(x),this.zip64ExtensibleData[g]={id:g,length:x,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,x;for(g=0;g<this.files.length;g++)x=this.files[g],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var x=g;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var w=x-p;if(0<w)this.isSignature(x,o.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(g){this.reader=i(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var i=r("./reader/readerFor"),l=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),d=r("./utf8"),b=r("./compressions"),g=r("./support");function x(p,w){this.options=p,this.loadOptions=w}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var w,h;if(p.skip(22),this.fileNameLength=p.readInt(2),h=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(j){for(var u in b)if(Object.prototype.hasOwnProperty.call(b,u)&&b[u].magic===j)return b[u];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,w,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var w=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(w),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=i(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var w,h,j,u=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<u;)w=p.readInt(2),h=p.readInt(2),j=p.readData(h),this.extraFields[w]={id:w,length:h,value:j};p.setIndex(u)},handleUTF8:function(){var p=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var h=l.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var u=l.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(u)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var w=i(p.value);return w.readInt(1)!==1||c(this.fileName)!==w.readInt(4)?null:d.utf8decode(w.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var w=i(p.value);return w.readInt(1)!==1||c(this.fileComment)!==w.readInt(4)?null:d.utf8decode(w.readData(p.length-5))}return null}},n.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function i(w,h,j){this.name=w,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=h,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var l=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),d=r("./compressedObject"),b=r("./stream/GenericWorker");i.prototype={internalStream:function(w){var h=null,j="string";try{if(!w)throw new Error("No output type specified.");var u=(j=w.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),h=this._decompressWorker();var f=!this._dataBinary;f&&!u&&(h=h.pipe(new c.Utf8EncodeWorker)),!f&&u&&(h=h.pipe(new c.Utf8DecodeWorker))}catch(v){(h=new b("error")).error(v)}return new l(h,j,"")},async:function(w,h){return this.internalStream(w).accumulate(h)},nodeStream:function(w,h){return this.internalStream(w||"nodebuffer").toNodejsStream(h)},_compressWorker:function(w,h){if(this._data instanceof d&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(j,w,h)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof b?this._data:new o(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<g.length;p++)i.prototype[g[p]]=x;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(i){var l,o,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var d=0,b=new c(w),g=i.document.createTextNode("");b.observe(g,{characterData:!0}),l=function(){g.data=d=++d%2}}else if(i.setImmediate||i.MessageChannel===void 0)l="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var h=i.document.createElement("script");h.onreadystatechange=function(){w(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},i.document.documentElement.appendChild(h)}:function(){setTimeout(w,0)};else{var x=new i.MessageChannel;x.port1.onmessage=w,l=function(){x.port2.postMessage(0)}}var p=[];function w(){var h,j;o=!0;for(var u=p.length;u;){for(j=p,p=[],h=-1;++h<u;)j[h]();u=p.length}o=!1}n.exports=function(h){p.push(h)!==1||o||l()}}).call(this,typeof Xn<"u"?Xn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var i=r("immediate");function l(){}var o={},c=["REJECTED"],d=["FULFILLED"],b=["PENDING"];function g(u){if(typeof u!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,u!==l&&h(this,u)}function x(u,f,v){this.promise=u,typeof f=="function"&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function p(u,f,v){i(function(){var _;try{_=f(v)}catch(N){return o.reject(u,N)}_===u?o.reject(u,new TypeError("Cannot resolve promise with itself")):o.resolve(u,_)})}function w(u){var f=u&&u.then;if(u&&(typeof u=="object"||typeof u=="function")&&typeof f=="function")return function(){f.apply(u,arguments)}}function h(u,f){var v=!1;function _(A){v||(v=!0,o.reject(u,A))}function N(A){v||(v=!0,o.resolve(u,A))}var D=j(function(){f(N,_)});D.status==="error"&&_(D.value)}function j(u,f){var v={};try{v.value=u(f),v.status="success"}catch(_){v.status="error",v.value=_}return v}(n.exports=g).prototype.finally=function(u){if(typeof u!="function")return this;var f=this.constructor;return this.then(function(v){return f.resolve(u()).then(function(){return v})},function(v){return f.resolve(u()).then(function(){throw v})})},g.prototype.catch=function(u){return this.then(null,u)},g.prototype.then=function(u,f){if(typeof u!="function"&&this.state===d||typeof f!="function"&&this.state===c)return this;var v=new this.constructor(l);return this.state!==b?p(v,this.state===d?u:f,this.outcome):this.queue.push(new x(v,u,f)),v},x.prototype.callFulfilled=function(u){o.resolve(this.promise,u)},x.prototype.otherCallFulfilled=function(u){p(this.promise,this.onFulfilled,u)},x.prototype.callRejected=function(u){o.reject(this.promise,u)},x.prototype.otherCallRejected=function(u){p(this.promise,this.onRejected,u)},o.resolve=function(u,f){var v=j(w,f);if(v.status==="error")return o.reject(u,v.value);var _=v.value;if(_)h(u,_);else{u.state=d,u.outcome=f;for(var N=-1,D=u.queue.length;++N<D;)u.queue[N].callFulfilled(f)}return u},o.reject=function(u,f){u.state=c,u.outcome=f;for(var v=-1,_=u.queue.length;++v<_;)u.queue[v].callRejected(f);return u},g.resolve=function(u){return u instanceof this?u:o.resolve(new this(l),u)},g.reject=function(u){var f=new this(l);return o.reject(f,u)},g.all=function(u){var f=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=u.length,_=!1;if(!v)return this.resolve([]);for(var N=new Array(v),D=0,A=-1,S=new this(l);++A<v;)$(u[A],A);return S;function $(H,ee){f.resolve(H).then(function(M){N[ee]=M,++D!==v||_||(_=!0,o.resolve(S,N))},function(M){_||(_=!0,o.reject(S,M))})}},g.race=function(u){var f=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=u.length,_=!1;if(!v)return this.resolve([]);for(var N=-1,D=new this(l);++N<v;)A=u[N],f.resolve(A).then(function(S){_||(_=!0,o.resolve(D,S))},function(S){_||(_=!0,o.reject(D,S))});var A;return D}},{immediate:36}],38:[function(r,n,s){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var i=r("./zlib/deflate"),l=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),d=r("./zlib/zstream"),b=Object.prototype.toString,g=0,x=-1,p=0,w=8;function h(u){if(!(this instanceof h))return new h(u);this.options=l.assign({level:x,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},u||{});var f=this.options;f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=i.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(v!==g)throw new Error(c[v]);if(f.header&&i.deflateSetHeader(this.strm,f.header),f.dictionary){var _;if(_=typeof f.dictionary=="string"?o.string2buf(f.dictionary):b.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(v=i.deflateSetDictionary(this.strm,_))!==g)throw new Error(c[v]);this._dict_set=!0}}function j(u,f){var v=new h(f);if(v.push(u,!0),v.err)throw v.msg||c[v.err];return v.result}h.prototype.push=function(u,f){var v,_,N=this.strm,D=this.options.chunkSize;if(this.ended)return!1;_=f===~~f?f:f===!0?4:0,typeof u=="string"?N.input=o.string2buf(u):b.call(u)==="[object ArrayBuffer]"?N.input=new Uint8Array(u):N.input=u,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new l.Buf8(D),N.next_out=0,N.avail_out=D),(v=i.deflate(N,_))!==1&&v!==g)return this.onEnd(v),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(l.shrinkBuf(N.output,N.next_out))):this.onData(l.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&v!==1);return _===4?(v=i.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===g):_!==2||(this.onEnd(g),!(N.avail_out=0))},h.prototype.onData=function(u){this.chunks.push(u)},h.prototype.onEnd=function(u){u===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},s.Deflate=h,s.deflate=j,s.deflateRaw=function(u,f){return(f=f||{}).raw=!0,j(u,f)},s.gzip=function(u,f){return(f=f||{}).gzip=!0,j(u,f)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var i=r("./zlib/inflate"),l=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),d=r("./zlib/messages"),b=r("./zlib/zstream"),g=r("./zlib/gzheader"),x=Object.prototype.toString;function p(h){if(!(this instanceof p))return new p(h);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},h||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||h&&h.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&!(15&j.windowBits)&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var u=i.inflateInit2(this.strm,j.windowBits);if(u!==c.Z_OK)throw new Error(d[u]);this.header=new g,i.inflateGetHeader(this.strm,this.header)}function w(h,j){var u=new p(j);if(u.push(h,!0),u.err)throw u.msg||d[u.err];return u.result}p.prototype.push=function(h,j){var u,f,v,_,N,D,A=this.strm,S=this.options.chunkSize,$=this.options.dictionary,H=!1;if(this.ended)return!1;f=j===~~j?j:j===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof h=="string"?A.input=o.binstring2buf(h):x.call(h)==="[object ArrayBuffer]"?A.input=new Uint8Array(h):A.input=h,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new l.Buf8(S),A.next_out=0,A.avail_out=S),(u=i.inflate(A,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&$&&(D=typeof $=="string"?o.string2buf($):x.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,u=i.inflateSetDictionary(this.strm,D)),u===c.Z_BUF_ERROR&&H===!0&&(u=c.Z_OK,H=!1),u!==c.Z_STREAM_END&&u!==c.Z_OK)return this.onEnd(u),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&u!==c.Z_STREAM_END&&(A.avail_in!==0||f!==c.Z_FINISH&&f!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=o.utf8border(A.output,A.next_out),_=A.next_out-v,N=o.buf2string(A.output,v),A.next_out=_,A.avail_out=S-_,_&&l.arraySet(A.output,A.output,v,_,0),this.onData(N)):this.onData(l.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(H=!0)}while((0<A.avail_in||A.avail_out===0)&&u!==c.Z_STREAM_END);return u===c.Z_STREAM_END&&(f=c.Z_FINISH),f===c.Z_FINISH?(u=i.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===c.Z_OK):f!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(A.avail_out=0))},p.prototype.onData=function(h){this.chunks.push(h)},p.prototype.onEnd=function(h){h===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},s.Inflate=p,s.inflate=w,s.inflateRaw=function(h,j){return(j=j||{}).raw=!0,w(h,j)},s.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var b=d.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var g in b)b.hasOwnProperty(g)&&(c[g]=b[g])}}return c},s.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var l={arraySet:function(c,d,b,g,x){if(d.subarray&&c.subarray)c.set(d.subarray(b,b+g),x);else for(var p=0;p<g;p++)c[x+p]=d[b+p]},flattenChunks:function(c){var d,b,g,x,p,w;for(d=g=0,b=c.length;d<b;d++)g+=c[d].length;for(w=new Uint8Array(g),d=x=0,b=c.length;d<b;d++)p=c[d],w.set(p,x),x+=p.length;return w}},o={arraySet:function(c,d,b,g,x){for(var p=0;p<g;p++)c[x+p]=d[b+p]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,l)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(i)},{}],42:[function(r,n,s){var i=r("./common"),l=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new i.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function b(g,x){if(x<65537&&(g.subarray&&o||!g.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(g,x));for(var p="",w=0;w<x;w++)p+=String.fromCharCode(g[w]);return p}c[254]=c[254]=1,s.string2buf=function(g){var x,p,w,h,j,u=g.length,f=0;for(h=0;h<u;h++)(64512&(p=g.charCodeAt(h)))==55296&&h+1<u&&(64512&(w=g.charCodeAt(h+1)))==56320&&(p=65536+(p-55296<<10)+(w-56320),h++),f+=p<128?1:p<2048?2:p<65536?3:4;for(x=new i.Buf8(f),h=j=0;j<f;h++)(64512&(p=g.charCodeAt(h)))==55296&&h+1<u&&(64512&(w=g.charCodeAt(h+1)))==56320&&(p=65536+(p-55296<<10)+(w-56320),h++),p<128?x[j++]=p:(p<2048?x[j++]=192|p>>>6:(p<65536?x[j++]=224|p>>>12:(x[j++]=240|p>>>18,x[j++]=128|p>>>12&63),x[j++]=128|p>>>6&63),x[j++]=128|63&p);return x},s.buf2binstring=function(g){return b(g,g.length)},s.binstring2buf=function(g){for(var x=new i.Buf8(g.length),p=0,w=x.length;p<w;p++)x[p]=g.charCodeAt(p);return x},s.buf2string=function(g,x){var p,w,h,j,u=x||g.length,f=new Array(2*u);for(p=w=0;p<u;)if((h=g[p++])<128)f[w++]=h;else if(4<(j=c[h]))f[w++]=65533,p+=j-1;else{for(h&=j===2?31:j===3?15:7;1<j&&p<u;)h=h<<6|63&g[p++],j--;1<j?f[w++]=65533:h<65536?f[w++]=h:(h-=65536,f[w++]=55296|h>>10&1023,f[w++]=56320|1023&h)}return b(f,w)},s.utf8border=function(g,x){var p;for((x=x||g.length)>g.length&&(x=g.length),p=x-1;0<=p&&(192&g[p])==128;)p--;return p<0||p===0?x:p+c[g[p]]>x?p:x}},{"./common":41}],43:[function(r,n,s){n.exports=function(i,l,o,c){for(var d=65535&i|0,b=i>>>16&65535|0,g=0;o!==0;){for(o-=g=2e3<o?2e3:o;b=b+(d=d+l[c++]|0)|0,--g;);d%=65521,b%=65521}return d|b<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var i=function(){for(var l,o=[],c=0;c<256;c++){l=c;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;o[c]=l}return o}();n.exports=function(l,o,c,d){var b=i,g=d+c;l^=-1;for(var x=d;x<g;x++)l=l>>>8^b[255&(l^o[x])];return-1^l}},{}],46:[function(r,n,s){var i,l=r("../utils/common"),o=r("./trees"),c=r("./adler32"),d=r("./crc32"),b=r("./messages"),g=0,x=4,p=0,w=-2,h=-1,j=4,u=2,f=8,v=9,_=286,N=30,D=19,A=2*_+1,S=15,$=3,H=258,ee=H+$+1,M=42,U=113,y=1,V=2,re=3,G=4;function R(m,W){return m.msg=b[W],W}function z(m){return(m<<1)-(4<m?9:0)}function E(m){for(var W=m.length;0<=--W;)m[W]=0}function P(m){var W=m.state,B=W.pending;B>m.avail_out&&(B=m.avail_out),B!==0&&(l.arraySet(m.output,W.pending_buf,W.pending_out,B,m.next_out),m.next_out+=B,W.pending_out+=B,m.total_out+=B,m.avail_out-=B,W.pending-=B,W.pending===0&&(W.pending_out=0))}function T(m,W){o._tr_flush_block(m,0<=m.block_start?m.block_start:-1,m.strstart-m.block_start,W),m.block_start=m.strstart,P(m.strm)}function q(m,W){m.pending_buf[m.pending++]=W}function I(m,W){m.pending_buf[m.pending++]=W>>>8&255,m.pending_buf[m.pending++]=255&W}function L(m,W){var B,C,k=m.max_chain_length,F=m.strstart,K=m.prev_length,Z=m.nice_match,O=m.strstart>m.w_size-ee?m.strstart-(m.w_size-ee):0,Y=m.window,te=m.w_mask,J=m.prev,X=m.strstart+H,xe=Y[F+K-1],ue=Y[F+K];m.prev_length>=m.good_match&&(k>>=2),Z>m.lookahead&&(Z=m.lookahead);do if(Y[(B=W)+K]===ue&&Y[B+K-1]===xe&&Y[B]===Y[F]&&Y[++B]===Y[F+1]){F+=2,B++;do;while(Y[++F]===Y[++B]&&Y[++F]===Y[++B]&&Y[++F]===Y[++B]&&Y[++F]===Y[++B]&&Y[++F]===Y[++B]&&Y[++F]===Y[++B]&&Y[++F]===Y[++B]&&Y[++F]===Y[++B]&&F<X);if(C=H-(X-F),F=X-H,K<C){if(m.match_start=W,Z<=(K=C))break;xe=Y[F+K-1],ue=Y[F+K]}}while((W=J[W&te])>O&&--k!=0);return K<=m.lookahead?K:m.lookahead}function ie(m){var W,B,C,k,F,K,Z,O,Y,te,J=m.w_size;do{if(k=m.window_size-m.lookahead-m.strstart,m.strstart>=J+(J-ee)){for(l.arraySet(m.window,m.window,J,J,0),m.match_start-=J,m.strstart-=J,m.block_start-=J,W=B=m.hash_size;C=m.head[--W],m.head[W]=J<=C?C-J:0,--B;);for(W=B=J;C=m.prev[--W],m.prev[W]=J<=C?C-J:0,--B;);k+=J}if(m.strm.avail_in===0)break;if(K=m.strm,Z=m.window,O=m.strstart+m.lookahead,Y=k,te=void 0,te=K.avail_in,Y<te&&(te=Y),B=te===0?0:(K.avail_in-=te,l.arraySet(Z,K.input,K.next_in,te,O),K.state.wrap===1?K.adler=c(K.adler,Z,te,O):K.state.wrap===2&&(K.adler=d(K.adler,Z,te,O)),K.next_in+=te,K.total_in+=te,te),m.lookahead+=B,m.lookahead+m.insert>=$)for(F=m.strstart-m.insert,m.ins_h=m.window[F],m.ins_h=(m.ins_h<<m.hash_shift^m.window[F+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[F+$-1])&m.hash_mask,m.prev[F&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=F,F++,m.insert--,!(m.lookahead+m.insert<$)););}while(m.lookahead<ee&&m.strm.avail_in!==0)}function de(m,W){for(var B,C;;){if(m.lookahead<ee){if(ie(m),m.lookahead<ee&&W===g)return y;if(m.lookahead===0)break}if(B=0,m.lookahead>=$&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+$-1])&m.hash_mask,B=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),B!==0&&m.strstart-B<=m.w_size-ee&&(m.match_length=L(m,B)),m.match_length>=$)if(C=o._tr_tally(m,m.strstart-m.match_start,m.match_length-$),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=$){for(m.match_length--;m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+$-1])&m.hash_mask,B=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart,--m.match_length!=0;);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else C=o._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(C&&(T(m,!1),m.strm.avail_out===0))return y}return m.insert=m.strstart<$-1?m.strstart:$-1,W===x?(T(m,!0),m.strm.avail_out===0?re:G):m.last_lit&&(T(m,!1),m.strm.avail_out===0)?y:V}function ae(m,W){for(var B,C,k;;){if(m.lookahead<ee){if(ie(m),m.lookahead<ee&&W===g)return y;if(m.lookahead===0)break}if(B=0,m.lookahead>=$&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+$-1])&m.hash_mask,B=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=$-1,B!==0&&m.prev_length<m.max_lazy_match&&m.strstart-B<=m.w_size-ee&&(m.match_length=L(m,B),m.match_length<=5&&(m.strategy===1||m.match_length===$&&4096<m.strstart-m.match_start)&&(m.match_length=$-1)),m.prev_length>=$&&m.match_length<=m.prev_length){for(k=m.strstart+m.lookahead-$,C=o._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-$),m.lookahead-=m.prev_length-1,m.prev_length-=2;++m.strstart<=k&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+$-1])&m.hash_mask,B=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),--m.prev_length!=0;);if(m.match_available=0,m.match_length=$-1,m.strstart++,C&&(T(m,!1),m.strm.avail_out===0))return y}else if(m.match_available){if((C=o._tr_tally(m,0,m.window[m.strstart-1]))&&T(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return y}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(C=o._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<$-1?m.strstart:$-1,W===x?(T(m,!0),m.strm.avail_out===0?re:G):m.last_lit&&(T(m,!1),m.strm.avail_out===0)?y:V}function le(m,W,B,C,k){this.good_length=m,this.max_lazy=W,this.nice_length=B,this.max_chain=C,this.func=k}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*A),this.dyn_dtree=new l.Buf16(2*(2*N+1)),this.bl_tree=new l.Buf16(2*(2*D+1)),E(this.dyn_ltree),E(this.dyn_dtree),E(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(S+1),this.heap=new l.Buf16(2*_+1),E(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*_+1),E(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ge(m){var W;return m&&m.state?(m.total_in=m.total_out=0,m.data_type=u,(W=m.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?M:U,m.adler=W.wrap===2?0:1,W.last_flush=g,o._tr_init(W),p):R(m,w)}function Fe(m){var W=ge(m);return W===p&&function(B){B.window_size=2*B.w_size,E(B.head),B.max_lazy_match=i[B.level].max_lazy,B.good_match=i[B.level].good_length,B.nice_match=i[B.level].nice_length,B.max_chain_length=i[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=$-1,B.match_available=0,B.ins_h=0}(m.state),W}function Me(m,W,B,C,k,F){if(!m)return w;var K=1;if(W===h&&(W=6),C<0?(K=0,C=-C):15<C&&(K=2,C-=16),k<1||v<k||B!==f||C<8||15<C||W<0||9<W||F<0||j<F)return R(m,w);C===8&&(C=9);var Z=new he;return(m.state=Z).strm=m,Z.wrap=K,Z.gzhead=null,Z.w_bits=C,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=k+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+$-1)/$),Z.window=new l.Buf8(2*Z.w_size),Z.head=new l.Buf16(Z.hash_size),Z.prev=new l.Buf16(Z.w_size),Z.lit_bufsize=1<<k+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new l.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=W,Z.strategy=F,Z.method=B,Fe(m)}i=[new le(0,0,0,0,function(m,W){var B=65535;for(B>m.pending_buf_size-5&&(B=m.pending_buf_size-5);;){if(m.lookahead<=1){if(ie(m),m.lookahead===0&&W===g)return y;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var C=m.block_start+B;if((m.strstart===0||m.strstart>=C)&&(m.lookahead=m.strstart-C,m.strstart=C,T(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-ee&&(T(m,!1),m.strm.avail_out===0))return y}return m.insert=0,W===x?(T(m,!0),m.strm.avail_out===0?re:G):(m.strstart>m.block_start&&(T(m,!1),m.strm.avail_out),y)}),new le(4,4,8,4,de),new le(4,5,16,8,de),new le(4,6,32,32,de),new le(4,4,16,16,ae),new le(8,16,32,32,ae),new le(8,16,128,128,ae),new le(8,32,128,256,ae),new le(32,128,258,1024,ae),new le(32,258,258,4096,ae)],s.deflateInit=function(m,W){return Me(m,W,f,15,8,0)},s.deflateInit2=Me,s.deflateReset=Fe,s.deflateResetKeep=ge,s.deflateSetHeader=function(m,W){return m&&m.state?m.state.wrap!==2?w:(m.state.gzhead=W,p):w},s.deflate=function(m,W){var B,C,k,F;if(!m||!m.state||5<W||W<0)return m?R(m,w):w;if(C=m.state,!m.output||!m.input&&m.avail_in!==0||C.status===666&&W!==x)return R(m,m.avail_out===0?-5:w);if(C.strm=m,B=C.last_flush,C.last_flush=W,C.status===M)if(C.wrap===2)m.adler=0,q(C,31),q(C,139),q(C,8),C.gzhead?(q(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),q(C,255&C.gzhead.time),q(C,C.gzhead.time>>8&255),q(C,C.gzhead.time>>16&255),q(C,C.gzhead.time>>24&255),q(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),q(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(q(C,255&C.gzhead.extra.length),q(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(m.adler=d(m.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(q(C,0),q(C,0),q(C,0),q(C,0),q(C,0),q(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),q(C,3),C.status=U);else{var K=f+(C.w_bits-8<<4)<<8;K|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(K|=32),K+=31-K%31,C.status=U,I(C,K),C.strstart!==0&&(I(C,m.adler>>>16),I(C,65535&m.adler)),m.adler=1}if(C.status===69)if(C.gzhead.extra){for(k=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>k&&(m.adler=d(m.adler,C.pending_buf,C.pending-k,k)),P(m),k=C.pending,C.pending!==C.pending_buf_size));)q(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>k&&(m.adler=d(m.adler,C.pending_buf,C.pending-k,k)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(m.adler=d(m.adler,C.pending_buf,C.pending-k,k)),P(m),k=C.pending,C.pending===C.pending_buf_size)){F=1;break}F=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,q(C,F)}while(F!==0);C.gzhead.hcrc&&C.pending>k&&(m.adler=d(m.adler,C.pending_buf,C.pending-k,k)),F===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(m.adler=d(m.adler,C.pending_buf,C.pending-k,k)),P(m),k=C.pending,C.pending===C.pending_buf_size)){F=1;break}F=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,q(C,F)}while(F!==0);C.gzhead.hcrc&&C.pending>k&&(m.adler=d(m.adler,C.pending_buf,C.pending-k,k)),F===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&P(m),C.pending+2<=C.pending_buf_size&&(q(C,255&m.adler),q(C,m.adler>>8&255),m.adler=0,C.status=U)):C.status=U),C.pending!==0){if(P(m),m.avail_out===0)return C.last_flush=-1,p}else if(m.avail_in===0&&z(W)<=z(B)&&W!==x)return R(m,-5);if(C.status===666&&m.avail_in!==0)return R(m,-5);if(m.avail_in!==0||C.lookahead!==0||W!==g&&C.status!==666){var Z=C.strategy===2?function(O,Y){for(var te;;){if(O.lookahead===0&&(ie(O),O.lookahead===0)){if(Y===g)return y;break}if(O.match_length=0,te=o._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,te&&(T(O,!1),O.strm.avail_out===0))return y}return O.insert=0,Y===x?(T(O,!0),O.strm.avail_out===0?re:G):O.last_lit&&(T(O,!1),O.strm.avail_out===0)?y:V}(C,W):C.strategy===3?function(O,Y){for(var te,J,X,xe,ue=O.window;;){if(O.lookahead<=H){if(ie(O),O.lookahead<=H&&Y===g)return y;if(O.lookahead===0)break}if(O.match_length=0,O.lookahead>=$&&0<O.strstart&&(J=ue[X=O.strstart-1])===ue[++X]&&J===ue[++X]&&J===ue[++X]){xe=O.strstart+H;do;while(J===ue[++X]&&J===ue[++X]&&J===ue[++X]&&J===ue[++X]&&J===ue[++X]&&J===ue[++X]&&J===ue[++X]&&J===ue[++X]&&X<xe);O.match_length=H-(xe-X),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=$?(te=o._tr_tally(O,1,O.match_length-$),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):(te=o._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),te&&(T(O,!1),O.strm.avail_out===0))return y}return O.insert=0,Y===x?(T(O,!0),O.strm.avail_out===0?re:G):O.last_lit&&(T(O,!1),O.strm.avail_out===0)?y:V}(C,W):i[C.level].func(C,W);if(Z!==re&&Z!==G||(C.status=666),Z===y||Z===re)return m.avail_out===0&&(C.last_flush=-1),p;if(Z===V&&(W===1?o._tr_align(C):W!==5&&(o._tr_stored_block(C,0,0,!1),W===3&&(E(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),P(m),m.avail_out===0))return C.last_flush=-1,p}return W!==x?p:C.wrap<=0?1:(C.wrap===2?(q(C,255&m.adler),q(C,m.adler>>8&255),q(C,m.adler>>16&255),q(C,m.adler>>24&255),q(C,255&m.total_in),q(C,m.total_in>>8&255),q(C,m.total_in>>16&255),q(C,m.total_in>>24&255)):(I(C,m.adler>>>16),I(C,65535&m.adler)),P(m),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?p:1)},s.deflateEnd=function(m){var W;return m&&m.state?(W=m.state.status)!==M&&W!==69&&W!==73&&W!==91&&W!==103&&W!==U&&W!==666?R(m,w):(m.state=null,W===U?R(m,-3):p):w},s.deflateSetDictionary=function(m,W){var B,C,k,F,K,Z,O,Y,te=W.length;if(!m||!m.state||(F=(B=m.state).wrap)===2||F===1&&B.status!==M||B.lookahead)return w;for(F===1&&(m.adler=c(m.adler,W,te,0)),B.wrap=0,te>=B.w_size&&(F===0&&(E(B.head),B.strstart=0,B.block_start=0,B.insert=0),Y=new l.Buf8(B.w_size),l.arraySet(Y,W,te-B.w_size,B.w_size,0),W=Y,te=B.w_size),K=m.avail_in,Z=m.next_in,O=m.input,m.avail_in=te,m.next_in=0,m.input=W,ie(B);B.lookahead>=$;){for(C=B.strstart,k=B.lookahead-($-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[C+$-1])&B.hash_mask,B.prev[C&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=C,C++,--k;);B.strstart=C,B.lookahead=$-1,ie(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=$-1,B.match_available=0,m.next_in=Z,m.input=O,m.avail_in=K,B.wrap=F,p},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(i,l){var o,c,d,b,g,x,p,w,h,j,u,f,v,_,N,D,A,S,$,H,ee,M,U,y,V;o=i.state,c=i.next_in,y=i.input,d=c+(i.avail_in-5),b=i.next_out,V=i.output,g=b-(l-i.avail_out),x=b+(i.avail_out-257),p=o.dmax,w=o.wsize,h=o.whave,j=o.wnext,u=o.window,f=o.hold,v=o.bits,_=o.lencode,N=o.distcode,D=(1<<o.lenbits)-1,A=(1<<o.distbits)-1;e:do{v<15&&(f+=y[c++]<<v,v+=8,f+=y[c++]<<v,v+=8),S=_[f&D];t:for(;;){if(f>>>=$=S>>>24,v-=$,($=S>>>16&255)===0)V[b++]=65535&S;else{if(!(16&$)){if(!(64&$)){S=_[(65535&S)+(f&(1<<$)-1)];continue t}if(32&$){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}H=65535&S,($&=15)&&(v<$&&(f+=y[c++]<<v,v+=8),H+=f&(1<<$)-1,f>>>=$,v-=$),v<15&&(f+=y[c++]<<v,v+=8,f+=y[c++]<<v,v+=8),S=N[f&A];r:for(;;){if(f>>>=$=S>>>24,v-=$,!(16&($=S>>>16&255))){if(!(64&$)){S=N[(65535&S)+(f&(1<<$)-1)];continue r}i.msg="invalid distance code",o.mode=30;break e}if(ee=65535&S,v<($&=15)&&(f+=y[c++]<<v,(v+=8)<$&&(f+=y[c++]<<v,v+=8)),p<(ee+=f&(1<<$)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(f>>>=$,v-=$,($=b-g)<ee){if(h<($=ee-$)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(U=u,(M=0)===j){if(M+=w-$,$<H){for(H-=$;V[b++]=u[M++],--$;);M=b-ee,U=V}}else if(j<$){if(M+=w+j-$,($-=j)<H){for(H-=$;V[b++]=u[M++],--$;);if(M=0,j<H){for(H-=$=j;V[b++]=u[M++],--$;);M=b-ee,U=V}}}else if(M+=j-$,$<H){for(H-=$;V[b++]=u[M++],--$;);M=b-ee,U=V}for(;2<H;)V[b++]=U[M++],V[b++]=U[M++],V[b++]=U[M++],H-=3;H&&(V[b++]=U[M++],1<H&&(V[b++]=U[M++]))}else{for(M=b-ee;V[b++]=V[M++],V[b++]=V[M++],V[b++]=V[M++],2<(H-=3););H&&(V[b++]=V[M++],1<H&&(V[b++]=V[M++]))}break}}break}}while(c<d&&b<x);c-=H=v>>3,f&=(1<<(v-=H<<3))-1,i.next_in=c,i.next_out=b,i.avail_in=c<d?d-c+5:5-(c-d),i.avail_out=b<x?x-b+257:257-(b-x),o.hold=f,o.bits=v}},{}],49:[function(r,n,s){var i=r("../utils/common"),l=r("./adler32"),o=r("./crc32"),c=r("./inffast"),d=r("./inftrees"),b=1,g=2,x=0,p=-2,w=1,h=852,j=592;function u(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(M){var U;return M&&M.state?(U=M.state,M.total_in=M.total_out=U.total=0,M.msg="",U.wrap&&(M.adler=1&U.wrap),U.mode=w,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new i.Buf32(h),U.distcode=U.distdyn=new i.Buf32(j),U.sane=1,U.back=-1,x):p}function _(M){var U;return M&&M.state?((U=M.state).wsize=0,U.whave=0,U.wnext=0,v(M)):p}function N(M,U){var y,V;return M&&M.state?(V=M.state,U<0?(y=0,U=-U):(y=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?p:(V.window!==null&&V.wbits!==U&&(V.window=null),V.wrap=y,V.wbits=U,_(M))):p}function D(M,U){var y,V;return M?(V=new f,(M.state=V).window=null,(y=N(M,U))!==x&&(M.state=null),y):p}var A,S,$=!0;function H(M){if($){var U;for(A=new i.Buf32(512),S=new i.Buf32(32),U=0;U<144;)M.lens[U++]=8;for(;U<256;)M.lens[U++]=9;for(;U<280;)M.lens[U++]=7;for(;U<288;)M.lens[U++]=8;for(d(b,M.lens,0,288,A,0,M.work,{bits:9}),U=0;U<32;)M.lens[U++]=5;d(g,M.lens,0,32,S,0,M.work,{bits:5}),$=!1}M.lencode=A,M.lenbits=9,M.distcode=S,M.distbits=5}function ee(M,U,y,V){var re,G=M.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new i.Buf8(G.wsize)),V>=G.wsize?(i.arraySet(G.window,U,y-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(V<(re=G.wsize-G.wnext)&&(re=V),i.arraySet(G.window,U,y-V,re,G.wnext),(V-=re)?(i.arraySet(G.window,U,y-V,V,0),G.wnext=V,G.whave=G.wsize):(G.wnext+=re,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=re))),0}s.inflateReset=_,s.inflateReset2=N,s.inflateResetKeep=v,s.inflateInit=function(M){return D(M,15)},s.inflateInit2=D,s.inflate=function(M,U){var y,V,re,G,R,z,E,P,T,q,I,L,ie,de,ae,le,he,ge,Fe,Me,m,W,B,C,k=0,F=new i.Buf8(4),K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return p;(y=M.state).mode===12&&(y.mode=13),R=M.next_out,re=M.output,E=M.avail_out,G=M.next_in,V=M.input,z=M.avail_in,P=y.hold,T=y.bits,q=z,I=E,W=x;e:for(;;)switch(y.mode){case w:if(y.wrap===0){y.mode=13;break}for(;T<16;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if(2&y.wrap&&P===35615){F[y.check=0]=255&P,F[1]=P>>>8&255,y.check=o(y.check,F,2,0),T=P=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&P)<<8)+(P>>8))%31){M.msg="incorrect header check",y.mode=30;break}if((15&P)!=8){M.msg="unknown compression method",y.mode=30;break}if(T-=4,m=8+(15&(P>>>=4)),y.wbits===0)y.wbits=m;else if(m>y.wbits){M.msg="invalid window size",y.mode=30;break}y.dmax=1<<m,M.adler=y.check=1,y.mode=512&P?10:12,T=P=0;break;case 2:for(;T<16;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if(y.flags=P,(255&y.flags)!=8){M.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){M.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=P>>8&1),512&y.flags&&(F[0]=255&P,F[1]=P>>>8&255,y.check=o(y.check,F,2,0)),T=P=0,y.mode=3;case 3:for(;T<32;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}y.head&&(y.head.time=P),512&y.flags&&(F[0]=255&P,F[1]=P>>>8&255,F[2]=P>>>16&255,F[3]=P>>>24&255,y.check=o(y.check,F,4,0)),T=P=0,y.mode=4;case 4:for(;T<16;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}y.head&&(y.head.xflags=255&P,y.head.os=P>>8),512&y.flags&&(F[0]=255&P,F[1]=P>>>8&255,y.check=o(y.check,F,2,0)),T=P=0,y.mode=5;case 5:if(1024&y.flags){for(;T<16;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}y.length=P,y.head&&(y.head.extra_len=P),512&y.flags&&(F[0]=255&P,F[1]=P>>>8&255,y.check=o(y.check,F,2,0)),T=P=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(z<(L=y.length)&&(L=z),L&&(y.head&&(m=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),i.arraySet(y.head.extra,V,G,L,m)),512&y.flags&&(y.check=o(y.check,V,L,G)),z-=L,G+=L,y.length-=L),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(z===0)break e;for(L=0;m=V[G+L++],y.head&&m&&y.length<65536&&(y.head.name+=String.fromCharCode(m)),m&&L<z;);if(512&y.flags&&(y.check=o(y.check,V,L,G)),z-=L,G+=L,m)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(z===0)break e;for(L=0;m=V[G+L++],y.head&&m&&y.length<65536&&(y.head.comment+=String.fromCharCode(m)),m&&L<z;);if(512&y.flags&&(y.check=o(y.check,V,L,G)),z-=L,G+=L,m)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;T<16;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if(P!==(65535&y.check)){M.msg="header crc mismatch",y.mode=30;break}T=P=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),M.adler=y.check=0,y.mode=12;break;case 10:for(;T<32;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}M.adler=y.check=u(P),T=P=0,y.mode=11;case 11:if(y.havedict===0)return M.next_out=R,M.avail_out=E,M.next_in=G,M.avail_in=z,y.hold=P,y.bits=T,2;M.adler=y.check=1,y.mode=12;case 12:if(U===5||U===6)break e;case 13:if(y.last){P>>>=7&T,T-=7&T,y.mode=27;break}for(;T<3;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}switch(y.last=1&P,T-=1,3&(P>>>=1)){case 0:y.mode=14;break;case 1:if(H(y),y.mode=20,U!==6)break;P>>>=2,T-=2;break e;case 2:y.mode=17;break;case 3:M.msg="invalid block type",y.mode=30}P>>>=2,T-=2;break;case 14:for(P>>>=7&T,T-=7&T;T<32;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if((65535&P)!=(P>>>16^65535)){M.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&P,T=P=0,y.mode=15,U===6)break e;case 15:y.mode=16;case 16:if(L=y.length){if(z<L&&(L=z),E<L&&(L=E),L===0)break e;i.arraySet(re,V,G,L,R),z-=L,G+=L,E-=L,R+=L,y.length-=L;break}y.mode=12;break;case 17:for(;T<14;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if(y.nlen=257+(31&P),P>>>=5,T-=5,y.ndist=1+(31&P),P>>>=5,T-=5,y.ncode=4+(15&P),P>>>=4,T-=4,286<y.nlen||30<y.ndist){M.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;T<3;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}y.lens[K[y.have++]]=7&P,P>>>=3,T-=3}for(;y.have<19;)y.lens[K[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,B={bits:y.lenbits},W=d(0,y.lens,0,19,y.lencode,0,y.work,B),y.lenbits=B.bits,W){M.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;le=(k=y.lencode[P&(1<<y.lenbits)-1])>>>16&255,he=65535&k,!((ae=k>>>24)<=T);){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if(he<16)P>>>=ae,T-=ae,y.lens[y.have++]=he;else{if(he===16){for(C=ae+2;T<C;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if(P>>>=ae,T-=ae,y.have===0){M.msg="invalid bit length repeat",y.mode=30;break}m=y.lens[y.have-1],L=3+(3&P),P>>>=2,T-=2}else if(he===17){for(C=ae+3;T<C;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}T-=ae,m=0,L=3+(7&(P>>>=ae)),P>>>=3,T-=3}else{for(C=ae+7;T<C;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}T-=ae,m=0,L=11+(127&(P>>>=ae)),P>>>=7,T-=7}if(y.have+L>y.nlen+y.ndist){M.msg="invalid bit length repeat",y.mode=30;break}for(;L--;)y.lens[y.have++]=m}}if(y.mode===30)break;if(y.lens[256]===0){M.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,B={bits:y.lenbits},W=d(b,y.lens,0,y.nlen,y.lencode,0,y.work,B),y.lenbits=B.bits,W){M.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,B={bits:y.distbits},W=d(g,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,B),y.distbits=B.bits,W){M.msg="invalid distances set",y.mode=30;break}if(y.mode=20,U===6)break e;case 20:y.mode=21;case 21:if(6<=z&&258<=E){M.next_out=R,M.avail_out=E,M.next_in=G,M.avail_in=z,y.hold=P,y.bits=T,c(M,I),R=M.next_out,re=M.output,E=M.avail_out,G=M.next_in,V=M.input,z=M.avail_in,P=y.hold,T=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;le=(k=y.lencode[P&(1<<y.lenbits)-1])>>>16&255,he=65535&k,!((ae=k>>>24)<=T);){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if(le&&!(240&le)){for(ge=ae,Fe=le,Me=he;le=(k=y.lencode[Me+((P&(1<<ge+Fe)-1)>>ge)])>>>16&255,he=65535&k,!(ge+(ae=k>>>24)<=T);){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}P>>>=ge,T-=ge,y.back+=ge}if(P>>>=ae,T-=ae,y.back+=ae,y.length=he,le===0){y.mode=26;break}if(32&le){y.back=-1,y.mode=12;break}if(64&le){M.msg="invalid literal/length code",y.mode=30;break}y.extra=15&le,y.mode=22;case 22:if(y.extra){for(C=y.extra;T<C;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}y.length+=P&(1<<y.extra)-1,P>>>=y.extra,T-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;le=(k=y.distcode[P&(1<<y.distbits)-1])>>>16&255,he=65535&k,!((ae=k>>>24)<=T);){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if(!(240&le)){for(ge=ae,Fe=le,Me=he;le=(k=y.distcode[Me+((P&(1<<ge+Fe)-1)>>ge)])>>>16&255,he=65535&k,!(ge+(ae=k>>>24)<=T);){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}P>>>=ge,T-=ge,y.back+=ge}if(P>>>=ae,T-=ae,y.back+=ae,64&le){M.msg="invalid distance code",y.mode=30;break}y.offset=he,y.extra=15&le,y.mode=24;case 24:if(y.extra){for(C=y.extra;T<C;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}y.offset+=P&(1<<y.extra)-1,P>>>=y.extra,T-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){M.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(E===0)break e;if(L=I-E,y.offset>L){if((L=y.offset-L)>y.whave&&y.sane){M.msg="invalid distance too far back",y.mode=30;break}ie=L>y.wnext?(L-=y.wnext,y.wsize-L):y.wnext-L,L>y.length&&(L=y.length),de=y.window}else de=re,ie=R-y.offset,L=y.length;for(E<L&&(L=E),E-=L,y.length-=L;re[R++]=de[ie++],--L;);y.length===0&&(y.mode=21);break;case 26:if(E===0)break e;re[R++]=y.length,E--,y.mode=21;break;case 27:if(y.wrap){for(;T<32;){if(z===0)break e;z--,P|=V[G++]<<T,T+=8}if(I-=E,M.total_out+=I,y.total+=I,I&&(M.adler=y.check=y.flags?o(y.check,re,I,R-I):l(y.check,re,I,R-I)),I=E,(y.flags?P:u(P))!==y.check){M.msg="incorrect data check",y.mode=30;break}T=P=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;T<32;){if(z===0)break e;z--,P+=V[G++]<<T,T+=8}if(P!==(4294967295&y.total)){M.msg="incorrect length check",y.mode=30;break}T=P=0}y.mode=29;case 29:W=1;break e;case 30:W=-3;break e;case 31:return-4;case 32:default:return p}return M.next_out=R,M.avail_out=E,M.next_in=G,M.avail_in=z,y.hold=P,y.bits=T,(y.wsize||I!==M.avail_out&&y.mode<30&&(y.mode<27||U!==4))&&ee(M,M.output,M.next_out,I-M.avail_out)?(y.mode=31,-4):(q-=M.avail_in,I-=M.avail_out,M.total_in+=q,M.total_out+=I,y.total+=I,y.wrap&&I&&(M.adler=y.check=y.flags?o(y.check,re,I,M.next_out-I):l(y.check,re,I,M.next_out-I)),M.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(q==0&&I===0||U===4)&&W===x&&(W=-5),W)},s.inflateEnd=function(M){if(!M||!M.state)return p;var U=M.state;return U.window&&(U.window=null),M.state=null,x},s.inflateGetHeader=function(M,U){var y;return M&&M.state&&2&(y=M.state).wrap?((y.head=U).done=!1,x):p},s.inflateSetDictionary=function(M,U){var y,V=U.length;return M&&M.state?(y=M.state).wrap!==0&&y.mode!==11?p:y.mode===11&&l(1,U,V,0)!==y.check?-3:ee(M,U,V,V)?(y.mode=31,-4):(y.havedict=1,x):p},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var i=r("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(b,g,x,p,w,h,j,u){var f,v,_,N,D,A,S,$,H,ee=u.bits,M=0,U=0,y=0,V=0,re=0,G=0,R=0,z=0,E=0,P=0,T=null,q=0,I=new i.Buf16(16),L=new i.Buf16(16),ie=null,de=0;for(M=0;M<=15;M++)I[M]=0;for(U=0;U<p;U++)I[g[x+U]]++;for(re=ee,V=15;1<=V&&I[V]===0;V--);if(V<re&&(re=V),V===0)return w[h++]=20971520,w[h++]=20971520,u.bits=1,0;for(y=1;y<V&&I[y]===0;y++);for(re<y&&(re=y),M=z=1;M<=15;M++)if(z<<=1,(z-=I[M])<0)return-1;if(0<z&&(b===0||V!==1))return-1;for(L[1]=0,M=1;M<15;M++)L[M+1]=L[M]+I[M];for(U=0;U<p;U++)g[x+U]!==0&&(j[L[g[x+U]]++]=U);if(A=b===0?(T=ie=j,19):b===1?(T=l,q-=257,ie=o,de-=257,256):(T=c,ie=d,-1),M=y,D=h,R=U=P=0,_=-1,N=(E=1<<(G=re))-1,b===1&&852<E||b===2&&592<E)return 1;for(;;){for(S=M-R,H=j[U]<A?($=0,j[U]):j[U]>A?($=ie[de+j[U]],T[q+j[U]]):($=96,0),f=1<<M-R,y=v=1<<G;w[D+(P>>R)+(v-=f)]=S<<24|$<<16|H|0,v!==0;);for(f=1<<M-1;P&f;)f>>=1;if(f!==0?(P&=f-1,P+=f):P=0,U++,--I[M]==0){if(M===V)break;M=g[x+j[U]]}if(re<M&&(P&N)!==_){for(R===0&&(R=re),D+=y,z=1<<(G=M-R);G+R<V&&!((z-=I[G+R])<=0);)G++,z<<=1;if(E+=1<<G,b===1&&852<E||b===2&&592<E)return 1;w[_=P&N]=re<<24|G<<16|D-h|0}}return P!==0&&(w[D+P]=M-R<<24|64<<16|0),u.bits=re,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var i=r("../utils/common"),l=0,o=1;function c(k){for(var F=k.length;0<=--F;)k[F]=0}var d=0,b=29,g=256,x=g+1+b,p=30,w=19,h=2*x+1,j=15,u=16,f=7,v=256,_=16,N=17,D=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=new Array(2*(x+2));c(ee);var M=new Array(2*p);c(M);var U=new Array(512);c(U);var y=new Array(256);c(y);var V=new Array(b);c(V);var re,G,R,z=new Array(p);function E(k,F,K,Z,O){this.static_tree=k,this.extra_bits=F,this.extra_base=K,this.elems=Z,this.max_length=O,this.has_stree=k&&k.length}function P(k,F){this.dyn_tree=k,this.max_code=0,this.stat_desc=F}function T(k){return k<256?U[k]:U[256+(k>>>7)]}function q(k,F){k.pending_buf[k.pending++]=255&F,k.pending_buf[k.pending++]=F>>>8&255}function I(k,F,K){k.bi_valid>u-K?(k.bi_buf|=F<<k.bi_valid&65535,q(k,k.bi_buf),k.bi_buf=F>>u-k.bi_valid,k.bi_valid+=K-u):(k.bi_buf|=F<<k.bi_valid&65535,k.bi_valid+=K)}function L(k,F,K){I(k,K[2*F],K[2*F+1])}function ie(k,F){for(var K=0;K|=1&k,k>>>=1,K<<=1,0<--F;);return K>>>1}function de(k,F,K){var Z,O,Y=new Array(j+1),te=0;for(Z=1;Z<=j;Z++)Y[Z]=te=te+K[Z-1]<<1;for(O=0;O<=F;O++){var J=k[2*O+1];J!==0&&(k[2*O]=ie(Y[J]++,J))}}function ae(k){var F;for(F=0;F<x;F++)k.dyn_ltree[2*F]=0;for(F=0;F<p;F++)k.dyn_dtree[2*F]=0;for(F=0;F<w;F++)k.bl_tree[2*F]=0;k.dyn_ltree[2*v]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function le(k){8<k.bi_valid?q(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function he(k,F,K,Z){var O=2*F,Y=2*K;return k[O]<k[Y]||k[O]===k[Y]&&Z[F]<=Z[K]}function ge(k,F,K){for(var Z=k.heap[K],O=K<<1;O<=k.heap_len&&(O<k.heap_len&&he(F,k.heap[O+1],k.heap[O],k.depth)&&O++,!he(F,Z,k.heap[O],k.depth));)k.heap[K]=k.heap[O],K=O,O<<=1;k.heap[K]=Z}function Fe(k,F,K){var Z,O,Y,te,J=0;if(k.last_lit!==0)for(;Z=k.pending_buf[k.d_buf+2*J]<<8|k.pending_buf[k.d_buf+2*J+1],O=k.pending_buf[k.l_buf+J],J++,Z===0?L(k,O,F):(L(k,(Y=y[O])+g+1,F),(te=A[Y])!==0&&I(k,O-=V[Y],te),L(k,Y=T(--Z),K),(te=S[Y])!==0&&I(k,Z-=z[Y],te)),J<k.last_lit;);L(k,v,F)}function Me(k,F){var K,Z,O,Y=F.dyn_tree,te=F.stat_desc.static_tree,J=F.stat_desc.has_stree,X=F.stat_desc.elems,xe=-1;for(k.heap_len=0,k.heap_max=h,K=0;K<X;K++)Y[2*K]!==0?(k.heap[++k.heap_len]=xe=K,k.depth[K]=0):Y[2*K+1]=0;for(;k.heap_len<2;)Y[2*(O=k.heap[++k.heap_len]=xe<2?++xe:0)]=1,k.depth[O]=0,k.opt_len--,J&&(k.static_len-=te[2*O+1]);for(F.max_code=xe,K=k.heap_len>>1;1<=K;K--)ge(k,Y,K);for(O=X;K=k.heap[1],k.heap[1]=k.heap[k.heap_len--],ge(k,Y,1),Z=k.heap[1],k.heap[--k.heap_max]=K,k.heap[--k.heap_max]=Z,Y[2*O]=Y[2*K]+Y[2*Z],k.depth[O]=(k.depth[K]>=k.depth[Z]?k.depth[K]:k.depth[Z])+1,Y[2*K+1]=Y[2*Z+1]=O,k.heap[1]=O++,ge(k,Y,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(ue,it){var Xr,bt,Yr,Ce,qn,bi,St=it.dyn_tree,Ul=it.max_code,Wd=it.stat_desc.static_tree,Gd=it.stat_desc.has_stree,Kd=it.stat_desc.extra_bits,Hl=it.stat_desc.extra_base,Jr=it.stat_desc.max_length,Qn=0;for(Ce=0;Ce<=j;Ce++)ue.bl_count[Ce]=0;for(St[2*ue.heap[ue.heap_max]+1]=0,Xr=ue.heap_max+1;Xr<h;Xr++)Jr<(Ce=St[2*St[2*(bt=ue.heap[Xr])+1]+1]+1)&&(Ce=Jr,Qn++),St[2*bt+1]=Ce,Ul<bt||(ue.bl_count[Ce]++,qn=0,Hl<=bt&&(qn=Kd[bt-Hl]),bi=St[2*bt],ue.opt_len+=bi*(Ce+qn),Gd&&(ue.static_len+=bi*(Wd[2*bt+1]+qn)));if(Qn!==0){do{for(Ce=Jr-1;ue.bl_count[Ce]===0;)Ce--;ue.bl_count[Ce]--,ue.bl_count[Ce+1]+=2,ue.bl_count[Jr]--,Qn-=2}while(0<Qn);for(Ce=Jr;Ce!==0;Ce--)for(bt=ue.bl_count[Ce];bt!==0;)Ul<(Yr=ue.heap[--Xr])||(St[2*Yr+1]!==Ce&&(ue.opt_len+=(Ce-St[2*Yr+1])*St[2*Yr],St[2*Yr+1]=Ce),bt--)}}(k,F),de(Y,xe,k.bl_count)}function m(k,F,K){var Z,O,Y=-1,te=F[1],J=0,X=7,xe=4;for(te===0&&(X=138,xe=3),F[2*(K+1)+1]=65535,Z=0;Z<=K;Z++)O=te,te=F[2*(Z+1)+1],++J<X&&O===te||(J<xe?k.bl_tree[2*O]+=J:O!==0?(O!==Y&&k.bl_tree[2*O]++,k.bl_tree[2*_]++):J<=10?k.bl_tree[2*N]++:k.bl_tree[2*D]++,Y=O,xe=(J=0)===te?(X=138,3):O===te?(X=6,3):(X=7,4))}function W(k,F,K){var Z,O,Y=-1,te=F[1],J=0,X=7,xe=4;for(te===0&&(X=138,xe=3),Z=0;Z<=K;Z++)if(O=te,te=F[2*(Z+1)+1],!(++J<X&&O===te)){if(J<xe)for(;L(k,O,k.bl_tree),--J!=0;);else O!==0?(O!==Y&&(L(k,O,k.bl_tree),J--),L(k,_,k.bl_tree),I(k,J-3,2)):J<=10?(L(k,N,k.bl_tree),I(k,J-3,3)):(L(k,D,k.bl_tree),I(k,J-11,7));Y=O,xe=(J=0)===te?(X=138,3):O===te?(X=6,3):(X=7,4)}}c(z);var B=!1;function C(k,F,K,Z){I(k,(d<<1)+(Z?1:0),3),function(O,Y,te,J){le(O),q(O,te),q(O,~te),i.arraySet(O.pending_buf,O.window,Y,te,O.pending),O.pending+=te}(k,F,K)}s._tr_init=function(k){B||(function(){var F,K,Z,O,Y,te=new Array(j+1);for(O=Z=0;O<b-1;O++)for(V[O]=Z,F=0;F<1<<A[O];F++)y[Z++]=O;for(y[Z-1]=O,O=Y=0;O<16;O++)for(z[O]=Y,F=0;F<1<<S[O];F++)U[Y++]=O;for(Y>>=7;O<p;O++)for(z[O]=Y<<7,F=0;F<1<<S[O]-7;F++)U[256+Y++]=O;for(K=0;K<=j;K++)te[K]=0;for(F=0;F<=143;)ee[2*F+1]=8,F++,te[8]++;for(;F<=255;)ee[2*F+1]=9,F++,te[9]++;for(;F<=279;)ee[2*F+1]=7,F++,te[7]++;for(;F<=287;)ee[2*F+1]=8,F++,te[8]++;for(de(ee,x+1,te),F=0;F<p;F++)M[2*F+1]=5,M[2*F]=ie(F,5);re=new E(ee,A,g+1,x,j),G=new E(M,S,0,p,j),R=new E(new Array(0),$,0,w,f)}(),B=!0),k.l_desc=new P(k.dyn_ltree,re),k.d_desc=new P(k.dyn_dtree,G),k.bl_desc=new P(k.bl_tree,R),k.bi_buf=0,k.bi_valid=0,ae(k)},s._tr_stored_block=C,s._tr_flush_block=function(k,F,K,Z){var O,Y,te=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(J){var X,xe=4093624447;for(X=0;X<=31;X++,xe>>>=1)if(1&xe&&J.dyn_ltree[2*X]!==0)return l;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return o;for(X=32;X<g;X++)if(J.dyn_ltree[2*X]!==0)return o;return l}(k)),Me(k,k.l_desc),Me(k,k.d_desc),te=function(J){var X;for(m(J,J.dyn_ltree,J.l_desc.max_code),m(J,J.dyn_dtree,J.d_desc.max_code),Me(J,J.bl_desc),X=w-1;3<=X&&J.bl_tree[2*H[X]+1]===0;X--);return J.opt_len+=3*(X+1)+5+5+4,X}(k),O=k.opt_len+3+7>>>3,(Y=k.static_len+3+7>>>3)<=O&&(O=Y)):O=Y=K+5,K+4<=O&&F!==-1?C(k,F,K,Z):k.strategy===4||Y===O?(I(k,2+(Z?1:0),3),Fe(k,ee,M)):(I(k,4+(Z?1:0),3),function(J,X,xe,ue){var it;for(I(J,X-257,5),I(J,xe-1,5),I(J,ue-4,4),it=0;it<ue;it++)I(J,J.bl_tree[2*H[it]+1],3);W(J,J.dyn_ltree,X-1),W(J,J.dyn_dtree,xe-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,te+1),Fe(k,k.dyn_ltree,k.dyn_dtree)),ae(k),Z&&le(k)},s._tr_tally=function(k,F,K){return k.pending_buf[k.d_buf+2*k.last_lit]=F>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&F,k.pending_buf[k.l_buf+k.last_lit]=255&K,k.last_lit++,F===0?k.dyn_ltree[2*K]++:(k.matches++,F--,k.dyn_ltree[2*(y[K]+g+1)]++,k.dyn_dtree[2*T(F)]++),k.last_lit===k.lit_bufsize-1},s._tr_align=function(k){I(k,2,3),L(k,v,ee),function(F){F.bi_valid===16?(q(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(i){(function(l,o){if(!l.setImmediate){var c,d,b,g,x=1,p={},w=!1,h=l.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(l);j=j&&j.setTimeout?j:l,c={}.toString.call(l.process)==="[object process]"?function(_){process.nextTick(function(){f(_)})}:function(){if(l.postMessage&&!l.importScripts){var _=!0,N=l.onmessage;return l.onmessage=function(){_=!1},l.postMessage("","*"),l.onmessage=N,_}}()?(g="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",v,!1):l.attachEvent("onmessage",v),function(_){l.postMessage(g+_,"*")}):l.MessageChannel?((b=new MessageChannel).port1.onmessage=function(_){f(_.data)},function(_){b.port2.postMessage(_)}):h&&"onreadystatechange"in h.createElement("script")?(d=h.documentElement,function(_){var N=h.createElement("script");N.onreadystatechange=function(){f(_),N.onreadystatechange=null,d.removeChild(N),N=null},d.appendChild(N)}):function(_){setTimeout(f,0,_)},j.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var N=new Array(arguments.length-1),D=0;D<N.length;D++)N[D]=arguments[D+1];var A={callback:_,args:N};return p[x]=A,c(x),x++},j.clearImmediate=u}function u(_){delete p[_]}function f(_){if(w)setTimeout(f,0,_);else{var N=p[_];if(N){w=!0;try{(function(D){var A=D.callback,S=D.args;switch(S.length){case 0:A();break;case 1:A(S[0]);break;case 2:A(S[0],S[1]);break;case 3:A(S[0],S[1],S[2]);break;default:A.apply(o,S)}})(N)}finally{u(_),w=!1}}}}function v(_){_.source===l&&typeof _.data=="string"&&_.data.indexOf(g)===0&&f(+_.data.slice(g.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Xn<"u"?Xn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})($d);var Am=$d.exports;const zm=hc(Am),Mm=e=>{var r,n;const t=(n=(r=import.meta)==null?void 0:r.env)==null?void 0:n.VITE_IMG_PROXY_BASE;return t&&typeof t=="string"&&t.length>0?`${t}${encodeURIComponent(e)}`:e},Im=async(e,t,r)=>{try{const n=await fetch(e,{headers:{Accept:"image/*"},mode:"cors"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await(await n.blob()).arrayBuffer(),l=r.folder("images");return l==null||l.file(t,i),`images/${t}`}catch(n){throw console.error("Image download failed:",e,n),n instanceof TypeError&&(n.message.includes("Failed to fetch")||n.message.includes("CORS")||n.message.includes("Access-Control-Allow-Origin"))?new Error("CORS_ERROR"):n}},Pm=(e,t="")=>{const n=(e.split("/").pop()||"image.jpg").replace(/[^a-zA-Z0-9._-]/g,"_");return`${t}${n}`},Bl=(e,t,r,n="remote",s)=>{var A;const i="title"in e,l=i?e.title:e.name,o=i?e.release_date:e.first_air_date,c=t.crew.find(S=>S.job==="Director"),d=t.crew.filter(S=>S.job==="Writer"||S.job==="Screenplay"),b=t.cast.slice(0,6),g=e.id,x=i?e.imdb_id:(A=e.external_ids)==null?void 0:A.imdb_id,p=i?e.budget:void 0,w=i?e.revenue:void 0,h=g?i?`https://www.themoviedb.org/movie/${g}`:`https://www.themoviedb.org/tv/${g}`:void 0,j=S=>typeof S=="number"&&S>0?S.toLocaleString("fr-FR",{style:"currency",currency:"USD",maximumFractionDigits:0}):null,u=i?void 0:e.created_by,f=i?void 0:e.last_air_date,v=i?[]:e.episode_run_time||[],_=!i&&v.length?Math.round(v.reduce((S,$)=>S+$,0)/v.length):void 0,N=S=>typeof S=="number"&&S>0?`${Math.floor(S/60)}h${(S%60).toString().padStart(2,"0")}`:null,D=S=>n==="remote"?S:n==="embedded"?(s==null?void 0:s.get(S))||S:n==="local"&&(s==null?void 0:s.get(S))||S;return`<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${l}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #1e1b4b, #312e81, #3730a3); min-height: 100vh; color: white; }
        .container { max-width: 1200px; margin: 0 auto; background: linear-gradient(135deg, #1f2937, #374151, #1f2937); border-radius: 16px; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .header { position: relative; height: 420px; background-size: cover; }
        .header::before { content: ''; position: absolute; inset: 0; background: linear-gradient(to right, rgba(0,0,0,0.8), rgba(0,0,0,0.4), transparent); }
        .header::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to top, #1f2937, transparent); }
        .header-content { position: absolute; bottom: 0; left: 0; right: 0; padding: 32px; z-index: 10; }
        .header-flex { display: flex; align-items: end; gap: 24px; }
        .poster { width: 192px; height: 288px; border-radius: 12px; object-fit: cover; border: 4px solid rgba(255,255,255,0.2); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .title-info { flex: 1; padding-bottom: 16px; }
        .title { font-size: 48px; font-weight: bold; margin-bottom: 8px; }
        .original-title { font-size: 20px; color: #d1d5db; margin-bottom: 16px; }
        .meta-info { display: flex; align-items: center; gap: 24px; margin-bottom: 16px; }
        .rating { display: flex; align-items: center; color: #fbbf24; }
        .star { width: 20px; height: 20px; fill: currentColor; margin-right: 4px; }
        .genres { display: flex; flex-wrap: wrap; gap: 8px; }
        .genre { padding: 4px 12px; background: rgba(139, 92, 246, 0.3); color: #c4b5fd; border-radius: 9999px; font-size: 14px; border: 1px solid rgba(139, 92, 246, 0.3); }
        .content { padding: 32px; }
        .grid { display: grid; grid-template-columns: 2fr 1fr; gap: 32px; }
        .section { margin-bottom: 32px; }
        .section-title { font-size: 24px; font-weight: bold; margin-bottom: 16px; display: flex; align-items: center; }
        /*.icon { width: 24px; height: 24px; margin-right: 12px; color: #a78bfa; }*/
        .synopsis { font-size: 18px; line-height: 1.75; color: #d1d5db; }
        .tagline { color: #c4b5fd; font-style: italic; font-size: 18px; margin-top: 16px; border-left: 4px solid #8b5cf6; padding-left: 16px; }
        .cast-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .cast-member { background: rgba(31, 41, 55, 0.5); border-radius: 12px; padding: 16px; text-align: center; }
        .cast-photo { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin: 0 auto 12px; background: #374151; }
        .cast-name { font-weight: 600; font-size: 14px; }
        .cast-character { color: #9ca3af; font-size: 12px; margin-top: 4px; }
        .sidebar { display: flex; flex-direction: column; gap: 24px; }
        .icon { width: 24px; height: 24px; margin-right: 12px; color: #8b5cf6; padding: 0.25rem; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
        .info-card { background: rgba(31, 41, 55, 0.5); border-radius: 12px; padding: 0 24px 24px 24px; }
        .info-card h3 { font-size: 20px; font-weight: bold; margin-bottom: 16px; }
        .info-item { margin-bottom: 12px; }
        .info-label { color: #9ca3af; font-size: 14px; }
        .info-value { font-weight: 500; margin-top: 4px;}
        .info-value a { --tw-text-opacity: 1; color: rgb(96 165 250 / var(--tw-text-opacity, 1)); text-decoration: none; }
        .info-value a:hover { --tw-text-opacity: 1; color: rgb(147 197 253 / var(--tw-text-opacity, 1)); text-decoration: none; }
        .studio-item { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; }
        .studio-logo { width: 32px; height: 32px; object-fit: contain; background: white; border-radius: 4px; padding: 2px; }
        .info-note { color: #9ca3af; font-size: 14px; white-space: pre-line; }
        .specs-section { margin-bottom: 16px; }
        .specs-title { font-size: 18px; font-weight: 600; margin-bottom: 8px; }
        .video-title { color: #c4b5fd; }
        .audio-title { color: #86efac; }
        .subtitle-title { color: #fde047; }
        .spec-item { display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 8px; }
        .track { background: rgba(55, 65, 81, 0.5); border-radius: 8px; padding: 12px; margin-bottom: 8px; }
        .track-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
        .track-name { font-weight: 500; font-size: 14px; }
        .track-codec { color: #9ca3af; font-size: 12px; }
        .track-details { display: flex; justify-content: space-between; font-size: 12px; color: #9ca3af; }
        .text-gray-400 { --tw-text-opacity: 1; color: rgb(156 163 175 / var(--tw-text-opacity, 1));}
    </style>
</head>
<body>
    <div class="container">
        <div class="header" style="background-image: url('${D(`https://image.tmdb.org/t/p/w1280${e.backdrop_path}`)}')">
            <div class="header-content">
                <div class="header-flex">
                    <img
                        src="${D(`https://image.tmdb.org/t/p/original${e.poster_path}`)}"
                        alt="${l}"
                        class="poster"
                    />
                    <div class="title-info">
                        <h1 class="title">${l}</h1>
                        ${i&&e.original_title!==l||!i&&e.original_name!==l?`<h2 class="original-title">${i?e.original_title:e.original_name}</h2>`:""}
                        <div class="meta-info">
                            <div class="rating">
                                <svg class="star" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                                <span style="font-size: 18px; font-weight: 600;">${e.vote_average.toFixed(1)}</span>
                                <span style="color: #9ca3af; margin-left: 4px;">(${e.vote_count.toLocaleString()} votes)</span>
                            </div>
                            <div style="color: #d1d5db;"> <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 25 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar w-5 h-5 mr-2"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg> ${new Date(o).getFullYear()}</div>
                            ${i?`<div style="color: #d1d5db;"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 25 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock w-5 h-5 mr-2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> ${Math.floor(e.runtime/60)}h${(e.runtime%60).toString().padStart(2,"0")}</div>`:`<div style="color: #d1d5db;">${e.number_of_seasons} saison${e.number_of_seasons>1?"s":""}</div>`}
                        </div>
                        <div class="genres">
                            ${e.genres.map(S=>`<span class="genre">${S.name}</span>`).join("")}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content">
            <div class="grid">
                <div>
                    ${e.tagline?`
                    <div class="section" style="text-align: center; margin-bottom: 32px;">
                        <p style="color: #c4b5fd; font-style: italic; font-size: 24px; font-weight: 500; line-height: 1.75;">"${e.tagline}"</p>
                    </div>
                    `:""}
                    
                    <div class="section">
                        <h3 class="section-title">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M2 7h20v13H2z"/><path d="M17 2l-5 5-5-5"/></svg>
                             Synopsis
                        </h3>
                        <p class="synopsis">${e.overview||"Aucun synopsis disponible."}</p>
                    </div>
                    
                    ${b.length>0?`
                    <div class="section">
                        <h3 class="section-title">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                            Casting principal
                        </h3>
                        <div class="cast-grid">
                            ${b.map(S=>`
                                <div class="cast-member">
                                    ${S.profile_path?`<img src="${D(`https://image.tmdb.org/t/p/w185${S.profile_path}`)}" alt="${S.name}" class="cast-photo">`:'<div class="cast-photo"></div>'}
                                    <h4 class="cast-name">${S.name}</h4>
                                    <p class="cast-character">${S.character}</p>
                                </div>
                            `).join("")}
                        </div>
                    </div>
                    `:""}
                    ${r&&r.notes?`
                    <div class="section">
                      <h3 class="section-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/></svg>
                        Notes
                      </h3>
                      <p class="info-note">${r.notes}</p>
                    </div>
                    `:""}
                </div>
                
                <div class="sidebar">
                    ${r?`
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                           <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M7 3v18"/><path d="M3 7.5h4"/><path d="M3 12h18"/><path d="M3 16.5h4"/><path d="M17 3v18"/><path d="M17 7.5h4"/><path d="M17 16.5h4"/></svg>
                           Spécifications techniques
                        </h3>
                        
                        <div class="specs-section">
                            <h4 class="specs-title video-title">Vidéo</h4>
                            <div class="spec-item"><span class="text-gray-400">Qualité : </span><span>${r.video.quality}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Format : </span><span>${r.video.format}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Codec : </span><span>${r.video.codec}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Débit : </span><span>${r.video.bitrate} ${r.video.bitrateUnit}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Taille : </span><span>${r.video.size} GB</span></div>
                            ${r.source?`<div class="spec-item"><span class="text-gray-400">Source :</span><span>${r.source}</span></div>`:""}
                            
                        </div>
                        
                        <div class="specs-section">
                            <h4 class="specs-title audio-title">Audio</h4>
                            ${r.audio.map(S=>`
                                <div class="track">
                                    <div class="track-header">
                                        <span class="track-name">${S.language} ${S.isDefault?"(Défaut)":""}</span>
                                        <span class="track-codec">${S.codec}</span>
                                    </div>
                                    <div class="track-details">
                                        <span>${S.channels}</span>
                                        <span>${S.bitrate} ${S.bitrateUnit}</span>
                                    </div>
                                </div>
                            `).join("")}
                        </div>
                        
                        ${r.subtitles.length>0?`
                        <div class="specs-section">
                            <h4 class="specs-title subtitle-title">Sous-titres</h4>
                            ${r.subtitles.map(S=>`
                                <div class="track">
                                    <div class="track-header">
                                        <span class="track-name">${S.language} ${S.isDefault?"(Défaut)":""} ${S.isForced?"(Forcé)":""}</span>
                                        <span class="track-codec">${S.format}</span>
                                    </div>
                                    <div class="track-details">
                                        <span>${S.type==="embedded"?"Intégré":"Externe"}</span>
                                    </div>
                                </div>
                            `).join("")}
                        </div>
                        `:""}
                        <div class="spec-item"><span class="text-gray-400">Nombre de fichiers:</span><span>${r.numberOfFiles||(i?1:e.number_of_episodes||1)}</span></br></div>
                        ${r.releaseGroup?`<div class="spec-item"><span class="text-gray-400">${r.releaseGroup}</span></div>`:""}
                    </div>
                    `:""}
                    
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                            Infos
                        </h3>
                        ${c?`<div class="info-item"><div class="info-label">Réalisateur</div><div class="info-value">${c.name}</div></div>`:""}
                        ${d.length>0?`<div class="info-item"><div class="info-label">Scénariste${d.length>1?"s":""}</div><div class="info-value">${d.map(S=>S.name).join(", ")}</div></div>`:""}
                        ${!i&&u&&u.length?`<div class="info-item"><div class="info-label">Créateurs</div><div class="info-value">${u.map(S=>S.name).join(", ")}</div></div>`:""}
                        <div class="info-item"><div class="info-label">${i?"Date de sortie":"Première diffusion"}</div><div class="info-value">${new Date(o).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}</div></div>
                        ${!i&&f?`<div class="info-item"><div class="info-label">Dernière diffusion</div><div class="info-value">${new Date(f).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}</div></div>`:""}
                        ${i?`
    <div class="info-item"><div class="info-label">Durée</div><div class="info-value">${Math.floor(e.runtime/60)}h${(e.runtime%60).toString().padStart(2,"0")}</div></div>
  `:`
    <div class="info-item"><div class="info-label">Nombre de saisons</div><div class="info-value">${e.number_of_seasons}</div></div>
    <div class="info-item"><div class="info-label">Nombre d'épisodes</div><div class="info-value">${e.number_of_episodes}</div></div>
    ${_?`<div class="info-item"><div class="info-label">Durée moyenne</div><div class="info-value">${N(_)||_+" min"}</div></div>`:""}
  `}
                        ${i&&j(p)?`<div class="info-item"><div class="info-label">Budget</div><div class="info-value">${j(p)}</div></div>`:""}
                        ${i&&j(w)?`<div class="info-item"><div class="info-label">Recettes</div><div class="info-value">${j(w)}</div></div>`:""}
                        ${x?`<div class="info-item"><div class="info-label">IMDB ID</div><div class="info-value"><a href="https://www.imdb.com/title/${x}/" target="_blank" rel="noopener noreferrer">${x}</a></div></div>`:""}
                        ${g?`<div class="info-item"><div class="info-label">TMDB ID</div><div class="info-value"><a href="${h}" target="_blank" rel="noopener noreferrer">${g}</a></div></div>`:""}
                    </div>
                    
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><circle cx="12" cy="12" r="10"/> <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
                            Production
                        </h3>
                        ${e.production_companies&&e.production_companies.length>0?`
                        <div class="info-item">
                            <div class="info-label">Studios</div>
                            <div class="info-value">
                                ${e.production_companies.slice(0,3).map(S=>`
                                    <div class="studio-item">
                                        ${S.logo_path?`<img src="${D(`https://image.tmdb.org/t/p/w92${S.logo_path}`)}" alt="${S.name}" class="studio-logo">`:""}
                                        <span>${S.name}</span>
                                    </div>
                                `).join("")}
                            </div>
                        </div>
                        `:""}
                        ${e.production_countries&&e.production_countries.length>0?`
                        <div class="info-item">
                            <div class="info-label">Pays</div>
                            <div class="info-value">${e.production_countries.map(S=>S.name).join(", ")}</div>
                        </div>
                        `:""}
                        ${e.spoken_languages&&e.spoken_languages.length>0?`
                        <div class="info-item">
                            <div class="info-label">Langues</div>
                            <div class="info-value">${e.spoken_languages.map(S=>S.name).join(", ")}</div>
                        </div>
                        `:""}
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>`},Od=async(e,t,r)=>{console.log("Starting HTML export with images...");const s="title"in e?e.title:e.name,i=new zm;i.folder("images");const l=new Map,o=[],c=(p,w)=>{if(!p)return;const h=Pm(p,w);o.some(j=>j.url===p)||o.push({url:p,filename:h})};if(e.backdrop_path){const p=`https://image.tmdb.org/t/p/w1280${e.backdrop_path}`;c(p,"backdrop_")}if(e.poster_path){const p=`https://image.tmdb.org/t/p/original${e.poster_path}`;c(p,"poster_")}if(t.cast.slice(0,6).forEach((p,w)=>{if(p.profile_path){const h=`https://image.tmdb.org/t/p/w185${p.profile_path}`;c(h,`actor_${w+1}_`)}}),e.production_companies&&e.production_companies.slice(0,3).forEach((p,w)=>{if(p.logo_path){const h=`https://image.tmdb.org/t/p/w92${p.logo_path}`;c(h,`studio_${w+1}_`)}}),o.length>0){console.log("Testing CORS with first image...");try{if(!(await fetch(o[0].url,{method:"HEAD",mode:"cors"})).ok)throw new Error("Test fetch failed");console.log("CORS test passed, proceeding with download...")}catch(p){return console.log("CORS test failed:",p),{success:!1,error:"CORS_ERROR"}}}try{console.log(`Attempting to download ${o.length} images...`);for(const{url:p,filename:w}of o){console.log(`Downloading image: ${p}`);const h=Mm(p),j=await Im(h,w,i);l.set(p,j)}console.log("All images downloaded successfully")}catch(p){return console.error("Error during image download:",p),p instanceof Error&&p.message==="CORS_ERROR"?(console.log("CORS error detected, returning error status"),{success:!1,error:"CORS_ERROR"}):{success:!1,error:"DOWNLOAD_ERROR"}}console.log("Generating HTML with local paths...");const d=Bl(e,t,r,"local",l);i.file("index.html",d),console.log("Generating ZIP file...");const b=await i.generateAsync({type:"blob"}),g=URL.createObjectURL(b),x=document.createElement("a");return x.href=g,x.download=`${s.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_complete.zip`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(g),console.log("Export completed successfully"),{success:!0}},Ld=(e,t,r)=>{const n="title"in e,s=n?e.title:e.name,i=n?e.release_date:e.first_air_date;return`# ${s}

${e.poster_path?`![${s}](https://image.tmdb.org/t/p/w500${e.poster_path})`:""}

## Informations générales

- **Date de sortie:** ${i||"N/A"}
- **Note TMDB:** ${e.vote_average}/10
${n?`- **Durée:** ${e.runtime} min`:`- **Saisons:** ${e.number_of_seasons}`}
- **Genres:** ${e.genres.map(l=>l.name).join(", ")}

## Synopsis

${e.overview||"Aucun synopsis disponible."}

## Distribution

${t.cast.slice(0,10).map(l=>`- **${l.name}** - ${l.character}`).join(`
`)}

${r?`
## Spécifications Techniques

| Propriété | Valeur |
|-----------|--------|
| Qualité | ${r.video.quality} |
| Format | ${r.video.format} |
| Codec Vidéo | ${r.video.codec} |
| Taille | ${r.video.size} GB |
| Audio | ${r.audio.map(l=>`${l.language} ${l.codec} ${l.channels}`).join(", ")} |
| Sous-titres | ${r.subtitles.map(l=>`${l.language} (${l.format})`).join(", ")} |
${r.releaseGroup?`| Release | ${r.releaseGroup} |`:""}
| Nb de fichiers | ${r.numberOfFiles||(n?1:e.number_of_episodes||1)} |
${r.notes?`| Notes | ${r.notes} |`:""}
`:""}`},Bd=(e,t,r)=>{const n="title"in e,s=n?e.title:e.name,i=n?e.release_date:e.first_air_date;return`${s}
${"=".repeat(s.length)}

INFORMATIONS GÉNÉRALES
Date de sortie: ${i||"N/A"}
Note TMDB: ${e.vote_average}/10
${n?`Durée: ${e.runtime} min`:`Saisons: ${e.number_of_seasons}`}
Genres: ${e.genres.map(l=>l.name).join(", ")}

SYNOPSIS
${e.overview||"Aucun synopsis disponible."}

DISTRIBUTION
${t.cast.slice(0,10).map(l=>`${l.name} - ${l.character}`).join(`
`)}

${r?`
SPÉCIFICATIONS TECHNIQUES
Qualité: ${r.video.quality}
Format: ${r.video.format}
Codec Vidéo: ${r.video.codec}
Taille: ${r.video.size} GB
Audio: ${r.audio.map(l=>`${l.language} ${l.codec} ${l.channels}`).join(", ")}
Sous-titres: ${r.subtitles.map(l=>`${l.language} (${l.format})`).join(", ")}
${r.releaseGroup?`Release: ${r.releaseGroup}`:""}
Nb de fichiers: ${r.numberOfFiles||(n?1:e.number_of_episodes||1)}
${r.notes?`Notes: ${r.notes}`:""}
`:""}`},Lr=(e,t,r)=>{const n=new Blob([e],{type:r}),s=URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)};function Rm({style:e,title:t,year:r,director:n,actors:s,genres:i,rating:l,runtime:o,quality:c="1080p",format:d="MKV",codec:b="H.264"}){const g=x=>{const p=[],w=Math.floor(x),h=x-w>=.5;for(let u=0;u<w;u++)p.push(a.jsx(Nn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},u));h&&p.push(a.jsx(Nn,{className:"w-3 h-3 fill-yellow-400/50 text-yellow-400"},"half"));const j=5-w-(h?1:0);for(let u=0;u<j;u++)p.push(a.jsx(Nn,{className:"w-3 h-3 text-gray-400"},`empty-${u}`));return p};switch(e){case 1:return a.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-center text-xs",children:[a.jsx("div",{className:"text-red-400 font-bold text-lg mb-3",children:t}),a.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded mx-auto mb-3 flex items-center justify-center",children:a.jsx(Nt,{className:"w-6 h-6 text-gray-500"})}),a.jsxs("div",{className:"space-y-1 text-left text-gray-300",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white font-semibold",children:"Réalisateur:"})," ",n]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white font-semibold",children:"Acteurs:"})," ",s.slice(0,3).join(", ")]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white font-semibold",children:"Genres:"})," ",i.slice(0,2).join(", ")]}),a.jsxs("div",{className:"flex items-center",children:[g(l)," ",a.jsx("span",{className:"ml-1",children:l.toFixed(1)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white font-semibold",children:"Qualité:"})," ",c]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white font-semibold",children:"Format:"})," ",d]})]})]});case 2:return a.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:[a.jsx("div",{className:"text-white font-bold text-lg mb-2 text-center",children:t}),a.jsxs("div",{className:"text-gray-400 text-center mb-3",children:["(",r,")"]}),a.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded mx-auto mb-3 flex items-center justify-center",children:a.jsx(Nt,{className:"w-6 h-6 text-gray-500"})}),a.jsxs("div",{className:"space-y-1 text-left text-gray-300",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xs mr-1",children:"•"}),a.jsx("span",{className:"text-white font-semibold text-xs",children:"Réalisateur:"}),a.jsx("span",{className:"ml-1 text-xs",children:n})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xs mr-1",children:"•"}),a.jsx("span",{className:"text-white font-semibold text-xs",children:"Genres:"}),a.jsx("span",{className:"ml-1 text-xs",children:i.slice(0,2).join(", ")})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xs mr-1",children:"•"}),a.jsx("span",{className:"text-white font-semibold text-xs",children:"Casting:"})]}),a.jsx("div",{className:"ml-3 space-y-0.5",children:s.slice(0,2).map((x,p)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-xs mr-1",children:"•"}),a.jsx("span",{className:"text-xs",children:x})]},p))})]})]});case 3:return a.jsx("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:a.jsx("div",{className:"border border-gray-700 rounded p-3",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-12 h-18 bg-gray-700 rounded flex items-center justify-center flex-shrink-0",children:a.jsx(Nt,{className:"w-4 h-4 text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-white font-bold text-lg",children:[t," ",a.jsxs("span",{className:"text-gray-400 text-sm",children:["• ",r]})]}),a.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:["(US) • ",i.slice(0,2).join(", ")," • ",o]}),a.jsx("div",{className:"border-t border-gray-700 my-2"}),a.jsx("div",{className:"italic text-gray-300 text-xs",children:"Un film à découvrir..."}),a.jsx("div",{className:"flex items-center mt-2",children:g(l)}),a.jsxs("div",{className:"mt-3 space-y-1 text-gray-300",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Réalisateur:"})," ",n]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Acteurs:"})," ",s.slice(0,2).join(", ")]})]})]})]})})});case 4:return a.jsx("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:a.jsxs("div",{className:"border border-gray-700 rounded p-2",children:[a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:"w-10 h-14 bg-gray-700 rounded flex items-center justify-center",children:a.jsx(Nt,{className:"w-3 h-3 text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-white font-bold text-sm",children:t}),a.jsxs("div",{className:"text-gray-400 text-xs",children:[i.slice(0,2).join(", ")," - ",o]}),a.jsxs("div",{className:"flex items-center mt-1",children:[a.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"TMDB"}),g(l)]}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Réalisateur"}),a.jsx("span",{className:"text-white",children:n.split(" ")[0]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Qualité"}),a.jsxs("span",{className:"text-white",children:[c," ",d]})]})]})]})]}),a.jsx("div",{className:"text-center text-gray-500 text-xs mt-2 border-t border-gray-700 pt-1",children:"Filmothèque"})]})});default:return null}}function Ud({isOpen:e,onClose:t,bbcode:r,title:n,onStyleChange:s,movieData:i,tvShowData:l,credits:o}){const{t:c}=yt(),[d,b]=ne.useState(!1),[g,x]=ne.useState(1),[p,w]=ne.useState(r);if(Le.useEffect(()=>{w(r)},[r]),Le.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const h=async()=>{try{await navigator.clipboard.writeText(p),b(!0),setTimeout(()=>b(!1),2e3)}catch(_){console.error("Erreur lors de la copie:",_)}},j=()=>{const _=new Blob([p],{type:"text/plain"}),N=URL.createObjectURL(_),D=document.createElement("a");D.href=N,D.download=`${n.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_bbcode.txt`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(N)},u=_=>{x(_),s&&s(_)},v=(()=>{if(i&&o){const _=o.crew.find(D=>D.job==="Director"),N=o.cast.slice(0,6);return{title:i.title,year:new Date(i.release_date).getFullYear().toString(),director:(_==null?void 0:_.name)||"N/A",actors:N.map(D=>D.name),genres:i.genres.map(D=>D.name),rating:i.vote_average/2,runtime:i.runtime?`${Math.floor(i.runtime/60)}h${(i.runtime%60).toString().padStart(2,"0")}`:"N/A"}}else if(l&&o){const _=o.crew.filter(A=>A.job==="Creator"||A.job==="Executive Producer"),N=o.cast.slice(0,6),D=l.episode_run_time.length>0?Math.round(l.episode_run_time.reduce((A,S)=>A+S,0)/l.episode_run_time.length):0;return{title:l.name,year:new Date(l.first_air_date).getFullYear().toString(),director:_.slice(0,2).map(A=>A.name).join(", ")||"N/A",actors:N.map(A=>A.name),genres:l.genres.map(A=>A.name),rating:l.vote_average/2,runtime:D>0?`${D} min`:"N/A"}}return null})();return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full min-h-[90vh] max-h-none shadow-2xl border border-gray-700 flex flex-col mt-20 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fl,{className:"w-6 h-6 text-violet-400 mr-3"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:c("export.title")})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(rr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 p-6 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Fp,{className:"w-5 h-5 text-violet-400 mr-2"}),a.jsx("span",{className:"text-white font-medium",children:c("export.style")})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(_=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>u(_),className:`w-full p-3 rounded-lg border-2 transition-all ${g===_?"border-violet-500 bg-violet-500/20 text-white":"border-gray-600 bg-gray-700/50 text-gray-300 hover:border-gray-500"}`,children:[a.jsxs("div",{className:"text-sm font-medium",children:["Style ",_]}),a.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[_===1&&"Classique",_===2&&"Minimaliste",_===3&&"Moderne (eMux)"]})]}),v&&a.jsx("div",{className:`border-2 rounded-lg transition-all ${g===_?"border-violet-500/50":"border-gray-600/30"}`,children:a.jsx(Rm,{style:_,title:v.title,year:v.year,director:v.director,actors:v.actors,genres:v.genres,rating:v.rating,runtime:v.runtime})})]},_))})]}),a.jsxs("p",{className:"text-gray-300 mb-4",children:["Voici le BBCode généré pour ",a.jsx("strong",{children:n}),". Il vous suffit de le copier et le coller."]}),a.jsxs("div",{className:"flex space-x-3 mb-4",children:[a.jsxs("button",{onClick:h,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${d?"bg-green-600 text-white":"bg-violet-600 hover:bg-violet-500 text-white"}`,children:[d?a.jsx(Rl,{className:"w-4 h-4"}):a.jsx(Ap,{className:"w-4 h-4"}),a.jsx("span",{children:d?"Copié !":c("export.copy")})]}),a.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:[a.jsx(yi,{className:"w-4 h-4"}),a.jsx("span",{children:c("export.download")})]})]})]}),a.jsxs("div",{className:"flex-1 bg-gray-900 rounded-xl border border-gray-600 overflow-hidden",children:[a.jsx("div",{className:"bg-gray-700 px-4 py-2 border-b border-gray-600",children:a.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"BBCode généré (modifiable)"})}),a.jsx("textarea",{value:p,onChange:_=>w(_.target.value),className:"w-full h-full p-4 bg-transparent text-gray-300 text-sm font-mono leading-relaxed resize-none border-none outline-none",style:{minHeight:"400px"},placeholder:"Votre BBCode apparaîtra ici..."})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-700",children:a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:a.jsxs("p",{className:"text-blue-300 text-sm",children:[a.jsx("strong",{children:"Attention :"})," Le BBCode est capricieux et peut ne pas fonctionner correctement selon la destination, il peut falloir apporter des modifications."]})})})]})})}function Hd({isOpen:e,onClose:t,onSelect:r,movieId:n,tvShowId:s,currentPoster:i,mediaType:l}){const{t:o}=yt(),[c,d]=ne.useState([]),[b,g]=ne.useState(!1),[x,p]=ne.useState(i);ne.useEffect(()=>{e&&(n||s)&&w()},[e,n,s]);const w=async()=>{g(!0);try{let u;if(l==="movie"&&n?u=await pe.getMovieImages(n):l==="tv"&&s&&(u=await pe.getTVImages(s)),console.log("TMDB Images Response:",u),u&&u.posters){const f=u.posters.sort((v,_)=>{const N=(v.vote_average||0)*(v.vote_count||0),D=(_.vote_average||0)*(_.vote_count||0);return D!==N?D-N:_.height-v.height});d(f),console.log("Sorted Posters:",f)}else console.log("No posters found in response")}catch(u){console.error("Erreur lors du chargement des affiches:",u)}g(!1)},h=()=>{x&&(r(x),t())},j=u=>{p(u)};return e?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-6xl w-full max-h-[90vh] shadow-2xl border border-gray-700 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"w-6 h-6 text-violet-400 mr-3"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:o("poster.choose")})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(rr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 p-6 overflow-hidden",children:[a.jsx("p",{className:"text-gray-300 mb-6",children:o("poster.description")}),b?a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-500"}),a.jsx("span",{className:"text-white text-lg ml-4",children:o("poster.loading")})]}):a.jsxs("div",{className:"overflow-auto max-h-[60vh]",children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:c.map((u,f)=>a.jsxs("div",{className:`relative cursor-pointer rounded-lg overflow-hidden transition-all duration-200 hover:scale-105 ${x===u.file_path?"ring-4 ring-violet-500 shadow-lg shadow-violet-500/25":"hover:ring-2 hover:ring-gray-400"}`,onClick:()=>j(u.file_path),children:[a.jsx("div",{className:"aspect-[2/3] bg-gray-700",children:a.jsx("img",{src:pe.getImageUrl(u.file_path,"w342"),alt:`Affiche ${f+1}`,className:"w-full h-full object-cover",loading:"lazy"})}),x===u.file_path&&a.jsx("div",{className:"absolute inset-0 bg-violet-500/20 flex items-center justify-center",children:a.jsx("div",{className:"bg-violet-500 rounded-full p-2",children:a.jsx(Rl,{className:"w-6 h-6 text-white"})})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:a.jsxs("div",{className:"text-white text-xs",children:[a.jsxs("div",{children:[u.width,"×",u.height]}),u.vote_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-yellow-400",children:"★"}),a.jsx("span",{className:"ml-1",children:u.vote_average.toFixed(1)})]})]})})]},u.file_path))}),c.length===0&&!b&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hn,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:o("poster.none")}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Vérifiez la console pour plus d'informations de débogage"})]})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-700",children:a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:o("poster.close")}),a.jsx("button",{onClick:h,disabled:!x,className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:o("poster.use")})]})})]})}):null}function Vd({isOpen:e,onClose:t,onExportSimple:r,onExportComplete:n,title:s}){const{t:i}=yt(),[l,o]=ne.useState(!1),[c,d]=ne.useState(null),[b,g]=ne.useState(!1),[x,p]=ne.useState(""),[w,h]=ne.useState("");if(ne.useEffect(()=>(e?(document.body.style.overflow="hidden",g(!1),p(""),h(""),o(!1),d(null)):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),!e)return null;const j=async v=>{o(!0),d(v),g(!1),p(""),console.log(`Starting ${v} export...`);try{if(v==="simple")console.log("Performing simple export..."),r(),o(!1),d(null),t();else{console.log("Performing complete export...");const _=await n();console.log("Export result:",_),(!_||!_.success)&&(console.log("Export failed, showing error modal"),(_==null?void 0:_.error)==="CORS_ERROR"?(p("Erreur CORS détectée"),h(`Les images n'ont pas pu être téléchargées.

Solutions :
• Utilisez l'export HTML simple (images distantes)
• Ouvrez les DevTools (appuyez sur F12) puis réessayez`)):(p("Erreur d'export"),h(`Une erreur s'est produite lors de l'export: ${(_==null?void 0:_.error)||"Erreur inconnue"}. Veuillez réessayer.`)),g(!0)),o(!1),d(null),_!=null&&_.success&&(console.log("Export successful, closing modal"),t())}}catch(_){console.error("Erreur lors de l'export:",_),p("Erreur inattendue"),h(`Une erreur inattendue s'est produite: ${_ instanceof Error?_.message:"Erreur inconnue"}. Veuillez réessayer.`),o(!1),d(null),g(!0)}},u=()=>{g(!1),p(""),h("")},f=b?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:a.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-lg w-full shadow-2xl border border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(kp,{className:"w-6 h-6 text-red-400 mr-3"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:x})]}),a.jsx("button",{onClick:u,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(rr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-300 text-sm leading-relaxed whitespace-pre-line",children:w})}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:u,className:"px-6 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Fermer"}),a.jsx("button",{onClick:()=>{u(),j("simple")},className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:"Essayer l'export simple"})]})]})]})}):null;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl border border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(yi,{className:"w-6 h-6 text-violet-400 mr-3"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:"Export HTML"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",disabled:l,children:a.jsx(rr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("p",{className:"text-gray-300 mb-6",children:["Choisissez le type d'export HTML pour ",a.jsx("strong",{children:s})," :"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:()=>j("simple"),disabled:l,className:"w-full p-4 bg-gray-700/50 hover:bg-gray-600/50 disabled:bg-gray-700/30 border border-gray-600 hover:border-gray-500 disabled:border-gray-600 rounded-xl transition-all text-left group",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg group-hover:bg-blue-500/30 transition-colors",children:a.jsx(ei,{className:"w-6 h-6 text-blue-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-semibold mb-1",children:"HTML Simple"}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Export rapide avec images distantes (URLs)"}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[a.jsx(Rl,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Fichier unique, léger"})]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[a.jsx(ei,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Nécessite une connexion internet"})]})]}),l&&c==="simple"&&a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})]})}),a.jsx("button",{onClick:()=>j("complete"),disabled:l,className:"w-full p-4 bg-gray-700/50 hover:bg-gray-600/50 disabled:bg-gray-700/30 border border-gray-600 hover:border-gray-500 disabled:border-gray-600 rounded-xl transition-all text-left group",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg group-hover:bg-green-500/30 transition-colors",children:a.jsx(Un,{className:"w-6 h-6 text-green-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-semibold mb-1",children:"HTML Complet"}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Export avec toutes les images téléchargées"}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[a.jsx(Hn,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Archive ZIP avec HTML + images"})]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[a.jsx(Un,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Fonctionne hors ligne"})]})]}),l&&c==="complete"&&a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-500"})]})})]}),l&&a.jsx("div",{className:"mt-6 p-4 bg-violet-500/10 border border-violet-500/30 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-violet-500 mr-3"}),a.jsx("span",{className:"text-violet-300 text-sm",children:c==="simple"?"Génération du fichier HTML...":"Test des permissions et téléchargement des images..."})]})})]})]})}),f]})}function ic({movie:e,credits:t,torrentSpecs:r,isPreview:n=!1,selectedPoster:s,onPosterChange:i}){const{t:l}=yt(),[o,c]=Le.useState(!1),[d,b]=Le.useState(1),[g,x]=Le.useState(!1),[p,w]=Le.useState(e.poster_path),[h,j]=Le.useState(null),[u,f]=Le.useState(!1),v=s!==void 0?s:p,_=t.crew.find(R=>R.job==="Director"),N=t.crew.filter(R=>R.job==="Writer"||R.job==="Screenplay"),D=t.cast.slice(0,6),A=R=>{if(!R)return"N/A";const z=Math.floor(R/60),E=R%60;return`${z}h${E.toString().padStart(2,"0")}`},S=R=>R===0?"N/A":R>=1e6?`$${(R/1e6).toFixed(0)}M`:`$${R.toLocaleString()}`,$=()=>{c(!0)},H=()=>{const R=Bl(re,t,r);Lr(R,`${e.title}.html`,"text/html")},ee=async()=>{try{console.log("MovieCard: Starting complete export...");const R=await Od(re,t,r);return console.log("MovieCard: Export result:",R),R}catch(R){return console.error("MovieCard: Erreur dans exportHTMLComplete:",R),{success:!1,error:"UNEXPECTED_ERROR"}}},M=()=>{const R=Ld(re,t,r);Lr(R,`${e.title}.md`,"text/markdown")},U=()=>{const R=Bd(re,t,r);Lr(R,`${e.title}.txt`,"text/plain")},y=R=>{b(R)},V=R=>{i?i(R):w(R)},re={...e,poster_path:v},G=Sm(re,t,r,d,h);return Le.useEffect(()=>{(async()=>{try{const z=await pe.getTrailerUrl(e.id,"movie");j(z)}catch(z){console.error("Erreur lors de la récupération de la bande-annonce:",z)}})()},[e.id]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"max-w-6xl mx-auto bg-gradient-to-br from-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"relative h-96 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover",style:{backgroundImage:`url(${pe.getBackdropUrl(e.backdrop_path,"w1280")})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 pt-12",children:a.jsxs("div",{className:"flex items-end space-x-6",children:[a.jsx("div",{className:"flex-shrink-0 w-48 h-72 rounded-xl overflow-hidden shadow-2xl border-4 border-white/20",children:a.jsx("img",{src:pe.getImageUrl(v,"w500"),alt:e.title,className:"w-full h-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>!n&&x(!0)})}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:e.title}),e.original_title!==e.title&&a.jsx("h2",{className:"text-xl text-gray-300 mb-4",children:e.original_title}),a.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[a.jsxs("div",{className:"flex items-center text-yellow-400",children:[a.jsx(Nn,{className:"w-5 h-5 mr-1 fill-current"}),a.jsx("span",{className:"text-lg font-semibold",children:e.vote_average.toFixed(1)}),a.jsxs("span",{className:"text-gray-400 ml-1",children:["(",e.vote_count.toLocaleString()," votes)"]})]}),a.jsxs("div",{className:"flex items-center text-gray-300",children:[a.jsx(Pl,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:new Date(e.release_date).getFullYear()})]}),a.jsxs("div",{className:"flex items-center text-gray-300",children:[a.jsx(Sd,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:A(e.runtime)})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map(R=>a.jsx("span",{className:"px-3 py-1 bg-violet-600/30 text-violet-300 rounded-full text-sm border border-violet-500/30",children:R.name},R.id))})]})]})}),!n&&a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:l("card.export.actions")}),a.jsxs("button",{onClick:()=>x(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsx("span",{children:l("card.change.poster")})]}),a.jsxs("div",{className:"border-t border-white/10 pt-3",children:[a.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:l("card.export.formats")}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[a.jsx(Fl,{className:"w-3 h-3"}),a.jsx("span",{children:"HTML"})]}),a.jsxs("button",{onClick:M,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[a.jsx(Js,{className:"w-3 h-3"}),a.jsx("span",{children:"MD"})]}),a.jsxs("button",{onClick:U,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[a.jsx(Ed,{className:"w-3 h-3"}),a.jsx("span",{children:"TXT"})]}),a.jsxs("button",{onClick:$,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[a.jsx(yi,{className:"w-3 h-3"}),a.jsx("span",{children:"BB"})]})]})]})]})})})]}),a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_404px] gap-8",children:[a.jsxs("div",{className:"space-y-8",children:[e.tagline&&e.tagline.trim()&&a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-violet-300 italic text-2xl font-medium leading-relaxed",children:['"',e.tagline,'"']})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Sp,{className:"w-6 h-6 mr-3 text-violet-400"}),"Synopsis"]}),a.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:e.overview||"Aucun synopsis disponible."})]}),D.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[a.jsx(ri,{className:"w-6 h-6 mr-3 text-violet-400"}),l("card.main.cast")]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:D.map(R=>a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gray-700",children:R.profile_path?a.jsx("img",{src:pe.getImageUrl(R.profile_path,"w185"),alt:R.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ri,{className:"w-8 h-8 text-gray-500"})})}),a.jsx("h4",{className:"text-white font-semibold text-sm",children:R.name}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:R.character})]},R.id))})]}),r&&r.notes&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Td,{className:"w-6 h-6 mr-3 text-violet-400"}),"Notes"]}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-line",children:r.notes})]})]}),a.jsxs("div",{className:"space-y-6",children:[r&&!n&&a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Un,{className:"w-5 h-5 mr-2"}),l("card.torrent.specs")]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-violet-300 mb-2",children:l("specs.video")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-400",children:[l("specs.quality"),":"]}),a.jsx("span",{className:"text-white font-medium",children:r.video.quality})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Format:"}),a.jsx("span",{className:"text-white font-medium",children:r.video.format})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Codec:"}),a.jsx("span",{className:"text-white font-medium",children:r.video.codec})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-400",children:[l("specs.bitrate.label"),":"]}),a.jsxs("span",{className:"text-white font-medium",children:[r.video.bitrate," ",r.video.bitrateUnit]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Taille:"}),a.jsxs("span",{className:"text-white font-medium",children:[r.video.size," GB"]})]}),r.source&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Source:"}),a.jsx("span",{className:"text-white font-medium",children:r.source})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-green-300 mb-2",children:l("specs.audio")}),a.jsx("div",{className:"space-y-2",children:r.audio.map((R,z)=>a.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("span",{className:"text-white font-medium text-sm",children:[R.language," ",R.isDefault&&`(${l("specs.default")})`]}),a.jsx("span",{className:"text-gray-400 text-xs",children:R.codec})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[a.jsx("span",{children:R.channels}),a.jsxs("span",{children:[R.bitrate," ",R.bitrateUnit]})]})]},R.id))})]}),r.subtitles.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-yellow-300 mb-2",children:l("specs.subtitles")}),a.jsx("div",{className:"space-y-2",children:r.subtitles.map((R,z)=>a.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("span",{className:"text-white font-medium text-sm",children:[R.language," ",R.isDefault&&`(${l("specs.default")})`," ",R.isForced&&`(${l("specs.forced")})`]}),a.jsx("span",{className:"text-gray-400 text-xs",children:R.format})]}),a.jsx("div",{className:"text-xs text-gray-400",children:R.type==="embedded"?"Intégré":"Externe"})]},R.id))})]}),r.releaseGroup&&a.jsx("div",{children:a.jsx("div",{className:"flex justify-between mb-2",children:a.jsx("span",{className:"text-gray-400  font-medium text-sm",children:r.releaseGroup})})})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(ei,{className:"w-5 h-5 mr-2"}),l("card.production")]}),a.jsxs("div",{className:"space-y-3",children:[e.production_companies.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Studios"}),a.jsx("div",{className:"mt-2 space-y-2",children:e.production_companies.slice(0,3).map(R=>a.jsxs("div",{className:"flex items-center space-x-2",children:[R.logo_path&&a.jsx("img",{src:pe.getImageUrl(R.logo_path,"w92"),alt:R.name,className:"w-8 h-8 object-contain bg-white rounded p-1"}),a.jsx("span",{className:"text-white text-sm",children:R.name})]},R.id))})]}),e.production_countries.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Pays"}),a.jsx("p",{className:"text-white font-medium",children:e.production_countries.map(R=>R.name).join(", ")})]}),e.spoken_languages.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Langues"}),a.jsx("p",{className:"text-white font-medium",children:e.spoken_languages.map(R=>R.name).join(", ")})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Dd,{className:"w-5 h-5 mr-2"}),l("card.technical")]}),a.jsxs("div",{className:"space-y-3",children:[_&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Réalisateur"}),a.jsx("p",{className:"text-white font-medium",children:_.name})]}),N.length>0&&a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-400 text-sm",children:["Scénariste",N.length>1?"s":""]}),a.jsx("p",{className:"text-white font-medium",children:N.map(R=>R.name).join(", ")})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Date de sortie"}),a.jsx("p",{className:"text-white font-medium",children:new Date(e.release_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Durée"}),a.jsx("p",{className:"text-white font-medium",children:A(e.runtime)})]}),e.budget>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Budget"}),a.jsx("p",{className:"text-white font-medium",children:S(e.budget)})]}),e.revenue>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Recettes"}),a.jsx("p",{className:"text-white font-medium",children:S(e.revenue)})]}),e.imdb_id&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"IMDB ID"}),a.jsx("p",{className:"text-white font-medium",children:a.jsx("a",{href:`https://www.imdb.com/title/${e.imdb_id}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.imdb_id})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"TMDB ID"}),a.jsx("p",{className:"text-white font-medium",children:a.jsx("a",{href:`https://www.themoviedb.org/movie/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.id})})]})]})]})]})]})}),a.jsx("div",{className:"px-8 pb-6",children:a.jsxs("div",{className:"flex items-center justify-center space-x-3 pt-4 border-t border-gray-700/50",children:[a.jsx("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"TMDB Logo",className:"w-6 h-6"}),a.jsxs("p",{className:"text-gray-400 text-xs",children:[l("card.data.provided")," ",a.jsx("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"TMDB"})]})]})})]}),!n&&a.jsxs(a.Fragment,{children:[a.jsx(Ud,{isOpen:o,onClose:()=>c(!1),bbcode:G,title:e.title,onStyleChange:y,movieData:re,credits:t}),a.jsx(Hd,{isOpen:g,onClose:()=>x(!1),onSelect:V,movieId:e.id,currentPoster:v,mediaType:"movie"}),a.jsx(Vd,{isOpen:u,onClose:()=>f(!1),onExportSimple:H,onExportComplete:ee,title:e.title})]})]})}function ac({tvShow:e,credits:t,torrentSpecs:r,isPreview:n=!1,selectedPoster:s,onPosterChange:i,onSeasonSelect:l}){const{t:o}=yt(),[c,d]=Le.useState(!1),[b,g]=Le.useState(1),[x,p]=Le.useState(!1),[w,h]=Le.useState(e.poster_path),[j,u]=Le.useState(null),[f,v]=Le.useState(!1),_=s!==void 0?s:w,N=t.crew.filter(z=>z.job==="Creator"||z.job==="Executive Producer"),D=t.cast.slice(0,6),A=z=>!z||z.length===0?"N/A":`${Math.round(z.reduce((P,T)=>P+T,0)/z.length)} min`,S=z=>({"Returning Series":{text:"En cours",color:"text-green-400"},Ended:{text:"Terminée",color:"text-red-400"},Canceled:{text:"Annulée",color:"text-red-400"},"In Production":{text:"En production",color:"text-blue-400"},Planned:{text:"Planifiée",color:"text-yellow-400"}})[z]||{text:z,color:"text-gray-400"},$=()=>{d(!0)},H=()=>{const z=Bl(re,t,r);Lr(z,`${e.name}.html`,"text/html")},ee=async()=>{try{console.log("TVShowCard: Starting complete export...");const z=await Od(re,t,r);return console.log("TVShowCard: Export result:",z),z}catch(z){return console.error("TVShowCard: Erreur dans exportHTMLComplete:",z),{success:!1,error:"UNEXPECTED_ERROR"}}},M=()=>{const z=Ld(re,t,r);Lr(z,`${e.name}.md`,"text/markdown")},U=()=>{const z=Bd(re,t,r);Lr(z,`${e.name}.txt`,"text/plain")},y=z=>{g(z)},V=z=>{i?i(z):h(z)},re={...e,poster_path:_},G=Em(re,t,r,b,j);Le.useEffect(()=>{(async()=>{try{const E=await pe.getTrailerUrl(e.id,"tv");u(E)}catch(E){console.error("Erreur lors de la récupération de la bande-annonce:",E)}})()},[e.id]);const R=S(e.status);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"max-w-6xl mx-auto bg-gradient-to-br from-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[a.jsxs("div",{className:"relative h-96 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover",style:{backgroundImage:`url(${pe.getBackdropUrl(e.backdrop_path,"w1280")})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 pt-12",children:a.jsxs("div",{className:"flex items-end space-x-6",children:[a.jsx("div",{className:"flex-shrink-0 w-48 h-72 rounded-xl overflow-hidden shadow-2xl border-4 border-white/20",children:a.jsx("img",{src:pe.getImageUrl(_,"w500"),alt:e.name,className:"w-full h-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>!n&&p(!0)})}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:e.name}),e.original_name!==e.name&&a.jsx("h2",{className:"text-xl text-gray-300 mb-4",children:e.original_name}),a.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[a.jsxs("div",{className:"flex items-center text-yellow-400",children:[a.jsx(Nn,{className:"w-5 h-5 mr-1 fill-current"}),a.jsx("span",{className:"text-lg font-semibold",children:e.vote_average.toFixed(1)}),a.jsxs("span",{className:"text-gray-400 ml-1",children:["(",e.vote_count.toLocaleString()," votes)"]})]}),a.jsxs("div",{className:"flex items-center text-gray-300",children:[a.jsx(Pl,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:new Date(e.first_air_date).getFullYear()}),e.last_air_date&&e.status==="Ended"&&a.jsxs("span",{children:[" - ",new Date(e.last_air_date).getFullYear()]})]}),a.jsxs("div",{className:"flex items-center text-gray-300",children:[a.jsx(Sd,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:A(e.episode_run_time)})]}),a.jsxs("div",{className:`flex items-center ${R.color}`,children:[a.jsx(Mt,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:R.text})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map(z=>a.jsx("span",{className:"px-3 py-1 bg-violet-600/30 text-violet-300 rounded-full text-sm border border-violet-500/30",children:z.name},z.id))})]})]})}),!n&&a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:o("card.export.actions")}),a.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsx("span",{children:o("card.change.poster")})]}),a.jsxs("div",{className:"border-t border-white/10 pt-3",children:[a.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:o("card.export.formats")}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>v(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[a.jsx(Fl,{className:"w-3 h-3"}),a.jsx("span",{children:"HTML"})]}),a.jsxs("button",{onClick:M,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[a.jsx(Js,{className:"w-3 h-3"}),a.jsx("span",{children:"MD"})]}),a.jsxs("button",{onClick:U,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[a.jsx(Ed,{className:"w-3 h-3"}),a.jsx("span",{children:"TXT"})]}),a.jsxs("button",{onClick:$,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[a.jsx(yi,{className:"w-3 h-3"}),a.jsx("span",{children:"BB"})]})]})]})]})})})]}),a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_404px] gap-8",children:[a.jsxs("div",{className:"space-y-8",children:[e.tagline&&e.tagline.trim()&&a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-violet-300 italic text-2xl font-medium leading-relaxed",children:['"',e.tagline,'"']})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Mt,{className:"w-6 h-6 mr-3 text-violet-400"}),"Synopsis"]}),a.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:e.overview||"Aucun synopsis disponible."})]}),D.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[a.jsx(ri,{className:"w-6 h-6 mr-3 text-violet-400"}),"Casting principal"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:D.map(z=>a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gray-700",children:z.profile_path?a.jsx("img",{src:pe.getImageUrl(z.profile_path,"w185"),alt:z.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ri,{className:"w-8 h-8 text-gray-500"})})}),a.jsx("h4",{className:"text-white font-semibold text-sm",children:z.name}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:z.character})]},z.id))})]}),e.seasons&&e.seasons.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["Saisons",n&&l&&a.jsx("span",{className:"text-sm text-violet-400 ml-2 font-normal",children:"(Cliquez pour sélectionner)"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.seasons.filter(z=>z.season_number>0).map(z=>a.jsxs("div",{className:`bg-gray-800/50 rounded-xl p-4 flex space-x-4 ${n&&l?"cursor-pointer hover:bg-gray-700/50 hover:border-violet-500 border border-transparent transition-all duration-200":""}`,onClick:()=>n&&l&&l(z.season_number),children:[a.jsx("div",{className:"w-16 h-24 flex-shrink-0 rounded overflow-hidden bg-gray-700",children:z.poster_path?a.jsx("img",{src:pe.getImageUrl(z.poster_path,"w154"),alt:z.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Mt,{className:"w-6 h-6 text-gray-500"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-semibold",children:z.name}),a.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[z.episode_count," épisode",z.episode_count>1?"s":""]}),z.air_date&&a.jsx("p",{className:"text-gray-400 text-sm",children:new Date(z.air_date).getFullYear()})]})]},z.id))})]}),r&&r.notes&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Td,{className:"w-6 h-6 mr-3 text-violet-400"}),"Notes"]}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-line",children:r.notes})]})]}),a.jsxs("div",{className:"space-y-6",children:[r&&!n&&a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Un,{className:"w-5 h-5 mr-2"}),o("card.torrent.specs")]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-violet-300 mb-2",children:"Vidéo"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Qualité:"}),a.jsx("span",{className:"text-white font-medium",children:r.video.quality})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Format:"}),a.jsx("span",{className:"text-white font-medium",children:r.video.format})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Codec:"}),a.jsx("span",{className:"text-white font-medium",children:r.video.codec})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Débit:"}),a.jsxs("span",{className:"text-white font-medium",children:[r.video.bitrate," ",r.video.bitrateUnit]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Taille:"}),a.jsxs("span",{className:"text-white font-medium",children:[r.video.size," GB"]})]}),r.source&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Source:"}),a.jsx("span",{className:"text-white font-medium",children:r.source})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-green-300 mb-2",children:"Audio"}),a.jsx("div",{className:"space-y-2",children:r.audio.map((z,E)=>a.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("span",{className:"text-white font-medium text-sm",children:[z.language," ",z.isDefault&&"(Défaut)"]}),a.jsx("span",{className:"text-gray-400 text-xs",children:z.codec})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[a.jsx("span",{children:z.channels}),a.jsxs("span",{children:[z.bitrate," ",z.bitrateUnit]})]})]},z.id))})]}),r.subtitles.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-yellow-300 mb-2",children:"Sous-titres"}),a.jsx("div",{className:"space-y-2",children:r.subtitles.map((z,E)=>a.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("span",{className:"text-white font-medium text-sm",children:[z.language," ",z.isDefault&&"(Défaut)"," ",z.isForced&&"(Forcé)"]}),a.jsx("span",{className:"text-gray-400 text-xs",children:z.format})]}),a.jsx("div",{className:"text-xs text-gray-400",children:z.type==="embedded"?"Intégré":"Externe"})]},z.id))})]}),(r.releaseGroup||r.notes)&&a.jsx("div",{children:r.releaseGroup&&a.jsx("div",{className:"flex justify-between mb-2",children:a.jsx("span",{className:"text-gray-400  font-medium text-sm",children:r.releaseGroup})})})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Dd,{className:"w-5 h-5 mr-2"}),"Informations"]}),a.jsxs("div",{className:"space-y-3",children:[N.length>0&&a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-400 text-sm",children:["Créateur",N.length>1?"s":""]}),a.jsx("p",{className:"text-white font-medium",children:N.slice(0,2).map(z=>z.name).join(", ")})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Première diffusion"}),a.jsx("p",{className:"text-white font-medium",children:new Date(e.first_air_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),e.last_air_date&&e.status==="Ended"&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Dernière diffusion"}),a.jsx("p",{className:"text-white font-medium",children:new Date(e.last_air_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Statut"}),a.jsx("p",{className:`font-medium ${R.color}`,children:R.text})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Nombre de saisons"}),a.jsx("p",{className:"text-white font-medium",children:e.number_of_seasons})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Nombre d'épisodes"}),a.jsx("p",{className:"text-white font-medium",children:e.number_of_episodes})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Durée moyenne"}),a.jsx("p",{className:"text-white font-medium",children:A(e.episode_run_time)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"TMDB ID"}),a.jsx("p",{className:"text-white font-medium",children:a.jsx("a",{href:`https://www.themoviedb.org/tv/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.id})})]})]})]}),e.networks.length>0&&a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Diffuseurs"}),a.jsx("div",{className:"space-y-3",children:e.networks.map(z=>a.jsxs("div",{className:"flex items-center space-x-3",children:[z.logo_path&&a.jsx("img",{src:pe.getImageUrl(z.logo_path,"w92"),alt:z.name,className:"w-12 h-8 object-contain bg-white rounded p-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:z.name}),a.jsx("p",{className:"text-gray-400 text-sm",children:z.origin_country})]})]},z.id))})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(ei,{className:"w-5 h-5 mr-2"}),"Production"]}),a.jsxs("div",{className:"space-y-3",children:[e.production_companies.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Studios"}),a.jsx("div",{className:"mt-2 space-y-2",children:e.production_companies.slice(0,3).map(z=>a.jsxs("div",{className:"flex items-center space-x-2",children:[z.logo_path&&a.jsx("img",{src:pe.getImageUrl(z.logo_path,"w92"),alt:z.name,className:"w-8 h-8 object-contain bg-white rounded p-1"}),a.jsx("span",{className:"text-white text-sm",children:z.name})]},z.id))})]}),e.production_countries.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Pays"}),a.jsx("p",{className:"text-white font-medium",children:e.production_countries.map(z=>z.name).join(", ")})]}),e.spoken_languages.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-sm",children:"Langues"}),a.jsx("p",{className:"text-white font-medium",children:e.spoken_languages.map(z=>z.name).join(", ")})]})]})]})]})]})}),a.jsx("div",{className:"px-8 pb-6",children:a.jsxs("div",{className:"flex items-center justify-center space-x-3 pt-4 border-t border-gray-700/50",children:[a.jsx("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"TMDB Logo",className:"w-6 h-6"}),a.jsxs("p",{className:"text-gray-400 text-xs",children:["Données fournies par"," ",a.jsx("a",{href:"https://www.themoviedb.org//",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"TMDB"})]})]})})]}),!n&&a.jsxs(a.Fragment,{children:[a.jsx(Ud,{isOpen:c,onClose:()=>d(!1),bbcode:G,title:e.name,onStyleChange:y,tvShowData:re,credits:t}),a.jsx(Hd,{isOpen:x,onClose:()=>p(!1),onSelect:V,tvShowId:e.id,currentPoster:_,mediaType:"tv"}),a.jsx(Vd,{isOpen:f,onClose:()=>v(!1),onExportSimple:H,onExportComplete:ee,title:e.name})]})]})}const lc=["UHD Full BluRay","UHD-Remux","Full BluRay","BluRay-Remux","2160p","1080p/i","720p/i","SD"],oc=["MKV","MP4","AVI","M2TS","ISO","Autre"],cc=["H.264","H.265","x264","x265","HEVC","VC-1","AV1","VP9","VP8","DivX","XviD","XVID","MPEG-2","MPEG-4","Autre"],uc=["Dolby Digital / AC3","Dolby Digital Plus / E-AC3","Dolby Digital Plus / E-AC3 Atmos","Dolby TrueHD","Dolby TrueHD Atmos","DTS","DTS-HD","DTS-HD MA","AAC","PCM","FLAC","Autre"],Fm=["Mono","Stéréo","5.1","5.1.x","7.1","7.1.x"],$m=["SRT","ASS","SSA","PGS","VobSub","SUP"],dc=["BluRay","UHD BluRay","WEB","WEBRip","HDTV","DVDRip","BDRip","REMUX","CAM","TS","R5"];function Om({onSave:e,onCancel:t,initialSpecs:r}){var U,y,V,re,G,R,z;const{t:n}=yt(),s=[{code:"fr",name:n("lang.french")},{code:"fr-ca",name:n("lang.quebecois")},{code:"en",name:n("lang.english")},{code:"es",name:n("lang.spanish")},{code:"de",name:n("lang.german")},{code:"it",name:n("lang.italian")},{code:"pt",name:n("lang.portuguese")},{code:"ru",name:n("lang.russian")},{code:"ja",name:n("lang.japanese")},{code:"ko",name:n("lang.korean")},{code:"zh",name:n("lang.chinese")},{code:"nl",name:n("lang.dutch")},{code:"sv",name:n("lang.swedish")},{code:"no",name:n("lang.norwegian")},{code:"da",name:n("lang.danish")},{code:"fi",name:n("lang.finnish")},{code:"pl",name:n("lang.polish")},{code:"cs",name:n("lang.czech")},{code:"hu",name:n("lang.hungarian")},{code:"tr",name:n("lang.turkish")},{code:"ar",name:n("lang.arabic")},{code:"he",name:n("lang.hebrew")},{code:"th",name:n("lang.thai")},{code:"vi",name:n("lang.vietnamese")},{code:"hi",name:n("lang.hindi")},{code:"other",name:n("lang.other")}],i=(E,P)=>{(P||"").toLowerCase();let T=(E||"").toLowerCase();if(new Set(s.map(L=>L.code)).has(T)){const L=Ue(T);return T==="other"?{code:"other",name:P||n("lang.other")}:{code:L.code,name:L.name}}const I=L=>{const ie=Ue(L);return{code:ie.code,name:ie.name}};return/\b(french\s*\(ca\)|french ca|vfq|canadian)\b/i.test(P||"")?I("fr-ca"):/\b(french|français)\b/i.test(P||"")?I("fr"):/\b(english|anglais)\b/i.test(P||"")?I("en"):/\b(german|deutsch|\(de\))\b/i.test(P||"")?I("de"):/\b(spanish|español|\(es\))\b/i.test(P||"")?I("es"):/\b(portuguese|português|\(pt\)|\(br\))\b/i.test(P||"")?I("pt"):/\b(italian|italiano|\(it\))\b/i.test(P||"")?I("it"):/\b(finnish|suomi|\(fi\))\b/i.test(P||"")?I("fi"):/\b(japanese|日本語|\(jp\))\b/i.test(P||"")?I("ja"):/\b(dutch|nederlands|\(nl\))\b/i.test(P||"")?I("nl"):/\b(polish|polski|\(pl\))\b/i.test(P||"")?I("pl"):/\b(swedish|svenska|\(se\)|\(sv\))\b/i.test(P||"")?I("sv"):/\b(hindi|\(in\))\b/i.test(P||"")?I("hi"):{code:"other",name:P||n("lang.other")}},o=(E=>{var P,T,q,I,L,ie,de,ae,le,he,ge,Fe,Me,m,W,B,C,k,F,K,Z,O,Y;return console.log("convertInitialSpecs received:",E),console.log("specs.video:",E==null?void 0:E.video),console.log("specs.video.quality:",(P=E==null?void 0:E.video)==null?void 0:P.quality),E?{video:{quality:((T=E.video)==null?void 0:T.quality)==="1080p"?"1080p/i":((q=E.video)==null?void 0:q.quality)==="720p"?"720p/i":((I=E.video)==null?void 0:I.quality)==="480p"?"SD":lc.includes((L=E.video)==null?void 0:L.quality)?(ie=E.video)==null?void 0:ie.quality:((de=E.video)==null?void 0:de.quality)||"1080p/i",format:oc.includes((ae=E.video)==null?void 0:ae.format)?(le=E.video)==null?void 0:le.format:(he=E.video)!=null&&he.format?"Autre":"MKV",codec:((ge=E.video)==null?void 0:ge.codec)==="MPEG Video"?"MPEG-2":((Fe=E.video)==null?void 0:Fe.codec)==="XVID"||((Me=E.video)==null?void 0:Me.codec)==="XVID"||((m=E.video)==null?void 0:m.codec)==="XviD"?"XVID":cc.includes((W=E.video)==null?void 0:W.codec)?(B=E.video)==null?void 0:B.codec:(C=E.video)!=null&&C.codec?"Autre":"H.264",bitrate:((k=E.video)==null?void 0:k.bitrate)||5,bitrateUnit:((F=E.video)==null?void 0:F.bitrateUnit)||"Mbps",size:((K=E.video)==null?void 0:K.size)||8,duration:(Z=E.video)==null?void 0:Z.duration},audio:((O=E.audio)==null?void 0:O.map((te,J)=>({id:te.id||(J+1).toString(),...(()=>{const X=i(te.languageCode,te.language);return{language:X.name,languageCode:X.code}})(),codec:(()=>{const X=te.codec||"";return console.log(`Processing audio track ${J+1}, original codec:`,X),X.includes("Dolby Digital Plus with Dolby Atmos")?(console.log("Detected Dolby Digital Plus with Dolby Atmos, mapping to Dolby Digital Plus / E-AC3 Atmos"),"Dolby Digital Plus / E-AC3 Atmos"):X.includes("Dolby Digital Plus with Atmos")?(console.log("Detected Dolby Digital Plus with Atmos, mapping to Dolby Digital Plus / E-AC3 Atmos"),"Dolby Digital Plus / E-AC3 Atmos"):X.includes("DTS-HD High Resolution Audio")||X==="DTS-HD"?(console.log("Detected DTS-HD High Resolution Audio, mapping to DTS-HD"),"DTS-HD"):X.includes("MLP FBA 16-ch")?(console.log("Detected MLP FBA 16-ch, mapping to Dolby TrueHD Atmos"),"Dolby TrueHD Atmos"):X.includes("MLP FBA")?(console.log("Detected MLP FBA, mapping to Dolby TrueHD Atmos"),"Dolby TrueHD Atmos"):X.includes("DTS-HD Master Audio")||X==="DTS-HD MA"?"DTS-HD MA":X.includes("Dolby TrueHD with Dolby Atmos")||X.includes("TrueHD Atmos")?"Dolby TrueHD Atmos":X.includes("Dolby TrueHD")||X==="TrueHD"?"Dolby TrueHD":X.includes("DTS-HD")||X==="DTS-HD"?"DTS-HD":X.includes("DTS-ES")||X==="DTS-ES"?"DTS-ES":X==="E-AC-3"||X.includes("E-AC-3")?"Dolby Digital Plus / E-AC3":X==="AC-3"||X.includes("AC-3")?"Dolby Digital / AC3":X==="DTS"||X.includes("DTS")?"DTS":X==="AAC"||X.includes("AAC")?"AAC":X==="PCM"||X.includes("PCM")?"PCM":uc.includes(X)?X:(console.log(`No specific mapping found for codec: ${X}, using default or "Autre"`),X?"Autre":"Dolby Digital Plus / E-AC3")})(),channels:te.channels||"5.1",bitrate:te.bitrate||640,bitrateUnit:te.bitrateUnit||"Kbps",isDefault:te.isDefault||J===0})))||[],subtitles:((Y=E.subtitles)==null?void 0:Y.map((te,J)=>({id:te.id||(J+1).toString(),...(()=>{const X=i(te.languageCode,te.language);return{language:X.name,languageCode:X.code}})(),type:te.type||"embedded",format:te.format||"SRT",isForced:te.isForced===!0,isComplete:te.isComplete===!0,isSDH:te.isSDH===!0,isDefault:te.isDefault===!0})))||[],source:E.source,releaseGroup:E.releaseGroup}:null})(r);console.log("convertedSpecs result:",o);const[c,d]=ne.useState({quality:((U=o==null?void 0:o.video)==null?void 0:U.quality)||"1080p/i",format:((y=o==null?void 0:o.video)==null?void 0:y.format)||"MKV",codec:((V=o==null?void 0:o.video)==null?void 0:V.codec)||"H.264",bitrate:((re=o==null?void 0:o.video)==null?void 0:re.bitrate)||2.3,bitrateUnit:((G=o==null?void 0:o.video)==null?void 0:G.bitrateUnit)||"Mbps",size:((R=o==null?void 0:o.video)==null?void 0:R.size)||8.5,duration:(z=o==null?void 0:o.video)==null?void 0:z.duration}),[b,g]=ne.useState(()=>o!=null&&o.audio&&o.audio.length>0?o.audio.map(E=>({...E,bitrateUnit:E.bitrateUnit||"Kbps"})):[{id:"1",language:"Français",languageCode:"fr",codec:"Dolby Digital Plus / E-AC3",channels:"5.1",bitrate:640,bitrateUnit:"Kbps",isDefault:!0}]),[x,p]=ne.useState(()=>o!=null&&o.subtitles&&o.subtitles.length>0?o.subtitles.map(E=>({...E,type:E.type,isForced:E.isForced===!0,isComplete:E.isComplete===!0,isSDH:E.isSDH===!0})):[]),[w,h]=ne.useState((o==null?void 0:o.releaseGroup)||""),[j,u]=ne.useState(1),[f,v]=ne.useState(()=>{var E;if(o!=null&&o.source){const P={Bluray:"BluRay",BluRay:"BluRay","blu-ray":"BluRay",bluray:"BluRay","UHD BluRay":"UHD BluRay","uhd bluray":"UHD BluRay","4k bluray":"UHD BluRay",WEB:"WEB",WEBRip:"WEBRip","WEB-DL":"WEB",WEBDL:"WEB","web-dl":"WEB",webrip:"WEBRip",web:"WEB",HDTV:"HDTV",DVDRip:"DVDRip",BDRip:"BDRip",REMUX:"REMUX",remux:"REMUX"},T=(o.source||"").toString(),q=P[T]||P[T.toLowerCase()]||T;return dc.includes(q)?q:"WEB"}return((E=o==null?void 0:o.video)==null?void 0:E.format)==="ISO"?"DVDRip":"BluRay"}),[_,N]=ne.useState(""),D=()=>{const E={id:Date.now().toString(),language:"Anglais",languageCode:"en",codec:"Dolby Digital Plus / E-AC3",channels:"5.1",bitrate:640,bitrateUnit:"Kbps",isDefault:!1};g([...b,E])},A=E=>{b.length>1&&g(b.filter(P=>P.id!==E))},S=(E,P)=>{g(b.map(T=>T.id===E?{...T,...P}:P.isDefault===!0&&T.isDefault?{...T,isDefault:!1}:T))},$=()=>{const E={id:Date.now().toString(),language:"Anglais",languageCode:"en",type:"embedded",format:"SRT",isForced:!1,isComplete:!0,isSDH:!1,isDefault:!1};p([...x,E])},H=E=>{p(x.filter(P=>P.id!==E))},ee=(E,P)=>{p(x.map(T=>T.id===E?{...T,...P}:P.isDefault===!0&&T.isDefault?{...T,isDefault:!1}:T))},M=()=>{e({video:c,audio:b,subtitles:x,releaseGroup:w||void 0,source:f||void 0,notes:_||void 0,numberOfFiles:j})};return a.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800/60 backdrop-blur-sm rounded-2xl p-8 border border-gray-700/50",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center",children:[a.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors mr-4",children:[a.jsx(Cp,{className:"w-4 h-4"}),a.jsx("span",{children:n("specs.back")})]}),a.jsx(Un,{className:"w-6 h-6 text-violet-400 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-white",children:n("specs.title")})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[a.jsx(Up,{className:"w-5 h-5 mr-2 text-blue-400"}),"Spécifications Vidéo"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Qualité"}),a.jsx("select",{value:c.quality,onChange:E=>d({...c,quality:E.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:lc.map(E=>a.jsx("option",{value:E,children:E},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Format"}),a.jsx("select",{value:c.format,onChange:E=>d({...c,format:E.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:oc.map(E=>a.jsx("option",{value:E,children:E},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Codec"}),a.jsx("select",{value:c.codec,onChange:E=>d({...c,codec:E.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:cc.map(E=>a.jsx("option",{value:E,children:E},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Source"}),a.jsx("select",{value:f,onChange:E=>v(E.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:dc.map(E=>a.jsx("option",{value:E,children:E},E))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Débit vidéo"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"number",value:c.bitrate,onChange:E=>d({...c,bitrate:parseFloat(E.target.value)}),className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",step:"0.1"}),a.jsxs("select",{value:c.bitrateUnit,onChange:E=>d({...c,bitrateUnit:E.target.value}),className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-2 py-2 text-white focus:outline-none focus:border-violet-500",children:[a.jsx("option",{value:"Mbps",children:"Mbps"}),a.jsx("option",{value:"Kbps",children:"Kbps"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Taille (GB)"}),a.jsx("input",{type:"number",value:c.size,onChange:E=>d({...c,size:parseFloat(E.target.value)}),className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",step:"0.1"})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[a.jsx(Hp,{className:"w-5 h-5 mr-2 text-green-400"}),"Pistes Audio"]}),a.jsxs("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[a.jsx(tc,{className:"w-4 h-4"}),a.jsx("span",{children:"Ajouter"})]})]}),a.jsx("div",{className:"space-y-4",children:b.map((E,P)=>a.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"text-white font-medium",children:[n("specs.track.audio")," #",P+1]}),b.length>1&&a.jsx("button",{onClick:()=>A(E.id),className:"text-red-400 hover:text-red-300 transition-colors",children:a.jsx(ti,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_1fr_auto_auto] lg:grid-cols-[1fr_1fr_auto_auto] gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Langue"}),E.languageCode==="other"?a.jsx("input",{type:"text",value:E.language,onChange:T=>S(E.id,{language:T.target.value,languageCode:"other"}),placeholder:"Nom de la langue",className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"}):a.jsx("select",{value:E.language,onChange:T=>{const q=T.target.value;if(q===n("lang.other"))S(E.id,{language:"",languageCode:"other"});else{const I=s.find(ie=>ie.name===q),L=Ue((I==null?void 0:I.code)||"fr");S(E.id,{language:q,languageCode:L.code})}},className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:s.map(T=>a.jsx("option",{value:T.name,children:T.name},T.code))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Codec"}),a.jsx("select",{value:E.codec,onChange:T=>S(E.id,{codec:T.target.value}),className:"w-55 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:uc.map(T=>a.jsx("option",{value:T,children:T},T))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.channels")}),a.jsx("select",{value:E.channels,onChange:T=>S(E.id,{channels:T.target.value}),className:"w-25 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:Fm.map(T=>a.jsx("option",{value:T,children:T},T))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Débit (Kbps)"}),a.jsx("input",{value:E.bitrate,onChange:T=>S(E.id,{bitrate:parseInt(T.target.value)}),className:"w-20 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),a.jsx("div",{className:"col-span-full mt-4 flex items-center space-x-4",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:E.isDefault,onChange:T=>S(E.id,{isDefault:T.target.checked}),className:"mr-2 rounded border-gray-500 bg-gray-600 text-violet-600 focus:ring-violet-500"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Piste par défaut"})]})})]})]},E.id))})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[a.jsx(Ep,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Sous-titres"]}),a.jsxs("button",{onClick:$,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg transition-colors",children:[a.jsx(tc,{className:"w-4 h-4"}),a.jsx("span",{children:"Ajouter"})]})]}),a.jsx("div",{className:"space-y-4",children:x.map((E,P)=>a.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"text-white font-medium",children:[n("specs.track.subtitle")," #",P+1]}),a.jsx("button",{onClick:()=>H(E.id),className:"text-red-400 hover:text-red-300 transition-colors",children:a.jsx(ti,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Langue"}),E.languageCode==="other"?a.jsx("input",{type:"text",value:E.language,onChange:T=>ee(E.id,{language:T.target.value,languageCode:"other"}),placeholder:"Nom de la langue",className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"}):a.jsx("select",{value:E.language,onChange:T=>{const q=T.target.value;if(q===n("lang.other"))ee(E.id,{language:"",languageCode:"other"});else{const I=s.find(ie=>ie.name===q),L=Ue((I==null?void 0:I.code)||"fr");ee(E.id,{language:q,languageCode:L.code})}},className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:s.map(T=>a.jsx("option",{value:T.name,children:T.name},T.code))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.type")}),a.jsxs("select",{value:E.type,onChange:T=>ee(E.id,{type:T.target.value}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:[a.jsx("option",{value:"embedded",children:n("specs.embedded")}),a.jsx("option",{value:"external",children:n("specs.external")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Format"}),a.jsx("select",{value:E.format,onChange:T=>ee(E.id,{format:T.target.value}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:$m.map(T=>a.jsx("option",{value:T,children:T},T))})]})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:E.isDefault,onChange:T=>ee(E.id,{isDefault:T.target.checked}),className:"mr-2 rounded border-gray-500 bg-gray-600 text-violet-600 focus:ring-violet-500"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Par défaut"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-gray-300 text-sm",children:"Type de sous-titre :"}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:`subtitle-type-${E.id}`,checked:E.isForced===!0,onChange:()=>ee(E.id,{isForced:!0,isComplete:!1,isSDH:!1}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Forcé"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:`subtitle-type-${E.id}`,checked:E.isComplete===!0,onChange:()=>ee(E.id,{isForced:!1,isComplete:!0,isSDH:!1}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Complet"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:`subtitle-type-${E.id}`,checked:E.isSDH===!0,onChange:()=>ee(E.id,{isForced:!1,isComplete:!1,isSDH:!0}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"SDH"})]})]})]})]},E.id))})]}),a.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:n("specs.additional")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.release.group")}),a.jsx("input",{type:"text",value:w,onChange:E=>h(E.target.value),placeholder:n("specs.release.placeholder"),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nb de fichiers"}),a.jsx("input",{type:"number",value:j,onChange:E=>u(parseInt(E.target.value)||1),min:"1",className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.notes")}),a.jsx("textarea",{value:_,onChange:E=>N(E.target.value),placeholder:n("specs.notes.placeholder"),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:t,className:"px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Annuler"}),a.jsxs("button",{onClick:M,className:"flex items-center space-x-2 px-6 py-3 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:[a.jsx($p,{className:"w-4 h-4"}),a.jsx("span",{children:"Générer la fiche"})]})]})]})]})}function Lm({isOpen:e,onClose:t,onSave:r,currentApiKey:n}){const{t:s}=yt(),[i,l]=ne.useState(n),[o,c]=ne.useState(!1);if(!e)return null;const d=()=>{r(i),t()};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl border border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pp,{className:"w-6 h-6 text-violet-400 mr-3"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:s("api.title")})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(rr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-gray-300 mb-4",children:s("api.description")}),a.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/30 rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-violet-300 text-sm",children:a.jsx("strong",{children:"Comment obtenir votre clé API :"})}),a.jsxs("ol",{className:"list-decimal list-inside text-violet-200 text-sm mt-2 space-y-1",children:[a.jsxs("li",{children:["Créez un compte sur ",a.jsx("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 hover:underline",children:"TMDB"})]}),a.jsx("li",{children:"Allez dans les paramètres de votre compte"}),a.jsx("li",{children:'Cliquez sur "API"'}),a.jsx("li",{children:"Demandez une clé API (gratuite)"}),a.jsx("li",{children:"Copiez votre clé API v3"})]}),a.jsxs("a",{href:"https://www.themoviedb.org/settings/api",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-violet-400 hover:text-violet-300 text-sm mt-3 transition-colors",children:[s("api.get.key")," ",a.jsx(zp,{className:"w-4 h-4 ml-1"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-300 mb-2",children:s("api.key.label")}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:o?"text":"password",id:"apiKey",value:i,onChange:b=>l(b.target.value),placeholder:s("api.key.placeholder"),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500 pr-12"}),a.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:o?a.jsx(Mp,{className:"w-5 h-5"}):a.jsx(Ip,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:t,className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:s("nfo.cancel")}),a.jsx("button",{onClick:d,disabled:!i.trim(),className:"flex-1 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium py-3 px-4 rounded-lg transition-colors",children:s("api.save")})]})]})})}const Bm=()=>{const{language:e,setLanguage:t}=yt();return a.jsxs("button",{onClick:()=>t(e==="fr"?"en":"fr"),className:"flex items-center gap-2 px-3 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 text-white hover:bg-white/20 transition-colors",title:e==="fr"?"Switch to English":"Passer en français",children:[a.jsx(Rp,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:e==="fr"?"EN":"FR"})]})},gs="fichegen_history",fc=50,Mr={addItem(e){const t=this.getHistory(),r={...e,id:Date.now().toString(),createdAt:Date.now()};t.unshift(r),t.length>fc&&t.splice(fc),localStorage.setItem(gs,JSON.stringify(t))},getHistory(){try{const e=localStorage.getItem(gs);return e?JSON.parse(e):[]}catch{return[]}},removeItem(e){const t=this.getHistory().filter(r=>r.id!==e);localStorage.setItem(gs,JSON.stringify(t))},clearHistory(){localStorage.removeItem(gs)},getItem(e){return this.getHistory().find(t=>t.id===e)||null}};function Um({isOpen:e,onClose:t,onSelectItem:r}){const{t:n}=yt(),[s,i]=ne.useState([]);ne.useEffect(()=>{e&&i(Mr.getHistory())},[e]);const l=d=>{Mr.removeItem(d),i(Mr.getHistory())},o=()=>{Mr.clearHistory(),i([])},c=d=>new Date(d).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] shadow-2xl border border-gray-700 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(La,{className:"w-6 h-6 text-violet-400 mr-3"}),a.jsx("h2",{className:"text-xl font-bold text-white",children:n("history.title")})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[s.length>0&&a.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors text-sm",children:[a.jsx(ti,{className:"w-4 h-4"}),a.jsx("span",{children:n("history.clear.all")})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(rr,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex-1 p-6 overflow-auto",children:s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(La,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:n("history.empty")}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:n("history.empty.description")})]}):a.jsx("div",{className:"space-y-4",children:s.map(d=>a.jsx("div",{className:"bg-gray-700/50 rounded-xl p-4 hover:bg-gray-700/70 transition-colors",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 w-16 h-24 rounded overflow-hidden bg-gray-600",children:d.poster?a.jsx("img",{src:pe.getImageUrl(d.poster,"w154"),alt:d.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.type==="movie"?a.jsx(Nt,{className:"w-6 h-6 text-gray-400"}):a.jsx(Mt,{className:"w-6 h-6 text-gray-400"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.type==="movie"?a.jsx(Nt,{className:"w-4 h-4 text-violet-400"}):a.jsx(Mt,{className:"w-4 h-4 text-violet-400"}),a.jsx("h3",{className:"text-white font-semibold",children:d.title}),a.jsxs("span",{className:"text-gray-400",children:["(",d.year,")"]})]}),a.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[a.jsx(Pl,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:c(d.createdAt)})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>{r(d),t()},className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-sm font-medium",children:n("history.load")}),a.jsx("button",{onClick:()=>l(d.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(ti,{className:"w-4 h-4"})})]})]})},d.id))})})]})}):null}function Hm(){const{t:e,language:t}=yt(),[r,n]=ne.useState(""),[s,i]=ne.useState(!1),[l,o]=ne.useState(null),[c,d]=ne.useState(null),[b,g]=ne.useState(null),[x,p]=ne.useState(null),[w,h]=ne.useState(null),[j,u]=ne.useState(!1),[f,v]=ne.useState(!1),[_,N]=ne.useState(!1),[D,A]=ne.useState(null),[S,$]=ne.useState(!1),[H,ee]=ne.useState(null);ne.useEffect(()=>{const I=localStorage.getItem("tmdb_api_key");I&&(n(I),pe.setApiKey(I))},[]);const M=I=>{n(I),localStorage.setItem("tmdb_api_key",I),pe.setApiKey(I)},U=I=>{A(I)},y=async I=>{o(I),d(null),g(null),p(null),ee(I.poster_path),v(!0);try{if(I.media_type==="movie"){const[L,ie]=await Promise.all([pe.getMovie(I.id,t),pe.getMovieCredits(I.id,t)]);d(L),p(ie)}else if(I.media_type==="tv"){const[L,ie]=await Promise.all([pe.getTVShow(I.id,t),pe.getTVCredits(I.id,t)]);g(L),p(ie)}N(!0)}catch(L){console.error("Erreur lors du chargement des détails:",L)}v(!1)},V=()=>{N(!1),u(!0)},re=()=>{N(!1),E()},G=ne.useCallback((I,L)=>!l||!c&&!b||!x?null:{type:l.media_type,title:(c==null?void 0:c.title)||(b==null?void 0:b.name)||"",year:c?new Date(c.release_date).getFullYear():b?new Date(b.first_air_date).getFullYear():0,poster:L,movieData:c?{...c,poster_path:L}:void 0,tvShowData:b?{...b,poster_path:L}:void 0,credits:x,torrentSpecs:I},[l,c,b,x]),R=I=>{h(I),u(!1),A(null),["temp_media_data","temp_nfo_content"].forEach(ie=>localStorage.removeItem(ie));const L=G(I,H);L&&Mr.addItem(L),window.scrollTo({top:0,behavior:"smooth"})},z=()=>{u(!1),N(!0)},E=ne.useCallback(()=>{o(null),d(null),g(null),p(null),h(null),u(!1),N(!1),A(null),ee(null),["temp_media_data","temp_nfo_content","temp_movie_data","temp_tv_data"].forEach(I=>localStorage.removeItem(I))},[]),P=I=>{var ie,de,ae,le,he,ge,Fe,Me,m,W,B,C;const L={id:((ie=I.movieData)==null?void 0:ie.id)||((de=I.tvShowData)==null?void 0:de.id)||0,title:(ae=I.movieData)==null?void 0:ae.title,name:(le=I.tvShowData)==null?void 0:le.name,media_type:I.type,poster_path:I.poster,backdrop_path:((he=I.movieData)==null?void 0:he.backdrop_path)||((ge=I.tvShowData)==null?void 0:ge.backdrop_path)||null,release_date:(Fe=I.movieData)==null?void 0:Fe.release_date,first_air_date:(Me=I.tvShowData)==null?void 0:Me.first_air_date,vote_average:((m=I.movieData)==null?void 0:m.vote_average)||((W=I.tvShowData)==null?void 0:W.vote_average)||0,overview:((B=I.movieData)==null?void 0:B.overview)||((C=I.tvShowData)==null?void 0:C.overview)||""};o(L),d(I.movieData||null),g(I.tvShowData||null),p(I.credits),h(I.torrentSpecs),ee(I.poster),u(!1),N(!1),A(null)},T=I=>{if(ee(I),l&&o({...l,poster_path:I}),w){const L=G(w,I);L&&Mr.addItem(L)}};ne.useCallback(()=>{N(!0)},[]);const q=I=>{if(b){const L=b.seasons.find(ie=>ie.season_number===I);if(L){const ie={...b,name:`${b.name} - ${L.name}`,overview:L.overview||b.overview,poster_path:L.poster_path||b.poster_path,first_air_date:L.air_date||b.first_air_date,number_of_episodes:L.episode_count,selectedSeason:L};g(ie),ee(L.poster_path||b.poster_path),N(!1),u(!0)}}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 relative overflow-hidden flex flex-col",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-400/20 via-transparent to-transparent pointer-events-none"}),a.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl animate-pulse pointer-events-none"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl animate-pulse delay-1000 pointer-events-none"}),a.jsx("header",{className:"border-b border-white/10 bg-black/30 backdrop-blur-md sticky top-0 z-40",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("a",{href:"/fichegen/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer",onClick:()=>window.location.reload(),children:[a.jsx("div",{className:"p-2 bg-violet-600 rounded-xl",children:a.jsx(Dp,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:e("header.title")}),a.jsx("p",{className:"text-gray-400 text-sm",children:e("header.subtitle")})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Bm,{}),a.jsxs("button",{onClick:()=>$(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors",children:[a.jsx(La,{className:"w-4 h-4"}),a.jsx("span",{children:e("history.button")})]}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors",children:[a.jsx(Lp,{className:"w-4 h-4"}),a.jsx("span",{children:"API"})]})]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8 relative z-10 flex-1",children:[!_&&!j&&!l&&a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-violet-400 via-purple-400 to-blue-400 bg-clip-text text-transparent mb-6 leading-tight",children:[e("app.create"),a.jsx("br",{}),a.jsx("span",{className:"text-4xl md:text-5xl",children:e("app.professional")})]}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-violet-500 to-blue-500 mx-auto mb-6 rounded-full"})]}),a.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:e("app.description")})]}),a.jsx(_m,{onResultSelect:y,onTechnicalSpecsFound:U,apiKey:r,language:t})]}),f&&a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"inline-flex items-center space-x-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-500"}),a.jsx("span",{className:"text-white text-lg",children:e("app.loading")})]})}),j&&l&&!_&&a.jsxs("div",{className:"mb-8",children:[D&&a.jsx("div",{className:"mb-6 bg-green-500/10 border border-green-500/30 rounded-xl p-4",children:a.jsxs("p",{className:"text-green-300",children:[a.jsx("strong",{children:e("app.specs.detected")})," ",e("app.specs.message")]})}),a.jsx(Om,{onSave:R,onCancel:z,initialSpecs:D||(w?{video:w.video,audio:w.audio,subtitles:w.subtitles,source:w.source,releaseGroup:w.releaseGroup}:void 0)})]}),_&&l&&!f&&!j&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[l.media_type==="movie"?a.jsx(Nt,{className:"w-6 h-6 text-violet-400"}):a.jsx(Mt,{className:"w-6 h-6 text-violet-400"}),a.jsx("h3",{className:"text-2xl font-bold text-white",children:e("app.preview.title")})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:re,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.preview.change")}),a.jsx("button",{onClick:V,className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:e("app.preview.continue")})]})]}),a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 mb-6",children:a.jsxs("p",{className:"text-blue-300",children:[a.jsx("strong",{children:e("app.preview.check")})," ",e("app.preview.verify")]})}),c&&x&&a.jsx(ic,{movie:c,credits:x,isPreview:!0,selectedPoster:H,onPosterChange:T}),b&&x&&a.jsx(ac,{tvShow:b,credits:x,isPreview:!0,selectedPoster:H,onPosterChange:T,onSeasonSelect:q})]}),l&&!f&&!j&&!_&&w&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[l.media_type==="movie"?a.jsx(Nt,{className:"w-6 h-6 text-violet-400"}):a.jsx(Mt,{className:"w-6 h-6 text-violet-400"}),a.jsx("h3",{className:"text-2xl font-bold text-white",children:e("app.sheet.generated")})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors",children:e("app.sheet.edit.specs")}),a.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.sheet.new")})]})]}),c&&x&&a.jsx(ic,{movie:c,credits:x,torrentSpecs:w,selectedPoster:H,onPosterChange:T}),b&&x&&a.jsx(ac,{tvShow:b,credits:x,torrentSpecs:w,selectedPoster:H,onPosterChange:T})]}),!l&&!f&&!j&&!_&&a.jsxs("div",{className:"text-center py-20",children:[a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"flex justify-center space-x-6 mb-8",children:[a.jsx("div",{className:"p-6 bg-gradient-to-br from-violet-500/20 to-purple-600/20 rounded-3xl backdrop-blur-sm border border-violet-400/20 shadow-2xl",children:a.jsx(Nt,{className:"w-16 h-16 text-violet-400"})}),a.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-500/20 to-cyan-600/20 rounded-3xl backdrop-blur-sm border border-blue-400/20 shadow-2xl",children:a.jsx(Mt,{className:"w-16 h-16 text-blue-400"})})]}),a.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-4",children:e("app.ready.title")}),a.jsx("p",{className:"text-gray-300 text-lg max-w-lg mx-auto",children:e("app.ready.description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 backdrop-blur-sm border border-green-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-green-400/30",children:a.jsx("span",{className:"text-green-400 text-3xl font-bold",children:"1"})}),a.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step1")}),a.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step1.desc")})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-600/10 backdrop-blur-sm border border-blue-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400/20 to-cyan-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-blue-400/30",children:a.jsx("span",{className:"text-blue-400 text-3xl font-bold",children:"2"})}),a.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step2")}),a.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step2.desc")})]}),a.jsxs("div",{className:"bg-gradient-to-br from-violet-500/10 to-purple-600/10 backdrop-blur-sm border border-violet-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-400/20 to-purple-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-violet-400/30",children:a.jsx("span",{className:"text-violet-400 text-3xl font-bold",children:"3"})}),a.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step3")}),a.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step3.desc")})]})]})]})]}),a.jsx("footer",{className:"border-t border-white/10 bg-black/30 backdrop-blur-md mt-auto relative",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-gray-300 text-sm font-medium",children:e("footer.version")})})})}),a.jsx(Lm,{isOpen:s,onClose:()=>i(!1),onSave:M,currentApiKey:r}),a.jsx(Um,{isOpen:S,onClose:()=>$(!1),onSelectItem:P})]})}function Vm(){return a.jsx(wm,{children:a.jsx(Hm,{})})}Cd(document.getElementById("root")).render(a.jsx(ne.StrictMode,{children:a.jsx(Vm,{})}));
