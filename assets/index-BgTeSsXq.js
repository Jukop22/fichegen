var pf=Object.defineProperty;var gf=(e,t,r)=>t in e?pf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ns=(e,t,r)=>gf(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ac(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tc={exports:{}},ui={},zc={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn=Symbol.for("react.element"),xf=Symbol.for("react.portal"),vf=Symbol.for("react.fragment"),yf=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),wf=Symbol.for("react.provider"),Nf=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),kf=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy"),to=Symbol.iterator;function Sf(e){return e===null||typeof e!="object"?null:(e=to&&e[to]||e["@@iterator"],typeof e=="function"?e:null)}var $c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mc=Object.assign,Pc={};function sn(e,t,r){this.props=e,this.context=t,this.refs=Pc,this.updater=r||$c}sn.prototype.isReactComponent={};sn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fc(){}Fc.prototype=sn.prototype;function Ya(e,t,r){this.props=e,this.context=t,this.refs=Pc,this.updater=r||$c}var Xa=Ya.prototype=new Fc;Xa.constructor=Ya;Mc(Xa,sn.prototype);Xa.isPureReactComponent=!0;var ro=Array.isArray,Rc=Object.prototype.hasOwnProperty,Ja={current:null},Bc={key:!0,ref:!0,__self:!0,__source:!0};function Lc(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Rc.call(t,n)&&!Bc.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),m=0;m<o;m++)c[m]=arguments[m+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Zn,type:e,key:a,ref:l,props:i,_owner:Ja.current}}function Ef(e,t){return{$$typeof:Zn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function el(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zn}function Df(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var no=/\/+/g;function Ei(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Df(""+e.key):t.toString(36)}function ks(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Zn:case xf:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+Ei(l,0):n,ro(i)?(r="",e!=null&&(r=e.replace(no,"$&/")+"/"),ks(i,t,r,"",function(m){return m})):i!=null&&(el(i)&&(i=Ef(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(no,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",ro(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Ei(a,o);l+=ks(a,t,r,c,i)}else if(c=Sf(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Ei(a,o++),l+=ks(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function is(e,t,r){if(e==null)return e;var n=[],i=0;return ks(e,n,"","",function(a){return t.call(r,a,i++)}),n}function If(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},Cs={transition:null},Af={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:Ja};function Oc(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:is,forEach:function(e,t,r){is(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return is(e,function(){t++}),t},toArray:function(e){return is(e,function(t){return t})||[]},only:function(e){if(!el(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=sn;ue.Fragment=vf;ue.Profiler=bf;ue.PureComponent=Ya;ue.StrictMode=yf;ue.Suspense=_f;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Af;ue.act=Oc;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Mc({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Ja.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Rc.call(t,c)&&!Bc.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var m=0;m<c;m++)o[m]=arguments[m+2];n.children=o}return{$$typeof:Zn,type:e.type,key:i,ref:a,props:n,_owner:l}};ue.createContext=function(e){return e={$$typeof:Nf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wf,_context:e},e.Consumer=e};ue.createElement=Lc;ue.createFactory=function(e){var t=Lc.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:jf,render:e}};ue.isValidElement=el;ue.lazy=function(e){return{$$typeof:Cf,_payload:{_status:-1,_result:e},_init:If}};ue.memo=function(e,t){return{$$typeof:kf,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Cs.transition;Cs.transition={};try{e()}finally{Cs.transition=t}};ue.unstable_act=Oc;ue.useCallback=function(e,t){return Ke.current.useCallback(e,t)};ue.useContext=function(e){return Ke.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};ue.useEffect=function(e,t){return Ke.current.useEffect(e,t)};ue.useId=function(){return Ke.current.useId()};ue.useImperativeHandle=function(e,t,r){return Ke.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return Ke.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return Ke.current.useReducer(e,t,r)};ue.useRef=function(e){return Ke.current.useRef(e)};ue.useState=function(e){return Ke.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return Ke.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return Ke.current.useTransition()};ue.version="18.3.1";zc.exports=ue;var te=zc.exports;const Ue=Ac(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=te,zf=Symbol.for("react.element"),$f=Symbol.for("react.fragment"),Mf=Object.prototype.hasOwnProperty,Pf=Tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ff={key:!0,ref:!0,__self:!0,__source:!0};function Uc(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Mf.call(t,n)&&!Ff.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:zf,type:e,key:a,ref:l,props:i,_owner:Pf.current}}ui.Fragment=$f;ui.jsx=Uc;ui.jsxs=Uc;Tc.exports=ui;var s=Tc.exports,Hc={exports:{}},at={},Vc={exports:{}},Gc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,A){var I=P.length;P.push(A);e:for(;0<I;){var M=I-1>>>1,z=P[M];if(0<i(z,A))P[M]=A,P[I]=z,I=M;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var A=P[0],I=P.pop();if(I!==A){P[0]=I;e:for(var M=0,z=P.length,Q=z>>>1;M<Q;){var O=2*(M+1)-1,W=P[O],ie=O+1,de=P[ie];if(0>i(W,I))ie<z&&0>i(de,W)?(P[M]=de,P[ie]=I,M=ie):(P[M]=W,P[O]=I,M=O);else if(ie<z&&0>i(de,I))P[M]=de,P[ie]=I,M=ie;else break e}}return A}function i(P,A){var I=P.sortIndex-A.sortIndex;return I!==0?I:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],m=[],y=1,u=null,g=3,h=!1,N=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var A=r(m);A!==null;){if(A.callback===null)n(m);else if(A.startTime<=P)n(m),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(m)}}function j(P){if(p=!1,v(P),!N)if(r(c)!==null)N=!0,ne(_);else{var A=r(m);A!==null&&q(j,A.startTime-P)}}function _(P,A){N=!1,p&&(p=!1,d(k),k=-1),h=!0;var I=g;try{for(v(A),u=r(c);u!==null&&(!(u.expirationTime>A)||P&&!Z());){var M=u.callback;if(typeof M=="function"){u.callback=null,g=u.priorityLevel;var z=M(u.expirationTime<=A);A=e.unstable_now(),typeof z=="function"?u.callback=z:u===r(c)&&n(c),v(A)}else n(c);u=r(c)}if(u!==null)var Q=!0;else{var O=r(m);O!==null&&q(j,O.startTime-A),Q=!1}return Q}finally{u=null,g=I,h=!1}}var S=!1,E=null,k=-1,$=5,U=-1;function Z(){return!(e.unstable_now()-U<$)}function T(){if(E!==null){var P=e.unstable_now();U=P;var A=!0;try{A=E(!0,P)}finally{A?L():(S=!1,E=null)}}else S=!1}var L;if(typeof f=="function")L=function(){f(T)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,G=b.port2;b.port1.onmessage=T,L=function(){G.postMessage(null)}}else L=function(){w(T,0)};function ne(P){E=P,S||(S=!0,L())}function q(P,A){k=w(function(){P(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){N||h||(N=!0,ne(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var I=g;g=A;try{return P()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=g;g=P;try{return A()}finally{g=I}},e.unstable_scheduleCallback=function(P,A,I){var M=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?M+I:M):I=M,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=I+z,P={id:y++,callback:A,priorityLevel:P,startTime:I,expirationTime:z,sortIndex:-1},I>M?(P.sortIndex=I,t(m,P),r(c)===null&&P===r(m)&&(p?(d(k),k=-1):p=!0,q(j,I-M))):(P.sortIndex=z,t(c,P),N||h||(N=!0,ne(_))),P},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(P){var A=g;return function(){var I=g;g=A;try{return P.apply(this,arguments)}finally{g=I}}}})(Gc);Vc.exports=Gc;var Rf=Vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=te,it=Rf;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wc=new Set,Tn={};function _r(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Tn[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=Object.prototype.hasOwnProperty,Lf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,so={},io={};function Of(e){return ra.call(io,e)?!0:ra.call(so,e)?!1:Lf.test(e)?io[e]=!0:(so[e]=!0,!1)}function Uf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hf(e,t,r,n){if(t===null||typeof t>"u"||Uf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var tl=/[\-:]([a-z])/g;function rl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tl,rl);Re[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tl,rl);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tl,rl);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function nl(e,t,r,n){var i=Re.hasOwnProperty(t)?Re[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hf(t,r,i,n)&&(r=null),n||i===null?Of(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Lt=Bf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),Sr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),sl=Symbol.for("react.strict_mode"),na=Symbol.for("react.profiler"),qc=Symbol.for("react.provider"),Kc=Symbol.for("react.context"),il=Symbol.for("react.forward_ref"),sa=Symbol.for("react.suspense"),ia=Symbol.for("react.suspense_list"),al=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),ao=Symbol.iterator;function un(e){return e===null||typeof e!="object"?null:(e=ao&&e[ao]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Di;function yn(e){if(Di===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Di=t&&t[1]||""}return`
`+Di+e}var Ii=!1;function Ai(e,t){if(!e||Ii)return"";Ii=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var n=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){n=m}e.call(t.prototype)}else{try{throw Error()}catch(m){n=m}e()}}catch(m){if(m&&n&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Ii=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?yn(e):""}function Vf(e){switch(e.tag){case 5:return yn(e.type);case 16:return yn("Lazy");case 13:return yn("Suspense");case 19:return yn("SuspenseList");case 0:case 2:case 15:return e=Ai(e.type,!1),e;case 11:return e=Ai(e.type.render,!1),e;case 1:return e=Ai(e.type,!0),e;default:return""}}function aa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Er:return"Fragment";case Sr:return"Portal";case na:return"Profiler";case sl:return"StrictMode";case sa:return"Suspense";case ia:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kc:return(e.displayName||"Context")+".Consumer";case qc:return(e._context.displayName||"Context")+".Provider";case il:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case al:return t=e.displayName||null,t!==null?t:aa(e.type)||"Memo";case Vt:t=e._payload,e=e._init;try{return aa(e(t))}catch{}}return null}function Gf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aa(t);case 8:return t===sl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wf(e){var t=Zc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){e._valueTracker||(e._valueTracker=Wf(e))}function Yc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Zc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function la(e,t){var r=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lo(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=sr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xc(e,t){t=t.checked,t!=null&&nl(e,"checked",t,!1)}function oa(e,t){Xc(e,t);var r=sr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ca(e,t.type,r):t.hasOwnProperty("defaultValue")&&ca(e,t.type,sr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ca(e,t,r){(t!=="number"||Fs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bn=Array.isArray;function Br(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+sr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ua(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function co(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(bn(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:sr(r)}}function Jc(e,t){var r=sr(t.value),n=sr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function uo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function da(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var os,tu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qf=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(e){qf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jn[t]=jn[e]})});function ru(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jn.hasOwnProperty(e)&&jn[e]?(""+t).trim():t+"px"}function nu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ru(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Kf=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fa(e,t){if(t){if(Kf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ma=null;function ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pa=null,Lr=null,Or=null;function fo(e){if(e=Jn(e)){if(typeof pa!="function")throw Error(J(280));var t=e.stateNode;t&&(t=pi(t),pa(e.stateNode,e.type,t))}}function su(e){Lr?Or?Or.push(e):Or=[e]:Lr=e}function iu(){if(Lr){var e=Lr,t=Or;if(Or=Lr=null,fo(e),t)for(e=0;e<t.length;e++)fo(t[e])}}function au(e,t){return e(t)}function lu(){}var Ti=!1;function ou(e,t,r){if(Ti)return e(t,r);Ti=!0;try{return au(e,t,r)}finally{Ti=!1,(Lr!==null||Or!==null)&&(lu(),iu())}}function $n(e,t){var r=e.stateNode;if(r===null)return null;var n=pi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var ga=!1;if(Mt)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){ga=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{ga=!1}function Qf(e,t,r,n,i,a,l,o,c){var m=Array.prototype.slice.call(arguments,3);try{t.apply(r,m)}catch(y){this.onError(y)}}var _n=!1,Rs=null,Bs=!1,xa=null,Zf={onError:function(e){_n=!0,Rs=e}};function Yf(e,t,r,n,i,a,l,o,c){_n=!1,Rs=null,Qf.apply(Zf,arguments)}function Xf(e,t,r,n,i,a,l,o,c){if(Yf.apply(this,arguments),_n){if(_n){var m=Rs;_n=!1,Rs=null}else throw Error(J(198));Bs||(Bs=!0,xa=m)}}function kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ho(e){if(kr(e)!==e)throw Error(J(188))}function Jf(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return ho(i),e;if(a===n)return ho(i),t;a=a.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function uu(e){return e=Jf(e),e!==null?du(e):null}function du(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=du(e);if(t!==null)return t;e=e.sibling}return null}var fu=it.unstable_scheduleCallback,mo=it.unstable_cancelCallback,eh=it.unstable_shouldYield,th=it.unstable_requestPaint,Se=it.unstable_now,rh=it.unstable_getCurrentPriorityLevel,ol=it.unstable_ImmediatePriority,hu=it.unstable_UserBlockingPriority,Ls=it.unstable_NormalPriority,nh=it.unstable_LowPriority,mu=it.unstable_IdlePriority,di=null,Ct=null;function sh(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(di,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:lh,ih=Math.log,ah=Math.LN2;function lh(e){return e>>>=0,e===0?32:31-(ih(e)/ah|0)|0}var cs=64,us=4194304;function wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Os(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~i;o!==0?n=wn(o):(a&=l,a!==0&&(n=wn(a)))}else l=r&~i,l!==0?n=wn(l):a!==0&&(n=wn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-vt(t),i=1<<r,n|=e[r],t&=~i;return n}function oh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ch(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-vt(a),o=1<<l,c=i[l];c===-1?(!(o&r)||o&n)&&(i[l]=oh(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pu(){var e=cs;return cs<<=1,!(cs&4194240)&&(cs=64),e}function zi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=r}function uh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-vt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function cl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-vt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ge=0;function gu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xu,ul,vu,yu,bu,ya=!1,ds=[],Zt=null,Yt=null,Xt=null,Mn=new Map,Pn=new Map,Wt=[],dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function po(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":Mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(t.pointerId)}}function fn(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Jn(t),t!==null&&ul(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fh(e,t,r,n,i){switch(t){case"focusin":return Zt=fn(Zt,e,t,r,n,i),!0;case"dragenter":return Yt=fn(Yt,e,t,r,n,i),!0;case"mouseover":return Xt=fn(Xt,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Mn.set(a,fn(Mn.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Pn.set(a,fn(Pn.get(a)||null,e,t,r,n,i)),!0}return!1}function wu(e){var t=dr(e.target);if(t!==null){var r=kr(t);if(r!==null){if(t=r.tag,t===13){if(t=cu(r),t!==null){e.blockedOn=t,bu(e.priority,function(){vu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ba(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ma=n,r.target.dispatchEvent(n),ma=null}else return t=Jn(r),t!==null&&ul(t),e.blockedOn=r,!1;t.shift()}return!0}function go(e,t,r){Ss(e)&&r.delete(t)}function hh(){ya=!1,Zt!==null&&Ss(Zt)&&(Zt=null),Yt!==null&&Ss(Yt)&&(Yt=null),Xt!==null&&Ss(Xt)&&(Xt=null),Mn.forEach(go),Pn.forEach(go)}function hn(e,t){e.blockedOn===t&&(e.blockedOn=null,ya||(ya=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,hh)))}function Fn(e){function t(i){return hn(i,e)}if(0<ds.length){hn(ds[0],e);for(var r=1;r<ds.length;r++){var n=ds[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zt!==null&&hn(Zt,e),Yt!==null&&hn(Yt,e),Xt!==null&&hn(Xt,e),Mn.forEach(t),Pn.forEach(t),r=0;r<Wt.length;r++)n=Wt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wt.length&&(r=Wt[0],r.blockedOn===null);)wu(r),r.blockedOn===null&&Wt.shift()}var Ur=Lt.ReactCurrentBatchConfig,Us=!0;function mh(e,t,r,n){var i=ge,a=Ur.transition;Ur.transition=null;try{ge=1,dl(e,t,r,n)}finally{ge=i,Ur.transition=a}}function ph(e,t,r,n){var i=ge,a=Ur.transition;Ur.transition=null;try{ge=4,dl(e,t,r,n)}finally{ge=i,Ur.transition=a}}function dl(e,t,r,n){if(Us){var i=ba(e,t,r,n);if(i===null)Hi(e,t,n,Hs,r),po(e,n);else if(fh(i,e,t,r,n))n.stopPropagation();else if(po(e,n),t&4&&-1<dh.indexOf(e)){for(;i!==null;){var a=Jn(i);if(a!==null&&xu(a),a=ba(e,t,r,n),a===null&&Hi(e,t,n,Hs,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Hi(e,t,n,null,r)}}var Hs=null;function ba(e,t,r,n){if(Hs=null,e=ll(n),e=dr(e),e!==null)if(t=kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hs=e,null}function Nu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rh()){case ol:return 1;case hu:return 4;case Ls:case nh:return 16;case mu:return 536870912;default:return 16}default:return 16}}var Kt=null,fl=null,Es=null;function ju(){if(Es)return Es;var e,t=fl,r=t.length,n,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return Es=i.slice(e,1<n?1-n:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fs(){return!0}function xo(){return!1}function lt(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fs:xo,this.isPropagationStopped=xo,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=lt(an),Xn=ke({},an,{view:0,detail:0}),gh=lt(Xn),$i,Mi,mn,fi=ke({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?($i=e.screenX-mn.screenX,Mi=e.screenY-mn.screenY):Mi=$i=0,mn=e),$i)},movementY:function(e){return"movementY"in e?e.movementY:Mi}}),vo=lt(fi),xh=ke({},fi,{dataTransfer:0}),vh=lt(xh),yh=ke({},Xn,{relatedTarget:0}),Pi=lt(yh),bh=ke({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),wh=lt(bh),Nh=ke({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jh=lt(Nh),_h=ke({},an,{data:0}),yo=lt(_h),kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sh[e])?!!t[e]:!1}function ml(){return Eh}var Dh=ke({},Xn,{key:function(e){if(e.key){var t=kh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ch[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ih=lt(Dh),Ah=ke({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=lt(Ah),Th=ke({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),zh=lt(Th),$h=ke({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mh=lt($h),Ph=ke({},fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fh=lt(Ph),Rh=[9,13,27,32],pl=Mt&&"CompositionEvent"in window,kn=null;Mt&&"documentMode"in document&&(kn=document.documentMode);var Bh=Mt&&"TextEvent"in window&&!kn,_u=Mt&&(!pl||kn&&8<kn&&11>=kn),wo=" ",No=!1;function ku(e,t){switch(e){case"keyup":return Rh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Lh(e,t){switch(e){case"compositionend":return Cu(t);case"keypress":return t.which!==32?null:(No=!0,wo);case"textInput":return e=t.data,e===wo&&No?null:e;default:return null}}function Oh(e,t){if(Dr)return e==="compositionend"||!pl&&ku(e,t)?(e=ju(),Es=fl=Kt=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _u&&t.locale!=="ko"?null:t.data;default:return null}}var Uh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uh[e.type]:t==="textarea"}function Su(e,t,r,n){su(n),t=Vs(t,"onChange"),0<t.length&&(r=new hl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Cn=null,Rn=null;function Hh(e){Ru(e,0)}function hi(e){var t=Tr(e);if(Yc(t))return e}function Vh(e,t){if(e==="change")return t}var Eu=!1;if(Mt){var Fi;if(Mt){var Ri="oninput"in document;if(!Ri){var _o=document.createElement("div");_o.setAttribute("oninput","return;"),Ri=typeof _o.oninput=="function"}Fi=Ri}else Fi=!1;Eu=Fi&&(!document.documentMode||9<document.documentMode)}function ko(){Cn&&(Cn.detachEvent("onpropertychange",Du),Rn=Cn=null)}function Du(e){if(e.propertyName==="value"&&hi(Rn)){var t=[];Su(t,Rn,e,ll(e)),ou(Hh,t)}}function Gh(e,t,r){e==="focusin"?(ko(),Cn=t,Rn=r,Cn.attachEvent("onpropertychange",Du)):e==="focusout"&&ko()}function Wh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(Rn)}function qh(e,t){if(e==="click")return hi(t)}function Kh(e,t){if(e==="input"||e==="change")return hi(t)}function Qh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:Qh;function Bn(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ra.call(t,i)||!bt(e[i],t[i]))return!1}return!0}function Co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function So(e,t){var r=Co(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Co(r)}}function Iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Au(){for(var e=window,t=Fs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fs(e.document)}return t}function gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zh(e){var t=Au(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Iu(r.ownerDocument.documentElement,r)){if(n!==null&&gl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=So(r,a);var l=So(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yh=Mt&&"documentMode"in document&&11>=document.documentMode,Ir=null,wa=null,Sn=null,Na=!1;function Eo(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Na||Ir==null||Ir!==Fs(n)||(n=Ir,"selectionStart"in n&&gl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sn&&Bn(Sn,n)||(Sn=n,n=Vs(wa,"onSelect"),0<n.length&&(t=new hl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ir)))}function hs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ar={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},Bi={},Tu={};Mt&&(Tu=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function mi(e){if(Bi[e])return Bi[e];if(!Ar[e])return e;var t=Ar[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Tu)return Bi[e]=t[r];return e}var zu=mi("animationend"),$u=mi("animationiteration"),Mu=mi("animationstart"),Pu=mi("transitionend"),Fu=new Map,Do="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){Fu.set(e,t),_r(t,[e])}for(var Li=0;Li<Do.length;Li++){var Oi=Do[Li],Xh=Oi.toLowerCase(),Jh=Oi[0].toUpperCase()+Oi.slice(1);ar(Xh,"on"+Jh)}ar(zu,"onAnimationEnd");ar($u,"onAnimationIteration");ar(Mu,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(Pu,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),em=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function Io(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Xf(n,t,void 0,e),e.currentTarget=null}function Ru(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,m=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Io(i,o,m),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,m=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Io(i,o,m),a=c}}}if(Bs)throw e=xa,Bs=!1,xa=null,e}function ye(e,t){var r=t[Sa];r===void 0&&(r=t[Sa]=new Set);var n=e+"__bubble";r.has(n)||(Bu(t,e,2,!1),r.add(n))}function Ui(e,t,r){var n=0;t&&(n|=4),Bu(r,e,n,t)}var ms="_reactListening"+Math.random().toString(36).slice(2);function Ln(e){if(!e[ms]){e[ms]=!0,Wc.forEach(function(r){r!=="selectionchange"&&(em.has(r)||Ui(r,!1,e),Ui(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ms]||(t[ms]=!0,Ui("selectionchange",!1,t))}}function Bu(e,t,r,n){switch(Nu(t)){case 1:var i=mh;break;case 4:i=ph;break;default:i=dl}r=i.bind(null,t,r,e),i=void 0,!ga||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Hi(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=dr(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}ou(function(){var m=a,y=ll(r),u=[];e:{var g=Fu.get(e);if(g!==void 0){var h=hl,N=e;switch(e){case"keypress":if(Ds(r)===0)break e;case"keydown":case"keyup":h=Ih;break;case"focusin":N="focus",h=Pi;break;case"focusout":N="blur",h=Pi;break;case"beforeblur":case"afterblur":h=Pi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zh;break;case zu:case $u:case Mu:h=wh;break;case Pu:h=Mh;break;case"scroll":h=gh;break;case"wheel":h=Fh;break;case"copy":case"cut":case"paste":h=jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=bo}var p=(t&4)!==0,w=!p&&e==="scroll",d=p?g!==null?g+"Capture":null:g;p=[];for(var f=m,v;f!==null;){v=f;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,d!==null&&(j=$n(f,d),j!=null&&p.push(On(f,j,v)))),w)break;f=f.return}0<p.length&&(g=new h(g,N,null,r,y),u.push({event:g,listeners:p}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",g&&r!==ma&&(N=r.relatedTarget||r.fromElement)&&(dr(N)||N[Pt]))break e;if((h||g)&&(g=y.window===y?y:(g=y.ownerDocument)?g.defaultView||g.parentWindow:window,h?(N=r.relatedTarget||r.toElement,h=m,N=N?dr(N):null,N!==null&&(w=kr(N),N!==w||N.tag!==5&&N.tag!==6)&&(N=null)):(h=null,N=m),h!==N)){if(p=vo,j="onMouseLeave",d="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(p=bo,j="onPointerLeave",d="onPointerEnter",f="pointer"),w=h==null?g:Tr(h),v=N==null?g:Tr(N),g=new p(j,f+"leave",h,r,y),g.target=w,g.relatedTarget=v,j=null,dr(y)===m&&(p=new p(d,f+"enter",N,r,y),p.target=v,p.relatedTarget=w,j=p),w=j,h&&N)t:{for(p=h,d=N,f=0,v=p;v;v=Cr(v))f++;for(v=0,j=d;j;j=Cr(j))v++;for(;0<f-v;)p=Cr(p),f--;for(;0<v-f;)d=Cr(d),v--;for(;f--;){if(p===d||d!==null&&p===d.alternate)break t;p=Cr(p),d=Cr(d)}p=null}else p=null;h!==null&&Ao(u,g,h,p,!1),N!==null&&w!==null&&Ao(u,w,N,p,!0)}}e:{if(g=m?Tr(m):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var _=Vh;else if(jo(g))if(Eu)_=Kh;else{_=Wh;var S=Gh}else(h=g.nodeName)&&h.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=qh);if(_&&(_=_(e,m))){Su(u,_,r,y);break e}S&&S(e,g,m),e==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&ca(g,"number",g.value)}switch(S=m?Tr(m):window,e){case"focusin":(jo(S)||S.contentEditable==="true")&&(Ir=S,wa=m,Sn=null);break;case"focusout":Sn=wa=Ir=null;break;case"mousedown":Na=!0;break;case"contextmenu":case"mouseup":case"dragend":Na=!1,Eo(u,r,y);break;case"selectionchange":if(Yh)break;case"keydown":case"keyup":Eo(u,r,y)}var E;if(pl)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Dr?ku(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(_u&&r.locale!=="ko"&&(Dr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Dr&&(E=ju()):(Kt=y,fl="value"in Kt?Kt.value:Kt.textContent,Dr=!0)),S=Vs(m,k),0<S.length&&(k=new yo(k,e,null,r,y),u.push({event:k,listeners:S}),E?k.data=E:(E=Cu(r),E!==null&&(k.data=E)))),(E=Bh?Lh(e,r):Oh(e,r))&&(m=Vs(m,"onBeforeInput"),0<m.length&&(y=new yo("onBeforeInput","beforeinput",null,r,y),u.push({event:y,listeners:m}),y.data=E))}Ru(u,t)})}function On(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vs(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$n(e,r),a!=null&&n.unshift(On(e,a,i)),a=$n(e,t),a!=null&&n.push(On(e,a,i))),e=e.return}return n}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ao(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,m=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&m!==null&&(o=m,i?(c=$n(r,a),c!=null&&l.unshift(On(r,c,o))):i||(c=$n(r,a),c!=null&&l.push(On(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var tm=/\r\n?/g,rm=/\u0000|\uFFFD/g;function To(e){return(typeof e=="string"?e:""+e).replace(tm,`
`).replace(rm,"")}function ps(e,t,r){if(t=To(t),To(e)!==t&&r)throw Error(J(425))}function Gs(){}var ja=null,_a=null;function ka(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,nm=typeof clearTimeout=="function"?clearTimeout:void 0,zo=typeof Promise=="function"?Promise:void 0,sm=typeof queueMicrotask=="function"?queueMicrotask:typeof zo<"u"?function(e){return zo.resolve(null).then(e).catch(im)}:Ca;function im(e){setTimeout(function(){throw e})}function Vi(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Fn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fn(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $o(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ln=Math.random().toString(36).slice(2),jt="__reactFiber$"+ln,Un="__reactProps$"+ln,Pt="__reactContainer$"+ln,Sa="__reactEvents$"+ln,am="__reactListeners$"+ln,lm="__reactHandles$"+ln;function dr(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pt]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$o(e);e!==null;){if(r=e[jt])return r;e=$o(e)}return t}e=r,r=e.parentNode}return null}function Jn(e){return e=e[jt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function pi(e){return e[Un]||null}var Ea=[],zr=-1;function lr(e){return{current:e}}function be(e){0>zr||(e.current=Ea[zr],Ea[zr]=null,zr--)}function ve(e,t){zr++,Ea[zr]=e.current,e.current=t}var ir={},Ve=lr(ir),Xe=lr(!1),xr=ir;function Qr(e,t){var r=e.type.contextTypes;if(!r)return ir;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Je(e){return e=e.childContextTypes,e!=null}function Ws(){be(Xe),be(Ve)}function Mo(e,t,r){if(Ve.current!==ir)throw Error(J(168));ve(Ve,t),ve(Xe,r)}function Lu(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(J(108,Gf(e)||"Unknown",i));return ke({},r,n)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ir,xr=Ve.current,ve(Ve,e),ve(Xe,Xe.current),!0}function Po(e,t,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=Lu(e,t,xr),n.__reactInternalMemoizedMergedChildContext=e,be(Xe),be(Ve),ve(Ve,e)):be(Xe),ve(Xe,r)}var It=null,gi=!1,Gi=!1;function Ou(e){It===null?It=[e]:It.push(e)}function om(e){gi=!0,Ou(e)}function or(){if(!Gi&&It!==null){Gi=!0;var e=0,t=ge;try{var r=It;for(ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}It=null,gi=!1}catch(i){throw It!==null&&(It=It.slice(e+1)),fu(ol,or),i}finally{ge=t,Gi=!1}}return null}var $r=[],Mr=0,Ks=null,Qs=0,ot=[],ct=0,vr=null,At=1,Tt="";function cr(e,t){$r[Mr++]=Qs,$r[Mr++]=Ks,Ks=e,Qs=t}function Uu(e,t,r){ot[ct++]=At,ot[ct++]=Tt,ot[ct++]=vr,vr=e;var n=At;e=Tt;var i=32-vt(n)-1;n&=~(1<<i),r+=1;var a=32-vt(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,At=1<<32-vt(t)+i|r<<i|n,Tt=a+e}else At=1<<a|r<<i|n,Tt=e}function xl(e){e.return!==null&&(cr(e,1),Uu(e,1,0))}function vl(e){for(;e===Ks;)Ks=$r[--Mr],$r[Mr]=null,Qs=$r[--Mr],$r[Mr]=null;for(;e===vr;)vr=ot[--ct],ot[ct]=null,Tt=ot[--ct],ot[ct]=null,At=ot[--ct],ot[ct]=null}var st=null,nt=null,we=!1,xt=null;function Hu(e,t){var r=ut(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Fo(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,nt=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vr!==null?{id:At,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ut(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,st=e,nt=null,!0):!1;default:return!1}}function Da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ia(e){if(we){var t=nt;if(t){var r=t;if(!Fo(e,t)){if(Da(e))throw Error(J(418));t=Jt(r.nextSibling);var n=st;t&&Fo(e,t)?Hu(n,r):(e.flags=e.flags&-4097|2,we=!1,st=e)}}else{if(Da(e))throw Error(J(418));e.flags=e.flags&-4097|2,we=!1,st=e}}}function Ro(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function gs(e){if(e!==st)return!1;if(!we)return Ro(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ka(e.type,e.memoizedProps)),t&&(t=nt)){if(Da(e))throw Vu(),Error(J(418));for(;t;)Hu(e,t),t=Jt(t.nextSibling)}if(Ro(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nt=Jt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=st?Jt(e.stateNode.nextSibling):null;return!0}function Vu(){for(var e=nt;e;)e=Jt(e.nextSibling)}function Zr(){nt=st=null,we=!1}function yl(e){xt===null?xt=[e]:xt.push(e)}var cm=Lt.ReactCurrentBatchConfig;function pn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bo(e){var t=e._init;return t(e._payload)}function Gu(e){function t(d,f){if(e){var v=d.deletions;v===null?(d.deletions=[f],d.flags|=16):v.push(f)}}function r(d,f){if(!e)return null;for(;f!==null;)t(d,f),f=f.sibling;return null}function n(d,f){for(d=new Map;f!==null;)f.key!==null?d.set(f.key,f):d.set(f.index,f),f=f.sibling;return d}function i(d,f){return d=nr(d,f),d.index=0,d.sibling=null,d}function a(d,f,v){return d.index=v,e?(v=d.alternate,v!==null?(v=v.index,v<f?(d.flags|=2,f):v):(d.flags|=2,f)):(d.flags|=1048576,f)}function l(d){return e&&d.alternate===null&&(d.flags|=2),d}function o(d,f,v,j){return f===null||f.tag!==6?(f=Xi(v,d.mode,j),f.return=d,f):(f=i(f,v),f.return=d,f)}function c(d,f,v,j){var _=v.type;return _===Er?y(d,f,v.props.children,j,v.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Vt&&Bo(_)===f.type)?(j=i(f,v.props),j.ref=pn(d,f,v),j.return=d,j):(j=Ps(v.type,v.key,v.props,null,d.mode,j),j.ref=pn(d,f,v),j.return=d,j)}function m(d,f,v,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Ji(v,d.mode,j),f.return=d,f):(f=i(f,v.children||[]),f.return=d,f)}function y(d,f,v,j,_){return f===null||f.tag!==7?(f=gr(v,d.mode,j,_),f.return=d,f):(f=i(f,v),f.return=d,f)}function u(d,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Xi(""+f,d.mode,v),f.return=d,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case as:return v=Ps(f.type,f.key,f.props,null,d.mode,v),v.ref=pn(d,null,f),v.return=d,v;case Sr:return f=Ji(f,d.mode,v),f.return=d,f;case Vt:var j=f._init;return u(d,j(f._payload),v)}if(bn(f)||un(f))return f=gr(f,d.mode,v,null),f.return=d,f;xs(d,f)}return null}function g(d,f,v,j){var _=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:o(d,f,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case as:return v.key===_?c(d,f,v,j):null;case Sr:return v.key===_?m(d,f,v,j):null;case Vt:return _=v._init,g(d,f,_(v._payload),j)}if(bn(v)||un(v))return _!==null?null:y(d,f,v,j,null);xs(d,v)}return null}function h(d,f,v,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return d=d.get(v)||null,o(f,d,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case as:return d=d.get(j.key===null?v:j.key)||null,c(f,d,j,_);case Sr:return d=d.get(j.key===null?v:j.key)||null,m(f,d,j,_);case Vt:var S=j._init;return h(d,f,v,S(j._payload),_)}if(bn(j)||un(j))return d=d.get(v)||null,y(f,d,j,_,null);xs(f,j)}return null}function N(d,f,v,j){for(var _=null,S=null,E=f,k=f=0,$=null;E!==null&&k<v.length;k++){E.index>k?($=E,E=null):$=E.sibling;var U=g(d,E,v[k],j);if(U===null){E===null&&(E=$);break}e&&E&&U.alternate===null&&t(d,E),f=a(U,f,k),S===null?_=U:S.sibling=U,S=U,E=$}if(k===v.length)return r(d,E),we&&cr(d,k),_;if(E===null){for(;k<v.length;k++)E=u(d,v[k],j),E!==null&&(f=a(E,f,k),S===null?_=E:S.sibling=E,S=E);return we&&cr(d,k),_}for(E=n(d,E);k<v.length;k++)$=h(E,d,k,v[k],j),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?k:$.key),f=a($,f,k),S===null?_=$:S.sibling=$,S=$);return e&&E.forEach(function(Z){return t(d,Z)}),we&&cr(d,k),_}function p(d,f,v,j){var _=un(v);if(typeof _!="function")throw Error(J(150));if(v=_.call(v),v==null)throw Error(J(151));for(var S=_=null,E=f,k=f=0,$=null,U=v.next();E!==null&&!U.done;k++,U=v.next()){E.index>k?($=E,E=null):$=E.sibling;var Z=g(d,E,U.value,j);if(Z===null){E===null&&(E=$);break}e&&E&&Z.alternate===null&&t(d,E),f=a(Z,f,k),S===null?_=Z:S.sibling=Z,S=Z,E=$}if(U.done)return r(d,E),we&&cr(d,k),_;if(E===null){for(;!U.done;k++,U=v.next())U=u(d,U.value,j),U!==null&&(f=a(U,f,k),S===null?_=U:S.sibling=U,S=U);return we&&cr(d,k),_}for(E=n(d,E);!U.done;k++,U=v.next())U=h(E,d,k,U.value,j),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?k:U.key),f=a(U,f,k),S===null?_=U:S.sibling=U,S=U);return e&&E.forEach(function(T){return t(d,T)}),we&&cr(d,k),_}function w(d,f,v,j){if(typeof v=="object"&&v!==null&&v.type===Er&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case as:e:{for(var _=v.key,S=f;S!==null;){if(S.key===_){if(_=v.type,_===Er){if(S.tag===7){r(d,S.sibling),f=i(S,v.props.children),f.return=d,d=f;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Vt&&Bo(_)===S.type){r(d,S.sibling),f=i(S,v.props),f.ref=pn(d,S,v),f.return=d,d=f;break e}r(d,S);break}else t(d,S);S=S.sibling}v.type===Er?(f=gr(v.props.children,d.mode,j,v.key),f.return=d,d=f):(j=Ps(v.type,v.key,v.props,null,d.mode,j),j.ref=pn(d,f,v),j.return=d,d=j)}return l(d);case Sr:e:{for(S=v.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){r(d,f.sibling),f=i(f,v.children||[]),f.return=d,d=f;break e}else{r(d,f);break}else t(d,f);f=f.sibling}f=Ji(v,d.mode,j),f.return=d,d=f}return l(d);case Vt:return S=v._init,w(d,f,S(v._payload),j)}if(bn(v))return N(d,f,v,j);if(un(v))return p(d,f,v,j);xs(d,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(r(d,f.sibling),f=i(f,v),f.return=d,d=f):(r(d,f),f=Xi(v,d.mode,j),f.return=d,d=f),l(d)):r(d,f)}return w}var Yr=Gu(!0),Wu=Gu(!1),Zs=lr(null),Ys=null,Pr=null,bl=null;function wl(){bl=Pr=Ys=null}function Nl(e){var t=Zs.current;be(Zs),e._currentValue=t}function Aa(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hr(e,t){Ys=e,bl=Pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(bl!==e)if(e={context:e,memoizedValue:t,next:null},Pr===null){if(Ys===null)throw Error(J(308));Pr=e,Ys.dependencies={lanes:0,firstContext:e}}else Pr=Pr.next=e;return t}var fr=null;function jl(e){fr===null?fr=[e]:fr.push(e)}function qu(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,jl(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ft(e,n)}function Ft(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gt=!1;function _l(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ft(e,r)}return i=n.interleaved,i===null?(t.next=t,jl(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ft(e,r)}function Is(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cl(e,r)}}function Lo(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xs(e,t,r,n){var i=e.updateQueue;Gt=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,m=c.next;c.next=null,l===null?a=m:l.next=m,l=c;var y=e.alternate;y!==null&&(y=y.updateQueue,o=y.lastBaseUpdate,o!==l&&(o===null?y.firstBaseUpdate=m:o.next=m,y.lastBaseUpdate=c))}if(a!==null){var u=i.baseState;l=0,y=m=c=null,o=a;do{var g=o.lane,h=o.eventTime;if((n&g)===g){y!==null&&(y=y.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,p=o;switch(g=t,h=r,p.tag){case 1:if(N=p.payload,typeof N=="function"){u=N.call(h,u,g);break e}u=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=p.payload,g=typeof N=="function"?N.call(h,u,g):N,g==null)break e;u=ke({},u,g);break e;case 2:Gt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else h={eventTime:h,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},y===null?(m=y=h,c=u):y=y.next=h,l|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(y===null&&(c=u),i.baseState=c,i.firstBaseUpdate=m,i.lastBaseUpdate=y,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);br|=l,e.lanes=l,e.memoizedState=u}}function Oo(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var es={},St=lr(es),Hn=lr(es),Vn=lr(es);function hr(e){if(e===es)throw Error(J(174));return e}function kl(e,t){switch(ve(Vn,t),ve(Hn,e),ve(St,es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:da(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=da(t,e)}be(St),ve(St,t)}function Xr(){be(St),be(Hn),be(Vn)}function Qu(e){hr(Vn.current);var t=hr(St.current),r=da(t,e.type);t!==r&&(ve(Hn,e),ve(St,r))}function Cl(e){Hn.current===e&&(be(St),be(Hn))}var je=lr(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wi=[];function Sl(){for(var e=0;e<Wi.length;e++)Wi[e]._workInProgressVersionPrimary=null;Wi.length=0}var As=Lt.ReactCurrentDispatcher,qi=Lt.ReactCurrentBatchConfig,yr=0,_e=null,De=null,Te=null,ei=!1,En=!1,Gn=0,um=0;function Le(){throw Error(J(321))}function El(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bt(e[r],t[r]))return!1;return!0}function Dl(e,t,r,n,i,a){if(yr=a,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,As.current=e===null||e.memoizedState===null?mm:pm,e=r(n,i),En){a=0;do{if(En=!1,Gn=0,25<=a)throw Error(J(301));a+=1,Te=De=null,t.updateQueue=null,As.current=gm,e=r(n,i)}while(En)}if(As.current=ti,t=De!==null&&De.next!==null,yr=0,Te=De=_e=null,ei=!1,t)throw Error(J(300));return e}function Il(){var e=Gn!==0;return Gn=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?_e.memoizedState=Te=e:Te=Te.next=e,Te}function ht(){if(De===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Te===null?_e.memoizedState:Te.next;if(t!==null)Te=t,De=e;else{if(e===null)throw Error(J(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Te===null?_e.memoizedState=Te=e:Te=Te.next=e}return Te}function Wn(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=ht(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=De,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=l=null,c=null,m=a;do{var y=m.lane;if((yr&y)===y)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),n=m.hasEagerState?m.eagerState:e(n,m.action);else{var u={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(o=c=u,l=n):c=c.next=u,_e.lanes|=y,br|=y}m=m.next}while(m!==null&&m!==a);c===null?l=n:c.next=o,bt(n,t.memoizedState)||(Ye=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,_e.lanes|=a,br|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qi(e){var t=ht(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);bt(a,t.memoizedState)||(Ye=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Zu(){}function Yu(e,t){var r=_e,n=ht(),i=t(),a=!bt(n.memoizedState,i);if(a&&(n.memoizedState=i,Ye=!0),n=n.queue,Al(ed.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Te!==null&&Te.memoizedState.tag&1){if(r.flags|=2048,qn(9,Ju.bind(null,r,n,i,t),void 0,null),$e===null)throw Error(J(349));yr&30||Xu(r,t,i)}return i}function Xu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ju(e,t,r,n){t.value=r,t.getSnapshot=n,td(t)&&rd(e)}function ed(e,t,r){return r(function(){td(t)&&rd(e)})}function td(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bt(e,r)}catch{return!0}}function rd(e){var t=Ft(e,1);t!==null&&yt(t,e,1,-1)}function Uo(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:e},t.queue=e,e=e.dispatch=hm.bind(null,_e,e),[t.memoizedState,e]}function qn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function nd(){return ht().memoizedState}function Ts(e,t,r,n){var i=Nt();_e.flags|=e,i.memoizedState=qn(1|t,r,void 0,n===void 0?null:n)}function xi(e,t,r,n){var i=ht();n=n===void 0?null:n;var a=void 0;if(De!==null){var l=De.memoizedState;if(a=l.destroy,n!==null&&El(n,l.deps)){i.memoizedState=qn(t,r,a,n);return}}_e.flags|=e,i.memoizedState=qn(1|t,r,a,n)}function Ho(e,t){return Ts(8390656,8,e,t)}function Al(e,t){return xi(2048,8,e,t)}function sd(e,t){return xi(4,2,e,t)}function id(e,t){return xi(4,4,e,t)}function ad(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ld(e,t,r){return r=r!=null?r.concat([e]):null,xi(4,4,ad.bind(null,t,e),r)}function Tl(){}function od(e,t){var r=ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&El(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cd(e,t){var r=ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&El(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ud(e,t,r){return yr&21?(bt(r,t)||(r=pu(),_e.lanes|=r,br|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=r)}function dm(e,t){var r=ge;ge=r!==0&&4>r?r:4,e(!0);var n=qi.transition;qi.transition={};try{e(!1),t()}finally{ge=r,qi.transition=n}}function dd(){return ht().memoizedState}function fm(e,t,r){var n=rr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fd(e))hd(t,r);else if(r=qu(e,t,r,n),r!==null){var i=qe();yt(r,e,n,i),md(r,t,n)}}function hm(e,t,r){var n=rr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fd(e))hd(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,r);if(i.hasEagerState=!0,i.eagerState=o,bt(o,l)){var c=t.interleaved;c===null?(i.next=i,jl(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=qu(e,t,i,n),r!==null&&(i=qe(),yt(r,e,n,i),md(r,t,n))}}function fd(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function hd(e,t){En=ei=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function md(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cl(e,r)}}var ti={readContext:ft,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},mm={readContext:ft,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Ho,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ts(4194308,4,ad.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var r=Nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Nt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fm.bind(null,_e,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Uo,useDebugValue:Tl,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=dm.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_e,i=Nt();if(we){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),$e===null)throw Error(J(349));yr&30||Xu(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ho(ed.bind(null,n,a,e),[e]),n.flags|=2048,qn(9,Ju.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Nt(),t=$e.identifierPrefix;if(we){var r=Tt,n=At;r=(n&~(1<<32-vt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=um++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pm={readContext:ft,useCallback:od,useContext:ft,useEffect:Al,useImperativeHandle:ld,useInsertionEffect:sd,useLayoutEffect:id,useMemo:cd,useReducer:Ki,useRef:nd,useState:function(){return Ki(Wn)},useDebugValue:Tl,useDeferredValue:function(e){var t=ht();return ud(t,De.memoizedState,e)},useTransition:function(){var e=Ki(Wn)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Zu,useSyncExternalStore:Yu,useId:dd,unstable_isNewReconciler:!1},gm={readContext:ft,useCallback:od,useContext:ft,useEffect:Al,useImperativeHandle:ld,useInsertionEffect:sd,useLayoutEffect:id,useMemo:cd,useReducer:Qi,useRef:nd,useState:function(){return Qi(Wn)},useDebugValue:Tl,useDeferredValue:function(e){var t=ht();return De===null?t.memoizedState=e:ud(t,De.memoizedState,e)},useTransition:function(){var e=Qi(Wn)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Zu,useSyncExternalStore:Yu,useId:dd,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ta(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vi={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qe(),i=rr(e),a=zt(n,i);a.payload=t,r!=null&&(a.callback=r),t=er(e,a,i),t!==null&&(yt(t,e,i,n),Is(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qe(),i=rr(e),a=zt(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=er(e,a,i),t!==null&&(yt(t,e,i,n),Is(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qe(),n=rr(e),i=zt(r,n);i.tag=2,t!=null&&(i.callback=t),t=er(e,i,n),t!==null&&(yt(t,e,n,r),Is(t,e,n))}};function Vo(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Bn(r,n)||!Bn(i,a):!0}function pd(e,t,r){var n=!1,i=ir,a=t.contextType;return typeof a=="object"&&a!==null?a=ft(a):(i=Je(t)?xr:Ve.current,n=t.contextTypes,a=(n=n!=null)?Qr(e,i):ir),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Go(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function za(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},_l(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ft(a):(a=Je(t)?xr:Ve.current,i.context=Qr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ta(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vi.enqueueReplaceState(i,i.state,null),Xs(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var r="",n=t;do r+=Vf(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Zi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $a(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var xm=typeof WeakMap=="function"?WeakMap:Map;function gd(e,t,r){r=zt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ni||(ni=!0,Va=n),$a(e,t)},r}function xd(e,t,r){r=zt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){$a(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){$a(e,t),typeof n!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Wo(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new xm;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Am.bind(null,e,t,r),t.then(e,e))}function qo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ko(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=zt(-1,1),t.tag=2,er(r,t,1))),r.lanes|=1),e)}var vm=Lt.ReactCurrentOwner,Ye=!1;function We(e,t,r,n){t.child=e===null?Wu(t,null,r,n):Yr(t,e.child,r,n)}function Qo(e,t,r,n,i){r=r.render;var a=t.ref;return Hr(t,i),n=Dl(e,t,r,n,a,i),r=Il(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rt(e,t,i)):(we&&r&&xl(t),t.flags|=1,We(e,t,n,i),t.child)}function Zo(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Ll(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,vd(e,t,a,n,i)):(e=Ps(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Bn,r(l,n)&&e.ref===t.ref)return Rt(e,t,i)}return t.flags|=1,e=nr(a,n),e.ref=t.ref,e.return=t,t.child=e}function vd(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Bn(a,n)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Rt(e,t,i)}return Ma(e,t,r,n,i)}function yd(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Rr,rt),rt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Rr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ve(Rr,rt),rt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ve(Rr,rt),rt|=n;return We(e,t,i,r),t.child}function bd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,r,n,i){var a=Je(r)?xr:Ve.current;return a=Qr(t,a),Hr(t,i),r=Dl(e,t,r,n,a,i),n=Il(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rt(e,t,i)):(we&&n&&xl(t),t.flags|=1,We(e,t,r,i),t.child)}function Yo(e,t,r,n,i){if(Je(r)){var a=!0;qs(t)}else a=!1;if(Hr(t,i),t.stateNode===null)zs(e,t),pd(t,r,n),za(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,m=r.contextType;typeof m=="object"&&m!==null?m=ft(m):(m=Je(r)?xr:Ve.current,m=Qr(t,m));var y=r.getDerivedStateFromProps,u=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function";u||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==m)&&Go(t,l,n,m),Gt=!1;var g=t.memoizedState;l.state=g,Xs(t,n,l,i),c=t.memoizedState,o!==n||g!==c||Xe.current||Gt?(typeof y=="function"&&(Ta(t,r,y,n),c=t.memoizedState),(o=Gt||Vo(t,r,o,n,g,c,m))?(u||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=m,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Ku(e,t),o=t.memoizedProps,m=t.type===t.elementType?o:pt(t.type,o),l.props=m,u=t.pendingProps,g=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=ft(c):(c=Je(r)?xr:Ve.current,c=Qr(t,c));var h=r.getDerivedStateFromProps;(y=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==u||g!==c)&&Go(t,l,n,c),Gt=!1,g=t.memoizedState,l.state=g,Xs(t,n,l,i);var N=t.memoizedState;o!==u||g!==N||Xe.current||Gt?(typeof h=="function"&&(Ta(t,r,h,n),N=t.memoizedState),(m=Gt||Vo(t,r,m,n,g,N,c)||!1)?(y||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,N,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,N,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),l.props=n,l.state=N,l.context=c,n=m):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Pa(e,t,r,n,a,i)}function Pa(e,t,r,n,i,a){bd(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&Po(t,r,!1),Rt(e,t,a);n=t.stateNode,vm.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Yr(t,e.child,null,a),t.child=Yr(t,null,o,a)):We(e,t,o,a),t.memoizedState=n.state,i&&Po(t,r,!0),t.child}function wd(e){var t=e.stateNode;t.pendingContext?Mo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(e,t.context,!1),kl(e,t.containerInfo)}function Xo(e,t,r,n,i){return Zr(),yl(i),t.flags|=256,We(e,t,r,n),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nd(e,t,r){var n=t.pendingProps,i=je.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ve(je,i&1),e===null)return Ia(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=wi(l,n,0,null),e=gr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(r),t.memoizedState=Fa,e):zl(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ym(e,t,l,n,o,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=nr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=nr(o,a):(a=gr(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?Ra(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Fa,n}return a=e.child,e=a.sibling,n=nr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zl(e,t){return t=wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vs(e,t,r,n){return n!==null&&yl(n),Yr(t,e.child,null,r),e=zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ym(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=Zi(Error(J(422))),vs(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=wi({mode:"visible",children:n.children},i,0,null),a=gr(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Yr(t,e.child,null,l),t.child.memoizedState=Ra(l),t.memoizedState=Fa,a);if(!(t.mode&1))return vs(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(J(419)),n=Zi(a,n,void 0),vs(e,t,l,n)}if(o=(l&e.childLanes)!==0,Ye||o){if(n=$e,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ft(e,i),yt(n,e,i,-1))}return Bl(),n=Zi(Error(J(421))),vs(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Tm.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,nt=Jt(i.nextSibling),st=t,we=!0,xt=null,e!==null&&(ot[ct++]=At,ot[ct++]=Tt,ot[ct++]=vr,At=e.id,Tt=e.overflow,vr=t),t=zl(t,n.children),t.flags|=4096,t)}function Jo(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Aa(e.return,t,r)}function Yi(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function jd(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(We(e,t,n.children,r),n=je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jo(e,r,t);else if(e.tag===19)Jo(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ve(je,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Js(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Yi(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Js(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Yi(t,!0,r,null,a);break;case"together":Yi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=nr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bm(e,t,r){switch(t.tag){case 3:wd(t),Zr();break;case 5:Qu(t);break;case 1:Je(t.type)&&qs(t);break;case 4:kl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ve(Zs,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ve(je,je.current&1),t.flags|=128,null):r&t.child.childLanes?Nd(e,t,r):(ve(je,je.current&1),e=Rt(e,t,r),e!==null?e.sibling:null);ve(je,je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jd(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(je,je.current),n)break;return null;case 22:case 23:return t.lanes=0,yd(e,t,r)}return Rt(e,t,r)}var _d,Ba,kd,Cd;_d=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ba=function(){};kd=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,hr(St.current);var a=null;switch(r){case"input":i=la(e,i),n=la(e,n),a=[];break;case"select":i=ke({},i,{value:void 0}),n=ke({},n,{value:void 0}),a=[];break;case"textarea":i=ua(e,i),n=ua(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gs)}fa(r,n);var l;r=null;for(m in i)if(!n.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var o=i[m];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Tn.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in n){var c=n[m];if(o=i!=null?i[m]:void 0,n.hasOwnProperty(m)&&c!==o&&(c!=null||o!=null))if(m==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(a||(a=[]),a.push(m,r)),r=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Tn.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&ye("scroll",e),a||o===c||(a=[])):(a=a||[]).push(m,c))}r&&(a=a||[]).push("style",r);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};Cd=function(e,t,r,n){r!==n&&(t.flags|=4)};function gn(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wm(e,t,r){var n=t.pendingProps;switch(vl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Je(t.type)&&Ws(),Oe(t),null;case 3:return n=t.stateNode,Xr(),be(Xe),be(Ve),Sl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(qa(xt),xt=null))),Ba(e,t),Oe(t),null;case 5:Cl(t);var i=hr(Vn.current);if(r=t.type,e!==null&&t.stateNode!=null)kd(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(J(166));return Oe(t),null}if(e=hr(St.current),gs(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[jt]=t,n[Un]=a,e=(t.mode&1)!==0,r){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(i=0;i<Nn.length;i++)ye(Nn[i],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":lo(n,a),ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ye("invalid",n);break;case"textarea":co(n,a),ye("invalid",n)}fa(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&ps(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ps(n.textContent,o,e),i=["children",""+o]):Tn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ye("scroll",n)}switch(r){case"input":ls(n),oo(n,a,!0);break;case"textarea":ls(n),uo(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Gs)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[jt]=t,e[Un]=n,_d(e,t,!1,!1),t.stateNode=e;e:{switch(l=ha(r,n),r){case"dialog":ye("cancel",e),ye("close",e),i=n;break;case"iframe":case"object":case"embed":ye("load",e),i=n;break;case"video":case"audio":for(i=0;i<Nn.length;i++)ye(Nn[i],e);i=n;break;case"source":ye("error",e),i=n;break;case"img":case"image":case"link":ye("error",e),ye("load",e),i=n;break;case"details":ye("toggle",e),i=n;break;case"input":lo(e,n),i=la(e,n),ye("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ke({},n,{value:void 0}),ye("invalid",e);break;case"textarea":co(e,n),i=ua(e,n),ye("invalid",e);break;default:i=n}fa(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?nu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tu(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zn(e,c):typeof c=="number"&&zn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tn.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ye("scroll",e):c!=null&&nl(e,a,c,l))}switch(r){case"input":ls(e),oo(e,n,!1);break;case"textarea":ls(e),uo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Br(e,!!n.multiple,a,!1):n.defaultValue!=null&&Br(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Gs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Cd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(J(166));if(r=hr(Vn.current),hr(St.current),gs(t)){if(n=t.stateNode,r=t.memoizedProps,n[jt]=t,(a=n.nodeValue!==r)&&(e=st,e!==null))switch(e.tag){case 3:ps(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ps(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jt]=t,t.stateNode=n}return Oe(t),null;case 13:if(be(je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&nt!==null&&t.mode&1&&!(t.flags&128))Vu(),Zr(),t.flags|=98560,a=!1;else if(a=gs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(J(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[jt]=t}else Zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),a=!1}else xt!==null&&(qa(xt),xt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Ie===0&&(Ie=3):Bl())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Xr(),Ba(e,t),e===null&&Ln(t.stateNode.containerInfo),Oe(t),null;case 10:return Nl(t.type._context),Oe(t),null;case 17:return Je(t.type)&&Ws(),Oe(t),null;case 19:if(be(je),a=t.memoizedState,a===null)return Oe(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)gn(a,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Js(e),l!==null){for(t.flags|=128,gn(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(je,je.current&1|2),t.child}e=e.sibling}a.tail!==null&&Se()>en&&(t.flags|=128,n=!0,gn(a,!1),t.lanes=4194304)}else{if(!n)if(e=Js(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!we)return Oe(t),null}else 2*Se()-a.renderingStartTime>en&&r!==1073741824&&(t.flags|=128,n=!0,gn(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Se(),t.sibling=null,r=je.current,ve(je,n?r&1|2:r&1),t):(Oe(t),null);case 22:case 23:return Rl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rt&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function Nm(e,t){switch(vl(t),t.tag){case 1:return Je(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),be(Xe),be(Ve),Sl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cl(t),null;case 13:if(be(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(je),null;case 4:return Xr(),null;case 10:return Nl(t.type._context),null;case 22:case 23:return Rl(),null;case 24:return null;default:return null}}var ys=!1,He=!1,jm=typeof WeakSet=="function"?WeakSet:Set,se=null;function Fr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(e,t,n)}else r.current=null}function La(e,t,r){try{r()}catch(n){Ce(e,t,n)}}var ec=!1;function _m(e,t){if(ja=Us,e=Au(),gl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,m=0,y=0,u=e,g=null;t:for(;;){for(var h;u!==r||i!==0&&u.nodeType!==3||(o=l+i),u!==a||n!==0&&u.nodeType!==3||(c=l+n),u.nodeType===3&&(l+=u.nodeValue.length),(h=u.firstChild)!==null;)g=u,u=h;for(;;){if(u===e)break t;if(g===r&&++m===i&&(o=l),g===a&&++y===n&&(c=l),(h=u.nextSibling)!==null)break;u=g,g=u.parentNode}u=h}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_a={focusedElem:e,selectionRange:r},Us=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var p=N.memoizedProps,w=N.memoizedState,d=t.stateNode,f=d.getSnapshotBeforeUpdate(t.elementType===t.type?p:pt(t.type,p),w);d.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(j){Ce(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return N=ec,ec=!1,N}function Dn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&La(t,r,a)}i=i.next}while(i!==n)}}function yi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Oa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Sd(e){var t=e.alternate;t!==null&&(e.alternate=null,Sd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[Un],delete t[Sa],delete t[am],delete t[lm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ed(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ua(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gs));else if(n!==4&&(e=e.child,e!==null))for(Ua(e,t,r),e=e.sibling;e!==null;)Ua(e,t,r),e=e.sibling}function Ha(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ha(e,t,r),e=e.sibling;e!==null;)Ha(e,t,r),e=e.sibling}var Me=null,gt=!1;function Ht(e,t,r){for(r=r.child;r!==null;)Dd(e,t,r),r=r.sibling}function Dd(e,t,r){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(di,r)}catch{}switch(r.tag){case 5:He||Fr(r,t);case 6:var n=Me,i=gt;Me=null,Ht(e,t,r),Me=n,gt=i,Me!==null&&(gt?(e=Me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Me.removeChild(r.stateNode));break;case 18:Me!==null&&(gt?(e=Me,r=r.stateNode,e.nodeType===8?Vi(e.parentNode,r):e.nodeType===1&&Vi(e,r),Fn(e)):Vi(Me,r.stateNode));break;case 4:n=Me,i=gt,Me=r.stateNode.containerInfo,gt=!0,Ht(e,t,r),Me=n,gt=i;break;case 0:case 11:case 14:case 15:if(!He&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&La(r,t,l),i=i.next}while(i!==n)}Ht(e,t,r);break;case 1:if(!He&&(Fr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ce(r,t,o)}Ht(e,t,r);break;case 21:Ht(e,t,r);break;case 22:r.mode&1?(He=(n=He)||r.memoizedState!==null,Ht(e,t,r),He=n):Ht(e,t,r);break;default:Ht(e,t,r)}}function rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jm),t.forEach(function(n){var i=zm.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function mt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Me=o.stateNode,gt=!1;break e;case 3:Me=o.stateNode.containerInfo,gt=!0;break e;case 4:Me=o.stateNode.containerInfo,gt=!0;break e}o=o.return}if(Me===null)throw Error(J(160));Dd(a,l,i),Me=null,gt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(m){Ce(i,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Id(t,e),t=t.sibling}function Id(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),wt(e),n&4){try{Dn(3,e,e.return),yi(3,e)}catch(p){Ce(e,e.return,p)}try{Dn(5,e,e.return)}catch(p){Ce(e,e.return,p)}}break;case 1:mt(t,e),wt(e),n&512&&r!==null&&Fr(r,r.return);break;case 5:if(mt(t,e),wt(e),n&512&&r!==null&&Fr(r,r.return),e.flags&32){var i=e.stateNode;try{zn(i,"")}catch(p){Ce(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Xc(i,a),ha(o,l);var m=ha(o,a);for(l=0;l<c.length;l+=2){var y=c[l],u=c[l+1];y==="style"?nu(i,u):y==="dangerouslySetInnerHTML"?tu(i,u):y==="children"?zn(i,u):nl(i,y,u,m)}switch(o){case"input":oa(i,a);break;case"textarea":Jc(i,a);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Br(i,!!a.multiple,h,!1):g!==!!a.multiple&&(a.defaultValue!=null?Br(i,!!a.multiple,a.defaultValue,!0):Br(i,!!a.multiple,a.multiple?[]:"",!1))}i[Un]=a}catch(p){Ce(e,e.return,p)}}break;case 6:if(mt(t,e),wt(e),n&4){if(e.stateNode===null)throw Error(J(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){Ce(e,e.return,p)}}break;case 3:if(mt(t,e),wt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fn(t.containerInfo)}catch(p){Ce(e,e.return,p)}break;case 4:mt(t,e),wt(e);break;case 13:mt(t,e),wt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Pl=Se())),n&4&&rc(e);break;case 22:if(y=r!==null&&r.memoizedState!==null,e.mode&1?(He=(m=He)||y,mt(t,e),He=m):mt(t,e),wt(e),n&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!y&&e.mode&1)for(se=e,y=e.child;y!==null;){for(u=se=y;se!==null;){switch(g=se,h=g.child,g.tag){case 0:case 11:case 14:case 15:Dn(4,g,g.return);break;case 1:Fr(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(p){Ce(n,r,p)}}break;case 5:Fr(g,g.return);break;case 22:if(g.memoizedState!==null){sc(u);continue}}h!==null?(h.return=g,se=h):sc(u)}y=y.sibling}e:for(y=null,u=e;;){if(u.tag===5){if(y===null){y=u;try{i=u.stateNode,m?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=u.stateNode,c=u.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ru("display",l))}catch(p){Ce(e,e.return,p)}}}else if(u.tag===6){if(y===null)try{u.stateNode.nodeValue=m?"":u.memoizedProps}catch(p){Ce(e,e.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;y===u&&(y=null),u=u.return}y===u&&(y=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:mt(t,e),wt(e),n&4&&rc(e);break;case 21:break;default:mt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ed(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zn(i,""),n.flags&=-33);var a=tc(e);Ha(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=tc(e);Ua(e,o,l);break;default:throw Error(J(161))}}catch(c){Ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function km(e,t,r){se=e,Ad(e)}function Ad(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var i=se,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||ys;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||He;o=ys;var m=He;if(ys=l,(He=c)&&!m)for(se=i;se!==null;)l=se,c=l.child,l.tag===22&&l.memoizedState!==null?ic(i):c!==null?(c.return=l,se=c):ic(i);for(;a!==null;)se=a,Ad(a),a=a.sibling;se=i,ys=o,He=m}nc(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,se=a):nc(e)}}function nc(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||yi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!He)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:pt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Oo(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Oo(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var u=y.dehydrated;u!==null&&Fn(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}He||t.flags&512&&Oa(t)}catch(g){Ce(t,t.return,g)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function sc(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function ic(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yi(4,t)}catch(c){Ce(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ce(t,i,c)}}var a=t.return;try{Oa(t)}catch(c){Ce(t,a,c)}break;case 5:var l=t.return;try{Oa(t)}catch(c){Ce(t,l,c)}}}catch(c){Ce(t,t.return,c)}if(t===e){se=null;break}var o=t.sibling;if(o!==null){o.return=t.return,se=o;break}se=t.return}}var Cm=Math.ceil,ri=Lt.ReactCurrentDispatcher,$l=Lt.ReactCurrentOwner,dt=Lt.ReactCurrentBatchConfig,fe=0,$e=null,Ee=null,Pe=0,rt=0,Rr=lr(0),Ie=0,Kn=null,br=0,bi=0,Ml=0,In=null,Ze=null,Pl=0,en=1/0,Dt=null,ni=!1,Va=null,tr=null,bs=!1,Qt=null,si=0,An=0,Ga=null,$s=-1,Ms=0;function qe(){return fe&6?Se():$s!==-1?$s:$s=Se()}function rr(e){return e.mode&1?fe&2&&Pe!==0?Pe&-Pe:cm.transition!==null?(Ms===0&&(Ms=pu()),Ms):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Nu(e.type)),e):1}function yt(e,t,r,n){if(50<An)throw An=0,Ga=null,Error(J(185));Yn(e,r,n),(!(fe&2)||e!==$e)&&(e===$e&&(!(fe&2)&&(bi|=r),Ie===4&&qt(e,Pe)),et(e,n),r===1&&fe===0&&!(t.mode&1)&&(en=Se()+500,gi&&or()))}function et(e,t){var r=e.callbackNode;ch(e,t);var n=Os(e,e===$e?Pe:0);if(n===0)r!==null&&mo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mo(r),t===1)e.tag===0?om(ac.bind(null,e)):Ou(ac.bind(null,e)),sm(function(){!(fe&6)&&or()}),r=null;else{switch(gu(n)){case 1:r=ol;break;case 4:r=hu;break;case 16:r=Ls;break;case 536870912:r=mu;break;default:r=Ls}r=Bd(r,Td.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Td(e,t){if($s=-1,Ms=0,fe&6)throw Error(J(327));var r=e.callbackNode;if(Vr()&&e.callbackNode!==r)return null;var n=Os(e,e===$e?Pe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ii(e,n);else{t=n;var i=fe;fe|=2;var a=$d();($e!==e||Pe!==t)&&(Dt=null,en=Se()+500,pr(e,t));do try{Dm();break}catch(o){zd(e,o)}while(!0);wl(),ri.current=a,fe=i,Ee!==null?t=0:($e=null,Pe=0,t=Ie)}if(t!==0){if(t===2&&(i=va(e),i!==0&&(n=i,t=Wa(e,i))),t===1)throw r=Kn,pr(e,0),qt(e,n),et(e,Se()),r;if(t===6)qt(e,n);else{if(i=e.current.alternate,!(n&30)&&!Sm(i)&&(t=ii(e,n),t===2&&(a=va(e),a!==0&&(n=a,t=Wa(e,a))),t===1))throw r=Kn,pr(e,0),qt(e,n),et(e,Se()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(J(345));case 2:ur(e,Ze,Dt);break;case 3:if(qt(e,n),(n&130023424)===n&&(t=Pl+500-Se(),10<t)){if(Os(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){qe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ca(ur.bind(null,e,Ze,Dt),t);break}ur(e,Ze,Dt);break;case 4:if(qt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-vt(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cm(n/1960))-n,10<n){e.timeoutHandle=Ca(ur.bind(null,e,Ze,Dt),n);break}ur(e,Ze,Dt);break;case 5:ur(e,Ze,Dt);break;default:throw Error(J(329))}}}return et(e,Se()),e.callbackNode===r?Td.bind(null,e):null}function Wa(e,t){var r=In;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=ii(e,t),e!==2&&(t=Ze,Ze=r,t!==null&&qa(t)),e}function qa(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Sm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!bt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~Ml,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-vt(t),n=1<<r;e[r]=-1,t&=~n}}function ac(e){if(fe&6)throw Error(J(327));Vr();var t=Os(e,0);if(!(t&1))return et(e,Se()),null;var r=ii(e,t);if(e.tag!==0&&r===2){var n=va(e);n!==0&&(t=n,r=Wa(e,n))}if(r===1)throw r=Kn,pr(e,0),qt(e,t),et(e,Se()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ur(e,Ze,Dt),et(e,Se()),null}function Fl(e,t){var r=fe;fe|=1;try{return e(t)}finally{fe=r,fe===0&&(en=Se()+500,gi&&or())}}function wr(e){Qt!==null&&Qt.tag===0&&!(fe&6)&&Vr();var t=fe;fe|=1;var r=dt.transition,n=ge;try{if(dt.transition=null,ge=1,e)return e()}finally{ge=n,dt.transition=r,fe=t,!(fe&6)&&or()}}function Rl(){rt=Rr.current,be(Rr)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nm(r)),Ee!==null)for(r=Ee.return;r!==null;){var n=r;switch(vl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ws();break;case 3:Xr(),be(Xe),be(Ve),Sl();break;case 5:Cl(n);break;case 4:Xr();break;case 13:be(je);break;case 19:be(je);break;case 10:Nl(n.type._context);break;case 22:case 23:Rl()}r=r.return}if($e=e,Ee=e=nr(e.current,null),Pe=rt=t,Ie=0,Kn=null,Ml=bi=br=0,Ze=In=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}fr=null}return e}function zd(e,t){do{var r=Ee;try{if(wl(),As.current=ti,ei){for(var n=_e.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ei=!1}if(yr=0,Te=De=_e=null,En=!1,Gn=0,$l.current=null,r===null||r.return===null){Ie=1,Kn=t,Ee=null;break}e:{var a=e,l=r.return,o=r,c=t;if(t=Pe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,y=o,u=y.tag;if(!(y.mode&1)&&(u===0||u===11||u===15)){var g=y.alternate;g?(y.updateQueue=g.updateQueue,y.memoizedState=g.memoizedState,y.lanes=g.lanes):(y.updateQueue=null,y.memoizedState=null)}var h=qo(l);if(h!==null){h.flags&=-257,Ko(h,l,o,a,t),h.mode&1&&Wo(a,m,t),t=h,c=m;var N=t.updateQueue;if(N===null){var p=new Set;p.add(c),t.updateQueue=p}else N.add(c);break e}else{if(!(t&1)){Wo(a,m,t),Bl();break e}c=Error(J(426))}}else if(we&&o.mode&1){var w=qo(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ko(w,l,o,a,t),yl(Jr(c,o));break e}}a=c=Jr(c,o),Ie!==4&&(Ie=2),In===null?In=[a]:In.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var d=gd(a,c,t);Lo(a,d);break e;case 1:o=c;var f=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(tr===null||!tr.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=xd(a,o,t);Lo(a,j);break e}}a=a.return}while(a!==null)}Pd(r)}catch(_){t=_,Ee===r&&r!==null&&(Ee=r=r.return);continue}break}while(!0)}function $d(){var e=ri.current;return ri.current=ti,e===null?ti:e}function Bl(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),$e===null||!(br&268435455)&&!(bi&268435455)||qt($e,Pe)}function ii(e,t){var r=fe;fe|=2;var n=$d();($e!==e||Pe!==t)&&(Dt=null,pr(e,t));do try{Em();break}catch(i){zd(e,i)}while(!0);if(wl(),fe=r,ri.current=n,Ee!==null)throw Error(J(261));return $e=null,Pe=0,Ie}function Em(){for(;Ee!==null;)Md(Ee)}function Dm(){for(;Ee!==null&&!eh();)Md(Ee)}function Md(e){var t=Rd(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Pd(e):Ee=t,$l.current=null}function Pd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Nm(r,t),r!==null){r.flags&=32767,Ee=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Ee=null;return}}else if(r=wm(r,t,rt),r!==null){Ee=r;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ie===0&&(Ie=5)}function ur(e,t,r){var n=ge,i=dt.transition;try{dt.transition=null,ge=1,Im(e,t,r,n)}finally{dt.transition=i,ge=n}return null}function Im(e,t,r,n){do Vr();while(Qt!==null);if(fe&6)throw Error(J(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(uh(e,a),e===$e&&(Ee=$e=null,Pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bs||(bs=!0,Bd(Ls,function(){return Vr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=dt.transition,dt.transition=null;var l=ge;ge=1;var o=fe;fe|=4,$l.current=null,_m(e,r),Id(r,e),Zh(_a),Us=!!ja,_a=ja=null,e.current=r,km(r),th(),fe=o,ge=l,dt.transition=a}else e.current=r;if(bs&&(bs=!1,Qt=e,si=i),a=e.pendingLanes,a===0&&(tr=null),sh(r.stateNode),et(e,Se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ni)throw ni=!1,e=Va,Va=null,e;return si&1&&e.tag!==0&&Vr(),a=e.pendingLanes,a&1?e===Ga?An++:(An=0,Ga=e):An=0,or(),null}function Vr(){if(Qt!==null){var e=gu(si),t=dt.transition,r=ge;try{if(dt.transition=null,ge=16>e?16:e,Qt===null)var n=!1;else{if(e=Qt,Qt=null,si=0,fe&6)throw Error(J(331));var i=fe;for(fe|=4,se=e.current;se!==null;){var a=se,l=a.child;if(se.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var m=o[c];for(se=m;se!==null;){var y=se;switch(y.tag){case 0:case 11:case 15:Dn(8,y,a)}var u=y.child;if(u!==null)u.return=y,se=u;else for(;se!==null;){y=se;var g=y.sibling,h=y.return;if(Sd(y),y===m){se=null;break}if(g!==null){g.return=h,se=g;break}se=h}}}var N=a.alternate;if(N!==null){var p=N.child;if(p!==null){N.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}se=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,se=l;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Dn(9,a,a.return)}var d=a.sibling;if(d!==null){d.return=a.return,se=d;break e}se=a.return}}var f=e.current;for(se=f;se!==null;){l=se;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,se=v;else e:for(l=f;se!==null;){if(o=se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:yi(9,o)}}catch(_){Ce(o,o.return,_)}if(o===l){se=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,se=j;break e}se=o.return}}if(fe=i,or(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(di,e)}catch{}n=!0}return n}finally{ge=r,dt.transition=t}}return!1}function lc(e,t,r){t=Jr(r,t),t=gd(e,t,1),e=er(e,t,1),t=qe(),e!==null&&(Yn(e,1,t),et(e,t))}function Ce(e,t,r){if(e.tag===3)lc(e,e,r);else for(;t!==null;){if(t.tag===3){lc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tr===null||!tr.has(n))){e=Jr(r,e),e=xd(t,e,1),t=er(t,e,1),e=qe(),t!==null&&(Yn(t,1,e),et(t,e));break}}t=t.return}}function Am(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(Pe&r)===r&&(Ie===4||Ie===3&&(Pe&130023424)===Pe&&500>Se()-Pl?pr(e,0):Ml|=r),et(e,t)}function Fd(e,t){t===0&&(e.mode&1?(t=us,us<<=1,!(us&130023424)&&(us=4194304)):t=1);var r=qe();e=Ft(e,t),e!==null&&(Yn(e,t,r),et(e,r))}function Tm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fd(e,r)}function zm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(t),Fd(e,r)}var Rd;Rd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ye=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ye=!1,bm(e,t,r);Ye=!!(e.flags&131072)}else Ye=!1,we&&t.flags&1048576&&Uu(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zs(e,t),e=t.pendingProps;var i=Qr(t,Ve.current);Hr(t,r),i=Dl(null,t,n,e,i,r);var a=Il();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(n)?(a=!0,qs(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_l(t),i.updater=vi,t.stateNode=i,i._reactInternals=t,za(t,n,e,r),t=Pa(null,t,n,!0,a,r)):(t.tag=0,we&&a&&xl(t),We(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Mm(n),e=pt(n,e),i){case 0:t=Ma(null,t,n,e,r);break e;case 1:t=Yo(null,t,n,e,r);break e;case 11:t=Qo(null,t,n,e,r);break e;case 14:t=Zo(null,t,n,pt(n.type,e),r);break e}throw Error(J(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pt(n,i),Ma(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pt(n,i),Yo(e,t,n,i,r);case 3:e:{if(wd(t),e===null)throw Error(J(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Ku(e,t),Xs(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Jr(Error(J(423)),t),t=Xo(e,t,n,r,i);break e}else if(n!==i){i=Jr(Error(J(424)),t),t=Xo(e,t,n,r,i);break e}else for(nt=Jt(t.stateNode.containerInfo.firstChild),st=t,we=!0,xt=null,r=Wu(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zr(),n===i){t=Rt(e,t,r);break e}We(e,t,n,r)}t=t.child}return t;case 5:return Qu(t),e===null&&Ia(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,ka(n,i)?l=null:a!==null&&ka(n,a)&&(t.flags|=32),bd(e,t),We(e,t,l,r),t.child;case 6:return e===null&&Ia(t),null;case 13:return Nd(e,t,r);case 4:return kl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yr(t,null,n,r):We(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pt(n,i),Qo(e,t,n,i,r);case 7:return We(e,t,t.pendingProps,r),t.child;case 8:return We(e,t,t.pendingProps.children,r),t.child;case 12:return We(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,ve(Zs,n._currentValue),n._currentValue=l,a!==null)if(bt(a.value,l)){if(a.children===i.children&&!Xe.current){t=Rt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=zt(-1,r&-r),c.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?c.next=c:(c.next=y.next,y.next=c),m.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Aa(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(J(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Aa(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}We(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Hr(t,r),i=ft(i),n=n(i),t.flags|=1,We(e,t,n,r),t.child;case 14:return n=t.type,i=pt(n,t.pendingProps),i=pt(n.type,i),Zo(e,t,n,i,r);case 15:return vd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pt(n,i),zs(e,t),t.tag=1,Je(n)?(e=!0,qs(t)):e=!1,Hr(t,r),pd(t,n,i),za(t,n,i,r),Pa(null,t,n,!0,e,r);case 19:return jd(e,t,r);case 22:return yd(e,t,r)}throw Error(J(156,t.tag))};function Bd(e,t){return fu(e,t)}function $m(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,r,n){return new $m(e,t,r,n)}function Ll(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mm(e){if(typeof e=="function")return Ll(e)?1:0;if(e!=null){if(e=e.$$typeof,e===il)return 11;if(e===al)return 14}return 2}function nr(e,t){var r=e.alternate;return r===null?(r=ut(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ps(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")Ll(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Er:return gr(r.children,i,a,t);case sl:l=8,i|=8;break;case na:return e=ut(12,r,t,i|2),e.elementType=na,e.lanes=a,e;case sa:return e=ut(13,r,t,i),e.elementType=sa,e.lanes=a,e;case ia:return e=ut(19,r,t,i),e.elementType=ia,e.lanes=a,e;case Qc:return wi(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qc:l=10;break e;case Kc:l=9;break e;case il:l=11;break e;case al:l=14;break e;case Vt:l=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=ut(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function gr(e,t,r,n){return e=ut(7,e,n,t),e.lanes=r,e}function wi(e,t,r,n){return e=ut(22,e,n,t),e.elementType=Qc,e.lanes=r,e.stateNode={isHidden:!1},e}function Xi(e,t,r){return e=ut(6,e,null,t),e.lanes=r,e}function Ji(e,t,r){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pm(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ol(e,t,r,n,i,a,l,o,c){return e=new Pm(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ut(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_l(a),e}function Fm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ld(e){if(!e)return ir;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(Je(r))return Lu(e,r,t)}return t}function Od(e,t,r,n,i,a,l,o,c){return e=Ol(r,n,!0,e,i,a,l,o,c),e.context=Ld(null),r=e.current,n=qe(),i=rr(r),a=zt(n,i),a.callback=t??null,er(r,a,i),e.current.lanes=i,Yn(e,i,n),et(e,n),e}function Ni(e,t,r,n){var i=t.current,a=qe(),l=rr(i);return r=Ld(r),t.context===null?t.context=r:t.pendingContext=r,t=zt(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=er(i,t,l),e!==null&&(yt(e,i,l,a),Is(e,i,l)),l}function ai(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ul(e,t){oc(e,t),(e=e.alternate)&&oc(e,t)}function Rm(){return null}var Ud=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hl(e){this._internalRoot=e}ji.prototype.render=Hl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Ni(e,t,null,null)};ji.prototype.unmount=Hl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){Ni(null,e,null,null)}),t[Pt]=null}};function ji(e){this._internalRoot=e}ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=yu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wt.length&&t!==0&&t<Wt[r].priority;r++);Wt.splice(r,0,e),r===0&&wu(e)}};function Vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cc(){}function Bm(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var m=ai(l);a.call(m)}}var l=Od(t,n,e,0,null,!1,!1,"",cc);return e._reactRootContainer=l,e[Pt]=l.current,Ln(e.nodeType===8?e.parentNode:e),wr(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var m=ai(c);o.call(m)}}var c=Ol(e,0,!1,null,null,!1,!1,"",cc);return e._reactRootContainer=c,e[Pt]=c.current,Ln(e.nodeType===8?e.parentNode:e),wr(function(){Ni(t,c,r,n)}),c}function ki(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=ai(l);o.call(c)}}Ni(t,l,e,i)}else l=Bm(r,t,e,i,n);return ai(l)}xu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wn(t.pendingLanes);r!==0&&(cl(t,r|1),et(t,Se()),!(fe&6)&&(en=Se()+500,or()))}break;case 13:wr(function(){var n=Ft(e,1);if(n!==null){var i=qe();yt(n,e,1,i)}}),Ul(e,1)}};ul=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var r=qe();yt(t,e,134217728,r)}Ul(e,134217728)}};vu=function(e){if(e.tag===13){var t=rr(e),r=Ft(e,t);if(r!==null){var n=qe();yt(r,e,t,n)}Ul(e,t)}};yu=function(){return ge};bu=function(e,t){var r=ge;try{return ge=e,t()}finally{ge=r}};pa=function(e,t,r){switch(t){case"input":if(oa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=pi(n);if(!i)throw Error(J(90));Yc(n),oa(n,i)}}}break;case"textarea":Jc(e,r);break;case"select":t=r.value,t!=null&&Br(e,!!r.multiple,t,!1)}};au=Fl;lu=wr;var Lm={usingClientEntryPoint:!1,Events:[Jn,Tr,pi,su,iu,Fl]},xn={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Om={bundleType:xn.bundleType,version:xn.version,rendererPackageName:xn.rendererPackageName,rendererConfig:xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uu(e),e===null?null:e.stateNode},findFiberByHostInstance:xn.findFiberByHostInstance||Rm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{di=ws.inject(Om),Ct=ws}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lm;at.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vl(t))throw Error(J(200));return Fm(e,t,null,r)};at.createRoot=function(e,t){if(!Vl(e))throw Error(J(299));var r=!1,n="",i=Ud;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ol(e,1,!1,null,null,r,!1,n,i),e[Pt]=t.current,Ln(e.nodeType===8?e.parentNode:e),new Hl(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=uu(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return wr(e)};at.hydrate=function(e,t,r){if(!_i(t))throw Error(J(200));return ki(null,e,t,!0,r)};at.hydrateRoot=function(e,t,r){if(!Vl(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=Ud;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Od(t,null,e,1,r??null,i,!1,a,l),e[Pt]=t.current,Ln(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ji(t)};at.render=function(e,t,r){if(!_i(t))throw Error(J(200));return ki(null,e,t,!1,r)};at.unmountComponentAtNode=function(e){if(!_i(e))throw Error(J(40));return e._reactRootContainer?(wr(function(){ki(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};at.unstable_batchedUpdates=Fl;at.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_i(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return ki(e,t,r,!1,n)};at.version="18.3.1-next-f1338f8080-20240426";function Hd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hd)}catch(e){console.error(e)}}Hd(),Hc.exports=at;var Um=Hc.exports,Vd,uc=Um;Vd=uc.createRoot,uc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const r=te.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:c,...m},y)=>te.createElement("svg",{ref:y,...Hm,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Vm(e)}`,o].join(" "),...m},[...t.map(([u,g])=>te.createElement(u,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ae("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ae("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h11V6H11a2 2 0 0 0-2 2v12",key:"1owzki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ae("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ae("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ae("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ae("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=ae("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ae("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ae("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ae("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ae("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ae("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ae("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ae("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ae("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hc="72b4987f77607964f64d1fd5a4935f81",up="https://api.themoviedb.org/3",ea="https://image.tmdb.org/t/p/";class dp{constructor(t=hc){ns(this,"apiKey");this.apiKey=t}setApiKey(t){this.apiKey=t}async makeRequest(t,r={},n="fr"){const i=this.apiKey||hc;if(i.length<32)throw new Error("Clé API TMDB invalide - vérifiez que vous avez saisi la bonne clé");const a=new URL(`${up}${t}`);a.searchParams.append("api_key",i),a.searchParams.append("language",n==="fr"?"fr-FR":"en-US"),Object.entries(r).forEach(([o,c])=>{a.searchParams.append(o,c)});const l=await fetch(a.toString());if(!l.ok)throw l.status===401?new Error("Clé API TMDB invalide ou expirée - vérifiez votre clé dans les paramètres"):l.status===400?new Error("Requête invalide - vérifiez votre clé API TMDB dans les paramètres"):new Error(`Erreur TMDB: ${l.status} ${l.statusText}`);return l.json()}async searchMulti(t,r=1,n="fr"){if(t.match(/^\d+$/)){const a=parseInt(t);try{const l=await this.getMovie(a,n);return{results:[{id:l.id,title:l.title,name:void 0,media_type:"movie",poster_path:l.poster_path,release_date:l.release_date,first_air_date:void 0,vote_average:l.vote_average,overview:l.overview}],total_pages:1}}catch{}try{const l=await this.getTVShow(a,n);return{results:[{id:l.id,title:void 0,name:l.name,media_type:"tv",poster_path:l.poster_path,release_date:void 0,first_air_date:l.first_air_date,vote_average:l.vote_average,overview:l.overview}],total_pages:1}}catch{return{results:[],total_pages:0}}}return this.makeRequest("/search/multi",{query:encodeURIComponent(t),page:r.toString()},n)}async getMovie(t,r="fr"){return this.makeRequest(`/movie/${t}`,{append_to_response:"videos"},r)}async getTVShow(t,r="fr"){return this.makeRequest(`/tv/${t}`,{append_to_response:"videos"},r)}async getMovieCredits(t,r="fr"){return this.makeRequest(`/movie/${t}/credits`,{},r)}async getTVCredits(t,r="fr"){return this.makeRequest(`/tv/${t}/credits`,{},r)}getImageUrl(t,r="w500"){return t?`${ea}${r}${t}`:"/placeholder-poster.jpg"}getActorImageUrl(t){return t?`${ea}w138_and_h175_face${t}`:"/placeholder-actor.jpg"}getBackdropUrl(t,r="w1280"){return t?`${ea}${r}${t}`:"/placeholder-backdrop.jpg"}async getMovieVideos(t){return this.makeRequest(`/movie/${t}/videos`)}async getTVVideos(t){return this.makeRequest(`/tv/${t}/videos`)}async getMovieImages(t){return this.makeRequest(`/movie/${t}/images`,{include_image_language:"en,fr,null"})}async getTVImages(t){return this.makeRequest(`/tv/${t}/images`,{include_image_language:"en,fr,null"})}async getTrailerUrl(t,r){var n,i,a;try{const l=r==="movie"?await this.getMovieVideos(t):await this.getTVVideos(t);let o=(n=l.results)==null?void 0:n.find(c=>c.type==="Trailer"&&c.site==="YouTube"&&c.iso_639_1==="fr");return o||(o=(i=l.results)==null?void 0:i.find(c=>c.type==="Trailer"&&c.site==="YouTube"&&c.iso_639_1==="en")),o||(o=(a=l.results)==null?void 0:a.find(c=>c.site==="YouTube")),o?`https://www.youtube.com/watch?v=${o.key}`:null}catch(l){return console.error("Erreur lors de la récupération de la bande-annonce:",l),null}}}const me=new dp;function Xd(e){if(!e)return!1;const t=e.toLowerCase(),r=["<movie>","<tvshow>","<episodedetails>","<title>","<originaltitle>","<plot>","<director>","<?xml","<root>"],n=["general","video","audio","text","complete name","movie name","format ","codec","bit rate","width","height","frame rate","duration"],i=r.some(l=>t.includes(l)),a=n.some(l=>t.includes(l));return i||a}function Jd(e){if(!e)return!1;const t=e.toLowerCase();return["general","video","audio","text","complete name","format ","codec","bit rate","width","height","frame rate","duration","mediainfo","media info"].some(n=>t.includes(n))}function ef(e){const t={};try{const r=e.match(/<originaltitle[^>]*>(.*?)<\/originaltitle>/is);r&&(t.originaltitle=r[1].trim());const n=e.match(/<votes[^>]*>(.*?)<\/votes>/is);n&&(t.votes=n[1].trim());const i=e.match(/<premiered[^>]*>(.*?)<\/premiered>/is);i&&(t.premiered=i[1].trim());const a=e.match(/<aired[^>]*>(.*?)<\/aired>/is);a&&(t.aired=a[1].trim());const l=e.match(/<season[^>]*>(.*?)<\/season>/is);l&&(t.season=l[1].trim());const o=e.match(/<episode[^>]*>(.*?)<\/episode>/is);o&&(t.episode=o[1].trim());const c=e.match(/<tvdbid[^>]*>(.*?)<\/tvdbid>/is)||e.match(/thetvdb\.com\/(?:series|episode)\/(\d+)/i);c&&(t.tvdbId=c[1].trim());const m=e.match(/<title[^>]*>(.*?)<\/title>/is);m&&(t.title=m[1].trim());const y=e.match(/<year[^>]*>(.*?)<\/year>/is);y&&(t.year=y[1].trim());const u=e.match(/<plot[^>]*>(.*?)<\/plot>/is);u&&(t.plot=u[1].trim());const g=e.match(/<director[^>]*>(.*?)<\/director>/is);g&&(t.director=g[1].trim());const h=e.match(/<actor[^>]*>.*?<name[^>]*>(.*?)<\/name>.*?<\/actor>/gis);h&&(t.actors=h.map(E=>{const k=E.match(/<name[^>]*>(.*?)<\/name>/is);return k?k[1].trim():""}).filter(E=>E));const N=e.match(/<genre[^>]*>(.*?)<\/genre>/gis);N&&(t.genres=N.map(E=>E.replace(/<\/?genre[^>]*>/gi,"").trim()));const p=e.match(/<writer[^>]*>(.*?)<\/writer>/gis);p&&(t.writer=p.map(E=>E.replace(/<\/?writer[^>]*>/gi,"").trim()).filter(Boolean));const w=e.match(/<studio[^>]*>(.*?)<\/studio>/gis);w&&(t.studio=w.map(E=>E.replace(/<\/?studio[^>]*>/gi,"").trim()).filter(Boolean));const d=e.match(/<country[^>]*>(.*?)<\/country>/gis);d&&(t.country=d.map(E=>E.replace(/<\/?country[^>]*>/gi,"").trim()).filter(Boolean));const f=e.match(/<language[^>]*>(.*?)<\/language>/gis);f&&(t.language=f.map(E=>E.replace(/<\/?language[^>]*>/gi,"").trim()).filter(Boolean));const v=e.match(/<runtime[^>]*>(.*?)<\/runtime>/is);v&&(t.runtime=v[1].trim());const j=e.match(/<rating[^>]*>(.*?)<\/rating>/is);j&&(t.rating=j[1].trim());const _=e.match(/<imdb[^>]*>(.*?)<\/imdb>/is)||e.match(/imdb\.com\/title\/(tt\d+)/i);_&&(t.imdbId=_[1].trim());const S=e.match(/<tmdbid[^>]*>(.*?)<\/tmdbid>/is)||e.match(/themoviedb\.org\/(?:movie|tv)\/(\d+)/i);S&&(t.tmdbId=S[1].trim())}catch(r){console.error("Erreur lors du parsing NFO XML:",r)}return t}function fp(e){return e?e.replace(/\.[^.]+$/,"").replace(/[[\]()]/g," ").replace(/[._-]/g," ").replace(/\b(19|20)\d{2}\b.*$/,"").replace(/\b(S\d+E\d+|Season\s+\d+|Episode\s+\d+)\b.*$/i,"").replace(/\b(FRENCH|ENGLISH|MULTI|TRUEFRENCH|VFF|VFQ|VOSTFR|MULTI\.TRUEFRENCH)\b.*$/i,"").replace(/\b(720p|1080p|2160p|4K|UHD|HDR|BluRay|WEB|WEB-DL|WEBRIP|HDTV|REMUX)\b.*$/i,"").replace(/\s+/g," ").trim():""}function hp(e){if(!e)return"";const t=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(t){const o=t[2].trim().split(/[\\/]/).pop()||"",c=fp(o);if(c)return c}const r=e.match(/(Movie\s*name|Nom\s*du\s*film)\s*:\s*(.+)/i);if(r){const l=r[2].trim();if(l&&l.length>1)return l}const n=e.match(/^\s*([^\n]+?)\s*\((19|20)\d{2}\).*$/m);if(n){const l=n[1].replace(/[._]/g," ").replace(/\s+/g," ").trim();if(l&&l.length>1)return l}const i=e.match(/^\s*Source\s*:\s*(.+)$/mi)||e.match(/^\s*Source\s*VF\s*:\s*(.+)$/mi);if(i){let l=i[1].trim().replace(/[._]/g," ");const o=l.search(/\b(19|20)\d{2}\b/);if(o>0&&(l=l.slice(0,o)),l=l.replace(/\s+$/g,"").trim(),l&&l.length>1)return l}const a=ef(e);return a.title?a.title:""}function mp(e){const t=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(!t)return"";const r=t[2].trim();return(r.split(/[\\/]/).pop()||r).trim().replace(/\.[^.]+$/,"").replace(/\./g," ").trim()}const pp={quality:"1080p",format:"MKV",codec:"H.264",bitrate:5,bitrateUnit:"Mbps",size:8};function gp(e){const t={video:{...pp},audio:[],subtitles:[]},r=e.match(/RESOLUTiON[.\s]*:\s*(\d+)\s*x\s*(\d+)/i);if(r){const u=parseInt(r[2]);u>=2160?t.video.quality="2160p":u>=1080?t.video.quality="1080p":u>=720?t.video.quality="720p":u>=480&&(t.video.quality="480p"),t.video.height=u,t.video.width=parseInt(r[1])}const n=e.match(/CODEC[.\s]*:\s*([^\n█]+)/i);if(n){let u=n[1].trim().split("-")[0].trim();/265|hevc/i.test(u)?t.video.codec="H.265":/264/i.test(u)?t.video.codec="H.264":t.video.codec=u}const i=e.match(/BiTRATE[.\s]*:\s*([\d\s,]+)\s*kb\/s/i);if(i){const u=parseInt(i[1].replace(/[\s,]/g,""));t.video.bitrate=Math.round(u/1e3*100)/100,t.video.bitrateUnit="Mbps"}const a=e.match(/RELEASE\s*SiZE[.\s]*:\s*([\d.]+)\s*(GiB|GB)/i);a&&(t.video.size=parseFloat(a[1]));const l=e.match(/Format\s*:\s*(\w+)/i);if(l){let u=l[1].toUpperCase();u==="MATROSKA"&&(u="MKV"),t.video.format=u}[...e.matchAll(/AUDiO\s*#(\d+)[^█]*?█[^█]*?█([\s\S]*?)(?=█[^█]*?█[^█]*?(?:AUDiO\s*#|SUBTiTLES\s*#|LiNKS|NOTE|GREETZ)|$)/gi)].forEach((u,g)=>{const h=u[1]||(g+1).toString(),N=u[2],p={id:h,language:"Français",languageCode:"fr",codec:"AC-3",channels:"2.0",bitrate:256,bitrateUnit:"Kbps",isDefault:g===0},w=N.match(/LANGUAGE[.\s]*:\s*([^\n█■]+)/i);if(w){const j=w[1].trim().toLowerCase();j.includes("french ca")||j.includes("vfq")?(p.language="Québécois",p.languageCode="fr-ca"):j.includes("french")||j.includes("français")?(p.language="Français",p.languageCode="fr"):j.includes("english")||j.includes("anglais")?(p.language="Anglais",p.languageCode="en"):(p.language=w[1].trim(),p.languageCode="other")}const d=N.match(/CODEC[.\s]*:\s*([^\n█■]+)/i);if(d){const j=d[1].trim();/(E-AC-3|EAC-3)/i.test(j)?p.codec="Dolby Digital Plus (E-AC-3)":/(AC-3|AC3)/i.test(j)?p.codec="AC-3":/DTS(-HD)?/i.test(j)?p.codec="DTS":p.codec=j}const f=N.match(/CHANNELS[.\s]*:\s*([^\n█■]+)/i);if(f){const j=f[1].trim();/2\.0|stereo/i.test(j)?p.channels="Stéréo":/5\.1/i.test(j)?p.channels="5.1":/7\.1/i.test(j)?p.channels="7.1":p.channels=j}const v=N.match(/BiTRATE[.\s]*:\s*([\d\s,]+)\s*kb\/s/i);v&&(p.bitrate=parseInt(v[1])),t.audio.push(p)}),[...e.matchAll(/SUBTiTLES\s*#(\d+)[^█]*?█[^█]*?█([\s\S]*?)(?=█[^█]*?█[^█]*?(?:SUBTiTLES\s*#|LiNKS|NOTE|GREETZ)|$)/gi)].forEach((u,g)=>{const h=u[1]||(g+1).toString(),N=u[2],p={id:h,language:"Français",languageCode:"fr",type:"embedded",format:"SRT",isForced:!1,isDefault:g===0},w=N.match(/LANGUAGE[.\s]*:\s*([^\n█■]+)/i);if(w){const v=w[1].trim(),j=v.toLowerCase();j.includes("french ca")||j.includes("vfq")?(p.language="Québécois",p.languageCode="fr-ca"):j.includes("french")||j.includes("français")?(p.language="Français",p.languageCode="fr"):j.includes("english")||j.includes("anglais")?(p.language="Anglais",p.languageCode="en"):(p.language=v,p.languageCode="other")}const d=N.match(/TYPE[.\s]*:\s*([^\n█■]+)/i);if(d){const v=d[1].trim().toLowerCase();v.includes("forced")&&(p.isForced=!0),v.includes("full")&&(p.isComplete=!0),v.includes("sdh")&&(p.isSDH=!0)}const f=N.match(/FORMAT[.\s]*:\s*([^\n█■]+)/i);if(f){const v=f[1].trim();/hardcoded/i.test(v)?(p.format="Hardcoded",p.type="embedded"):p.format=v.toUpperCase()==="UTF-8"?"SRT":v}t.subtitles.push(p)});const m=e.match(/SOURCE[.\s]*:\s*([^\n█■]+)/i);m&&(t.source=xp(m[1]));const y=e.match(/^\s*([^\n]+?\.(?:MULTi|FRENCH|ENGLISH|TRUEFRENCH)\..*?-[A-Z0-9]+)\s*$/m);return y&&(t.releaseGroup=y[1].trim()),t}function xp(e){const t=e.toLowerCase();return/(^|[._\-\s])webrip([._\-\s]|$)/i.test(t)?"WEBRip":/(^|[._\-\s])web\-?dl([._\-\s]|$)/i.test(t)||/(^|[._\-\s])web([._\-\s]|$)/i.test(t)||/(^|[._\-\s])(amzn|amazon|nf|netflix|dsnp|disney\+?|dplus|itunes|atvp|appletv\+?|hulu|max|hbomax|paramount|pmtp|peacock)([._\-\s]|$)/i.test(t)?"WEB-DL":/(^|[._\-\s])(bdremux|remux)([._\-\s]|$)/i.test(t)?"REMUX":/(^|[._\-\s])(uhd|4k)([._\-\s]|$)/i.test(t)?"UHD BluRay":/(^|[._\-\s])(bluray|blu\-ray)([._\-\s]|$)/i.test(t)?"BluRay":/(^|[._\-\s])hdtv([._\-\s]|$)/i.test(t)?"HDTV":/(^|[._\-\s])dvdrip([._\-\s]|$)/i.test(t)?"DVDRip":e.trim()}const vp={"V_MPEG4/ISO/AVC":"H.264","V_MPEGH/ISO/HEVC":"H.265",V_MPEG2:"MPEG-2","V_MPEG4/ISO/ASP":"MPEG-4","V_MS/VFW/FOURCC":"FOURCC","V_MS/VFW/FOURCC / DIV3":"DivX 3","V_MS/VFW/FOURCC / DIVX":"DivX","V_MS/VFW/FOURCC / DX50":"DivX 5","V_MS/VFW/FOURCC / XVID":"Xvid",XVID:"XVID",xvid:"XVID","V_MPEG4/ISO/AP":"MPEG-4 Part 2",V_MJPEG:"MJPEG","V_MS/VFW/FOURCC / H264":"H.264","V_MS/VFW/FOURCC / X264":"H.264","V_MS/VFW/FOURCC / AVC1":"H.264","V_MS/VFW/FOURCC / H265":"H.265","V_MS/VFW/FOURCC / HEVC":"H.265","V_MS/VFW/FOURCC / x265":"H.265","V_MS/VFW/FOURCC / hev1":"H.265",V_VP8:"VP8",V_VP9:"VP9",V_THEORA:"Theora",V_MPEG1:"MPEG-1","V_MPEG4/ISO/SP":"MPEG-4 Part 2","V_MPEG4/ISO/MP4V-ES":"MPEG-4 Part 2",V_AV01:"AV1",avc1:"H.264",hev1:"H.265",hvc1:"H.265",av01:"AV1",vp09:"VP9",vp08:"VP8"},yp={"A_AAC-2":"AAC",A_AAC:"AAC",A_AC3:"AC-3",A_DTS:"DTS","A_DTS/ES":"DTS-ES","A_DTS/HD":"DTS-HD","A_DTS/HDMA":"DTS-HD MA","Dolby Digital Plus with Atmos":"Dolby Digital Plus / E-AC3 Atmos","Dolby Digital Plus with Dolby Atmos":"Dolby Digital Plus / E-AC3 Atmos","E-AC-3 JOC":"Dolby Digital Plus / E-AC3 Atmos","DD+ Atmos":"Dolby Digital Plus / E-AC3 Atmos","DDP Atmos":"Dolby Digital Plus / E-AC3 Atmos","Dolby Digital Plus (E-AC-3)":"Dolby Digital Plus / E-AC3","Dolby Digital Plus":"Dolby Digital Plus / E-AC3","E-AC-3":"Dolby Digital Plus / E-AC3","EC-3":"Dolby Digital Plus / E-AC3","DD+":"Dolby Digital Plus / E-AC3",A_EAC3:"E-AC-3",A_FLAC:"FLAC","A_MPEG/L3":"MP3","A_MPEG/L2":"MP2",A_TRUEHD:"TrueHD",A_VORBIS:"Vorbis",A_WAVPACK4:"WavPack",A_PCM:"PCM","A_PCM/INT/LIT":"PCM","A_PCM/INT/BIG":"PCM","A_PCM/FLOAT/IEEE":"PCM",mp4a:"AAC","ac-3":"AC-3","ec-3":"E-AC-3",dts:"DTS",dtsh:"DTS-HD",dtsl:"DTS-HD MA","dts-es":"DTS-ES",dtses:"DTS-ES",flac:"FLAC"},bp={1:"Mono",2:"Stéréo",3:"2.1",4:"4.0",5:"5.0",6:"5.1",7:"6.1",8:"7.1",10:"7.1.2 (Atmos)",12:"7.1.4 (Atmos)",16:"15.1"},mc={fr:{code:"fr",name:"Français",flag:"https://flagcdn.com/20x15/fr.png"},"fr-ca":{code:"fr-ca",name:"Québécois",flag:"https://flagcdn.com/20x15/ca.png"},en:{code:"en",name:"Anglais",flag:"https://flagcdn.com/20x15/us.png"},es:{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},de:{code:"de",name:"Allemand",flag:"https://flagcdn.com/20x15/de.png"},it:{code:"it",name:"Italien",flag:"https://flagcdn.com/20x15/it.png"},pt:{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},ru:{code:"ru",name:"Russe",flag:"https://flagcdn.com/20x15/ru.png"},ja:{code:"ja",name:"Japonais",flag:"https://flagcdn.com/20x15/jp.png"},ko:{code:"ko",name:"Coréen",flag:"https://flagcdn.com/20x15/kr.png"},zh:{code:"zh",name:"Chinois",flag:"https://flagcdn.com/20x15/cn.png"},ar:{code:"ar",name:"Arabe",flag:"https://flagcdn.com/20x15/sa.png"},he:{code:"he",name:"Hébreu",flag:"https://flagcdn.com/20x15/il.png"},th:{code:"th",name:"Thaï",flag:"https://flagcdn.com/20x15/th.png"},vi:{code:"vi",name:"Vietnamien",flag:"https://flagcdn.com/20x15/vn.png"},hi:{code:"hi",name:"Hindi",flag:"https://flagcdn.com/20x15/in.png"},nl:{code:"nl",name:"Néerlandais",flag:"https://flagcdn.com/20x15/nl.png"},sv:{code:"sv",name:"Suédois",flag:"https://flagcdn.com/20x15/se.png"},no:{code:"no",name:"Norvégien",flag:"https://flagcdn.com/20x15/no.png"},da:{code:"da",name:"Danois",flag:"https://flagcdn.com/20x15/dk.png"},fi:{code:"fi",name:"Finnois",flag:"https://flagcdn.com/20x15/fi.png"},pl:{code:"pl",name:"Polonais",flag:"https://flagcdn.com/20x15/pl.png"},cs:{code:"cs",name:"Tchèque",flag:"https://flagcdn.com/20x15/cz.png"},hu:{code:"hu",name:"Hongrois",flag:"https://flagcdn.com/20x15/hu.png"},tr:{code:"tr",name:"Turc",flag:"https://flagcdn.com/20x15/tr.png"},ro:{code:"ro",name:"Roumain",flag:"https://flagcdn.com/20x15/ro.png"},bg:{code:"bg",name:"Bulgare",flag:"https://flagcdn.com/20x15/bg.png"},el:{code:"el",name:"Grec",flag:"https://flagcdn.com/20x15/gr.png"},id:{code:"id",name:"Indonésien",flag:"https://flagcdn.com/20x15/id.png"},ms:{code:"ms",name:"Malais",flag:"https://flagcdn.com/20x15/my.png"},tl:{code:"tl",name:"Filipino",flag:"https://flagcdn.com/20x15/ph.png"},uk:{code:"uk",name:"Ukrainien",flag:"https://flagcdn.com/20x15/ua.png"},hr:{code:"hr",name:"Croate",flag:"https://flagcdn.com/20x15/hr.png"},sr:{code:"sr",name:"Serbe",flag:"https://flagcdn.com/20x15/rs.png"},sl:{code:"sl",name:"Slovène",flag:"https://flagcdn.com/20x15/si.png"},sk:{code:"sk",name:"Slovaque",flag:"https://flagcdn.com/20x15/sk.png"},lt:{code:"lt",name:"Lituanien",flag:"https://flagcdn.com/20x15/lt.png"},lv:{code:"lv",name:"Letton",flag:"https://flagcdn.com/20x15/lv.png"},et:{code:"et",name:"Estonien",flag:"https://flagcdn.com/20x15/ee.png"},"chinese (simplified)":{code:"zh",name:"Chinois (Simplifié)",flag:"https://flagcdn.com/20x15/cn.png"},"chinese (traditional)":{code:"zh-tw",name:"Chinois (Traditionnel)",flag:"https://flagcdn.com/20x15/tw.png"},"spanish (latin america)":{code:"es-mx",name:"Espagnol (Amérique Latine)",flag:"https://flagcdn.com/20x15/mx.png"},"spanish (es)":{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},spanish:{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},"portuguese (br)":{code:"pt-br",name:"Portugais (Brésil)",flag:"https://flagcdn.com/20x15/br.png"},portuguese:{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},"portuguese (pt)":{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},"norwegian bokmal":{code:"no",name:"Norvégien",flag:"https://flagcdn.com/20x15/no.png"},chinese:{code:"zh",name:"Chinois",flag:"https://flagcdn.com/20x15/cn.png"},arabic:{code:"ar",name:"Arabe",flag:"https://flagcdn.com/20x15/sa.png"},czech:{code:"cs",name:"Tchèque",flag:"https://flagcdn.com/20x15/cz.png"},danish:{code:"da",name:"Danois",flag:"https://flagcdn.com/20x15/dk.png"},german:{code:"de",name:"Allemand",flag:"https://flagcdn.com/20x15/de.png"},greek:{code:"el",name:"Grec",flag:"https://flagcdn.com/20x15/gr.png"},finnish:{code:"fi",name:"Finnois",flag:"https://flagcdn.com/20x15/fi.png"},hebrew:{code:"he",name:"Hébreu",flag:"https://flagcdn.com/20x15/il.png"},croatian:{code:"hr",name:"Croate",flag:"https://flagcdn.com/20x15/hr.png"},hungarian:{code:"hu",name:"Hongrois",flag:"https://flagcdn.com/20x15/hu.png"},indonesian:{code:"id",name:"Indonésien",flag:"https://flagcdn.com/20x15/id.png"},italian:{code:"it",name:"Italien",flag:"https://flagcdn.com/20x15/it.png"},korean:{code:"ko",name:"Coréen",flag:"https://flagcdn.com/20x15/kr.png"},malay:{code:"ms",name:"Malais",flag:"https://flagcdn.com/20x15/my.png"},dutch:{code:"nl",name:"Néerlandais",flag:"https://flagcdn.com/20x15/nl.png"},polish:{code:"pl",name:"Polonais",flag:"https://flagcdn.com/20x15/pl.png"},romanian:{code:"ro",name:"Roumain",flag:"https://flagcdn.com/20x15/ro.png"},russian:{code:"ru",name:"Russe",flag:"https://flagcdn.com/20x15/ru.png"},swedish:{code:"sv",name:"Suédois",flag:"https://flagcdn.com/20x15/se.png"},thai:{code:"th",name:"Thaï",flag:"https://flagcdn.com/20x15/th.png"},turkish:{code:"tr",name:"Turc",flag:"https://flagcdn.com/20x15/tr.png"},ukrainian:{code:"uk",name:"Ukrainien",flag:"https://flagcdn.com/20x15/ua.png"},vietnamese:{code:"vi",name:"Vietnamien",flag:"https://flagcdn.com/20x15/vn.png"}};function wp(e){return vp[e]||e}function Np(e){if(!e)return"Autre";const t=e.trim(),r=t.toLowerCase();return/e[\- _]?ac[\- _]?3\s*joc/.test(r)||/(^|[\s\-_/])(e[\- _]?ac[\- _]?3|ec[\- _]?3|dd\+|dolby\s*digital\s*plus)([^a-z]|$)/.test(r)&&/(atmos|joc)/.test(r)||r==="dolby digital plus with atmos"||r==="dd+ atmos"||r==="ddp atmos"?"Dolby Digital Plus / E-AC3 Atmos":/dolby\s*truehd/.test(r)&&/atmos/.test(r)||/\bmlp\s*fba\s*16-ch\b/.test(r)?"Dolby TrueHD Atmos":/(^|[\s\-_/])(e[\- _]?ac[\- _]?3|ec[\- _]?3|dd\+|dolby\s*digital\s*plus)([^a-z]|$)/.test(r)?"Dolby Digital Plus / E-AC3":/(^|[\s\-_/])ac[\- _]?3([^a-z]|$)/.test(r)||/dolby\s*digital(?!\s*plus)/.test(r)?"AC-3":yp[e]||t}function jp(e){return bp[e]||`${e} canaux`}function ze(e){const t=e.toLowerCase();return t==="autre"||t==="other"?{code:t,name:e,flag:null}:mc[t]?mc[t]:{code:t,name:e,flag:null}}function _p(e){const t={},r=e.split(`
`);let n="",i=[];for(const a of r){const l=a.trim(),o=/^(general|général)(\s*#\d+)?\s*$/i.test(l),c=/^(video|vidéo)(\s*#\d+)?\s*$/i.test(l),m=/^audio(\s*#\d+)?\s*$/i.test(l),y=/^(text|texte)(\s*#\d+)?\s*$/i.test(l),u=/^(subtitle|sous-titre)\s*#\d+\s*$/i.test(l);o?(n&&i.length>0&&vn(t,n,i.join(`
`)),n="general",i=[]):c?(n&&i.length>0&&vn(t,n,i.join(`
`)),n="video",i=[]):m?(n&&i.length>0&&vn(t,n,i.join(`
`)),n="audio",i=[]):y||u?(n&&i.length>0&&vn(t,n,i.join(`
`)),n="text",i=[]):l&&n&&i.push(l)}return n&&i.length>0&&vn(t,n,i.join(`
`)),t}function vn(e,t,r){t==="general"?e.general=r:t==="video"?(e.video||(e.video=[]),e.video.push(r)):t==="audio"?(e.audio||(e.audio=[]),e.audio.push(r)):t==="text"&&(e.text||(e.text=[]),e.text.push(r))}function kp(e){const t={},r=e.match(/(Duration|Durée)\s*:\s*(.+)/i);r&&(t.duration=r[2].trim());const n=e.match(/(File\s*size|Taille\s*du\s*fichier)\s*:\s*([\d\s,.]+)\s*(GiB|GB|MiB|MB|Gio|Mio)/i);if(n){const i=n[2].replace(/\s/g,"").replace(",","."),a=n[3].toUpperCase(),l=parseFloat(i);Number.isNaN(l)||(a==="GIB"||a==="GB"||a==="GIO"?t.fileSizeGiB=l:(a==="MIB"||a==="MB"||a==="MIO")&&(t.fileSizeGiB=l/1024))}return t}function Cp(e){const t={},r=e.match(/(Duration|Durée)\s*:\s*(.+)/i);r&&(t.duration=r[2].trim());const n=e.match(/(Width|Largeur)\s*:\s*([\d\s.,]+)/i),i=e.match(/(Height|Hauteur)\s*:\s*([\d\s.,]+)/i);if(n&&i){const m=parseInt(n[2].replace(/\D/g,"")),y=parseInt(i[2].replace(/\D/g,""));if(!Number.isNaN(m)&&!Number.isNaN(y)){t.width=m,t.height=y;const u=m>=3800||y>=2160||m>=3e3&&y>=1600,g=!u&&(m>=1900||y>=1e3||m>=1900&&y>=800),h=!u&&!g&&(m>=1280||y>=700);u?t.quality="2160p":g?t.quality="1080p":h?t.quality="720p":t.quality="SD"}}const a=e.match(/Format\s*:\s*(.+)/i);if(a){let m=a[1].trim().toUpperCase();m==="MATROSKA"?m="MKV":(m==="AVI"||m.includes("AVI"))&&(m="AVI"),t.format=["MKV","MP4","AVI","M2TS","ISO"].includes(m)?m:"MKV",console.log("Video section format detected:",m,"mapped to:",t.format)}const l=e.match(/(Codec ID|Identifiant du codec)\s*:\s*(.+)/i)||e.match(/Format\s*:\s*(.+)/i);if(l){const m=(l[2]||l[1]).trim();t.codec=wp(m)}const o=e.match(/(Frame\s*rate|Images\s*par\s*seconde)\s*:\s*([\d.,]+)\s*(FPS|Im\/s)/i);o&&(t.frameRate=o[2].replace(",","."));const c=e.match(/(Bit[ _-]?rate|Débit)\s*:\s*([\d\s.,]+)\s*(Mb\/?s|Mbps|Kb\/?s|Kbps|kb\/?s)/i)||e.match(/Bitrate\s*:\s*([\d\s.,]+)\s*(Mb\/?s|Mbps|Kb\/?s|Kbps|kb\/?s)/i);if(c){const m=c[2].replace(/\s/g,"").replace(",","."),y=c[3].toLowerCase();let u=parseFloat(m);Number.isNaN(u)||(y.startsWith("kb")&&(u=u/1e3),t.bitrate=parseFloat(u.toFixed(3)),t.bitrateUnit="Mbps")}return t}function tf(e,t="Français",r="fr"){const n=e.match(/(Language|Langue)\s*:\s*(.+)/i);if(n){const i=n[2].trim().toLowerCase();return i.includes("french")||i.includes("français")?{language:"Français",languageCode:"fr"}:i.includes("english")||i.includes("anglais")?{language:"Anglais",languageCode:"en"}:i.includes("japanese")||i.includes("japonais")?{language:"Japonais",languageCode:"ja"}:i.includes("french ca")||i.includes("vfq")?{language:"Québécois",languageCode:"fr-ca"}:{language:n[2].trim(),languageCode:"other"}}return{language:t,languageCode:r}}function Sp(e,t){try{const r={id:(t+1).toString(),language:"Français",languageCode:"fr",codec:"AAC",channels:"Stéréo",bitrate:128,bitrateUnit:"Kbps",isDefault:t===0};let n=!1;const i=tf(e);r.language=i.language,r.languageCode=i.languageCode;const a=e.match(/(Commercial\s*name|Nom\s*commercial)\s*:\s*(.+)/i);if(a){const u=a[2].trim().toLowerCase();u.includes("dts-hd high resolution audio")||u.includes("dts-hd hra")?(r.codec="DTS-HD",n=!0):u.includes("dts-hd master audio")||u.includes("dts-hd ma")?(r.codec="DTS-HD MA",n=!0):u.includes("dts:x")?(r.codec="DTS:X",n=!0):u.includes("dolby truehd")&&u.includes("atmos")?(r.codec="Dolby TrueHD with Dolby Atmos",n=!0):u.includes("dolby truehd")?(r.codec="Dolby TrueHD",n=!0):(u.includes("dolby digital plus")||u.includes("e-ac-3")||u.includes("eac3")||u.includes("dd+"))&&(u.includes("atmos")||u.includes("joc"))?(r.codec="Dolby Digital Plus with Atmos",n=!0):u.includes("dolby digital plus")||u.includes("e-ac-3")||u.includes("eac3")||u.includes("dd+")?(r.codec="Dolby Digital Plus (E-AC-3)",n=!0):u.includes("dts-es")&&(r.codec="DTS-ES",n=!0)}const l=/\bAtmos\b|\bJOC\b/i.test(e),o=e.match(/Format\s*:\s*(.+)/i)||e.match(/(Codec ID|Identifiant du codec)\s*:\s*(.+)/i);if(o&&!n){const u=o[1].trim(),g=u.toLowerCase(),h=e.match(/(Format\s*\/\s*Info|Format\/Info)\s*:\s*(.+)/i),N=h?h[1].trim().toLowerCase():"",p=e.match(/(Codec\s*ID|Identifiant\s*du\s*codec)\s*:\s*(.+)/i),w=p?p[1].trim().toLowerCase():"";if(g.includes("dts xll")||N.includes("dts xll"))r.codec="DTS-HD MA";else if(g.includes("dts-hd")&&g.includes("master"))r.codec="DTS-HD Master Audio";else if(g.includes("dts:x"))r.codec="DTS:X";else if(g.includes("truehd")&&l)r.codec="Dolby TrueHD with Dolby Atmos";else if(g.includes("truehd"))r.codec="Dolby TrueHD";else if(g==="dts"||g.includes("dts es")||N.includes("digital theater systems")||w.includes("a_dts"))r.codec="DTS";else if(g==="ac-3"||g.includes("ac-3")||g.includes("dolby digital")||w.includes("a_ac3")||N.includes("audio coding 3")||g.includes("ac3"))r.codec="AC-3";else if(g.includes("e-ac-3")||g.includes("eac3")||g.includes("dd+")||g.includes("dolby digital plus")||w.includes("a_eac3")||N.includes("enhanced ac-3"))r.codec=l?"Dolby Digital Plus with Atmos":"Dolby Digital Plus (E-AC-3)";else if(g.includes("mlp fba"))r.codec=l?"Dolby TrueHD with Dolby Atmos":"Dolby TrueHD";else if(g.includes("aac")||w.includes("a_aac"))r.codec="AAC";else if(g.includes("pcm")||w.includes("a_pcm"))r.codec="PCM";else if(g.includes("flac")||w.includes("a_flac"))r.codec="FLAC";else{const d=Np(u);typeof d=="string"&&d&&!/^(autre|other)$/i.test(d)?r.codec=d:r.codec=u||"Autre"}}const c=e.match(/Title\s*:\s*(.+)/i);if(c){c[1].toLowerCase().includes("atmos")&&(r.codec&&/dolby truehd/i.test(r.codec)?r.codec="Dolby TrueHD with Dolby Atmos":r.codec&&/dolby digital plus/i.test(r.codec)&&(r.codec="Dolby Digital Plus with Atmos"));const g=c[1].toLowerCase();(g.includes("french ca")||g.includes("vfq")||g==="french ca")&&(r.language="Québécois",r.languageCode="fr-ca")}const m=e.match(/(Channel\(s\)|Canaux)\s*:\s*(\d+)/i);if(m){const u=parseInt(m[2]);r.channels=jp(u)}const y=e.match(/(Bit[ _-]?rate|Débit)\s*:\s*([\d\s.,]+)\s*(Kb\/?s|kb\/?s|Kbps|kbps)/i)||e.match(/Bitrate\s*:\s*([\d\s.,]+)\s*(Kb\/?s|kb\/?s|Kbps|kbps)/i);if(y){const u=y[2].replace(/\s/g,"").replace(",",".");let g=parseFloat(u);Number.isNaN(g)||(r.bitrate=Math.round(g),r.bitrateUnit="Kbps")}return r}catch(r){return console.error("Erreur lors du parsing de la piste audio:",r),null}}function Ep(e,t){try{const r={id:(t+1).toString(),language:"Français",languageCode:"fr",type:"embedded",format:"SRT",isForced:!1,isDefault:t===0},n=tf(e);r.language=n.language,r.languageCode=n.languageCode;const i=e.match(/Format\s*:\s*(.+)/i);if(i){const c=i[1].trim().toUpperCase();["SRT","ASS","SSA","PGS","VOBSUB","SUP","UTF-8"].includes(c)&&(r.format=c==="UTF-8"?"SRT":c)}const a=e.match(/(Title|Titre)\s*:\s*(.+)/i);if(a){const c=a[2].toLowerCase();(c.includes("forced")||c.includes("forcé"))&&(r.isForced=!0),c.includes("sdh")&&(r.isSDH=!0),(c.includes("full")||c.includes("complete"))&&(r.isComplete=!0)}const l=e.match(/(Forced|Forcé)\s*:\s*(Yes|No|Oui|Non)/i);l&&(r.isForced=/^(yes|oui)$/i.test(l[2]));const o=e.match(/(Default|Défaut)\s*:\s*(Yes|No|Oui|Non)/i);return o&&(r.isDefault=/^(yes|oui)$/i.test(o[2])),r}catch(r){return console.error("Erreur lors du parsing des sous-titres:",r),null}}function Dp(e){var o;const t={},r=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i),n=e.match(/(Movie\s*name|Nom\s*du\s*film)\s*:\s*(.+)/i),i=e.match(/(Encoded\s*by|Encodé\s*par)\s*:\s*(.+)/i),a=e.match(/(Original\s*source\s*medium|Support\s*source\s*original)\s*:\s*(.+)/i),l=((o=r?r[2]:n?n[2]:"")==null?void 0:o.trim())||"";if(l){const m=(l.split(/[\\/]/).pop()||l).trim().replace(/\.[^.]+$/,"").trim(),y=m.toLowerCase();t.source=rf(y)||t.source,t.releaseGroup=m.replace(/\./g," ")}if(!t.source&&a){const c=a[2].toLowerCase();c.includes("uhd")||c.includes("4k")?t.source="UHD BluRay":c.includes("blu-ray")?t.source="BluRay":c.includes("web")&&(t.source="WEB-DL")}return!t.releaseGroup&&i&&(t.releaseGroup=i[2].trim()),t}function rf(e){const t=e.toLowerCase();if(/(^|[._\-\s])webrip([._\-\s]|$)/i.test(t))return"WEBRip";if(/(^|[._\-\s])web\-?dl([._\-\s]|$)/i.test(t)||/(^|[._\-\s])web([._\-\s]|$)/i.test(t)||/(^|[._\-\s])(amzn|amazon|nf|netflix|dsnp|disney\+?|dplus|itunes|atvp|appletv\+?|hulu|max|hbomax|paramount|pmtp|peacock)([._\-\s]|$)/i.test(t))return"WEB-DL";if(/(^|[._\-\s])(bdremux|remux)([._\-\s]|$)/i.test(t))return"REMUX";if(/(^|[._\-\s])(uhd|4k)([._\-\s]|$)/i.test(t))return"UHD BluRay";if(/(^|[._\-\s])(bluray|blu\-ray|bdrip)([._\-\s]|$)/i.test(t))return"BluRay";if(/(^|[._\-\s])hdtv([._\-\s]|$)/i.test(t))return"HDTV";if(/(^|[._\-\s])dvdrip([._\-\s]|$)/i.test(t))return"DVDRip";if(/(^|[._\-\s])cam([._\-\s]|$)/i.test(t))return"CAM";if(/(^|[._\-\s])ts([._\-\s]|$)/i.test(t))return"TS"}function Ip(e){if(!e||!Xd(e))return null;const t=/\bRESOLUTiON\b|\bViDEO\b|\bAUDiO\b|\bSUBTiTLES\b/i.test(e),r={video:{},audio:[],subtitles:[]};try{if(!Jd(e)&&t){const i=gp(e);if(i)return i}const n=_p(e);return Ap(n.general,r),Pp(n.video,r),Fp(n.audio,r),Rp(n.text,r),Bp(r),r}catch(n){return console.error("Erreur lors du parsing des spécifications techniques:",n),null}}function Ap(e,t){if(!e)return;const r=kp(e),n=t.video,i=e.match(/Format\s*:\s*(.+)/i);if(i){let l=i[1].trim().toUpperCase();l==="MATROSKA"?l="MKV":l==="AVI"?l="AVI":l==="MP4"?l="MP4":l==="M2TS"?l="M2TS":l==="ISO"&&(l="ISO"),["MKV","MP4","AVI","M2TS","ISO"].includes(l)&&(n.format=l),console.log("Format detected from General section:",l)}r.duration&&(n.duration=r.duration),r.fileSizeGiB&&!Number.isNaN(r.fileSizeGiB)&&(n.size=r.fileSizeGiB);const a=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(a){const l=a[2];Tp(l,n),zp(l,t),$p(e,t)}Mp(e,t)}function Tp(e,t){const r=e.toLowerCase();/\b(2160p|uhd|4k)\b/i.test(r)?t.quality="2160p":/\b1080p\b/i.test(r)?t.quality="1080p":/\b720p\b/i.test(r)&&(t.quality="720p")}function zp(e,t){const r=rf(e);r&&(t.source=r)}function $p(e,t){const r=mp(e);r&&(t.releaseName=r,t.releaseGroup||(t.releaseGroup=r.replace(/\./g," ")))}function Mp(e,t){const r=Dp(e);r.source&&!t.source&&(t.source=r.source),r.releaseGroup&&!t.releaseGroup&&(t.releaseGroup=r.releaseGroup)}function Pp(e,t){if(!e||e.length===0)return;const r=Cp(e[0]),n=t.video,i="Mbps",a=n.format;t.video={quality:r.quality||n.quality||"1080p",format:a||r.format||"MKV",codec:r.codec||n.codec||"H.264",bitrate:r.bitrate??n.bitrate??5,bitrateUnit:r.bitrateUnit||n.bitrateUnit||i,size:n.size??r.size,duration:n.duration||r.duration},console.log("Final video format after processing:",t.video.format);const l=t.video,o=r;o.width&&(l.width=o.width),o.height&&(l.height=o.height),o.frameRate&&(l.frameRate=o.frameRate)}function Fp(e,t){!e||e.length===0||(t.audio=e.map((r,n)=>Sp(r,n)).filter(r=>r!==null))}function Rp(e,t){!e||e.length===0||(t.subtitles=e.map((r,n)=>Ep(r,n)).filter(r=>r!==null))}function Bp(e){if(e.audio){const t=r=>`${r.language}-${r.codec}-${r.channels}-${r.bitrate}`;e.audio=pc(e.audio,t)}if(e.subtitles){const t=r=>{const n=r;return`${r.language}-${r.format}-${r.isForced}-${n.isSDH}-${n.isComplete}`};e.subtitles=pc(e.subtitles,t)}}function pc(e,t){const r=new Set;return e.filter(n=>{const i=t(n);return r.has(i)?!1:(r.add(i),!0)})}const nf=te.createContext(void 0),Lp={fr:{"footer.version":"V.0.99","header.title":"FicheGen","header.subtitle":"Générateur de Fiches média","search.placeholder":"Rechercher un film ou une série...","search.nfo.upload":"Importer NFO","search.nfo.paste":"Coller NFO","search.nfo.notitle":"NFO importé avec succès, mais aucun titre trouvé. Recherchez le manuellement.","specs.title":"Spécifications techniques","specs.back":"Retour","specs.name":"Nom de la release","specs.size":"Taille","specs.video":"Vidéo","specs.resolution":"Résolution","specs.codec":"Codec","specs.bitrate":"Débit","specs.audio":"Audio","specs.subtitles":"Sous-titres","specs.language":"Langue(s)","specs.format":"Format","specs.default":"Défaut","specs.add":"Ajouter","specs.generate":"Générer la fiche","lang.french":"Français","lang.english":"Anglais","lang.spanish":"Espagnol","lang.german":"Allemand","lang.italian":"Italien","lang.portuguese":"Portugais","lang.russian":"Russe","lang.japanese":"Japonais","lang.korean":"Coréen","lang.chinese":"Chinois","lang.arabic":"Arabe","lang.hindi":"Hindi","lang.dutch":"Néerlandais","lang.swedish":"Suédois","lang.norwegian":"Norvégien","lang.danish":"Danois","lang.finnish":"Finnois","lang.polish":"Polonais","lang.czech":"Tchèque","lang.hungarian":"Hongrois","lang.romanian":"Roumain","lang.bulgarian":"Bulgare","lang.greek":"Grec","lang.turkish":"Turc","lang.hebrew":"Hébreu","lang.thai":"Thaï","lang.vietnamese":"Vietnamien","lang.indonesian":"Indonésien","lang.malay":"Malais","lang.filipino":"Filipino","lang.ukrainian":"Ukrainien","lang.croatian":"Croate","lang.serbian":"Serbe","lang.slovenian":"Slovène","lang.slovak":"Slovaque","lang.lithuanian":"Lituanien","lang.latvian":"Letton","lang.estonian":"Estonien","lang.quebecois":"Québécois","lang.other":"Autre","card.synopsis":"Synopsis","card.cast":"Distribution","card.crew":"Équipe technique","card.director":"Réalisateur","card.writer":"Scénariste","card.producer":"Producteur","card.composer":"Compositeur","card.cinematographer":"Directeur de la photographie","card.editor":"Monteur","card.production":"Production","card.company":"Société de production","card.country":"Pays","card.release":"Date de sortie","card.runtime":"Durée","card.budget":"Budget","card.revenue":"Recettes","card.genres":"Genres","card.rating":"Note","card.votes":"votes","card.technical":"Infos complémentaires","card.torrent":"Infos","card.torrent.specs":"Spécifications techniques","card.export.bbcode":"Exporter BBCode","card.export.html":"Exporter HTML","card.export.markdown":"Exporter Markdown","card.export.text":"Exporter Texte","tv.seasons":"Saisons","tv.episodes":"Épisodes","tv.status":"Statut","tv.network":"Chaîne","tv.firstAired":"Première diffusion","tv.lastAired":"Dernière diffusion","app.create":"Créez vos fiches","app.professional":"de séries ou films","app.description":"Recherchez un film ou une série via son titre, depuis un NFO ou son ID TMDB","app.config.required":"Configuration requise :","app.config.message":"Vous devez configurer votre clé API TMDB pour utiliser cette application.","app.config.now":"Configurer maintenant","app.loading":"Chargement des détails...","app.specs.detected":"Spécifications techniques détectées :","app.specs.message":"NFO analysé. Vous pouvez modifier les informations si nécessaire.","app.preview.title":"Prévisualisation de la fiche","app.preview.change":"Changer","app.preview.continue":"Continuer","app.preview.check":"Prévisualisation :","app.preview.verify":"Vérifiez que c'est bien le bon film/série avant de remplir les spécifications techniques.","app.sheet.generated":"Fiche générée","app.sheet.modify":"Modifier le film/série","app.sheet.edit.specs":"Modifier les spécifications","app.sheet.new":"Nouvelle recherche","app.ready.title":"Prêt à créer votre première fiche ?","app.ready.description":"Utilisez la barre de recherche ci-dessus ou glissez un fichier NFO pour commencer.","app.step1":"Recherchez","app.step1.desc":"Tapez le nom d'un film, d'une série ou son ID TMDB","app.step2":"Sélectionnez","app.step2.desc":"Choisissez dans les résultats de recherche","app.step3":"Exportez","app.step3.desc":"Téléchargez votre fiche en BBCODE, HTML, Markdown ou TXT","search.movie":"Film","search.tv":"Série","search.searching":"Recherche en cours...","nfo.title.not.found":"Titre non trouvé","nfo.close":"Fermer","nfo.paste.title":"Coller le contenu NFO","nfo.paste.description":"Collez ici le contenu de votre NFO. Les spécifications techniques seront automatiquement analysées.","nfo.paste.placeholder":"Collez le contenu de votre fichier NFO ici...","nfo.cancel":"Annuler","nfo.analyze":"Analyser","specs.channels":"Canaux","specs.additional":"Infos supplémentaires","specs.release.group":"Release","specs.notes":"Notes","specs.notes.placeholder":"Informations supplémentaires ...","specs.release.placeholder":"ex : nom de la release source","specs.track.audio":"Piste Audio","specs.track.subtitle":"Sous-titre","specs.type":"Type","specs.embedded":"Intégré","specs.external":"Externe","specs.forced":"Forcé","card.main.cast":"Casting principal","card.data.provided":"Données fournies par","specs.video.title":"Spécifications Vidéo","specs.quality":"Qualité","specs.audio.tracks":"Pistes Audio","specs.bitrate.label":"Débit","specs.track.default":"Piste par défaut","poster.choose":"Choisir une affiche","poster.select":"Sélectionner","poster.close":"Fermer","poster.description":"Sélectionnez l'affiche voulue. Les affiches sont triées par popularité et qualité.","poster.loading":"Chargement des affiches...","poster.none":"Aucune affiche supplémentaire disponible","poster.use":"Utiliser cette affiche","api.title":"Configuration API TMDB","api.description":"Entrez votre clé API TMDB pour accéder aux données des films et séries.","api.key.label":"Clé API TMDB","api.key.placeholder":"Votre clé API TMDB...","api.get.key":"Obtenir une clé API","api.save":"Sauvegarder","export.title":"Exporter la fiche en bbcode","export.style":"Style de la présentation","export.copy":"Copier le code","export.download":"Télécharger","card.export.actions":"Actions","card.change.poster":"Changer l'affiche","card.export.formats":"Formats d'export","history.title":"Historique des fiches","history.clear.all":"Tout supprimer","history.empty":"Aucune fiche dans l'historique","history.empty.description":"Les fiches générées apparaîtront ici","history.load":"Charger","history.button":"Historique","nav.movies":"Vidéo","nav.books":"eBook","ebook.create":"Créez vos fiches","ebook.professional":"de livres, BD etc ...","ebook.description":"Recherchez un livre ou une BD via son titre dans Google Book","ebook.search.placeholder":"Rechercher un livre ou BD par titre, auteur ou ISBN...","ebook.search.results":"livres trouvés","ebook.search.loading":"Chargement...","ebook.search.loadMore":"Charger plus","ebook.more":"autres","ebook.showMore":"Voir plus","ebook.showLess":"Voir moins","ebook.categories":"Catégories","ebook.technical.specs":"Spécifications eBook","ebook.format":"Format","ebook.size":"Taille","ebook.quality":"Qualité","ebook.drm":"Protection DRM","ebook.yes":"Oui","ebook.no":"Non","ebook.source":"Source","ebook.notes":"Notes","ebook.notes.placeholder":"Informations supplémentaires...","ebook.specs.title":"Spécifications eBook","ebook.filename":"Nom du fichier","ebook.language":"Langue","ebook.edition":"Édition","ebook.publisher":"Éditeur","ebook.year":"Année","ebook.uploaded.by":"Uploadé par","ebook.cancel":"Annuler","ebook.generate.sheet":"Générer la fiche","ebook.preview.title":"Prévisualisation du livre","ebook.sheet.generated":"Fiche eBook générée","ebook.ready.title":"Prêt à créer votre première fiche eBook ?","ebook.ready.description":"Recherchez un livre par titre, auteur ou ISBN pour commencer.","ebook.step1":"Recherchez","ebook.step1.desc":"Tapez le titre d'un livre, le nom d'un auteur ou un ISBN","ebook.step2":"Configurez","ebook.step2.desc":"Ajoutez les spécifications techniques du fichier eBook","ebook.step3":"Exportez","ebook.step3.desc":"Téléchargez votre fiche en HTML, Markdown ou TXT","modal.cover.title":"Changer la couverture","modal.cover.current":"Couverture actuelle","modal.cover.url":"URL de la nouvelle couverture","modal.cover.preview":"Aperçu","modal.cover.error":"Image non valide","modal.cover.help.title":"Conseil :","modal.cover.help.description":"Utilisez une URL d'image directe (se terminant par .jpg, .png, etc.)","modal.cover.cancel":"Annuler","modal.cover.confirm":"Confirmer"},en:{"header.title":"FicheGen","header.subtitle":"Sheet Generator for media","search.placeholder":"Search for a movie or TV show...","search.nfo.upload":"Upload NFO","search.nfo.paste":"Paste NFO","search.nfo.notitle":"NFO imported successfully, but no extractable title found. Please search manually.","specs.title":"Technical Specifications","specs.back":"Back","specs.name":"Release","specs.size":"Size","specs.video":"Video","specs.resolution":"Resolution","specs.codec":"Codec","specs.bitrate":"Bitrate","specs.audio":"Audio","specs.subtitles":"Subtitles","specs.language":"Language","specs.format":"Format","specs.default":"Default","specs.add":"Add","specs.generate":"Generate Sheet","lang.french":"French","lang.english":"English","lang.spanish":"Spanish","lang.german":"German","lang.italian":"Italian","lang.portuguese":"Portuguese","lang.russian":"Russian","lang.japanese":"Japanese","lang.korean":"Korean","lang.chinese":"Chinese","lang.arabic":"Arabic","lang.hindi":"Hindi","lang.dutch":"Dutch","lang.swedish":"Swedish","lang.norwegian":"Norwegian","lang.danish":"Danish","lang.finnish":"Finnish","lang.polish":"Polish","lang.czech":"Czech","lang.hungarian":"Hungarian","lang.romanian":"Romanian","lang.bulgarian":"Bulgarian","lang.greek":"Greek","lang.turkish":"Turkish","lang.hebrew":"Hebrew","lang.thai":"Thai","lang.vietnamese":"Vietnamese","lang.indonesian":"Indonesian","lang.malay":"Malay","lang.filipino":"Filipino","lang.ukrainian":"Ukrainian","lang.croatian":"Croatian","lang.serbian":"Serbian","lang.slovenian":"Slovenian","lang.slovak":"Slovak","lang.lithuanian":"Lithuanian","lang.latvian":"Latvian","lang.estonian":"Estonian","lang.quebecois":"Quebec French","lang.other":"Other","card.synopsis":"Synopsis","card.cast":"Cast","card.crew":"Crew","card.director":"Director","card.writer":"Writer","card.producer":"Producer","card.composer":"Composer","card.cinematographer":"Cinematographer","card.editor":"Editor","card.production":"Production","card.company":"Production Company","card.country":"Country","card.release":"Release Date","card.runtime":"Runtime","card.budget":"Budget","card.revenue":"Revenue","card.genres":"Genres","card.rating":"Rating","card.votes":"votes","card.technical":"Technical Information","card.torrent":"Specifications","card.torrent.specs":"Technical Specifications","card.export.bbcode":"Export BBCode","card.export.html":"Export HTML","card.export.markdown":"Export Markdown","card.export.text":"Export Text","tv.seasons":"Seasons","tv.episodes":"Episodes","tv.status":"Status","tv.network":"Network","tv.firstAired":"First Aired","tv.lastAired":"Last Aired","footer.version":"V 0.99","app.create":"Create your TV show or movie","app.professional":"sheets","app.description":"Search for a movie or TV series by title, from an NFO file, or by its TMDB ID to generate its detail page.","app.config.required":"Configuration required:","app.config.message":"You must configure your TMDB API key to use this application.","app.config.now":"Configure now","app.loading":"Loading details...","app.specs.detected":"Technical specifications detected:","app.specs.message":"NFO file information has been analyzed and pre-filled automatically. You can modify them if necessary","app.preview.title":"Sheet Preview","app.preview.change":"Change movie/TV show","app.preview.continue":"Continue with this movie/TV show","app.preview.check":"Preview:","app.preview.verify":"Verify this is the correct movie/TV show before filling in technical specifications","app.sheet.generated":"Generated Sheet","app.sheet.modify":"Modify movie/TV show","app.sheet.edit.specs":"Edit specifications","app.sheet.new":"New search","app.ready.title":"Ready to create your first sheet?","app.ready.description":"Use the search bar above or drag an NFO file to get started","app.step1":"Search","app.step1.desc":"Type the name of a movie, a series, or its TMDB ID","app.step2":"Select","app.step2.desc":"Choose from search results","app.step3":"Export","app.step3.desc":"Download your file in BBCode, HTML, Markdown, or TXT.","search.movie":"Movie","search.tv":"TV Show","search.searching":"Searching...","nfo.title.not.found":"Title not found","nfo.close":"Close","nfo.paste.title":"Paste NFO content","nfo.paste.description":"Paste your NFO file content here (MediaInfo or XML). Technical specifications will be automatically analyzed.","nfo.paste.placeholder":"Paste your NFO file content here...","nfo.cancel":"Cancel","nfo.analyze":"Analyze","specs.channels":"Channels","specs.additional":"Additional Information","specs.release.group":"Release Group","specs.notes":"Notes","specs.notes.placeholder":"Additional information...","specs.release.placeholder":"Ex: release source","specs.track.audio":"Audio Track","specs.track.subtitle":"Subtitle","specs.type":"Type","specs.embedded":"Embedded","specs.external":"External","specs.forced":"Forced","card.main.cast":"Main Cast","card.data.provided":"Data provided by","specs.video.title":"Video Specifications","specs.quality":"Quality","specs.audio.tracks":"Audio Tracks","specs.bitrate.label":"Bitrate","specs.track.default":"Default track","poster.choose":"Choose Poster","poster.select":"Select","poster.close":"Close","poster.description":"Select the poster you want to use for your sheet. Posters are sorted by popularity and quality.","poster.loading":"Loading posters...","poster.none":"No additional posters available","poster.use":"Use this poster","api.title":"TMDB API Configuration","api.description":"Enter your TMDB API key to access movie and TV show data.","api.key.label":"TMDB API Key","api.key.placeholder":"Your TMDB API key...","api.get.key":"Get API Key","api.save":"Save","export.title":"Export Sheet","export.style":"Export Style","export.copy":"Copy Code","export.download":"Download","card.export.actions":"Actions","card.change.poster":"Change Poster","card.export.formats":"Export Formats","history.title":"Sheet History","history.clear.all":"Clear All","history.empty":"No sheets in history","history.empty.description":"Generated sheets will appear here","history.load":"Load","history.button":"History","nav.movies":"Video","nav.books":"eBook","ebook.create":"Create your sheets","ebook.professional":"for books, comics, etc.","ebook.description":"Search for a book or a comic by its title in Google Books","ebook.search.placeholder":"Search for a book by title, author or ISBN...","ebook.search.results":"books found","ebook.search.loading":"Loading...","ebook.search.loadMore":"Load more","ebook.more":"more","ebook.showMore":"Show more","ebook.showLess":"Show less","ebook.categories":"Categories","ebook.technical.specs":"eBook Specifications","ebook.format":"Format","ebook.size":"Size","ebook.quality":"Quality","ebook.drm":"DRM Protection","ebook.yes":"Yes","ebook.no":"No","ebook.source":"Source","ebook.notes":"Notes","ebook.notes.placeholder":"Additional information...","ebook.specs.title":"eBook Specifications","ebook.filename":"Filename","ebook.language":"Language","ebook.edition":"Edition","ebook.publisher":"Publisher","ebook.year":"Year","ebook.uploaded.by":"Uploaded by","ebook.cancel":"Cancel","ebook.generate.sheet":"Generate Sheet","ebook.preview.title":"Book Preview","ebook.sheet.generated":"eBook Sheet Generated","ebook.ready.title":"Ready to create your first eBook sheet?","ebook.ready.description":"Search for a book by title, author or ISBN to start.","ebook.step1":"Search","ebook.step1.desc":"Enter a book title, author name or ISBN","ebook.step2":"Configure","ebook.step2.desc":"Add the eBook file technical specifications","ebook.step3":"Export","ebook.step3.desc":"Download your sheet in HTML, Markdown or TXT","modal.cover.title":"Change Cover","modal.cover.current":"Current cover","modal.cover.url":"New cover URL","modal.cover.preview":"Preview","modal.cover.error":"Invalid image","modal.cover.help.title":"Tip:","modal.cover.help.description":"Use a direct image URL (ending with .jpg, .png, etc.)","modal.cover.cancel":"Cancel","modal.cover.confirm":"Confirm"}},Op=({children:e})=>{const[t,r]=te.useState(()=>{const a=localStorage.getItem("language");return a&&(a==="fr"||a==="en")?a:navigator.language.startsWith("fr")?"fr":"en"});te.useEffect(()=>{localStorage.setItem("language",t)},[t]);const n=a=>{r(a)},i=a=>Lp[t][a]||a;return s.jsx(nf.Provider,{value:{language:t,setLanguage:n,t:i},children:e})},Fe=()=>{const e=te.useContext(nf);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e};function Up({onResultSelect:e,onTechnicalSpecsFound:t,apiKey:r,disabled:n=!1,language:i="fr"}){const{t:a}=Fe(),[l,o]=te.useState(""),[c,m]=te.useState([]),[y,u]=te.useState(!1),[g,h]=te.useState(!1),[N,p]=te.useState(1),[w,d]=te.useState(0),[f,v]=te.useState(!1),[j,_]=te.useState(!1),[S,E]=te.useState(!1),[k,$]=te.useState(""),[U,Z]=te.useState(!1),T=te.useRef(null),L=te.useRef(null);te.useEffect(()=>{r&&me.setApiKey(r)},[r]),te.useEffect(()=>{const O=W=>{T.current&&!T.current.contains(W.target)&&h(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),te.useEffect(()=>{const O=setTimeout(async()=>{if(l.trim()){u(!0),p(1);try{const W=await me.searchMulti(l,1,i);m(W.results),d(W.total_pages),h(!0)}catch(W){console.error("Erreur de recherche:",W),m([]),d(0)}u(!1)}else m([]),h(!1),p(1),d(0)},300);return()=>clearTimeout(O)},[l,i]);const b=async()=>{if(!(f||N>=w)){v(!0);try{const O=await me.searchMulti(l,N+1,i);m(W=>[...W,...O.results]),p(W=>W+1)}catch(O){console.error("Erreur lors du chargement de plus de résultats:",O)}v(!1)}},G=O=>{if(Xd(O)){let W="";if(Jd(O)){W=hp(O);const ie=Ip(O);ie&&t&&t(ie)}else W=ef(O).title||"";W?o(W):Z(!0)}},ne=O=>{var de;const W=(de=O.target.files)==null?void 0:de[0];if(!W)return;const ie=new FileReader;ie.onload=async le=>{var he;const oe=(he=le.target)==null?void 0:he.result;G(oe)},ie.readAsText(W),O.target.value=""},q=O=>{O.preventDefault(),_(!0)},P=O=>{O.preventDefault(),_(!1)},A=O=>{O.preventDefault(),_(!1);const ie=Array.from(O.dataTransfer.files)[0];if(ie&&(ie.name.endsWith(".nfo")||ie.type.startsWith("text/"))){const de=new FileReader;de.onload=le=>{var he;const oe=(he=le.target)==null?void 0:he.result;G(oe)},de.readAsText(ie)}},I=O=>{e(O),h(!1),o(O.title||O.name||"")},M=()=>{k.trim()&&(G(k),E(!1),$(""))},z=()=>{E(!1),$("")},Q=()=>{o(""),m([]),h(!1),Z(!1)};return s.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[s.jsxs("div",{ref:T,className:`relative transition-all duration-200 ${j?"scale-105":""}`,onDragOver:q,onDragLeave:P,onDrop:A,children:[s.jsx("div",{className:`relative bg-gray-800/60 backdrop-blur-sm border-2 rounded-xl transition-all duration-200 ${j?"border-violet-400 bg-violet-500/20":"border-gray-700/50 hover:border-gray-600/70 focus-within:border-violet-500"}`,children:s.jsxs("div",{className:"flex items-center px-4 py-3",children:[s.jsx(Yd,{className:"w-5 h-5 text-gray-400 mr-3"}),s.jsx("input",{type:"text",placeholder:j?"🎬 Déposez votre fichier NFO ici pour génération automatique...":a("search.placeholder"),value:l,onChange:O=>{o(O.target.value),U&&Z(!1)},className:"flex-1 bg-transparent text-white placeholder-gray-400 outline-none",disabled:j}),l&&s.jsx("button",{onClick:Q,className:"ml-2 p-1 text-gray-400 hover:text-white transition-colors",children:s.jsx(Bt,{className:"w-4 h-4"})}),s.jsx("input",{ref:L,type:"file",accept:".nfo,.txt",onChange:ne,className:"hidden"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs("button",{onClick:()=>{var O;return(O=L.current)==null?void 0:O.click()},className:"px-3 py-2 text-xs bg-violet-600/20 hover:bg-violet-600/30 text-violet-300 hover:text-violet-200 transition-colors rounded-lg border border-violet-500/30 hover:border-violet-400/50 flex items-center space-x-1",title:"Génération automatique depuis fichier NFO",children:[s.jsx(lp,{className:"w-3 h-3"}),s.jsx("span",{children:a("search.nfo.upload")})]}),s.jsxs("button",{onClick:()=>E(!0),className:"px-3 py-2 text-xs bg-blue-600/20 hover:bg-blue-600/30 text-blue-300 hover:text-blue-200 transition-colors rounded-lg border border-blue-500/30 hover:border-blue-400/50 flex items-center space-x-1",title:"Coller contenu MediaInfo/NFO",children:[s.jsx(Ym,{className:"w-3 h-3"}),s.jsx("span",{children:a("search.nfo.paste")})]})]})]})}),g&&c.length>0&&!n&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-xl shadow-2xl overflow-hidden z-50 max-h-[32rem]",children:[s.jsx("div",{className:"overflow-y-auto max-h-[28rem]",children:c.map(O=>s.jsxs("button",{onClick:()=>I(O),className:"w-full flex items-center px-4 py-3 hover:bg-gray-700/50 transition-colors text-left",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-16 mr-3 bg-gray-700 rounded overflow-hidden",children:O.poster_path?s.jsx("img",{src:me.getImageUrl(O.poster_path,"w92"),alt:"",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:O.media_type==="movie"?s.jsx(kt,{className:"w-5 h-5 text-gray-500"}):s.jsx($t,{className:"w-5 h-5 text-gray-500"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-medium truncate",children:O.title||O.name}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[O.media_type==="movie"?a("search.movie"):a("search.tv")," • ",O.release_date?new Date(O.release_date).getFullYear():O.first_air_date?new Date(O.first_air_date).getFullYear():"N/A"]}),O.vote_average>0&&s.jsx("div",{className:"flex items-center mt-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400 text-sm",children:"★"}),s.jsx("span",{className:"text-gray-400 text-sm ml-1",children:O.vote_average.toFixed(1)})]})})]})]},O.id))}),N<w&&s.jsx("div",{className:"border-t border-gray-700/50 p-3",children:s.jsx("button",{onClick:b,disabled:f,className:"w-full py-2 text-sm text-violet-300 hover:text-violet-200 disabled:text-gray-500 transition-colors",children:f?"Chargement...":`Voir plus de résultats (${c.length}/${w>1?"20+":c.length})`})})]}),y&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-violet-500 mx-auto"}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:a("search.searching")})]}),U&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-orange-500/10 backdrop-blur-sm border border-orange-500/30 rounded-xl p-4 z-50",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(rn,{className:"w-5 h-5 text-orange-400 mr-3 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-orange-300 font-medium mb-1",children:a("nfo.title.not.found")}),s.jsx("p",{className:"text-orange-200 text-sm mb-3",children:a("search.nfo.notitle")}),s.jsx("button",{onClick:()=>Z(!1),className:"text-orange-300 hover:text-orange-200 text-sm underline",children:a("nfo.close")})]})]})})]}),S&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[80vh] shadow-2xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rn,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:a("nfo.paste.title")})]}),s.jsx("button",{onClick:z,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Bt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:a("nfo.paste.description")}),s.jsx("textarea",{value:k,onChange:O=>$(O.target.value),placeholder:a("nfo.paste.placeholder"),className:"w-full h-64 bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500 font-mono text-sm resize-none"}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:z,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:a("nfo.cancel")}),s.jsx("button",{onClick:M,disabled:!k.trim(),className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:a("nfo.analyze")})]})]})]})})]})}const Hp=e=>e==="movie"?"https://i.imgur.com/gCBzIjL.png":"https://i.imgur.com/mHzDDIe.png",ql=e=>{if(!e)return"N/A";const t=Math.floor(e/60),r=e%60;return`${t}h${r.toString().padStart(2,"0")}`},Kl=e=>!e||e.length===0?"N/A":`${Math.round(e.reduce((r,n)=>r+n,0)/e.length)} min`,Vp=e=>new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),Ql=(e,t,r)=>{const n=r==="movie",i=e,a=e,l=t.crew.find(m=>m.job==="Director"),o=t.crew.filter(m=>m.job==="Creator"||m.job==="Executive Producer"),c=t.cast.slice(0,5);return{isMovie:n,movie:i,tvShow:a,director:l,creators:o,mainActors:c,title:n?i.title:a.name,originalTitle:n?i.original_title:a.original_name,releaseDate:n?i.release_date:a.first_air_date,overview:e.overview,tagline:e.tagline,voteAverage:e.vote_average,voteCount:e.vote_count,id:e.id,posterPath:e.poster_path,genres:e.genres,productionCountries:e.production_countries}},Gp=e=>e.audio.map(t=>{let r=ze(t.languageCode);return!r.flag&&t.language&&(r=ze(t.language)),`${r.flag?`[img]${r.flag}[/img] `:""}${t.language} [${t.channels}] ${t.codec} @ ${t.bitrate} ${t.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}`}).join(`
`),Wp=e=>e.subtitles.length===0?"Aucun":e.subtitles.map(t=>{let r=ze(t.languageCode);return!r.flag&&t.language&&(r=ze(t.language)),`${r.flag?`[img]${r.flag}[/img] `:""}${t.language} (${t.type==="embedded"?"Intégré":"Externe"}) : ${t.format} (${t.isForced?"Forcé":"complets"})`}).join(`
`),Zl=e=>e.map(t=>`[i][url=https://www.sharewood.tv/torrents?tags=${encodeURIComponent(t.name)}]${t.name}[/url][/i]`).join(", ");function qp(e,t,r,n=1,i){return sf(e,t,"movie",r,n,i)}function Kp(e,t,r,n=1,i){return sf(e,t,"tv",r,n,i)}function sf(e,t,r,n,i=1,a){switch(i){case 1:return gc(e,t,r,n,a);case 2:return Qp(e,t,r,n);case 3:return Zp(e,t,r,n,a);default:return gc(e,t,r,n,a)}}function gc(e,t,r,n,i){const{isMovie:a,movie:l,tvShow:o,director:c,creators:m,mainActors:y,title:u,originalTitle:g,releaseDate:h,overview:N,tagline:p,voteAverage:w,voteCount:d,id:f,posterPath:v,genres:j,productionCountries:_}=Ql(e,t,r);let S=`[center][b][font=Verdana][color=#3d85c6][size=29]${u}

[/size][size=18](${new Date(h).getFullYear()})[/size][/color][/font][/b]

[img]${me.getImageUrl(v,"original")}[/img]${p?`[color=#ea9999][i]

[/i][/color][color=#ea9999][i][b][font=Verdana][size=29]
"${p}"[/size][/font][/b][/i][/color]`:""}

[img]${Hp(r)}[/img]${a?"":`
`}

[font=Verdana][size=13]${a?`[b][color=#3d85c6]Titre original :[/color][/b] [i]${g}[/i]
`:""}[b][color=#3d85c6]Pays :[/color][/b] [i]${_.map(k=>k.name).join(", ")||"N/A"}[/i]
[b][color=#3d85c6]Genres :[/color][/b] ${Zl(j)}
[b][color=#3d85c6]Date de sortie :[/color][/b] [i]${Vp(h)}[/i]
${a?`[b][color=#3d85c6]Durée :[/color][/b] [i]${ql(l.runtime)}[/i]`:`[b][color=#3d85c6]Titre original :[/color][/b] [i]${g}[/i]
[b][color=#3d85c6]Durée :[/color][/b] [i]${Kl(o.episode_run_time)}[/i]`}

[b][color=#3d85c6]${a?"Réalisateur":"Créateur(s)"} :[/color][/b] [i]${a?(c==null?void 0:c.name)||"N/A":m.slice(0,2).map(k=>k.name).join(", ")||"N/A"}[/i]
[color=#3d85c6][b]Acteurs :[/b] [/color][i]${y.map(k=>k.name).join(", ")}`;const E=y.filter(k=>k.profile_path).map(k=>`[img]${me.getImageUrl(k.profile_path,"w185")}[/img]`).join(" ");return E&&(S+=`
${a?`
`:""}${E}`),S+=`
[/i]

[b][color=#3d85c6]Note des spectateurs :[/color][/b] [img]https://img.streetprez.com/note/${Math.round(w*10)}.svg[/img] [i]${w.toFixed(2)} (${d})[/i]

[size=13][url=https://www.themoviedb.org/${a?"movie":"tv"}/${f}][b][color=#1e84cc]Plus d'info  >> [img]https://i.imgur.com/mxI05s2.png[/img][/color][/b][/url]

${i?`[url=${i}][img]https://i.imgur.com/jKQt520.png[/img][b][color=#1e84cc]${a?"Bande Annonce":"Voir Bande Annonce"}[/color][/b][/url]`:""}[/size]

[img]https://i.imgur.com/ATVsdeo.png[/img]

[font=Verdana][size=13]${N||"Aucun synopsis disponible."}[/size][/font]


[img]https://i.imgur.com/Ji92VqD.png[/img]`,n&&(S+=`
[b][color=#3d85c6]${a?"Source":"Release source"} :[/color][/b] [i]${n.source||"N/A"}[/i]
[b][color=#3d85c6]Qualité vidéo :[/color][/b] [i]${n.video.quality}[/i]
[color=#3d85c6][b]Format vidéo :[/b] [/color][i]${n.video.format}[/i]
[b][color=#3d85c6]Codec vidéo :[/color][/b] [i]${n.video.codec}[/i]
[b][color=#3d85c6]Débit vidéo :[/color][/b] [i]${n.video.bitrate} ${n.video.bitrateUnit}${a?`
[/i]`:"[/i]"}

[b][color=#3d85c6]Langue${a?"(s)":""} :[/color][/b]`,S+=`
${Gp(n)}
${a?`
`:""}[b][color=#3d85c6]Sous-titres :[/color][/b]
${Wp(n)}`),S+=`

[img]https://i.imgur.com/ZutFbjb.png[/img]`,n!=null&&n.releaseGroup&&(S+=`
[b][color=#3d85c6]Release :[/color][/b] [i]${n.releaseGroup}[/i]`),n!=null&&n.notes&&(S+=`
[b][color=#3d85c6]Notes :[/color][/b] [i]${n.notes}[/i]`),S+=`
[b][color=#3d85c6]Taille totale :[/color][/b] ${(n==null?void 0:n.video.size)||"0"} Go
[color=#3d85c6][b]Nombre de fichier [/b][/color]: ${(n==null?void 0:n.numberOfFiles)||(a?1:o.number_of_episodes||1)}[/size][/font][/center]`,S}function Qp(e,t,r,n,i){const{isMovie:a,movie:l,tvShow:o,director:c,creators:m,mainActors:y,title:u,originalTitle:g,releaseDate:h,overview:N,tagline:p,voteAverage:w,voteCount:d,posterPath:f,genres:v,productionCountries:j}=Ql(e,t,r);let _=`[center][b][size=29]${u}[/size][/b]
[size=18](${new Date(h).getFullYear()})[/size]

[img]${me.getImageUrl(f,"original")}[/img]${p?`

[i]"${p}"[/i]`:""}[/center]

[list]
[*] [b]Titre original :[/b] ${g}[/*]
[*] [b]Pays :[/b] ${j.map(S=>S.name).join(", ")||"N/A"}[/*]
[*] [b]Genres :[/b] ${Zl(v)}[/*]
[*] [b]Date de sortie :[/b] ${new Date(h).toLocaleDateString("fr-FR")}[/*]
[*] [b]Durée :[/b] ${a?ql(l.runtime):Kl(o.episode_run_time)}[/*]`;return a||(_+=`
[*] [b]Saisons :[/b] ${o.number_of_seasons}[/*]
[*] [b]Épisodes :[/b] ${o.number_of_episodes}[/*]`),_+=`
[*] [b]${a?"Réalisateur":"Créateur(s)"} :[/b] ${a?(c==null?void 0:c.name)||"N/A":m.slice(0,2).map(S=>S.name).join(", ")||"N/A"}[/*]
[*] [b]Note TMDB :[/b] ${w.toFixed(1)}/10 (${d} votes)[/*]
[*] [b]Casting :[/b]
    [list]`,y.forEach(S=>{_+=`
    [*] ${S.name} - ${S.character}[/*]`}),_+=`
   [/list][/*] 
[/list]`,n&&(_+=`

[b]Spécifications techniques :[/b]
[list]
[*] [b]Source :[/b] ${n.source||"N/A"}[/*]
[*] [b]Qualité :[/b] ${n.video.quality}[/*]
[*] [b]Format :[/b] ${n.video.format}[/*]
[*] [b]Codec vidéo :[/b] ${n.video.codec}[/*]
[*] [b]Débit vidéo :[/b] ${n.video.bitrate} ${n.video.bitrateUnit}[/*]
[*] [b]Taille :[/b] ${n.video.size} Go[/*]`,n.audio.length>0&&(_+=`
[*] [b]Audio :[/b]
    [list]`,n.audio.forEach(S=>{let E=ze(S.languageCode);!E.flag&&S.language&&(E=ze(S.language));const k=E.flag?`[img]${E.flag}[/img] `:"";_+=`
    [*] ${k}${S.language} [${S.channels}] ${S.codec} @ ${S.bitrate} ${S.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}[/*]`}),_+=`
   [/list][/*] `),n.subtitles.length>0&&(_+=`
[*] [b]Sous-titres :[/b]
    [list]`,n.subtitles.forEach(S=>{let E=ze(S.languageCode);!E.flag&&S.language&&(E=ze(S.language));const k=E.flag?`[img]${E.flag}[/img] `:"";_+=`
    [*] ${k}${S.language} (${S.format}) ${S.isForced?"- Forcé":""}[/*]`}),_+=`
    [/list] [/*]`),n.releaseGroup&&(_+=`
[*] [b]Release :[/b] ${n.releaseGroup}[/*]`),n.notes&&(_+=`
[*] [b]Notes :[/b] ${n.notes}[/*]`),_+=`
[*] [b]Nombre de fichiers :[/b] ${n.numberOfFiles||(a?1:o.number_of_episodes||1)}[/*]`,_+=`
[/list]`),_+=`

[b]Synopsis :[/b]
${N||"Aucun synopsis disponible."}`,_}function Zp(e,t,r,n,i){const{isMovie:a,movie:l,tvShow:o,director:c,creators:m,mainActors:y,title:u,originalTitle:g,releaseDate:h,overview:N,tagline:p,voteAverage:w,posterPath:d,genres:f}=Ql(e,t,r),v=me.getImageUrl(d,"original"),j=new Date(h).getFullYear(),_=Zl(f.slice(0,2)),S=a?ql(l.runtime):Kl(o.episode_run_time),E=`${w.toFixed(1)}/10`,k=a?(c==null?void 0:c.name)||"N/A":m.slice(0,2).map(Q=>Q.name).join(", ")||"N/A",$=y.map(Q=>Q.name).join(", "),U=N||"Aucun synopsis disponible.",Z=(n==null?void 0:n.video.quality)||"N/A",T=`${(n==null?void 0:n.video.size)||"0"} Go`,L=(n==null?void 0:n.video.format)||"N/A",b=n?`${n.video.bitrate} ${n.video.bitrateUnit}`:"N/A",G=(n==null?void 0:n.source)||"N/A",ne=(n==null?void 0:n.numberOfFiles)||(a?1:o.number_of_episodes||1);let q="N/A";n&&n.audio.length>0&&(q=n.audio.map(Q=>{let O=ze(Q.languageCode);return!O.flag&&Q.language&&(O=ze(Q.language)),`${O.flag?`[img]${O.flag}[/img] `:""}${Q.language} [${Q.channels}] ${Q.codec} @ ${Q.bitrate} ${Q.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}`}).join(", "));let P="Aucun";n&&n.subtitles.length>0&&(P=n.subtitles.map(Q=>{let O=ze(Q.languageCode);return!O.flag&&Q.language&&(O=ze(Q.language)),`${O.flag?`[img]${O.flag}[/img] `:""}${Q.language} (${Q.format})`}).join(", "));const A=n==null?void 0:n.releaseGroup,I=n==null?void 0:n.notes;let M=`[table][tr][td] [/td][td][table][tr][td][table][tr][td][table][tr][td]
&nbsp; &nbsp; &nbsp; [img width=550]${v}[/img] &nbsp; &nbsp; &nbsp; [/td][td] [/td][/tr][/table][/td][td][table][tr][td]
    [/td][td]      [/td][/tr][/table][/td][td][table][tr][td][table][tr][td][table][tr][td][color=#3d85c6][size=29] ${u}[/size][/color][/td][/tr][tr][td][table][tr][td]  ${j} - ${_} - ${S}  [/td][td][size=10]   [/size][/td][td] &nbsp; - Note : ${E} - [url=https://www.themoviedb.org/${a?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`;const z=i?`[url=${i}][img]https://i.imgur.com/jKQt520.png[/img][/url] &nbsp; `:"";return M=M.replace(`&nbsp; - Note : ${E} - [url=https://www.themoviedb.org/${a?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`,`&nbsp; - Note : ${E} - [url=https://www.themoviedb.org/${a?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; ${z}[/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`),p&&(M+=`[tr][td][i][color=#c27ba0][size=18][center][b]"${p}"[/b][/center][/size][/color][/i]
[/td][/tr]`),M+=`[tr][td] 
[/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Titre original : &nbsp;[/color][/b][/td][td] ${g}[/td][/tr][tr][td][b][color=#3d85c6]Réalisateur : &nbsp;[/color][/b][/td][td] ${k}[/td][/tr][tr][td][b][color=#3d85c6]Acteurs : &nbsp;[/color][/b][/td][td] ${$}[/td][/tr][/table][/td][/tr][tr][td]  [br] [/br][b][color=#3d85c6]Synopsis &nbsp;[br] [/br] [br] [/br][/color][/b][/td][/tr][tr][td]  &nbsp; ${U}[br] [/br][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Qualité :  &nbsp;[/color][/b][/td][td]${Z}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Format vidéo :  &nbsp;[/right][/color][/b][/td][td]${L}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Débit vidéo : &nbsp;[/color][/b][/td][td]${b}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Source  : &nbsp;[/right][/color][/b][/td][td]&nbsp;${G}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td] [b][color=#3d85c6]Taille totale : &nbsp;[/color][/b][/td][td]${T}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Nb de fichiers : &nbsp;[/right][/color][/b][/td][td]&nbsp;${ne}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6] Langue(s) : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${q}[/size][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][b][color=#3d85c6]Sous-titres : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${P}[/size][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][/table][/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr]`,A&&(M+=`[tr][td][b][color=#3d85c6]Nom release : &nbsp; [/color][/b] [br] [/br] ${A}[/td][/tr]`),I&&(M+=`[tr][td][b][color=#3d85c6][br] [/br]Notes:  [/color][/b] [br] [/br] ${I}[/td][/tr]`),M+="[/table][/td][/tr][/table]",M}function Ns(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var af={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,a){function l(m,y){if(!i[m]){if(!n[m]){var u=typeof Ns=="function"&&Ns;if(!y&&u)return u(m,!0);if(o)return o(m,!0);var g=new Error("Cannot find module '"+m+"'");throw g.code="MODULE_NOT_FOUND",g}var h=i[m]={exports:{}};n[m][0].call(h.exports,function(N){var p=n[m][1][N];return l(p||N)},h,h.exports,r,n,i,a)}return i[m].exports}for(var o=typeof Ns=="function"&&Ns,c=0;c<a.length;c++)l(a[c]);return l}({1:[function(r,n,i){var a=r("./utils"),l=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var m,y,u,g,h,N,p,w=[],d=0,f=c.length,v=f,j=a.getTypeOf(c)!=="string";d<c.length;)v=f-d,u=j?(m=c[d++],y=d<f?c[d++]:0,d<f?c[d++]:0):(m=c.charCodeAt(d++),y=d<f?c.charCodeAt(d++):0,d<f?c.charCodeAt(d++):0),g=m>>2,h=(3&m)<<4|y>>4,N=1<v?(15&y)<<2|u>>6:64,p=2<v?63&u:64,w.push(o.charAt(g)+o.charAt(h)+o.charAt(N)+o.charAt(p));return w.join("")},i.decode=function(c){var m,y,u,g,h,N,p=0,w=0,d="data:";if(c.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,v=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&v--,c.charAt(c.length-2)===o.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=l.uint8array?new Uint8Array(0|v):new Array(0|v);p<c.length;)m=o.indexOf(c.charAt(p++))<<2|(g=o.indexOf(c.charAt(p++)))>>4,y=(15&g)<<4|(h=o.indexOf(c.charAt(p++)))>>2,u=(3&h)<<6|(N=o.indexOf(c.charAt(p++))),f[w++]=m,h!==64&&(f[w++]=y),N!==64&&(f[w++]=u);return f}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),l=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function m(y,u,g,h,N){this.compressedSize=y,this.uncompressedSize=u,this.crc32=g,this.compression=h,this.compressedContent=N}m.prototype={getContentWorker:function(){var y=new l(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),u=this;return y.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new l(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,u,g){return y.pipe(new o).pipe(new c("uncompressedSize")).pipe(u.compressWorker(g)).pipe(new c("compressedSize")).withStreamInfo("compression",u)},n.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),l=function(){for(var o,c=[],m=0;m<256;m++){o=m;for(var y=0;y<8;y++)o=1&o?3988292384^o>>>1:o>>>1;c[m]=o}return c}();n.exports=function(o,c){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(m,y,u,g){var h=l,N=g+u;m^=-1;for(var p=g;p<N;p++)m=m>>>8^h[255&(m^y[p])];return-1^m}(0|c,o,o.length,0):function(m,y,u,g){var h=l,N=g+u;m^=-1;for(var p=g;p<N;p++)m=m>>>8^h[255&(m^y.charCodeAt(p))];return-1^m}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),m=a?"uint8array":"array";function y(u,g){c.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=g,this.meta={}}i.magic="\b\0",o.inherits(y,c),y.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(m,u.data),!1)},y.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(g){u.push({data:g,meta:u.meta})}},i.compressWorker=function(u){return new y("Deflate",u)},i.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(h,N){var p,w="";for(p=0;p<N;p++)w+=String.fromCharCode(255&h),h>>>=8;return w}function l(h,N,p,w,d,f){var v,j,_=h.file,S=h.compression,E=f!==m.utf8encode,k=o.transformTo("string",f(_.name)),$=o.transformTo("string",m.utf8encode(_.name)),U=_.comment,Z=o.transformTo("string",f(U)),T=o.transformTo("string",m.utf8encode(U)),L=$.length!==_.name.length,b=T.length!==U.length,G="",ne="",q="",P=_.dir,A=_.date,I={crc32:0,compressedSize:0,uncompressedSize:0};N&&!p||(I.crc32=h.crc32,I.compressedSize=h.compressedSize,I.uncompressedSize=h.uncompressedSize);var M=0;N&&(M|=8),E||!L&&!b||(M|=2048);var z=0,Q=0;P&&(z|=16),d==="UNIX"?(Q=798,z|=function(W,ie){var de=W;return W||(de=ie?16893:33204),(65535&de)<<16}(_.unixPermissions,P)):(Q=20,z|=function(W){return 63&(W||0)}(_.dosPermissions)),v=A.getUTCHours(),v<<=6,v|=A.getUTCMinutes(),v<<=5,v|=A.getUTCSeconds()/2,j=A.getUTCFullYear()-1980,j<<=4,j|=A.getUTCMonth()+1,j<<=5,j|=A.getUTCDate(),L&&(ne=a(1,1)+a(y(k),4)+$,G+="up"+a(ne.length,2)+ne),b&&(q=a(1,1)+a(y(Z),4)+T,G+="uc"+a(q.length,2)+q);var O="";return O+=`
\0`,O+=a(M,2),O+=S.magic,O+=a(v,2),O+=a(j,2),O+=a(I.crc32,4),O+=a(I.compressedSize,4),O+=a(I.uncompressedSize,4),O+=a(k.length,2),O+=a(G.length,2),{fileRecord:u.LOCAL_FILE_HEADER+O+k+G,dirRecord:u.CENTRAL_FILE_HEADER+a(Q,2)+O+a(Z.length,2)+"\0\0\0\0"+a(z,4)+a(w,4)+k+G+Z}}var o=r("../utils"),c=r("../stream/GenericWorker"),m=r("../utf8"),y=r("../crc32"),u=r("../signature");function g(h,N,p,w){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=N,this.zipPlatform=p,this.encodeFileName=w,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(g,c),g.prototype.push=function(h){var N=h.meta.percent||0,p=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(N+100*(p-w-1))/p:100}}))},g.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var N=this.streamFiles&&!h.file.dir;if(N){var p=l(h,N,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(h){this.accumulate=!1;var N=this.streamFiles&&!h.file.dir,p=l(h,N,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),N)this.push({data:function(w){return u.DATA_DESCRIPTOR+a(w.crc32,4)+a(w.compressedSize,4)+a(w.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var h=this.bytesWritten,N=0;N<this.dirRecords.length;N++)this.push({data:this.dirRecords[N],meta:{percent:100}});var p=this.bytesWritten-h,w=function(d,f,v,j,_){var S=o.transformTo("string",_(j));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(d,2)+a(d,2)+a(f,4)+a(v,4)+a(S.length,2)+S}(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(h){this._sources.push(h);var N=this;return h.on("data",function(p){N.processChunk(p)}),h.on("end",function(){N.closedSource(N.previous.streamInfo),N._sources.length?N.prepareNextSource():N.end()}),h.on("error",function(p){N.error(p)}),this},g.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(h){var N=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var p=0;p<N.length;p++)try{N[p].error(h)}catch{}return!0},g.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,N=0;N<h.length;N++)h[N].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),l=r("./ZipFileWorker");i.generateWorker=function(o,c,m){var y=new l(c.streamFiles,m,c.platform,c.encodeFileName),u=0;try{o.forEach(function(g,h){u++;var N=function(f,v){var j=f||v,_=a[j];if(!_)throw new Error(j+" is not a valid compression method !");return _}(h.options.compression,c.compression),p=h.options.compressionOptions||c.compressionOptions||{},w=h.dir,d=h.date;h._compressWorker(N,p).withStreamInfo("file",{name:g,dir:w,date:d,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(y)}),y.entriesCount=u}catch(g){y.error(g)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new a;for(var o in this)typeof this[o]!="function"&&(l[o]=this[o]);return l}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(l,o){return new a().loadAsync(l,o)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),l=r("./external"),o=r("./utf8"),c=r("./zipEntries"),m=r("./stream/Crc32Probe"),y=r("./nodejsUtils");function u(g){return new l.Promise(function(h,N){var p=g.decompressed.getContentWorker().pipe(new m);p.on("error",function(w){N(w)}).on("end",function(){p.streamInfo.crc32!==g.decompressed.crc32?N(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(g,h){var N=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),y.isNode&&y.isStream(g)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",g,!0,h.optimizedBinaryString,h.base64).then(function(p){var w=new c(h);return w.load(p),w}).then(function(p){var w=[l.Promise.resolve(p)],d=p.files;if(h.checkCRC32)for(var f=0;f<d.length;f++)w.push(u(d[f]));return l.Promise.all(w)}).then(function(p){for(var w=p.shift(),d=w.files,f=0;f<d.length;f++){var v=d[f],j=v.fileNameStr,_=a.resolve(v.fileNameStr);N.file(_,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:h.createFolders}),v.dir||(N.file(_).unsafeOriginalName=j)}return w.zipComment.length&&(N.comment=w.zipComment),N})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),l=r("../stream/GenericWorker");function o(c,m){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(m)}a.inherits(o,l),o.prototype._bindStream=function(c){var m=this;(this._stream=c).pause(),c.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},o.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function l(o,c,m){a.call(this,c),this._helper=o;var y=this;o.on("data",function(u,g){y.push(u)||y._helper.pause(),m&&m(g)}).on("error",function(u){y.emit("error",u)}).on("end",function(){y.push(null)})}r("../utils").inherits(l,a),l.prototype._read=function(){this._helper.resume()},n.exports=l},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,l);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,l)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var l=new Buffer(a);return l.fill(0),l},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(_,S,E){var k,$=o.getTypeOf(S),U=o.extend(E||{},y);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(_=d(_)),U.createFolders&&(k=w(_))&&f.call(this,k,!0);var Z=$==="string"&&U.binary===!1&&U.base64===!1;E&&E.binary!==void 0||(U.binary=!Z),(S instanceof u&&S.uncompressedSize===0||U.dir||!S||S.length===0)&&(U.base64=!1,U.binary=!0,S="",U.compression="STORE",$="string");var T=null;T=S instanceof u||S instanceof c?S:N.isNode&&N.isStream(S)?new p(_,S):o.prepareContent(_,S,U.binary,U.optimizedBinaryString,U.base64);var L=new g(_,T,U);this.files[_]=L}var l=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),m=r("./stream/StreamHelper"),y=r("./defaults"),u=r("./compressedObject"),g=r("./zipObject"),h=r("./generate"),N=r("./nodejsUtils"),p=r("./nodejs/NodejsStreamInputAdapter"),w=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var S=_.lastIndexOf("/");return 0<S?_.substring(0,S):""},d=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},f=function(_,S){return S=S!==void 0?S:y.createFolders,_=d(_),this.files[_]||a.call(this,_,null,{dir:!0,createFolders:S}),this.files[_]};function v(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var j={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var S,E,k;for(S in this.files)k=this.files[S],(E=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&_(E,k)},filter:function(_){var S=[];return this.forEach(function(E,k){_(E,k)&&S.push(k)}),S},file:function(_,S,E){if(arguments.length!==1)return _=this.root+_,a.call(this,_,S,E),this;if(v(_)){var k=_;return this.filter(function(U,Z){return!Z.dir&&k.test(U)})}var $=this.files[this.root+_];return $&&!$.dir?$:null},folder:function(_){if(!_)return this;if(v(_))return this.filter(function($,U){return U.dir&&_.test($)});var S=this.root+_,E=f.call(this,S),k=this.clone();return k.root=E.name,k},remove:function(_){_=this.root+_;var S=this.files[_];if(S||(_.slice(-1)!=="/"&&(_+="/"),S=this.files[_]),S&&!S.dir)delete this.files[_];else for(var E=this.filter(function($,U){return U.name.slice(0,_.length)===_}),k=0;k<E.length;k++)delete this.files[E[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var S,E={};try{if((E=o.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");o.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var k=E.comment||this.comment||"";S=h.generateWorker(this,E,k)}catch($){(S=new c("error")).error($)}return new m(S,E.type||"string",E.mimeType)},generateAsync:function(_,S){return this.generateInternalStream(_).accumulate(S)},generateNodeStream:function(_,S){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(S)}};n.exports=j},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function l(o){a.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(l,a),l.prototype.byteAt=function(o){return this.data[this.zero+o]},l.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),m=o.charCodeAt(1),y=o.charCodeAt(2),u=o.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===c&&this.data[g+1]===m&&this.data[g+2]===y&&this.data[g+3]===u)return g-this.zero;return-1},l.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),m=o.charCodeAt(1),y=o.charCodeAt(2),u=o.charCodeAt(3),g=this.readData(4);return c===g[0]&&m===g[1]&&y===g[2]&&u===g[3]},l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=l},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function l(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,m=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)m=(m<<8)+this.byteAt(c);return this.index+=o,m},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=l},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function l(o){a.call(this,o)}r("../utils").inherits(l,a),l.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function l(o){a.call(this,o)}r("../utils").inherits(l,a),l.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},l.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},l.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},l.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=l},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function l(o){a.call(this,o)}r("../utils").inherits(l,a),l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),l=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),m=r("./NodeBufferReader"),y=r("./Uint8ArrayReader");n.exports=function(u){var g=a.getTypeOf(u);return a.checkSupport(g),g!=="string"||l.uint8array?g==="nodebuffer"?new m(u):l.uint8array?new y(a.transformTo("uint8array",u)):new o(a.transformTo("array",u)):new c(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),l=r("../utils");function o(c){a.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(o,a),o.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),l=r("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,a),o.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),l=r("./GenericWorker");function o(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(o,l),o.prototype.processChunk=function(c){if(c){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+c.data.length}l.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),l=r("./GenericWorker");function o(c){l.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=a.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}a.inherits(o,l),o.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,m);break;case"uint8array":c=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":c=this.data.slice(this.index,m)}return this.index=m,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,o){return this._listeners[l].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,o){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,o)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var o=this;return l.on("data",function(c){o.processChunk(c)}),l.on("end",function(){o.end()}),l.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,o){return this.extraStreamInfo[l]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),l=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),m=r("../support"),y=r("../external"),u=null;if(m.nodestream)try{u=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(N,p){return new y.Promise(function(w,d){var f=[],v=N._internalType,j=N._outputType,_=N._mimeType;N.on("data",function(S,E){f.push(S),p&&p(E)}).on("error",function(S){f=[],d(S)}).on("end",function(){try{var S=function(E,k,$){switch(E){case"blob":return a.newBlob(a.transformTo("arraybuffer",k),$);case"base64":return c.encode(k);default:return a.transformTo(E,k)}}(j,function(E,k){var $,U=0,Z=null,T=0;for($=0;$<k.length;$++)T+=k[$].length;switch(E){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(Z=new Uint8Array(T),$=0;$<k.length;$++)Z.set(k[$],U),U+=k[$].length;return Z;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+E+"'")}}(v,f),_);w(S)}catch(E){d(E)}f=[]}).resume()})}function h(N,p,w){var d=p;switch(p){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=p,this._mimeType=w,a.checkSupport(d),this._worker=N.pipe(new l(d)),N.lock()}catch(f){this._worker=new o("error"),this._worker.error(f)}}h.prototype={accumulate:function(N){return g(this,N)},on:function(N,p){var w=this;return N==="data"?this._worker.on(N,function(d){p.call(w,d.data,d.meta)}):this._worker.on(N,function(){a.delay(p,arguments,w)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(N){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},N)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(a),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),l=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function u(){c.call(this,"utf-8 decode"),this.leftOver=null}function g(){c.call(this,"utf-8 encode")}i.utf8encode=function(h){return l.nodebuffer?o.newBufferFrom(h,"utf-8"):function(N){var p,w,d,f,v,j=N.length,_=0;for(f=0;f<j;f++)(64512&(w=N.charCodeAt(f)))==55296&&f+1<j&&(64512&(d=N.charCodeAt(f+1)))==56320&&(w=65536+(w-55296<<10)+(d-56320),f++),_+=w<128?1:w<2048?2:w<65536?3:4;for(p=l.uint8array?new Uint8Array(_):new Array(_),f=v=0;v<_;f++)(64512&(w=N.charCodeAt(f)))==55296&&f+1<j&&(64512&(d=N.charCodeAt(f+1)))==56320&&(w=65536+(w-55296<<10)+(d-56320),f++),w<128?p[v++]=w:(w<2048?p[v++]=192|w>>>6:(w<65536?p[v++]=224|w>>>12:(p[v++]=240|w>>>18,p[v++]=128|w>>>12&63),p[v++]=128|w>>>6&63),p[v++]=128|63&w);return p}(h)},i.utf8decode=function(h){return l.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):function(N){var p,w,d,f,v=N.length,j=new Array(2*v);for(p=w=0;p<v;)if((d=N[p++])<128)j[w++]=d;else if(4<(f=m[d]))j[w++]=65533,p+=f-1;else{for(d&=f===2?31:f===3?15:7;1<f&&p<v;)d=d<<6|63&N[p++],f--;1<f?j[w++]=65533:d<65536?j[w++]=d:(d-=65536,j[w++]=55296|d>>10&1023,j[w++]=56320|1023&d)}return j.length!==w&&(j.subarray?j=j.subarray(0,w):j.length=w),a.applyFromCharCode(j)}(h=a.transformTo(l.uint8array?"uint8array":"array",h))},a.inherits(u,c),u.prototype.processChunk=function(h){var N=a.transformTo(l.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var p=N;(N=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),N.set(p,this.leftOver.length)}else N=this.leftOver.concat(N);this.leftOver=null}var w=function(f,v){var j;for((v=v||f.length)>f.length&&(v=f.length),j=v-1;0<=j&&(192&f[j])==128;)j--;return j<0||j===0?v:j+m[f[j]]>v?j:v}(N),d=N;w!==N.length&&(l.uint8array?(d=N.subarray(0,w),this.leftOver=N.subarray(w,N.length)):(d=N.slice(0,w),this.leftOver=N.slice(w,N.length))),this.push({data:i.utf8decode(d),meta:h.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=u,a.inherits(g,c),g.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),l=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function m(p){return p}function y(p,w){for(var d=0;d<p.length;++d)w[d]=255&p.charCodeAt(d);return w}r("setimmediate"),i.newBlob=function(p,w){i.checkSupport("blob");try{return new Blob([p],{type:w})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(p),d.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(p,w,d){var f=[],v=0,j=p.length;if(j<=d)return String.fromCharCode.apply(null,p);for(;v<j;)w==="array"||w==="nodebuffer"?f.push(String.fromCharCode.apply(null,p.slice(v,Math.min(v+d,j)))):f.push(String.fromCharCode.apply(null,p.subarray(v,Math.min(v+d,j)))),v+=d;return f.join("")},stringifyByChar:function(p){for(var w="",d=0;d<p.length;d++)w+=String.fromCharCode(p[d]);return w},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function g(p){var w=65536,d=i.getTypeOf(p),f=!0;if(d==="uint8array"?f=u.applyCanBeUsed.uint8array:d==="nodebuffer"&&(f=u.applyCanBeUsed.nodebuffer),f)for(;1<w;)try{return u.stringifyByChunk(p,d,w)}catch{w=Math.floor(w/2)}return u.stringifyByChar(p)}function h(p,w){for(var d=0;d<p.length;d++)w[d]=p[d];return w}i.applyFromCharCode=g;var N={};N.string={string:m,array:function(p){return y(p,new Array(p.length))},arraybuffer:function(p){return N.string.uint8array(p).buffer},uint8array:function(p){return y(p,new Uint8Array(p.length))},nodebuffer:function(p){return y(p,o.allocBuffer(p.length))}},N.array={string:g,array:m,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},N.arraybuffer={string:function(p){return g(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:m,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},N.uint8array={string:g,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:m,nodebuffer:function(p){return o.newBufferFrom(p)}},N.nodebuffer={string:g,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return N.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:m},i.transformTo=function(p,w){if(w=w||"",!p)return w;i.checkSupport(p);var d=i.getTypeOf(w);return N[d][p](w)},i.resolve=function(p){for(var w=p.split("/"),d=[],f=0;f<w.length;f++){var v=w[f];v==="."||v===""&&f!==0&&f!==w.length-1||(v===".."?d.pop():d.push(v))}return d.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(p)?"nodebuffer":a.uint8array&&p instanceof Uint8Array?"uint8array":a.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!a[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var w,d,f="";for(d=0;d<(p||"").length;d++)f+="\\x"+((w=p.charCodeAt(d))<16?"0":"")+w.toString(16).toUpperCase();return f},i.delay=function(p,w,d){setImmediate(function(){p.apply(d||null,w||[])})},i.inherits=function(p,w){function d(){}d.prototype=w.prototype,p.prototype=new d},i.extend=function(){var p,w,d={};for(p=0;p<arguments.length;p++)for(w in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],w)&&d[w]===void 0&&(d[w]=arguments[p][w]);return d},i.prepareContent=function(p,w,d,f,v){return c.Promise.resolve(w).then(function(j){return a.blob&&(j instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(j))!==-1)&&typeof FileReader<"u"?new c.Promise(function(_,S){var E=new FileReader;E.onload=function(k){_(k.target.result)},E.onerror=function(k){S(k.target.error)},E.readAsArrayBuffer(j)}):j}).then(function(j){var _=i.getTypeOf(j);return _?(_==="arraybuffer"?j=i.transformTo("uint8array",j):_==="string"&&(v?j=l.decode(j):d&&f!==!0&&(j=function(S){return y(S,a.uint8array?new Uint8Array(S.length):new Array(S.length))}(j))),j):c.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),l=r("./utils"),o=r("./signature"),c=r("./zipEntry"),m=r("./support");function y(u){this.files=[],this.loadOptions=u}y.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(g)+", expected "+l.pretty(u)+")")}},isSignature:function(u,g){var h=this.reader.index;this.reader.setIndex(u);var N=this.reader.readString(4)===g;return this.reader.setIndex(h),N},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),g=m.uint8array?"uint8array":"array",h=l.transformTo(g,u);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,g,h,N=this.zip64EndOfCentralSize-44;0<N;)u=this.reader.readInt(2),g=this.reader.readInt(4),h=this.reader.readData(g),this.zip64ExtensibleData[u]={id:u,length:g,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,g;for(u=0;u<this.files.length;u++)g=this.files[u],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(u=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var g=u;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var N=g-h;if(0<N)this.isSignature(g,o.CENTRAL_FILE_HEADER)||(this.reader.zero=N);else if(N<0)throw new Error("Corrupted zip: missing "+Math.abs(N)+" bytes.")},prepareReader:function(u){this.reader=a(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),l=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),m=r("./utf8"),y=r("./compressions"),u=r("./support");function g(h,N){this.options=h,this.loadOptions=N}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var N,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((N=function(w){for(var d in y)if(Object.prototype.hasOwnProperty.call(y,d)&&y[d].magic===w)return y[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,N,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var N=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(N),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var N,p,w,d=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<d;)N=h.readInt(2),p=h.readInt(2),w=h.readData(p),this.extraFields[N]={id:N,length:p,value:w};h.setIndex(d)},handleUTF8:function(){var h=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var N=this.findExtraFieldUnicodePath();if(N!==null)this.fileNameStr=N;else{var p=l.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var d=l.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var N=a(h.value);return N.readInt(1)!==1||c(this.fileName)!==N.readInt(4)?null:m.utf8decode(N.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var N=a(h.value);return N.readInt(1)!==1||c(this.fileComment)!==N.readInt(4)?null:m.utf8decode(N.readData(h.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(N,p,w){this.name=N,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=p,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var l=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),m=r("./compressedObject"),y=r("./stream/GenericWorker");a.prototype={internalStream:function(N){var p=null,w="string";try{if(!N)throw new Error("No output type specified.");var d=(w=N.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),p=this._decompressWorker();var f=!this._dataBinary;f&&!d&&(p=p.pipe(new c.Utf8EncodeWorker)),!f&&d&&(p=p.pipe(new c.Utf8DecodeWorker))}catch(v){(p=new y("error")).error(v)}return new l(p,w,"")},async:function(N,p){return this.internalStream(N).accumulate(p)},nodeStream:function(N,p){return this.internalStream(N||"nodebuffer").toNodejsStream(p)},_compressWorker:function(N,p){if(this._data instanceof m&&this._data.compression.magic===N.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new c.Utf8EncodeWorker)),m.createWorkerFrom(w,N,p)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)a.prototype[u[h]]=g;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var l,o,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var m=0,y=new c(N),u=a.document.createTextNode("");y.observe(u,{characterData:!0}),l=function(){u.data=m=++m%2}}else if(a.setImmediate||a.MessageChannel===void 0)l="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var p=a.document.createElement("script");p.onreadystatechange=function(){N(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:function(){setTimeout(N,0)};else{var g=new a.MessageChannel;g.port1.onmessage=N,l=function(){g.port2.postMessage(0)}}var h=[];function N(){var p,w;o=!0;for(var d=h.length;d;){for(w=h,h=[],p=-1;++p<d;)w[p]();d=h.length}o=!1}n.exports=function(p){h.push(p)!==1||o||l()}}).call(this,typeof ss<"u"?ss:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function l(){}var o={},c=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function u(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,d!==l&&p(this,d)}function g(d,f,v){this.promise=d,typeof f=="function"&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function h(d,f,v){a(function(){var j;try{j=f(v)}catch(_){return o.reject(d,_)}j===d?o.reject(d,new TypeError("Cannot resolve promise with itself")):o.resolve(d,j)})}function N(d){var f=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof f=="function")return function(){f.apply(d,arguments)}}function p(d,f){var v=!1;function j(E){v||(v=!0,o.reject(d,E))}function _(E){v||(v=!0,o.resolve(d,E))}var S=w(function(){f(_,j)});S.status==="error"&&j(S.value)}function w(d,f){var v={};try{v.value=d(f),v.status="success"}catch(j){v.status="error",v.value=j}return v}(n.exports=u).prototype.finally=function(d){if(typeof d!="function")return this;var f=this.constructor;return this.then(function(v){return f.resolve(d()).then(function(){return v})},function(v){return f.resolve(d()).then(function(){throw v})})},u.prototype.catch=function(d){return this.then(null,d)},u.prototype.then=function(d,f){if(typeof d!="function"&&this.state===m||typeof f!="function"&&this.state===c)return this;var v=new this.constructor(l);return this.state!==y?h(v,this.state===m?d:f,this.outcome):this.queue.push(new g(v,d,f)),v},g.prototype.callFulfilled=function(d){o.resolve(this.promise,d)},g.prototype.otherCallFulfilled=function(d){h(this.promise,this.onFulfilled,d)},g.prototype.callRejected=function(d){o.reject(this.promise,d)},g.prototype.otherCallRejected=function(d){h(this.promise,this.onRejected,d)},o.resolve=function(d,f){var v=w(N,f);if(v.status==="error")return o.reject(d,v.value);var j=v.value;if(j)p(d,j);else{d.state=m,d.outcome=f;for(var _=-1,S=d.queue.length;++_<S;)d.queue[_].callFulfilled(f)}return d},o.reject=function(d,f){d.state=c,d.outcome=f;for(var v=-1,j=d.queue.length;++v<j;)d.queue[v].callRejected(f);return d},u.resolve=function(d){return d instanceof this?d:o.resolve(new this(l),d)},u.reject=function(d){var f=new this(l);return o.reject(f,d)},u.all=function(d){var f=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=d.length,j=!1;if(!v)return this.resolve([]);for(var _=new Array(v),S=0,E=-1,k=new this(l);++E<v;)$(d[E],E);return k;function $(U,Z){f.resolve(U).then(function(T){_[Z]=T,++S!==v||j||(j=!0,o.resolve(k,_))},function(T){j||(j=!0,o.reject(k,T))})}},u.race=function(d){var f=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=d.length,j=!1;if(!v)return this.resolve([]);for(var _=-1,S=new this(l);++_<v;)E=d[_],f.resolve(E).then(function(k){j||(j=!0,o.resolve(S,k))},function(k){j||(j=!0,o.reject(S,k))});var E;return S}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),l=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),m=r("./zlib/zstream"),y=Object.prototype.toString,u=0,g=-1,h=0,N=8;function p(d){if(!(this instanceof p))return new p(d);this.options=l.assign({level:g,method:N,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},d||{});var f=this.options;f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var v=a.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(v!==u)throw new Error(c[v]);if(f.header&&a.deflateSetHeader(this.strm,f.header),f.dictionary){var j;if(j=typeof f.dictionary=="string"?o.string2buf(f.dictionary):y.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(v=a.deflateSetDictionary(this.strm,j))!==u)throw new Error(c[v]);this._dict_set=!0}}function w(d,f){var v=new p(f);if(v.push(d,!0),v.err)throw v.msg||c[v.err];return v.result}p.prototype.push=function(d,f){var v,j,_=this.strm,S=this.options.chunkSize;if(this.ended)return!1;j=f===~~f?f:f===!0?4:0,typeof d=="string"?_.input=o.string2buf(d):y.call(d)==="[object ArrayBuffer]"?_.input=new Uint8Array(d):_.input=d,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new l.Buf8(S),_.next_out=0,_.avail_out=S),(v=a.deflate(_,j))!==1&&v!==u)return this.onEnd(v),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||j!==4&&j!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(l.shrinkBuf(_.output,_.next_out))):this.onData(l.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&v!==1);return j===4?(v=a.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===u):j!==2||(this.onEnd(u),!(_.avail_out=0))},p.prototype.onData=function(d){this.chunks.push(d)},p.prototype.onEnd=function(d){d===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},i.Deflate=p,i.deflate=w,i.deflateRaw=function(d,f){return(f=f||{}).raw=!0,w(d,f)},i.gzip=function(d,f){return(f=f||{}).gzip=!0,w(d,f)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),l=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),m=r("./zlib/messages"),y=r("./zlib/zstream"),u=r("./zlib/gzheader"),g=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},p||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||p&&p.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var d=a.inflateInit2(this.strm,w.windowBits);if(d!==c.Z_OK)throw new Error(m[d]);this.header=new u,a.inflateGetHeader(this.strm,this.header)}function N(p,w){var d=new h(w);if(d.push(p,!0),d.err)throw d.msg||m[d.err];return d.result}h.prototype.push=function(p,w){var d,f,v,j,_,S,E=this.strm,k=this.options.chunkSize,$=this.options.dictionary,U=!1;if(this.ended)return!1;f=w===~~w?w:w===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof p=="string"?E.input=o.binstring2buf(p):g.call(p)==="[object ArrayBuffer]"?E.input=new Uint8Array(p):E.input=p,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new l.Buf8(k),E.next_out=0,E.avail_out=k),(d=a.inflate(E,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&$&&(S=typeof $=="string"?o.string2buf($):g.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,d=a.inflateSetDictionary(this.strm,S)),d===c.Z_BUF_ERROR&&U===!0&&(d=c.Z_OK,U=!1),d!==c.Z_STREAM_END&&d!==c.Z_OK)return this.onEnd(d),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&d!==c.Z_STREAM_END&&(E.avail_in!==0||f!==c.Z_FINISH&&f!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=o.utf8border(E.output,E.next_out),j=E.next_out-v,_=o.buf2string(E.output,v),E.next_out=j,E.avail_out=k-j,j&&l.arraySet(E.output,E.output,v,j,0),this.onData(_)):this.onData(l.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(U=!0)}while((0<E.avail_in||E.avail_out===0)&&d!==c.Z_STREAM_END);return d===c.Z_STREAM_END&&(f=c.Z_FINISH),f===c.Z_FINISH?(d=a.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===c.Z_OK):f!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(E.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=h,i.inflate=N,i.inflateRaw=function(p,w){return(w=w||{}).raw=!0,N(p,w)},i.ungzip=N},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var u in y)y.hasOwnProperty(u)&&(c[u]=y[u])}}return c},i.shrinkBuf=function(c,m){return c.length===m?c:c.subarray?c.subarray(0,m):(c.length=m,c)};var l={arraySet:function(c,m,y,u,g){if(m.subarray&&c.subarray)c.set(m.subarray(y,y+u),g);else for(var h=0;h<u;h++)c[g+h]=m[y+h]},flattenChunks:function(c){var m,y,u,g,h,N;for(m=u=0,y=c.length;m<y;m++)u+=c[m].length;for(N=new Uint8Array(u),m=g=0,y=c.length;m<y;m++)h=c[m],N.set(h,g),g+=h.length;return N}},o={arraySet:function(c,m,y,u,g){for(var h=0;h<u;h++)c[g+h]=m[y+h]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),l=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new a.Buf8(256),m=0;m<256;m++)c[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(u,g){if(g<65537&&(u.subarray&&o||!u.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(u,g));for(var h="",N=0;N<g;N++)h+=String.fromCharCode(u[N]);return h}c[254]=c[254]=1,i.string2buf=function(u){var g,h,N,p,w,d=u.length,f=0;for(p=0;p<d;p++)(64512&(h=u.charCodeAt(p)))==55296&&p+1<d&&(64512&(N=u.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(N-56320),p++),f+=h<128?1:h<2048?2:h<65536?3:4;for(g=new a.Buf8(f),p=w=0;w<f;p++)(64512&(h=u.charCodeAt(p)))==55296&&p+1<d&&(64512&(N=u.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(N-56320),p++),h<128?g[w++]=h:(h<2048?g[w++]=192|h>>>6:(h<65536?g[w++]=224|h>>>12:(g[w++]=240|h>>>18,g[w++]=128|h>>>12&63),g[w++]=128|h>>>6&63),g[w++]=128|63&h);return g},i.buf2binstring=function(u){return y(u,u.length)},i.binstring2buf=function(u){for(var g=new a.Buf8(u.length),h=0,N=g.length;h<N;h++)g[h]=u.charCodeAt(h);return g},i.buf2string=function(u,g){var h,N,p,w,d=g||u.length,f=new Array(2*d);for(h=N=0;h<d;)if((p=u[h++])<128)f[N++]=p;else if(4<(w=c[p]))f[N++]=65533,h+=w-1;else{for(p&=w===2?31:w===3?15:7;1<w&&h<d;)p=p<<6|63&u[h++],w--;1<w?f[N++]=65533:p<65536?f[N++]=p:(p-=65536,f[N++]=55296|p>>10&1023,f[N++]=56320|1023&p)}return y(f,N)},i.utf8border=function(u,g){var h;for((g=g||u.length)>u.length&&(g=u.length),h=g-1;0<=h&&(192&u[h])==128;)h--;return h<0||h===0?g:h+c[u[h]]>g?h:g}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,l,o,c){for(var m=65535&a|0,y=a>>>16&65535|0,u=0;o!==0;){for(o-=u=2e3<o?2e3:o;y=y+(m=m+l[c++]|0)|0,--u;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var l,o=[],c=0;c<256;c++){l=c;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;o[c]=l}return o}();n.exports=function(l,o,c,m){var y=a,u=m+c;l^=-1;for(var g=m;g<u;g++)l=l>>>8^y[255&(l^o[g])];return-1^l}},{}],46:[function(r,n,i){var a,l=r("../utils/common"),o=r("./trees"),c=r("./adler32"),m=r("./crc32"),y=r("./messages"),u=0,g=4,h=0,N=-2,p=-1,w=4,d=2,f=8,v=9,j=286,_=30,S=19,E=2*j+1,k=15,$=3,U=258,Z=U+$+1,T=42,L=113,b=1,G=2,ne=3,q=4;function P(x,K){return x.msg=y[K],K}function A(x){return(x<<1)-(4<x?9:0)}function I(x){for(var K=x.length;0<=--K;)x[K]=0}function M(x){var K=x.state,V=K.pending;V>x.avail_out&&(V=x.avail_out),V!==0&&(l.arraySet(x.output,K.pending_buf,K.pending_out,V,x.next_out),x.next_out+=V,K.pending_out+=V,x.total_out+=V,x.avail_out-=V,K.pending-=V,K.pending===0&&(K.pending_out=0))}function z(x,K){o._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,K),x.block_start=x.strstart,M(x.strm)}function Q(x,K){x.pending_buf[x.pending++]=K}function O(x,K){x.pending_buf[x.pending++]=K>>>8&255,x.pending_buf[x.pending++]=255&K}function W(x,K){var V,D,C=x.max_chain_length,F=x.strstart,R=x.prev_length,H=x.nice_match,B=x.strstart>x.w_size-Z?x.strstart-(x.w_size-Z):0,Y=x.window,re=x.w_mask,ee=x.prev,X=x.strstart+U,pe=Y[F+R-1],ce=Y[F+R];x.prev_length>=x.good_match&&(C>>=2),H>x.lookahead&&(H=x.lookahead);do if(Y[(V=K)+R]===ce&&Y[V+R-1]===pe&&Y[V]===Y[F]&&Y[++V]===Y[F+1]){F+=2,V++;do;while(Y[++F]===Y[++V]&&Y[++F]===Y[++V]&&Y[++F]===Y[++V]&&Y[++F]===Y[++V]&&Y[++F]===Y[++V]&&Y[++F]===Y[++V]&&Y[++F]===Y[++V]&&Y[++F]===Y[++V]&&F<X);if(D=U-(X-F),F=X-U,R<D){if(x.match_start=K,H<=(R=D))break;pe=Y[F+R-1],ce=Y[F+R]}}while((K=ee[K&re])>B&&--C!=0);return R<=x.lookahead?R:x.lookahead}function ie(x){var K,V,D,C,F,R,H,B,Y,re,ee=x.w_size;do{if(C=x.window_size-x.lookahead-x.strstart,x.strstart>=ee+(ee-Z)){for(l.arraySet(x.window,x.window,ee,ee,0),x.match_start-=ee,x.strstart-=ee,x.block_start-=ee,K=V=x.hash_size;D=x.head[--K],x.head[K]=ee<=D?D-ee:0,--V;);for(K=V=ee;D=x.prev[--K],x.prev[K]=ee<=D?D-ee:0,--V;);C+=ee}if(x.strm.avail_in===0)break;if(R=x.strm,H=x.window,B=x.strstart+x.lookahead,Y=C,re=void 0,re=R.avail_in,Y<re&&(re=Y),V=re===0?0:(R.avail_in-=re,l.arraySet(H,R.input,R.next_in,re,B),R.state.wrap===1?R.adler=c(R.adler,H,re,B):R.state.wrap===2&&(R.adler=m(R.adler,H,re,B)),R.next_in+=re,R.total_in+=re,re),x.lookahead+=V,x.lookahead+x.insert>=$)for(F=x.strstart-x.insert,x.ins_h=x.window[F],x.ins_h=(x.ins_h<<x.hash_shift^x.window[F+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[F+$-1])&x.hash_mask,x.prev[F&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=F,F++,x.insert--,!(x.lookahead+x.insert<$)););}while(x.lookahead<Z&&x.strm.avail_in!==0)}function de(x,K){for(var V,D;;){if(x.lookahead<Z){if(ie(x),x.lookahead<Z&&K===u)return b;if(x.lookahead===0)break}if(V=0,x.lookahead>=$&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+$-1])&x.hash_mask,V=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),V!==0&&x.strstart-V<=x.w_size-Z&&(x.match_length=W(x,V)),x.match_length>=$)if(D=o._tr_tally(x,x.strstart-x.match_start,x.match_length-$),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=$){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+$-1])&x.hash_mask,V=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else D=o._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(D&&(z(x,!1),x.strm.avail_out===0))return b}return x.insert=x.strstart<$-1?x.strstart:$-1,K===g?(z(x,!0),x.strm.avail_out===0?ne:q):x.last_lit&&(z(x,!1),x.strm.avail_out===0)?b:G}function le(x,K){for(var V,D,C;;){if(x.lookahead<Z){if(ie(x),x.lookahead<Z&&K===u)return b;if(x.lookahead===0)break}if(V=0,x.lookahead>=$&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+$-1])&x.hash_mask,V=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=$-1,V!==0&&x.prev_length<x.max_lazy_match&&x.strstart-V<=x.w_size-Z&&(x.match_length=W(x,V),x.match_length<=5&&(x.strategy===1||x.match_length===$&&4096<x.strstart-x.match_start)&&(x.match_length=$-1)),x.prev_length>=$&&x.match_length<=x.prev_length){for(C=x.strstart+x.lookahead-$,D=o._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-$),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=C&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+$-1])&x.hash_mask,V=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=$-1,x.strstart++,D&&(z(x,!1),x.strm.avail_out===0))return b}else if(x.match_available){if((D=o._tr_tally(x,0,x.window[x.strstart-1]))&&z(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return b}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(D=o._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<$-1?x.strstart:$-1,K===g?(z(x,!0),x.strm.avail_out===0?ne:q):x.last_lit&&(z(x,!1),x.strm.avail_out===0)?b:G}function oe(x,K,V,D,C){this.good_length=x,this.max_lazy=K,this.nice_length=V,this.max_chain=D,this.func=C}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*E),this.dyn_dtree=new l.Buf16(2*(2*_+1)),this.bl_tree=new l.Buf16(2*(2*S+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(k+1),this.heap=new l.Buf16(2*j+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*j+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(x){var K;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=d,(K=x.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?T:L,x.adler=K.wrap===2?0:1,K.last_flush=u,o._tr_init(K),h):P(x,N)}function Ae(x){var K=xe(x);return K===h&&function(V){V.window_size=2*V.w_size,I(V.head),V.max_lazy_match=a[V.level].max_lazy,V.good_match=a[V.level].good_length,V.nice_match=a[V.level].nice_length,V.max_chain_length=a[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=$-1,V.match_available=0,V.ins_h=0}(x.state),K}function Be(x,K,V,D,C,F){if(!x)return N;var R=1;if(K===p&&(K=6),D<0?(R=0,D=-D):15<D&&(R=2,D-=16),C<1||v<C||V!==f||D<8||15<D||K<0||9<K||F<0||w<F)return P(x,N);D===8&&(D=9);var H=new he;return(x.state=H).strm=x,H.wrap=R,H.gzhead=null,H.w_bits=D,H.w_size=1<<H.w_bits,H.w_mask=H.w_size-1,H.hash_bits=C+7,H.hash_size=1<<H.hash_bits,H.hash_mask=H.hash_size-1,H.hash_shift=~~((H.hash_bits+$-1)/$),H.window=new l.Buf8(2*H.w_size),H.head=new l.Buf16(H.hash_size),H.prev=new l.Buf16(H.w_size),H.lit_bufsize=1<<C+6,H.pending_buf_size=4*H.lit_bufsize,H.pending_buf=new l.Buf8(H.pending_buf_size),H.d_buf=1*H.lit_bufsize,H.l_buf=3*H.lit_bufsize,H.level=K,H.strategy=F,H.method=V,Ae(x)}a=[new oe(0,0,0,0,function(x,K){var V=65535;for(V>x.pending_buf_size-5&&(V=x.pending_buf_size-5);;){if(x.lookahead<=1){if(ie(x),x.lookahead===0&&K===u)return b;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var D=x.block_start+V;if((x.strstart===0||x.strstart>=D)&&(x.lookahead=x.strstart-D,x.strstart=D,z(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-Z&&(z(x,!1),x.strm.avail_out===0))return b}return x.insert=0,K===g?(z(x,!0),x.strm.avail_out===0?ne:q):(x.strstart>x.block_start&&(z(x,!1),x.strm.avail_out),b)}),new oe(4,4,8,4,de),new oe(4,5,16,8,de),new oe(4,6,32,32,de),new oe(4,4,16,16,le),new oe(8,16,32,32,le),new oe(8,16,128,128,le),new oe(8,32,128,256,le),new oe(32,128,258,1024,le),new oe(32,258,258,4096,le)],i.deflateInit=function(x,K){return Be(x,K,f,15,8,0)},i.deflateInit2=Be,i.deflateReset=Ae,i.deflateResetKeep=xe,i.deflateSetHeader=function(x,K){return x&&x.state?x.state.wrap!==2?N:(x.state.gzhead=K,h):N},i.deflate=function(x,K){var V,D,C,F;if(!x||!x.state||5<K||K<0)return x?P(x,N):N;if(D=x.state,!x.output||!x.input&&x.avail_in!==0||D.status===666&&K!==g)return P(x,x.avail_out===0?-5:N);if(D.strm=x,V=D.last_flush,D.last_flush=K,D.status===T)if(D.wrap===2)x.adler=0,Q(D,31),Q(D,139),Q(D,8),D.gzhead?(Q(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),Q(D,255&D.gzhead.time),Q(D,D.gzhead.time>>8&255),Q(D,D.gzhead.time>>16&255),Q(D,D.gzhead.time>>24&255),Q(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Q(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(Q(D,255&D.gzhead.extra.length),Q(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(x.adler=m(x.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(Q(D,0),Q(D,0),Q(D,0),Q(D,0),Q(D,0),Q(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Q(D,3),D.status=L);else{var R=f+(D.w_bits-8<<4)<<8;R|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(R|=32),R+=31-R%31,D.status=L,O(D,R),D.strstart!==0&&(O(D,x.adler>>>16),O(D,65535&x.adler)),x.adler=1}if(D.status===69)if(D.gzhead.extra){for(C=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>C&&(x.adler=m(x.adler,D.pending_buf,D.pending-C,C)),M(x),C=D.pending,D.pending!==D.pending_buf_size));)Q(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>C&&(x.adler=m(x.adler,D.pending_buf,D.pending-C,C)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){C=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>C&&(x.adler=m(x.adler,D.pending_buf,D.pending-C,C)),M(x),C=D.pending,D.pending===D.pending_buf_size)){F=1;break}F=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,Q(D,F)}while(F!==0);D.gzhead.hcrc&&D.pending>C&&(x.adler=m(x.adler,D.pending_buf,D.pending-C,C)),F===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){C=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>C&&(x.adler=m(x.adler,D.pending_buf,D.pending-C,C)),M(x),C=D.pending,D.pending===D.pending_buf_size)){F=1;break}F=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,Q(D,F)}while(F!==0);D.gzhead.hcrc&&D.pending>C&&(x.adler=m(x.adler,D.pending_buf,D.pending-C,C)),F===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&M(x),D.pending+2<=D.pending_buf_size&&(Q(D,255&x.adler),Q(D,x.adler>>8&255),x.adler=0,D.status=L)):D.status=L),D.pending!==0){if(M(x),x.avail_out===0)return D.last_flush=-1,h}else if(x.avail_in===0&&A(K)<=A(V)&&K!==g)return P(x,-5);if(D.status===666&&x.avail_in!==0)return P(x,-5);if(x.avail_in!==0||D.lookahead!==0||K!==u&&D.status!==666){var H=D.strategy===2?function(B,Y){for(var re;;){if(B.lookahead===0&&(ie(B),B.lookahead===0)){if(Y===u)return b;break}if(B.match_length=0,re=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,re&&(z(B,!1),B.strm.avail_out===0))return b}return B.insert=0,Y===g?(z(B,!0),B.strm.avail_out===0?ne:q):B.last_lit&&(z(B,!1),B.strm.avail_out===0)?b:G}(D,K):D.strategy===3?function(B,Y){for(var re,ee,X,pe,ce=B.window;;){if(B.lookahead<=U){if(ie(B),B.lookahead<=U&&Y===u)return b;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=$&&0<B.strstart&&(ee=ce[X=B.strstart-1])===ce[++X]&&ee===ce[++X]&&ee===ce[++X]){pe=B.strstart+U;do;while(ee===ce[++X]&&ee===ce[++X]&&ee===ce[++X]&&ee===ce[++X]&&ee===ce[++X]&&ee===ce[++X]&&ee===ce[++X]&&ee===ce[++X]&&X<pe);B.match_length=U-(pe-X),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=$?(re=o._tr_tally(B,1,B.match_length-$),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(re=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),re&&(z(B,!1),B.strm.avail_out===0))return b}return B.insert=0,Y===g?(z(B,!0),B.strm.avail_out===0?ne:q):B.last_lit&&(z(B,!1),B.strm.avail_out===0)?b:G}(D,K):a[D.level].func(D,K);if(H!==ne&&H!==q||(D.status=666),H===b||H===ne)return x.avail_out===0&&(D.last_flush=-1),h;if(H===G&&(K===1?o._tr_align(D):K!==5&&(o._tr_stored_block(D,0,0,!1),K===3&&(I(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),M(x),x.avail_out===0))return D.last_flush=-1,h}return K!==g?h:D.wrap<=0?1:(D.wrap===2?(Q(D,255&x.adler),Q(D,x.adler>>8&255),Q(D,x.adler>>16&255),Q(D,x.adler>>24&255),Q(D,255&x.total_in),Q(D,x.total_in>>8&255),Q(D,x.total_in>>16&255),Q(D,x.total_in>>24&255)):(O(D,x.adler>>>16),O(D,65535&x.adler)),M(x),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?h:1)},i.deflateEnd=function(x){var K;return x&&x.state?(K=x.state.status)!==T&&K!==69&&K!==73&&K!==91&&K!==103&&K!==L&&K!==666?P(x,N):(x.state=null,K===L?P(x,-3):h):N},i.deflateSetDictionary=function(x,K){var V,D,C,F,R,H,B,Y,re=K.length;if(!x||!x.state||(F=(V=x.state).wrap)===2||F===1&&V.status!==T||V.lookahead)return N;for(F===1&&(x.adler=c(x.adler,K,re,0)),V.wrap=0,re>=V.w_size&&(F===0&&(I(V.head),V.strstart=0,V.block_start=0,V.insert=0),Y=new l.Buf8(V.w_size),l.arraySet(Y,K,re-V.w_size,V.w_size,0),K=Y,re=V.w_size),R=x.avail_in,H=x.next_in,B=x.input,x.avail_in=re,x.next_in=0,x.input=K,ie(V);V.lookahead>=$;){for(D=V.strstart,C=V.lookahead-($-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[D+$-1])&V.hash_mask,V.prev[D&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=D,D++,--C;);V.strstart=D,V.lookahead=$-1,ie(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=$-1,V.match_available=0,x.next_in=H,x.input=B,x.avail_in=R,V.wrap=F,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,l){var o,c,m,y,u,g,h,N,p,w,d,f,v,j,_,S,E,k,$,U,Z,T,L,b,G;o=a.state,c=a.next_in,b=a.input,m=c+(a.avail_in-5),y=a.next_out,G=a.output,u=y-(l-a.avail_out),g=y+(a.avail_out-257),h=o.dmax,N=o.wsize,p=o.whave,w=o.wnext,d=o.window,f=o.hold,v=o.bits,j=o.lencode,_=o.distcode,S=(1<<o.lenbits)-1,E=(1<<o.distbits)-1;e:do{v<15&&(f+=b[c++]<<v,v+=8,f+=b[c++]<<v,v+=8),k=j[f&S];t:for(;;){if(f>>>=$=k>>>24,v-=$,($=k>>>16&255)===0)G[y++]=65535&k;else{if(!(16&$)){if(!(64&$)){k=j[(65535&k)+(f&(1<<$)-1)];continue t}if(32&$){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}U=65535&k,($&=15)&&(v<$&&(f+=b[c++]<<v,v+=8),U+=f&(1<<$)-1,f>>>=$,v-=$),v<15&&(f+=b[c++]<<v,v+=8,f+=b[c++]<<v,v+=8),k=_[f&E];r:for(;;){if(f>>>=$=k>>>24,v-=$,!(16&($=k>>>16&255))){if(!(64&$)){k=_[(65535&k)+(f&(1<<$)-1)];continue r}a.msg="invalid distance code",o.mode=30;break e}if(Z=65535&k,v<($&=15)&&(f+=b[c++]<<v,(v+=8)<$&&(f+=b[c++]<<v,v+=8)),h<(Z+=f&(1<<$)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(f>>>=$,v-=$,($=y-u)<Z){if(p<($=Z-$)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(L=d,(T=0)===w){if(T+=N-$,$<U){for(U-=$;G[y++]=d[T++],--$;);T=y-Z,L=G}}else if(w<$){if(T+=N+w-$,($-=w)<U){for(U-=$;G[y++]=d[T++],--$;);if(T=0,w<U){for(U-=$=w;G[y++]=d[T++],--$;);T=y-Z,L=G}}}else if(T+=w-$,$<U){for(U-=$;G[y++]=d[T++],--$;);T=y-Z,L=G}for(;2<U;)G[y++]=L[T++],G[y++]=L[T++],G[y++]=L[T++],U-=3;U&&(G[y++]=L[T++],1<U&&(G[y++]=L[T++]))}else{for(T=y-Z;G[y++]=G[T++],G[y++]=G[T++],G[y++]=G[T++],2<(U-=3););U&&(G[y++]=G[T++],1<U&&(G[y++]=G[T++]))}break}}break}}while(c<m&&y<g);c-=U=v>>3,f&=(1<<(v-=U<<3))-1,a.next_in=c,a.next_out=y,a.avail_in=c<m?m-c+5:5-(c-m),a.avail_out=y<g?g-y+257:257-(y-g),o.hold=f,o.bits=v}},{}],49:[function(r,n,i){var a=r("../utils/common"),l=r("./adler32"),o=r("./crc32"),c=r("./inffast"),m=r("./inftrees"),y=1,u=2,g=0,h=-2,N=1,p=852,w=592;function d(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(T){var L;return T&&T.state?(L=T.state,T.total_in=T.total_out=L.total=0,T.msg="",L.wrap&&(T.adler=1&L.wrap),L.mode=N,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new a.Buf32(p),L.distcode=L.distdyn=new a.Buf32(w),L.sane=1,L.back=-1,g):h}function j(T){var L;return T&&T.state?((L=T.state).wsize=0,L.whave=0,L.wnext=0,v(T)):h}function _(T,L){var b,G;return T&&T.state?(G=T.state,L<0?(b=0,L=-L):(b=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?h:(G.window!==null&&G.wbits!==L&&(G.window=null),G.wrap=b,G.wbits=L,j(T))):h}function S(T,L){var b,G;return T?(G=new f,(T.state=G).window=null,(b=_(T,L))!==g&&(T.state=null),b):h}var E,k,$=!0;function U(T){if($){var L;for(E=new a.Buf32(512),k=new a.Buf32(32),L=0;L<144;)T.lens[L++]=8;for(;L<256;)T.lens[L++]=9;for(;L<280;)T.lens[L++]=7;for(;L<288;)T.lens[L++]=8;for(m(y,T.lens,0,288,E,0,T.work,{bits:9}),L=0;L<32;)T.lens[L++]=5;m(u,T.lens,0,32,k,0,T.work,{bits:5}),$=!1}T.lencode=E,T.lenbits=9,T.distcode=k,T.distbits=5}function Z(T,L,b,G){var ne,q=T.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new a.Buf8(q.wsize)),G>=q.wsize?(a.arraySet(q.window,L,b-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(G<(ne=q.wsize-q.wnext)&&(ne=G),a.arraySet(q.window,L,b-G,ne,q.wnext),(G-=ne)?(a.arraySet(q.window,L,b-G,G,0),q.wnext=G,q.whave=q.wsize):(q.wnext+=ne,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=ne))),0}i.inflateReset=j,i.inflateReset2=_,i.inflateResetKeep=v,i.inflateInit=function(T){return S(T,15)},i.inflateInit2=S,i.inflate=function(T,L){var b,G,ne,q,P,A,I,M,z,Q,O,W,ie,de,le,oe,he,xe,Ae,Be,x,K,V,D,C=0,F=new a.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return h;(b=T.state).mode===12&&(b.mode=13),P=T.next_out,ne=T.output,I=T.avail_out,q=T.next_in,G=T.input,A=T.avail_in,M=b.hold,z=b.bits,Q=A,O=I,K=g;e:for(;;)switch(b.mode){case N:if(b.wrap===0){b.mode=13;break}for(;z<16;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if(2&b.wrap&&M===35615){F[b.check=0]=255&M,F[1]=M>>>8&255,b.check=o(b.check,F,2,0),z=M=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&M)<<8)+(M>>8))%31){T.msg="incorrect header check",b.mode=30;break}if((15&M)!=8){T.msg="unknown compression method",b.mode=30;break}if(z-=4,x=8+(15&(M>>>=4)),b.wbits===0)b.wbits=x;else if(x>b.wbits){T.msg="invalid window size",b.mode=30;break}b.dmax=1<<x,T.adler=b.check=1,b.mode=512&M?10:12,z=M=0;break;case 2:for(;z<16;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if(b.flags=M,(255&b.flags)!=8){T.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){T.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=M>>8&1),512&b.flags&&(F[0]=255&M,F[1]=M>>>8&255,b.check=o(b.check,F,2,0)),z=M=0,b.mode=3;case 3:for(;z<32;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}b.head&&(b.head.time=M),512&b.flags&&(F[0]=255&M,F[1]=M>>>8&255,F[2]=M>>>16&255,F[3]=M>>>24&255,b.check=o(b.check,F,4,0)),z=M=0,b.mode=4;case 4:for(;z<16;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}b.head&&(b.head.xflags=255&M,b.head.os=M>>8),512&b.flags&&(F[0]=255&M,F[1]=M>>>8&255,b.check=o(b.check,F,2,0)),z=M=0,b.mode=5;case 5:if(1024&b.flags){for(;z<16;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}b.length=M,b.head&&(b.head.extra_len=M),512&b.flags&&(F[0]=255&M,F[1]=M>>>8&255,b.check=o(b.check,F,2,0)),z=M=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(A<(W=b.length)&&(W=A),W&&(b.head&&(x=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),a.arraySet(b.head.extra,G,q,W,x)),512&b.flags&&(b.check=o(b.check,G,W,q)),A-=W,q+=W,b.length-=W),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(A===0)break e;for(W=0;x=G[q+W++],b.head&&x&&b.length<65536&&(b.head.name+=String.fromCharCode(x)),x&&W<A;);if(512&b.flags&&(b.check=o(b.check,G,W,q)),A-=W,q+=W,x)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(A===0)break e;for(W=0;x=G[q+W++],b.head&&x&&b.length<65536&&(b.head.comment+=String.fromCharCode(x)),x&&W<A;);if(512&b.flags&&(b.check=o(b.check,G,W,q)),A-=W,q+=W,x)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;z<16;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if(M!==(65535&b.check)){T.msg="header crc mismatch",b.mode=30;break}z=M=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),T.adler=b.check=0,b.mode=12;break;case 10:for(;z<32;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}T.adler=b.check=d(M),z=M=0,b.mode=11;case 11:if(b.havedict===0)return T.next_out=P,T.avail_out=I,T.next_in=q,T.avail_in=A,b.hold=M,b.bits=z,2;T.adler=b.check=1,b.mode=12;case 12:if(L===5||L===6)break e;case 13:if(b.last){M>>>=7&z,z-=7&z,b.mode=27;break}for(;z<3;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}switch(b.last=1&M,z-=1,3&(M>>>=1)){case 0:b.mode=14;break;case 1:if(U(b),b.mode=20,L!==6)break;M>>>=2,z-=2;break e;case 2:b.mode=17;break;case 3:T.msg="invalid block type",b.mode=30}M>>>=2,z-=2;break;case 14:for(M>>>=7&z,z-=7&z;z<32;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if((65535&M)!=(M>>>16^65535)){T.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&M,z=M=0,b.mode=15,L===6)break e;case 15:b.mode=16;case 16:if(W=b.length){if(A<W&&(W=A),I<W&&(W=I),W===0)break e;a.arraySet(ne,G,q,W,P),A-=W,q+=W,I-=W,P+=W,b.length-=W;break}b.mode=12;break;case 17:for(;z<14;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if(b.nlen=257+(31&M),M>>>=5,z-=5,b.ndist=1+(31&M),M>>>=5,z-=5,b.ncode=4+(15&M),M>>>=4,z-=4,286<b.nlen||30<b.ndist){T.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;z<3;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}b.lens[R[b.have++]]=7&M,M>>>=3,z-=3}for(;b.have<19;)b.lens[R[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,V={bits:b.lenbits},K=m(0,b.lens,0,19,b.lencode,0,b.work,V),b.lenbits=V.bits,K){T.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;oe=(C=b.lencode[M&(1<<b.lenbits)-1])>>>16&255,he=65535&C,!((le=C>>>24)<=z);){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if(he<16)M>>>=le,z-=le,b.lens[b.have++]=he;else{if(he===16){for(D=le+2;z<D;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if(M>>>=le,z-=le,b.have===0){T.msg="invalid bit length repeat",b.mode=30;break}x=b.lens[b.have-1],W=3+(3&M),M>>>=2,z-=2}else if(he===17){for(D=le+3;z<D;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}z-=le,x=0,W=3+(7&(M>>>=le)),M>>>=3,z-=3}else{for(D=le+7;z<D;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}z-=le,x=0,W=11+(127&(M>>>=le)),M>>>=7,z-=7}if(b.have+W>b.nlen+b.ndist){T.msg="invalid bit length repeat",b.mode=30;break}for(;W--;)b.lens[b.have++]=x}}if(b.mode===30)break;if(b.lens[256]===0){T.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,V={bits:b.lenbits},K=m(y,b.lens,0,b.nlen,b.lencode,0,b.work,V),b.lenbits=V.bits,K){T.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,V={bits:b.distbits},K=m(u,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,V),b.distbits=V.bits,K){T.msg="invalid distances set",b.mode=30;break}if(b.mode=20,L===6)break e;case 20:b.mode=21;case 21:if(6<=A&&258<=I){T.next_out=P,T.avail_out=I,T.next_in=q,T.avail_in=A,b.hold=M,b.bits=z,c(T,O),P=T.next_out,ne=T.output,I=T.avail_out,q=T.next_in,G=T.input,A=T.avail_in,M=b.hold,z=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;oe=(C=b.lencode[M&(1<<b.lenbits)-1])>>>16&255,he=65535&C,!((le=C>>>24)<=z);){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if(oe&&!(240&oe)){for(xe=le,Ae=oe,Be=he;oe=(C=b.lencode[Be+((M&(1<<xe+Ae)-1)>>xe)])>>>16&255,he=65535&C,!(xe+(le=C>>>24)<=z);){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}M>>>=xe,z-=xe,b.back+=xe}if(M>>>=le,z-=le,b.back+=le,b.length=he,oe===0){b.mode=26;break}if(32&oe){b.back=-1,b.mode=12;break}if(64&oe){T.msg="invalid literal/length code",b.mode=30;break}b.extra=15&oe,b.mode=22;case 22:if(b.extra){for(D=b.extra;z<D;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}b.length+=M&(1<<b.extra)-1,M>>>=b.extra,z-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;oe=(C=b.distcode[M&(1<<b.distbits)-1])>>>16&255,he=65535&C,!((le=C>>>24)<=z);){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if(!(240&oe)){for(xe=le,Ae=oe,Be=he;oe=(C=b.distcode[Be+((M&(1<<xe+Ae)-1)>>xe)])>>>16&255,he=65535&C,!(xe+(le=C>>>24)<=z);){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}M>>>=xe,z-=xe,b.back+=xe}if(M>>>=le,z-=le,b.back+=le,64&oe){T.msg="invalid distance code",b.mode=30;break}b.offset=he,b.extra=15&oe,b.mode=24;case 24:if(b.extra){for(D=b.extra;z<D;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}b.offset+=M&(1<<b.extra)-1,M>>>=b.extra,z-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){T.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(I===0)break e;if(W=O-I,b.offset>W){if((W=b.offset-W)>b.whave&&b.sane){T.msg="invalid distance too far back",b.mode=30;break}ie=W>b.wnext?(W-=b.wnext,b.wsize-W):b.wnext-W,W>b.length&&(W=b.length),de=b.window}else de=ne,ie=P-b.offset,W=b.length;for(I<W&&(W=I),I-=W,b.length-=W;ne[P++]=de[ie++],--W;);b.length===0&&(b.mode=21);break;case 26:if(I===0)break e;ne[P++]=b.length,I--,b.mode=21;break;case 27:if(b.wrap){for(;z<32;){if(A===0)break e;A--,M|=G[q++]<<z,z+=8}if(O-=I,T.total_out+=O,b.total+=O,O&&(T.adler=b.check=b.flags?o(b.check,ne,O,P-O):l(b.check,ne,O,P-O)),O=I,(b.flags?M:d(M))!==b.check){T.msg="incorrect data check",b.mode=30;break}z=M=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;z<32;){if(A===0)break e;A--,M+=G[q++]<<z,z+=8}if(M!==(4294967295&b.total)){T.msg="incorrect length check",b.mode=30;break}z=M=0}b.mode=29;case 29:K=1;break e;case 30:K=-3;break e;case 31:return-4;case 32:default:return h}return T.next_out=P,T.avail_out=I,T.next_in=q,T.avail_in=A,b.hold=M,b.bits=z,(b.wsize||O!==T.avail_out&&b.mode<30&&(b.mode<27||L!==4))&&Z(T,T.output,T.next_out,O-T.avail_out)?(b.mode=31,-4):(Q-=T.avail_in,O-=T.avail_out,T.total_in+=Q,T.total_out+=O,b.total+=O,b.wrap&&O&&(T.adler=b.check=b.flags?o(b.check,ne,O,T.next_out-O):l(b.check,ne,O,T.next_out-O)),T.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(Q==0&&O===0||L===4)&&K===g&&(K=-5),K)},i.inflateEnd=function(T){if(!T||!T.state)return h;var L=T.state;return L.window&&(L.window=null),T.state=null,g},i.inflateGetHeader=function(T,L){var b;return T&&T.state&&2&(b=T.state).wrap?((b.head=L).done=!1,g):h},i.inflateSetDictionary=function(T,L){var b,G=L.length;return T&&T.state?(b=T.state).wrap!==0&&b.mode!==11?h:b.mode===11&&l(1,L,G,0)!==b.check?-3:Z(T,L,G,G)?(b.mode=31,-4):(b.havedict=1,g):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(y,u,g,h,N,p,w,d){var f,v,j,_,S,E,k,$,U,Z=d.bits,T=0,L=0,b=0,G=0,ne=0,q=0,P=0,A=0,I=0,M=0,z=null,Q=0,O=new a.Buf16(16),W=new a.Buf16(16),ie=null,de=0;for(T=0;T<=15;T++)O[T]=0;for(L=0;L<h;L++)O[u[g+L]]++;for(ne=Z,G=15;1<=G&&O[G]===0;G--);if(G<ne&&(ne=G),G===0)return N[p++]=20971520,N[p++]=20971520,d.bits=1,0;for(b=1;b<G&&O[b]===0;b++);for(ne<b&&(ne=b),T=A=1;T<=15;T++)if(A<<=1,(A-=O[T])<0)return-1;if(0<A&&(y===0||G!==1))return-1;for(W[1]=0,T=1;T<15;T++)W[T+1]=W[T]+O[T];for(L=0;L<h;L++)u[g+L]!==0&&(w[W[u[g+L]]++]=L);if(E=y===0?(z=ie=w,19):y===1?(z=l,Q-=257,ie=o,de-=257,256):(z=c,ie=m,-1),T=b,S=p,P=L=M=0,j=-1,_=(I=1<<(q=ne))-1,y===1&&852<I||y===2&&592<I)return 1;for(;;){for(k=T-P,U=w[L]<E?($=0,w[L]):w[L]>E?($=ie[de+w[L]],z[Q+w[L]]):($=96,0),f=1<<T-P,b=v=1<<q;N[S+(M>>P)+(v-=f)]=k<<24|$<<16|U|0,v!==0;);for(f=1<<T-1;M&f;)f>>=1;if(f!==0?(M&=f-1,M+=f):M=0,L++,--O[T]==0){if(T===G)break;T=u[g+w[L]]}if(ne<T&&(M&_)!==j){for(P===0&&(P=ne),S+=b,A=1<<(q=T-P);q+P<G&&!((A-=O[q+P])<=0);)q++,A<<=1;if(I+=1<<q,y===1&&852<I||y===2&&592<I)return 1;N[j=M&_]=ne<<24|q<<16|S-p|0}}return M!==0&&(N[S+M]=T-P<<24|64<<16|0),d.bits=ne,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),l=0,o=1;function c(C){for(var F=C.length;0<=--F;)C[F]=0}var m=0,y=29,u=256,g=u+1+y,h=30,N=19,p=2*g+1,w=15,d=16,f=7,v=256,j=16,_=17,S=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(g+2));c(Z);var T=new Array(2*h);c(T);var L=new Array(512);c(L);var b=new Array(256);c(b);var G=new Array(y);c(G);var ne,q,P,A=new Array(h);function I(C,F,R,H,B){this.static_tree=C,this.extra_bits=F,this.extra_base=R,this.elems=H,this.max_length=B,this.has_stree=C&&C.length}function M(C,F){this.dyn_tree=C,this.max_code=0,this.stat_desc=F}function z(C){return C<256?L[C]:L[256+(C>>>7)]}function Q(C,F){C.pending_buf[C.pending++]=255&F,C.pending_buf[C.pending++]=F>>>8&255}function O(C,F,R){C.bi_valid>d-R?(C.bi_buf|=F<<C.bi_valid&65535,Q(C,C.bi_buf),C.bi_buf=F>>d-C.bi_valid,C.bi_valid+=R-d):(C.bi_buf|=F<<C.bi_valid&65535,C.bi_valid+=R)}function W(C,F,R){O(C,R[2*F],R[2*F+1])}function ie(C,F){for(var R=0;R|=1&C,C>>>=1,R<<=1,0<--F;);return R>>>1}function de(C,F,R){var H,B,Y=new Array(w+1),re=0;for(H=1;H<=w;H++)Y[H]=re=re+R[H-1]<<1;for(B=0;B<=F;B++){var ee=C[2*B+1];ee!==0&&(C[2*B]=ie(Y[ee]++,ee))}}function le(C){var F;for(F=0;F<g;F++)C.dyn_ltree[2*F]=0;for(F=0;F<h;F++)C.dyn_dtree[2*F]=0;for(F=0;F<N;F++)C.bl_tree[2*F]=0;C.dyn_ltree[2*v]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function oe(C){8<C.bi_valid?Q(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function he(C,F,R,H){var B=2*F,Y=2*R;return C[B]<C[Y]||C[B]===C[Y]&&H[F]<=H[R]}function xe(C,F,R){for(var H=C.heap[R],B=R<<1;B<=C.heap_len&&(B<C.heap_len&&he(F,C.heap[B+1],C.heap[B],C.depth)&&B++,!he(F,H,C.heap[B],C.depth));)C.heap[R]=C.heap[B],R=B,B<<=1;C.heap[R]=H}function Ae(C,F,R){var H,B,Y,re,ee=0;if(C.last_lit!==0)for(;H=C.pending_buf[C.d_buf+2*ee]<<8|C.pending_buf[C.d_buf+2*ee+1],B=C.pending_buf[C.l_buf+ee],ee++,H===0?W(C,B,F):(W(C,(Y=b[B])+u+1,F),(re=E[Y])!==0&&O(C,B-=G[Y],re),W(C,Y=z(--H),R),(re=k[Y])!==0&&O(C,H-=A[Y],re)),ee<C.last_lit;);W(C,v,F)}function Be(C,F){var R,H,B,Y=F.dyn_tree,re=F.stat_desc.static_tree,ee=F.stat_desc.has_stree,X=F.stat_desc.elems,pe=-1;for(C.heap_len=0,C.heap_max=p,R=0;R<X;R++)Y[2*R]!==0?(C.heap[++C.heap_len]=pe=R,C.depth[R]=0):Y[2*R+1]=0;for(;C.heap_len<2;)Y[2*(B=C.heap[++C.heap_len]=pe<2?++pe:0)]=1,C.depth[B]=0,C.opt_len--,ee&&(C.static_len-=re[2*B+1]);for(F.max_code=pe,R=C.heap_len>>1;1<=R;R--)xe(C,Y,R);for(B=X;R=C.heap[1],C.heap[1]=C.heap[C.heap_len--],xe(C,Y,1),H=C.heap[1],C.heap[--C.heap_max]=R,C.heap[--C.heap_max]=H,Y[2*B]=Y[2*R]+Y[2*H],C.depth[B]=(C.depth[R]>=C.depth[H]?C.depth[R]:C.depth[H])+1,Y[2*R+1]=Y[2*H+1]=B,C.heap[1]=B++,xe(C,Y,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(ce,Ge){var Ot,tt,Ut,Ne,ts,Si,Et=Ge.dyn_tree,Jl=Ge.max_code,ff=Ge.stat_desc.static_tree,hf=Ge.stat_desc.has_stree,mf=Ge.stat_desc.extra_bits,eo=Ge.stat_desc.extra_base,cn=Ge.stat_desc.max_length,rs=0;for(Ne=0;Ne<=w;Ne++)ce.bl_count[Ne]=0;for(Et[2*ce.heap[ce.heap_max]+1]=0,Ot=ce.heap_max+1;Ot<p;Ot++)cn<(Ne=Et[2*Et[2*(tt=ce.heap[Ot])+1]+1]+1)&&(Ne=cn,rs++),Et[2*tt+1]=Ne,Jl<tt||(ce.bl_count[Ne]++,ts=0,eo<=tt&&(ts=mf[tt-eo]),Si=Et[2*tt],ce.opt_len+=Si*(Ne+ts),hf&&(ce.static_len+=Si*(ff[2*tt+1]+ts)));if(rs!==0){do{for(Ne=cn-1;ce.bl_count[Ne]===0;)Ne--;ce.bl_count[Ne]--,ce.bl_count[Ne+1]+=2,ce.bl_count[cn]--,rs-=2}while(0<rs);for(Ne=cn;Ne!==0;Ne--)for(tt=ce.bl_count[Ne];tt!==0;)Jl<(Ut=ce.heap[--Ot])||(Et[2*Ut+1]!==Ne&&(ce.opt_len+=(Ne-Et[2*Ut+1])*Et[2*Ut],Et[2*Ut+1]=Ne),tt--)}}(C,F),de(Y,pe,C.bl_count)}function x(C,F,R){var H,B,Y=-1,re=F[1],ee=0,X=7,pe=4;for(re===0&&(X=138,pe=3),F[2*(R+1)+1]=65535,H=0;H<=R;H++)B=re,re=F[2*(H+1)+1],++ee<X&&B===re||(ee<pe?C.bl_tree[2*B]+=ee:B!==0?(B!==Y&&C.bl_tree[2*B]++,C.bl_tree[2*j]++):ee<=10?C.bl_tree[2*_]++:C.bl_tree[2*S]++,Y=B,pe=(ee=0)===re?(X=138,3):B===re?(X=6,3):(X=7,4))}function K(C,F,R){var H,B,Y=-1,re=F[1],ee=0,X=7,pe=4;for(re===0&&(X=138,pe=3),H=0;H<=R;H++)if(B=re,re=F[2*(H+1)+1],!(++ee<X&&B===re)){if(ee<pe)for(;W(C,B,C.bl_tree),--ee!=0;);else B!==0?(B!==Y&&(W(C,B,C.bl_tree),ee--),W(C,j,C.bl_tree),O(C,ee-3,2)):ee<=10?(W(C,_,C.bl_tree),O(C,ee-3,3)):(W(C,S,C.bl_tree),O(C,ee-11,7));Y=B,pe=(ee=0)===re?(X=138,3):B===re?(X=6,3):(X=7,4)}}c(A);var V=!1;function D(C,F,R,H){O(C,(m<<1)+(H?1:0),3),function(B,Y,re,ee){oe(B),Q(B,re),Q(B,~re),a.arraySet(B.pending_buf,B.window,Y,re,B.pending),B.pending+=re}(C,F,R)}i._tr_init=function(C){V||(function(){var F,R,H,B,Y,re=new Array(w+1);for(B=H=0;B<y-1;B++)for(G[B]=H,F=0;F<1<<E[B];F++)b[H++]=B;for(b[H-1]=B,B=Y=0;B<16;B++)for(A[B]=Y,F=0;F<1<<k[B];F++)L[Y++]=B;for(Y>>=7;B<h;B++)for(A[B]=Y<<7,F=0;F<1<<k[B]-7;F++)L[256+Y++]=B;for(R=0;R<=w;R++)re[R]=0;for(F=0;F<=143;)Z[2*F+1]=8,F++,re[8]++;for(;F<=255;)Z[2*F+1]=9,F++,re[9]++;for(;F<=279;)Z[2*F+1]=7,F++,re[7]++;for(;F<=287;)Z[2*F+1]=8,F++,re[8]++;for(de(Z,g+1,re),F=0;F<h;F++)T[2*F+1]=5,T[2*F]=ie(F,5);ne=new I(Z,E,u+1,g,w),q=new I(T,k,0,h,w),P=new I(new Array(0),$,0,N,f)}(),V=!0),C.l_desc=new M(C.dyn_ltree,ne),C.d_desc=new M(C.dyn_dtree,q),C.bl_desc=new M(C.bl_tree,P),C.bi_buf=0,C.bi_valid=0,le(C)},i._tr_stored_block=D,i._tr_flush_block=function(C,F,R,H){var B,Y,re=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(ee){var X,pe=4093624447;for(X=0;X<=31;X++,pe>>>=1)if(1&pe&&ee.dyn_ltree[2*X]!==0)return l;if(ee.dyn_ltree[18]!==0||ee.dyn_ltree[20]!==0||ee.dyn_ltree[26]!==0)return o;for(X=32;X<u;X++)if(ee.dyn_ltree[2*X]!==0)return o;return l}(C)),Be(C,C.l_desc),Be(C,C.d_desc),re=function(ee){var X;for(x(ee,ee.dyn_ltree,ee.l_desc.max_code),x(ee,ee.dyn_dtree,ee.d_desc.max_code),Be(ee,ee.bl_desc),X=N-1;3<=X&&ee.bl_tree[2*U[X]+1]===0;X--);return ee.opt_len+=3*(X+1)+5+5+4,X}(C),B=C.opt_len+3+7>>>3,(Y=C.static_len+3+7>>>3)<=B&&(B=Y)):B=Y=R+5,R+4<=B&&F!==-1?D(C,F,R,H):C.strategy===4||Y===B?(O(C,2+(H?1:0),3),Ae(C,Z,T)):(O(C,4+(H?1:0),3),function(ee,X,pe,ce){var Ge;for(O(ee,X-257,5),O(ee,pe-1,5),O(ee,ce-4,4),Ge=0;Ge<ce;Ge++)O(ee,ee.bl_tree[2*U[Ge]+1],3);K(ee,ee.dyn_ltree,X-1),K(ee,ee.dyn_dtree,pe-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,re+1),Ae(C,C.dyn_ltree,C.dyn_dtree)),le(C),H&&oe(C)},i._tr_tally=function(C,F,R){return C.pending_buf[C.d_buf+2*C.last_lit]=F>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&F,C.pending_buf[C.l_buf+C.last_lit]=255&R,C.last_lit++,F===0?C.dyn_ltree[2*R]++:(C.matches++,F--,C.dyn_ltree[2*(b[R]+u+1)]++,C.dyn_dtree[2*z(F)]++),C.last_lit===C.lit_bufsize-1},i._tr_align=function(C){O(C,2,3),W(C,v,Z),function(F){F.bi_valid===16?(Q(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(l,o){if(!l.setImmediate){var c,m,y,u,g=1,h={},N=!1,p=l.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(l);w=w&&w.setTimeout?w:l,c={}.toString.call(l.process)==="[object process]"?function(j){process.nextTick(function(){f(j)})}:function(){if(l.postMessage&&!l.importScripts){var j=!0,_=l.onmessage;return l.onmessage=function(){j=!1},l.postMessage("","*"),l.onmessage=_,j}}()?(u="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",v,!1):l.attachEvent("onmessage",v),function(j){l.postMessage(u+j,"*")}):l.MessageChannel?((y=new MessageChannel).port1.onmessage=function(j){f(j.data)},function(j){y.port2.postMessage(j)}):p&&"onreadystatechange"in p.createElement("script")?(m=p.documentElement,function(j){var _=p.createElement("script");_.onreadystatechange=function(){f(j),_.onreadystatechange=null,m.removeChild(_),_=null},m.appendChild(_)}):function(j){setTimeout(f,0,j)},w.setImmediate=function(j){typeof j!="function"&&(j=new Function(""+j));for(var _=new Array(arguments.length-1),S=0;S<_.length;S++)_[S]=arguments[S+1];var E={callback:j,args:_};return h[g]=E,c(g),g++},w.clearImmediate=d}function d(j){delete h[j]}function f(j){if(N)setTimeout(f,0,j);else{var _=h[j];if(_){N=!0;try{(function(S){var E=S.callback,k=S.args;switch(k.length){case 0:E();break;case 1:E(k[0]);break;case 2:E(k[0],k[1]);break;case 3:E(k[0],k[1],k[2]);break;default:E.apply(o,k)}})(_)}finally{d(j),N=!1}}}}function v(j){j.source===l&&typeof j.data=="string"&&j.data.indexOf(u)===0&&f(+j.data.slice(u.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof ss<"u"?ss:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(af);var Yp=af.exports;const Xp=Ac(Yp),Jp=e=>{var r,n;const t=(n=(r=import.meta)==null?void 0:r.env)==null?void 0:n.VITE_IMG_PROXY_BASE;return t&&typeof t=="string"&&t.length>0?`${t}${encodeURIComponent(e)}`:e},eg=async(e,t,r)=>{try{const n=await fetch(e,{headers:{Accept:"image/*"},mode:"cors"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await(await n.blob()).arrayBuffer(),l=r.folder("images");return l==null||l.file(t,a),`images/${t}`}catch(n){throw console.error("Image download failed:",e,n),n instanceof TypeError&&(n.message.includes("Failed to fetch")||n.message.includes("CORS")||n.message.includes("Access-Control-Allow-Origin"))?new Error("CORS_ERROR"):n}},tg=(e,t="")=>{const n=(e.split("/").pop()||"image.jpg").replace(/[^a-zA-Z0-9._-]/g,"_");return`${t}${n}`},Yl=(e,t,r,n="remote",i)=>{var E;const a="title"in e,l=a?e.title:e.name,o=a?e.release_date:e.first_air_date,c=t.crew.find(k=>k.job==="Director"),m=t.crew.filter(k=>k.job==="Writer"||k.job==="Screenplay"),y=t.cast.slice(0,6),u=e.id,g=a?e.imdb_id:(E=e.external_ids)==null?void 0:E.imdb_id,h=a?e.budget:void 0,N=a?e.revenue:void 0,p=u?a?`https://www.themoviedb.org/movie/${u}`:`https://www.themoviedb.org/tv/${u}`:void 0,w=k=>typeof k=="number"&&k>0?k.toLocaleString("fr-FR",{style:"currency",currency:"USD",maximumFractionDigits:0}):null,d=a?void 0:e.created_by,f=a?void 0:e.last_air_date,v=a?[]:e.episode_run_time||[],j=!a&&v.length?Math.round(v.reduce((k,$)=>k+$,0)/v.length):void 0,_=k=>typeof k=="number"&&k>0?`${Math.floor(k/60)}h${(k%60).toString().padStart(2,"0")}`:null,S=k=>n==="remote"?k:n==="embedded"?(i==null?void 0:i.get(k))||k:n==="local"&&(i==null?void 0:i.get(k))||k;return`<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${l}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #1e1b4b, #312e81, #3730a3); min-height: 100vh; color: white; }
        .container { max-width: 1200px; margin: 0 auto; background: linear-gradient(135deg, #1f2937, #374151, #1f2937); border-radius: 16px; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .header { position: relative; height: 420px; background-size: cover; }
        .header::before { content: ''; position: absolute; inset: 0; background: linear-gradient(to right, rgba(0,0,0,0.8), rgba(0,0,0,0.4), transparent); }
        .header::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to top, #1f2937, transparent); }
        .header-content { position: absolute; bottom: 0; left: 0; right: 0; padding: 32px; z-index: 10; }
        .header-flex { display: flex; align-items: end; gap: 24px; }
        .poster { width: 192px; height: 288px; border-radius: 12px; object-fit: cover; border: 4px solid rgba(255,255,255,0.2); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .title-info { flex: 1; padding-bottom: 16px; }
        .title { font-size: 48px; font-weight: bold; margin-bottom: 8px; }
        .original-title { font-size: 20px; color: #d1d5db; margin-bottom: 16px; }
        .meta-info { display: flex; align-items: center; gap: 24px; margin-bottom: 16px; }
        .rating { display: flex; align-items: center; color: #fbbf24; }
        .star { width: 20px; height: 20px; fill: currentColor; margin-right: 4px; }
        .genres { display: flex; flex-wrap: wrap; gap: 8px; }
        .genre { padding: 4px 12px; background: rgba(139, 92, 246, 0.3); color: #c4b5fd; border-radius: 9999px; font-size: 14px; border: 1px solid rgba(139, 92, 246, 0.3); }
        .content { padding: 32px; }
        .grid { display: grid; grid-template-columns: 2fr 1fr; gap: 32px; }
        .section { margin-bottom: 32px; }
        .section-title { font-size: 24px; font-weight: bold; margin-bottom: 16px; display: flex; align-items: center; }
        /*.icon { width: 24px; height: 24px; margin-right: 12px; color: #a78bfa; }*/
        .synopsis { font-size: 18px; line-height: 1.75; color: #d1d5db; }
        .tagline { color: #c4b5fd; font-style: italic; font-size: 18px; margin-top: 16px; border-left: 4px solid #8b5cf6; padding-left: 16px; }
        .cast-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .cast-member { background: rgba(31, 41, 55, 0.5); border-radius: 12px; padding: 16px; text-align: center; }
        .cast-photo { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin: 0 auto 12px; background: #374151; }
        .cast-name { font-weight: 600; font-size: 14px; }
        .cast-character { color: #9ca3af; font-size: 12px; margin-top: 4px; }
        .sidebar { display: flex; flex-direction: column; gap: 24px; }
        .icon { width: 24px; height: 24px; margin-right: 12px; color: #8b5cf6; padding: 0.25rem; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
        .info-card { background: rgba(31, 41, 55, 0.5); border-radius: 12px; padding: 0 24px 24px 24px; }
        .info-card h3 { font-size: 20px; font-weight: bold; margin-bottom: 16px; }
        .info-item { margin-bottom: 12px; }
        .info-label { color: #9ca3af; font-size: 14px; }
        .info-value { font-weight: 500; margin-top: 4px;}
        .info-value a { --tw-text-opacity: 1; color: rgb(96 165 250 / var(--tw-text-opacity, 1)); text-decoration: none; }
        .info-value a:hover { --tw-text-opacity: 1; color: rgb(147 197 253 / var(--tw-text-opacity, 1)); text-decoration: none; }
        .studio-item { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; }
        .studio-logo { width: 32px; height: 32px; object-fit: contain; background: white; border-radius: 4px; padding: 2px; }
        .info-note { color: #9ca3af; font-size: 14px; white-space: pre-line; }
        .specs-section { margin-bottom: 16px; }
        .specs-title { font-size: 18px; font-weight: 600; margin-bottom: 8px; }
        .video-title { color: #c4b5fd; }
        .audio-title { color: #86efac; }
        .subtitle-title { color: #fde047; }
        .spec-item { display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 8px; }
        .track { background: rgba(55, 65, 81, 0.5); border-radius: 8px; padding: 12px; margin-bottom: 8px; }
        .track-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
        .track-name { font-weight: 500; font-size: 14px; }
        .track-codec { color: #9ca3af; font-size: 12px; }
        .track-details { display: flex; justify-content: space-between; font-size: 12px; color: #9ca3af; }
        .text-gray-400 { --tw-text-opacity: 1; color: rgb(156 163 175 / var(--tw-text-opacity, 1));}
    </style>
</head>
<body>
    <div class="container">
        <div class="header" style="background-image: url('${S(`https://image.tmdb.org/t/p/w1280${e.backdrop_path}`)}')">
            <div class="header-content">
                <div class="header-flex">
                    <img
                        src="${S(`https://image.tmdb.org/t/p/original${e.poster_path}`)}"
                        alt="${l}"
                        class="poster"
                    />
                    <div class="title-info">
                        <h1 class="title">${l}</h1>
                        ${a&&e.original_title!==l||!a&&e.original_name!==l?`<h2 class="original-title">${a?e.original_title:e.original_name}</h2>`:""}
                        <div class="meta-info">
                            <div class="rating">
                                <svg class="star" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                                <span style="font-size: 18px; font-weight: 600;">${e.vote_average.toFixed(1)}</span>
                                <span style="color: #9ca3af; margin-left: 4px;">(${e.vote_count.toLocaleString()} votes)</span>
                            </div>
                            <div style="color: #d1d5db;"> <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 25 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar w-5 h-5 mr-2"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg> ${new Date(o).getFullYear()}</div>
                            ${a?`<div style="color: #d1d5db;"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 25 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock w-5 h-5 mr-2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> ${Math.floor(e.runtime/60)}h${(e.runtime%60).toString().padStart(2,"0")}</div>`:`<div style="color: #d1d5db;">${e.number_of_seasons} saison${e.number_of_seasons>1?"s":""}</div>`}
                        </div>
                        <div class="genres">
                            ${e.genres.map(k=>`<span class="genre">${k.name}</span>`).join("")}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content">
            <div class="grid">
                <div>
                    ${e.tagline?`
                    <div class="section" style="text-align: center; margin-bottom: 32px;">
                        <p style="color: #c4b5fd; font-style: italic; font-size: 24px; font-weight: 500; line-height: 1.75;">"${e.tagline}"</p>
                    </div>
                    `:""}
                    
                    <div class="section">
                        <h3 class="section-title">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M2 7h20v13H2z"/><path d="M17 2l-5 5-5-5"/></svg>
                             Synopsis
                        </h3>
                        <p class="synopsis">${e.overview||"Aucun synopsis disponible."}</p>
                    </div>
                    
                    ${y.length>0?`
                    <div class="section">
                        <h3 class="section-title">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                            Casting principal
                        </h3>
                        <div class="cast-grid">
                            ${y.map(k=>`
                                <div class="cast-member">
                                    ${k.profile_path?`<img src="${S(`https://image.tmdb.org/t/p/w185${k.profile_path}`)}" alt="${k.name}" class="cast-photo">`:'<div class="cast-photo"></div>'}
                                    <h4 class="cast-name">${k.name}</h4>
                                    <p class="cast-character">${k.character}</p>
                                </div>
                            `).join("")}
                        </div>
                    </div>
                    `:""}
                    ${r&&r.notes?`
                    <div class="section">
                      <h3 class="section-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/></svg>
                        Notes
                      </h3>
                      <p class="info-note">${r.notes}</p>
                    </div>
                    `:""}
                </div>
                
                <div class="sidebar">
                    ${r?`
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                           <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M7 3v18"/><path d="M3 7.5h4"/><path d="M3 12h18"/><path d="M3 16.5h4"/><path d="M17 3v18"/><path d="M17 7.5h4"/><path d="M17 16.5h4"/></svg>
                           Spécifications techniques
                        </h3>
                        
                        <div class="specs-section">
                            <h4 class="specs-title video-title">Vidéo</h4>
                            <div class="spec-item"><span class="text-gray-400">Qualité : </span><span>${r.video.quality}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Format : </span><span>${r.video.format}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Codec : </span><span>${r.video.codec}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Débit : </span><span>${r.video.bitrate} ${r.video.bitrateUnit}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Taille : </span><span>${r.video.size} GB</span></div>
                            ${r.source?`<div class="spec-item"><span class="text-gray-400">Source :</span><span>${r.source}</span></div>`:""}
                            
                        </div>
                        
                        <div class="specs-section">
                            <h4 class="specs-title audio-title">Audio</h4>
                            ${r.audio.map(k=>`
                                <div class="track">
                                    <div class="track-header">
                                        <span class="track-name">${k.language} ${k.isDefault?"(Défaut)":""}</span>
                                        <span class="track-codec">${k.codec}</span>
                                    </div>
                                    <div class="track-details">
                                        <span>${k.channels}</span>
                                        <span>${k.bitrate} ${k.bitrateUnit}</span>
                                    </div>
                                </div>
                            `).join("")}
                        </div>
                        
                        ${r.subtitles.length>0?`
                        <div class="specs-section">
                            <h4 class="specs-title subtitle-title">Sous-titres</h4>
                            ${r.subtitles.map(k=>`
                                <div class="track">
                                    <div class="track-header">
                                        <span class="track-name">${k.language} ${k.isDefault?"(Défaut)":""} ${k.isForced?"(Forcé)":""}</span>
                                        <span class="track-codec">${k.format}</span>
                                    </div>
                                    <div class="track-details">
                                        <span>${k.type==="embedded"?"Intégré":"Externe"}</span>
                                    </div>
                                </div>
                            `).join("")}
                        </div>
                        `:""}
                        <div class="spec-item"><span class="text-gray-400">Nombre de fichiers:</span><span>${r.numberOfFiles||(a?1:e.number_of_episodes||1)}</span></br></div>
                        ${r.releaseGroup?`<div class="spec-item"><span class="text-gray-400">${r.releaseGroup}</span></div>`:""}
                    </div>
                    `:""}
                    
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                            Infos
                        </h3>
                        ${c?`<div class="info-item"><div class="info-label">Réalisateur</div><div class="info-value">${c.name}</div></div>`:""}
                        ${m.length>0?`<div class="info-item"><div class="info-label">Scénariste${m.length>1?"s":""}</div><div class="info-value">${m.map(k=>k.name).join(", ")}</div></div>`:""}
                        ${!a&&d&&d.length?`<div class="info-item"><div class="info-label">Créateurs</div><div class="info-value">${d.map(k=>k.name).join(", ")}</div></div>`:""}
                        <div class="info-item"><div class="info-label">${a?"Date de sortie":"Première diffusion"}</div><div class="info-value">${new Date(o).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}</div></div>
                        ${!a&&f?`<div class="info-item"><div class="info-label">Dernière diffusion</div><div class="info-value">${new Date(f).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}</div></div>`:""}
                        ${a?`
    <div class="info-item"><div class="info-label">Durée</div><div class="info-value">${Math.floor(e.runtime/60)}h${(e.runtime%60).toString().padStart(2,"0")}</div></div>
  `:`
    <div class="info-item"><div class="info-label">Nombre de saisons</div><div class="info-value">${e.number_of_seasons}</div></div>
    <div class="info-item"><div class="info-label">Nombre d'épisodes</div><div class="info-value">${e.number_of_episodes}</div></div>
    ${j?`<div class="info-item"><div class="info-label">Durée moyenne</div><div class="info-value">${_(j)||j+" min"}</div></div>`:""}
  `}
                        ${a&&w(h)?`<div class="info-item"><div class="info-label">Budget</div><div class="info-value">${w(h)}</div></div>`:""}
                        ${a&&w(N)?`<div class="info-item"><div class="info-label">Recettes</div><div class="info-value">${w(N)}</div></div>`:""}
                        ${g?`<div class="info-item"><div class="info-label">IMDB ID</div><div class="info-value"><a href="https://www.imdb.com/title/${g}/" target="_blank" rel="noopener noreferrer">${g}</a></div></div>`:""}
                        ${u?`<div class="info-item"><div class="info-label">TMDB ID</div><div class="info-value"><a href="${p}" target="_blank" rel="noopener noreferrer">${u}</a></div></div>`:""}
                    </div>
                    
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><circle cx="12" cy="12" r="10"/> <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
                            Production
                        </h3>
                        ${e.production_companies&&e.production_companies.length>0?`
                        <div class="info-item">
                            <div class="info-label">Studios</div>
                            <div class="info-value">
                                ${e.production_companies.slice(0,3).map(k=>`
                                    <div class="studio-item">
                                        ${k.logo_path?`<img src="${S(`https://image.tmdb.org/t/p/w92${k.logo_path}`)}" alt="${k.name}" class="studio-logo">`:""}
                                        <span>${k.name}</span>
                                    </div>
                                `).join("")}
                            </div>
                        </div>
                        `:""}
                        ${e.production_countries&&e.production_countries.length>0?`
                        <div class="info-item">
                            <div class="info-label">Pays</div>
                            <div class="info-value">${e.production_countries.map(k=>k.name).join(", ")}</div>
                        </div>
                        `:""}
                        ${e.spoken_languages&&e.spoken_languages.length>0?`
                        <div class="info-item">
                            <div class="info-label">Langues</div>
                            <div class="info-value">${e.spoken_languages.map(k=>k.name).join(", ")}</div>
                        </div>
                        `:""}
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>`},lf=async(e,t,r)=>{console.log("Starting HTML export with images...");const i="title"in e?e.title:e.name,a=new Xp;a.folder("images");const l=new Map,o=[],c=(h,N)=>{if(!h)return;const p=tg(h,N);o.some(w=>w.url===h)||o.push({url:h,filename:p})};if(e.backdrop_path){const h=`https://image.tmdb.org/t/p/w1280${e.backdrop_path}`;c(h,"backdrop_")}if(e.poster_path){const h=`https://image.tmdb.org/t/p/original${e.poster_path}`;c(h,"poster_")}if(t.cast.slice(0,6).forEach((h,N)=>{if(h.profile_path){const p=`https://image.tmdb.org/t/p/w185${h.profile_path}`;c(p,`actor_${N+1}_`)}}),e.production_companies&&e.production_companies.slice(0,3).forEach((h,N)=>{if(h.logo_path){const p=`https://image.tmdb.org/t/p/w92${h.logo_path}`;c(p,`studio_${N+1}_`)}}),o.length>0){console.log("Testing CORS with first image...");try{if(!(await fetch(o[0].url,{method:"HEAD",mode:"cors"})).ok)throw new Error("Test fetch failed");console.log("CORS test passed, proceeding with download...")}catch(h){return console.log("CORS test failed:",h),{success:!1,error:"CORS_ERROR"}}}try{console.log(`Attempting to download ${o.length} images...`);for(const{url:h,filename:N}of o){console.log(`Downloading image: ${h}`);const p=Jp(h),w=await eg(p,N,a);l.set(h,w)}console.log("All images downloaded successfully")}catch(h){return console.error("Error during image download:",h),h instanceof Error&&h.message==="CORS_ERROR"?(console.log("CORS error detected, returning error status"),{success:!1,error:"CORS_ERROR"}):{success:!1,error:"DOWNLOAD_ERROR"}}console.log("Generating HTML with local paths...");const m=Yl(e,t,r,"local",l);a.file("index.html",m),console.log("Generating ZIP file...");const y=await a.generateAsync({type:"blob"}),u=URL.createObjectURL(y),g=document.createElement("a");return g.href=u,g.download=`${i.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_complete.zip`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(u),console.log("Export completed successfully"),{success:!0}},of=(e,t,r)=>{const n="title"in e,i=n?e.title:e.name,a=n?e.release_date:e.first_air_date;return`# ${i}

${e.poster_path?`![${i}](https://image.tmdb.org/t/p/w500${e.poster_path})`:""}

## Informations générales

- **Date de sortie:** ${a||"N/A"}
- **Note TMDB:** ${e.vote_average}/10
${n?`- **Durée:** ${e.runtime} min`:`- **Saisons:** ${e.number_of_seasons}`}
- **Genres:** ${e.genres.map(l=>l.name).join(", ")}

## Synopsis

${e.overview||"Aucun synopsis disponible."}

## Distribution

${t.cast.slice(0,10).map(l=>`- **${l.name}** - ${l.character}`).join(`
`)}

${r?`
## Spécifications Techniques

| Propriété | Valeur |
|-----------|--------|
| Qualité | ${r.video.quality} |
| Format | ${r.video.format} |
| Codec Vidéo | ${r.video.codec} |
| Taille | ${r.video.size} GB |
| Audio | ${r.audio.map(l=>`${l.language} ${l.codec} ${l.channels}`).join(", ")} |
| Sous-titres | ${r.subtitles.map(l=>`${l.language} (${l.format})`).join(", ")} |
${r.releaseGroup?`| Release | ${r.releaseGroup} |`:""}
| Nb de fichiers | ${r.numberOfFiles||(n?1:e.number_of_episodes||1)} |
${r.notes?`| Notes | ${r.notes} |`:""}
`:""}`},cf=(e,t,r)=>{const n="title"in e,i=n?e.title:e.name,a=n?e.release_date:e.first_air_date;return`${i}
${"=".repeat(i.length)}

INFORMATIONS GÉNÉRALES
Date de sortie: ${a||"N/A"}
Note TMDB: ${e.vote_average}/10
${n?`Durée: ${e.runtime} min`:`Saisons: ${e.number_of_seasons}`}
Genres: ${e.genres.map(l=>l.name).join(", ")}

SYNOPSIS
${e.overview||"Aucun synopsis disponible."}

DISTRIBUTION
${t.cast.slice(0,10).map(l=>`${l.name} - ${l.character}`).join(`
`)}

${r?`
SPÉCIFICATIONS TECHNIQUES
Qualité: ${r.video.quality}
Format: ${r.video.format}
Codec Vidéo: ${r.video.codec}
Taille: ${r.video.size} GB
Audio: ${r.audio.map(l=>`${l.language} ${l.codec} ${l.channels}`).join(", ")}
Sous-titres: ${r.subtitles.map(l=>`${l.language} (${l.format})`).join(", ")}
${r.releaseGroup?`Release: ${r.releaseGroup}`:""}
Nb de fichiers: ${r.numberOfFiles||(n?1:e.number_of_episodes||1)}
${r.notes?`Notes: ${r.notes}`:""}
`:""}`},Wr=(e,t,r)=>{const n=new Blob([e],{type:r}),i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)};function rg({style:e,title:t,year:r,director:n,actors:i,genres:a,rating:l,runtime:o,quality:c="1080p",format:m="MKV",codec:y="H.264"}){const u=g=>{const h=[],N=Math.floor(g),p=g-N>=.5;for(let d=0;d<N;d++)h.push(s.jsx(Gr,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},d));p&&h.push(s.jsx(Gr,{className:"w-3 h-3 fill-yellow-400/50 text-yellow-400"},"half"));const w=5-N-(p?1:0);for(let d=0;d<w;d++)h.push(s.jsx(Gr,{className:"w-3 h-3 text-gray-400"},`empty-${d}`));return h};switch(e){case 1:return s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-center text-xs",children:[s.jsx("div",{className:"text-red-400 font-bold text-lg mb-3",children:t}),s.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded mx-auto mb-3 flex items-center justify-center",children:s.jsx(kt,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{className:"space-y-1 text-left text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-semibold",children:"Réalisateur:"})," ",n]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-semibold",children:"Acteurs:"})," ",i.slice(0,3).join(", ")]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-semibold",children:"Genres:"})," ",a.slice(0,2).join(", ")]}),s.jsxs("div",{className:"flex items-center",children:[u(l)," ",s.jsx("span",{className:"ml-1",children:l.toFixed(1)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-semibold",children:"Qualité:"})," ",c]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-semibold",children:"Format:"})," ",m]})]})]});case 2:return s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:[s.jsx("div",{className:"text-white font-bold text-lg mb-2 text-center",children:t}),s.jsxs("div",{className:"text-gray-400 text-center mb-3",children:["(",r,")"]}),s.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded mx-auto mb-3 flex items-center justify-center",children:s.jsx(kt,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{className:"space-y-1 text-left text-gray-300",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"text-xs mr-1",children:"•"}),s.jsx("span",{className:"text-white font-semibold text-xs",children:"Réalisateur:"}),s.jsx("span",{className:"ml-1 text-xs",children:n})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"text-xs mr-1",children:"•"}),s.jsx("span",{className:"text-white font-semibold text-xs",children:"Genres:"}),s.jsx("span",{className:"ml-1 text-xs",children:a.slice(0,2).join(", ")})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"text-xs mr-1",children:"•"}),s.jsx("span",{className:"text-white font-semibold text-xs",children:"Casting:"})]}),s.jsx("div",{className:"ml-3 space-y-0.5",children:i.slice(0,2).map((g,h)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"text-xs mr-1",children:"•"}),s.jsx("span",{className:"text-xs",children:g})]},h))})]})]});case 3:return s.jsx("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:s.jsx("div",{className:"border border-gray-700 rounded p-3",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-12 h-18 bg-gray-700 rounded flex items-center justify-center flex-shrink-0",children:s.jsx(kt,{className:"w-4 h-4 text-gray-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-white font-bold text-lg",children:[t," ",s.jsxs("span",{className:"text-gray-400 text-sm",children:["• ",r]})]}),s.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:["(US) • ",a.slice(0,2).join(", ")," • ",o]}),s.jsx("div",{className:"border-t border-gray-700 my-2"}),s.jsx("div",{className:"italic text-gray-300 text-xs",children:"Un film à découvrir..."}),s.jsx("div",{className:"flex items-center mt-2",children:u(l)}),s.jsxs("div",{className:"mt-3 space-y-1 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Réalisateur:"})," ",n]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Acteurs:"})," ",i.slice(0,2).join(", ")]})]})]})]})})});case 4:return s.jsx("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:s.jsxs("div",{className:"border border-gray-700 rounded p-2",children:[s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"w-10 h-14 bg-gray-700 rounded flex items-center justify-center",children:s.jsx(kt,{className:"w-3 h-3 text-gray-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-white font-bold text-sm",children:t}),s.jsxs("div",{className:"text-gray-400 text-xs",children:[a.slice(0,2).join(", ")," - ",o]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"TMDB"}),u(l)]}),s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Réalisateur"}),s.jsx("span",{className:"text-white",children:n.split(" ")[0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Qualité"}),s.jsxs("span",{className:"text-white",children:[c," ",m]})]})]})]})]}),s.jsx("div",{className:"text-center text-gray-500 text-xs mt-2 border-t border-gray-700 pt-1",children:"Filmothèque"})]})});default:return null}}function Xl({isOpen:e,onClose:t,bbcode:r,title:n,onStyleChange:i,movieData:a,tvShowData:l,ebookData:o,credits:c}){const{t:m}=Fe(),[y,u]=te.useState(!1),[g,h]=te.useState(1),[N,p]=te.useState(r);if(Ue.useEffect(()=>{p(r)},[r]),Ue.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const w=async()=>{try{await navigator.clipboard.writeText(N),u(!0),setTimeout(()=>u(!1),2e3)}catch(_){console.error("Erreur lors de la copie:",_)}},d=()=>{const _=new Blob([N],{type:"text/plain"}),S=URL.createObjectURL(_),E=document.createElement("a");E.href=S,E.download=`${n.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_bbcode.txt`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(S)},f=_=>{h(_),i&&i(_)},j=(()=>{if(a&&c){const _=c.crew.find(E=>E.job==="Director"),S=c.cast.slice(0,6);return{title:a.title,year:new Date(a.release_date).getFullYear().toString(),director:(_==null?void 0:_.name)||"N/A",actors:S.map(E=>E.name),genres:a.genres.map(E=>E.name),rating:a.vote_average/2,runtime:a.runtime?`${Math.floor(a.runtime/60)}h${(a.runtime%60).toString().padStart(2,"0")}`:"N/A"}}else if(l&&c){const _=c.crew.filter(k=>k.job==="Creator"||k.job==="Executive Producer"),S=c.cast.slice(0,6),E=l.episode_run_time.length>0?Math.round(l.episode_run_time.reduce((k,$)=>k+$,0)/l.episode_run_time.length):0;return{title:l.name,year:new Date(l.first_air_date).getFullYear().toString(),director:_.slice(0,2).map(k=>k.name).join(", ")||"N/A",actors:S.map(k=>k.name),genres:l.genres.map(k=>k.name),rating:l.vote_average/2,runtime:E>0?`${E} min`:"N/A"}}else if(o){const _=o.volumeInfo.authors||[];return{title:o.volumeInfo.title,year:new Date(o.volumeInfo.publishedDate).getFullYear().toString(),director:_.join(", "),actors:[],genres:o.volumeInfo.categories||[],rating:o.volumeInfo.averageRating||0,runtime:o.volumeInfo.pageCount?`${o.volumeInfo.pageCount} pages`:"N/A"}}return null})();return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full min-h-[90vh] max-h-none shadow-2xl border border-gray-700 flex flex-col mt-20 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ci,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:m("export.title")})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Bt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 p-6 overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(sp,{className:"w-5 h-5 text-violet-400 mr-2"}),s.jsx("span",{className:"text-white font-medium",children:m("export.style")})]}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(_=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>f(_),className:`w-full p-3 rounded-lg border-2 transition-all ${g===_?"border-violet-500 bg-violet-500/20 text-white":"border-gray-600 bg-gray-700/50 text-gray-300 hover:border-gray-500"}`,children:[s.jsxs("div",{className:"text-sm font-medium",children:["Style ",_]}),s.jsx("div",{className:"text-xs mt-1 opacity-75",children:o?_===1?"Complet avec images":_===2?"Minimaliste":"Moderne":_===1?"Classique":_===2?"Minimaliste":"Moderne (eMux)"})]}),j&&s.jsx("div",{className:`border-2 rounded-lg transition-all ${g===_?"border-violet-500/50":"border-gray-600/30"}`,children:s.jsx(rg,{style:_,title:j.title,year:j.year,director:j.director,actors:j.actors,genres:j.genres,rating:j.rating,runtime:j.runtime})})]},_))})]}),s.jsxs("p",{className:"text-gray-300 mb-4",children:["Voici le BBCode généré pour ",s.jsx("strong",{children:n}),". Il vous suffit de le copier et le coller."]}),s.jsxs("div",{className:"flex space-x-3 mb-4",children:[s.jsxs("button",{onClick:w,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${y?"bg-green-600 text-white":"bg-violet-600 hover:bg-violet-500 text-white"}`,children:[y?s.jsx(Gl,{className:"w-4 h-4"}):s.jsx(Xm,{className:"w-4 h-4"}),s.jsx("span",{children:y?"Copié !":m("export.copy")})]}),s.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:[s.jsx(tn,{className:"w-4 h-4"}),s.jsx("span",{children:m("export.download")})]})]})]}),s.jsxs("div",{className:"flex-1 bg-gray-900 rounded-xl border border-gray-600 overflow-hidden",children:[s.jsx("div",{className:"bg-gray-700 px-4 py-2 border-b border-gray-600",children:s.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"BBCode généré (modifiable)"})}),s.jsx("textarea",{value:N,onChange:_=>p(_.target.value),className:"w-full h-full p-4 bg-transparent text-gray-300 text-sm font-mono leading-relaxed resize-none border-none outline-none",style:{minHeight:"400px"},placeholder:"Votre BBCode apparaîtra ici..."})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-700",children:s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:s.jsxs("p",{className:"text-blue-300 text-sm",children:[s.jsx("strong",{children:"Attention :"})," Le BBCode est capricieux et peut ne pas fonctionner correctement selon la destination, il peut falloir apporter des modifications."]})})})]})})}function uf({isOpen:e,onClose:t,onSelect:r,movieId:n,tvShowId:i,currentPoster:a,mediaType:l}){const{t:o}=Fe(),[c,m]=te.useState([]),[y,u]=te.useState(!1),[g,h]=te.useState(a);te.useEffect(()=>{e&&(n||i)&&N()},[e,n,i]);const N=async()=>{u(!0);try{let d;if(l==="movie"&&n?d=await me.getMovieImages(n):l==="tv"&&i&&(d=await me.getTVImages(i)),console.log("TMDB Images Response:",d),d&&d.posters){const f=d.posters.sort((v,j)=>{const _=(v.vote_average||0)*(v.vote_count||0),S=(j.vote_average||0)*(j.vote_count||0);return S!==_?S-_:j.height-v.height});m(f),console.log("Sorted Posters:",f)}else console.log("No posters found in response")}catch(d){console.error("Erreur lors du chargement des affiches:",d)}u(!1)},p=()=>{g&&(r(g),t())},w=d=>{h(d)};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-6xl w-full max-h-[90vh] shadow-2xl border border-gray-700 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nr,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:o("poster.choose")})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Bt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 p-6 overflow-hidden",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:o("poster.description")}),y?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-500"}),s.jsx("span",{className:"text-white text-lg ml-4",children:o("poster.loading")})]}):s.jsxs("div",{className:"overflow-auto max-h-[60vh]",children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:c.map((d,f)=>s.jsxs("div",{className:`relative cursor-pointer rounded-lg overflow-hidden transition-all duration-200 hover:scale-105 ${g===d.file_path?"ring-4 ring-violet-500 shadow-lg shadow-violet-500/25":"hover:ring-2 hover:ring-gray-400"}`,onClick:()=>w(d.file_path),children:[s.jsx("div",{className:"aspect-[2/3] bg-gray-700",children:s.jsx("img",{src:me.getImageUrl(d.file_path,"w342"),alt:`Affiche ${f+1}`,className:"w-full h-full object-cover",loading:"lazy"})}),g===d.file_path&&s.jsx("div",{className:"absolute inset-0 bg-violet-500/20 flex items-center justify-center",children:s.jsx("div",{className:"bg-violet-500 rounded-full p-2",children:s.jsx(Gl,{className:"w-6 h-6 text-white"})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:s.jsxs("div",{className:"text-white text-xs",children:[s.jsxs("div",{children:[d.width,"×",d.height]}),d.vote_count>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400",children:"★"}),s.jsx("span",{className:"ml-1",children:d.vote_average.toFixed(1)})]})]})})]},d.file_path))}),c.length===0&&!y&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nr,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:o("poster.none")}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Vérifiez la console pour plus d'informations de débogage"})]})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-700",children:s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:o("poster.close")}),s.jsx("button",{onClick:p,disabled:!g,className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:o("poster.use")})]})})]})}):null}function df({isOpen:e,onClose:t,onExportSimple:r,onExportComplete:n,title:i}){const{t:a}=Fe(),[l,o]=te.useState(!1),[c,m]=te.useState(null),[y,u]=te.useState(!1),[g,h]=te.useState(""),[N,p]=te.useState("");if(te.useEffect(()=>(e?(document.body.style.overflow="hidden",u(!1),h(""),p(""),o(!1),m(null)):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),!e)return null;const w=async v=>{o(!0),m(v),u(!1),h(""),console.log(`Starting ${v} export...`);try{if(v==="simple")console.log("Performing simple export..."),r(),o(!1),m(null),t();else{console.log("Performing complete export...");const j=await n();console.log("Export result:",j),(!j||!j.success)&&(console.log("Export failed, showing error modal"),(j==null?void 0:j.error)==="CORS_ERROR"?(h("Erreur CORS détectée"),p(`Les images n'ont pas pu être téléchargées.

Solutions :
• Utilisez l'export HTML simple (images distantes)
• Ouvrez les DevTools (appuyez sur F12) puis réessayez`)):(h("Erreur d'export"),p(`Une erreur s'est produite lors de l'export: ${(j==null?void 0:j.error)||"Erreur inconnue"}. Veuillez réessayer.`)),u(!0)),o(!1),m(null),j!=null&&j.success&&(console.log("Export successful, closing modal"),t())}}catch(j){console.error("Erreur lors de l'export:",j),h("Erreur inattendue"),p(`Une erreur inattendue s'est produite: ${j instanceof Error?j.message:"Erreur inconnue"}. Veuillez réessayer.`),o(!1),m(null),u(!0)}},d=()=>{u(!1),h(""),p("")},f=y?s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-lg w-full shadow-2xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gm,{className:"w-6 h-6 text-red-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:g})]}),s.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Bt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-red-300 text-sm leading-relaxed whitespace-pre-line",children:N})}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:d,className:"px-6 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Fermer"}),s.jsx("button",{onClick:()=>{d(),w("simple")},className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:"Essayer l'export simple"})]})]})]})}):null;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(tn,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Export HTML"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",disabled:l,children:s.jsx(Bt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("p",{className:"text-gray-300 mb-6",children:["Choisissez le type d'export HTML pour ",s.jsx("strong",{children:i})," :"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:()=>w("simple"),disabled:l,className:"w-full p-4 bg-gray-700/50 hover:bg-gray-600/50 disabled:bg-gray-700/30 border border-gray-600 hover:border-gray-500 disabled:border-gray-600 rounded-xl transition-all text-left group",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg group-hover:bg-blue-500/30 transition-colors",children:s.jsx(nn,{className:"w-6 h-6 text-blue-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:"HTML Simple"}),s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Export rapide avec images distantes (URLs)"}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Gl,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:"Fichier unique, léger"})]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[s.jsx(nn,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:"Nécessite une connexion internet"})]})]}),l&&c==="simple"&&s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})]})}),s.jsx("button",{onClick:()=>w("complete"),disabled:l,className:"w-full p-4 bg-gray-700/50 hover:bg-gray-600/50 disabled:bg-gray-700/30 border border-gray-600 hover:border-gray-500 disabled:border-gray-600 rounded-xl transition-all text-left group",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg group-hover:bg-green-500/30 transition-colors",children:s.jsx(Qn,{className:"w-6 h-6 text-green-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:"HTML Complet"}),s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Export avec toutes les images téléchargées"}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Nr,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:"Archive ZIP avec HTML + images"})]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[s.jsx(Qn,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:"Fonctionne hors ligne"})]})]}),l&&c==="complete"&&s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-500"})]})})]}),l&&s.jsx("div",{className:"mt-6 p-4 bg-violet-500/10 border border-violet-500/30 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-violet-500 mr-3"}),s.jsx("span",{className:"text-violet-300 text-sm",children:c==="simple"?"Génération du fichier HTML...":"Test des permissions et téléchargement des images..."})]})})]})]})}),f]})}function xc({movie:e,credits:t,torrentSpecs:r,isPreview:n=!1,selectedPoster:i,onPosterChange:a}){const{t:l}=Fe(),[o,c]=Ue.useState(!1),[m,y]=Ue.useState(1),[u,g]=Ue.useState(!1),[h,N]=Ue.useState(e.poster_path),[p,w]=Ue.useState(null),[d,f]=Ue.useState(!1),v=i!==void 0?i:h,j=t.crew.find(P=>P.job==="Director"),_=t.crew.filter(P=>P.job==="Writer"||P.job==="Screenplay"),S=t.cast.slice(0,6),E=P=>{if(!P)return"N/A";const A=Math.floor(P/60),I=P%60;return`${A}h${I.toString().padStart(2,"0")}`},k=P=>P===0?"N/A":P>=1e6?`$${(P/1e6).toFixed(0)}M`:`$${P.toLocaleString()}`,$=()=>{c(!0)},U=()=>{const P=Yl(ne,t,r);Wr(P,`${e.title}.html`,"text/html")},Z=async()=>{try{console.log("MovieCard: Starting complete export...");const P=await lf(ne,t,r);return console.log("MovieCard: Export result:",P),P}catch(P){return console.error("MovieCard: Erreur dans exportHTMLComplete:",P),{success:!1,error:"UNEXPECTED_ERROR"}}},T=()=>{const P=of(ne,t,r);Wr(P,`${e.title}.md`,"text/markdown")},L=()=>{const P=cf(ne,t,r);Wr(P,`${e.title}.txt`,"text/plain")},b=P=>{y(P)},G=P=>{a?a(P):N(P)},ne={...e,poster_path:v},q=qp(ne,t,r,m,p);return Ue.useEffect(()=>{(async()=>{try{const A=await me.getTrailerUrl(e.id,"movie");w(A)}catch(A){console.error("Erreur lors de la récupération de la bande-annonce:",A)}})()},[e.id]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"max-w-6xl mx-auto bg-gradient-to-br from-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"relative h-96 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover",style:{backgroundImage:`url(${me.getBackdropUrl(e.backdrop_path,"w1280")})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 pt-12",children:s.jsxs("div",{className:"flex items-end space-x-6",children:[s.jsx("div",{className:"flex-shrink-0 w-48 h-72 rounded-xl overflow-hidden shadow-2xl border-4 border-white/20",children:s.jsx("img",{src:me.getImageUrl(v,"w500"),alt:e.title,className:"w-full h-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>!n&&g(!0)})}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:e.title}),e.original_title!==e.title&&s.jsx("h2",{className:"text-xl text-gray-300 mb-4",children:e.original_title}),s.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[s.jsxs("div",{className:"flex items-center text-yellow-400",children:[s.jsx(Gr,{className:"w-5 h-5 mr-1 fill-current"}),s.jsx("span",{className:"text-lg font-semibold",children:e.vote_average.toFixed(1)}),s.jsxs("span",{className:"text-gray-400 ml-1",children:["(",e.vote_count.toLocaleString()," votes)"]})]}),s.jsxs("div",{className:"flex items-center text-gray-300",children:[s.jsx(on,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:new Date(e.release_date).getFullYear()})]}),s.jsxs("div",{className:"flex items-center text-gray-300",children:[s.jsx(Wd,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:E(e.runtime)})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map(P=>s.jsx("span",{className:"px-3 py-1 bg-violet-600/30 text-violet-300 rounded-full text-sm border border-violet-500/30",children:P.name},P.id))})]})]})}),!n&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:l("card.export.actions")}),s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[s.jsx(Nr,{className:"w-4 h-4"}),s.jsx("span",{children:l("card.change.poster")})]}),s.jsxs("div",{className:"border-t border-white/10 pt-3",children:[s.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:l("card.export.formats")}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Ci,{className:"w-3 h-3"}),s.jsx("span",{children:"HTML"})]}),s.jsxs("button",{onClick:T,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(rn,{className:"w-3 h-3"}),s.jsx("span",{children:"MD"})]}),s.jsxs("button",{onClick:L,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Wl,{className:"w-3 h-3"}),s.jsx("span",{children:"TXT"})]}),s.jsxs("button",{onClick:$,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(tn,{className:"w-3 h-3"}),s.jsx("span",{children:"BB"})]})]})]})]})})})]}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_404px] gap-8",children:[s.jsxs("div",{className:"space-y-8",children:[e.tagline&&e.tagline.trim()&&s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-violet-300 italic text-2xl font-medium leading-relaxed",children:['"',e.tagline,'"']})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(Wm,{className:"w-6 h-6 mr-3 text-violet-400"}),"Synopsis"]}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:e.overview||"Aucun synopsis disponible."})]}),S.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(jr,{className:"w-6 h-6 mr-3 text-violet-400"}),l("card.main.cast")]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:S.map(P=>s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gray-700",children:P.profile_path?s.jsx("img",{src:me.getImageUrl(P.profile_path,"w185"),alt:P.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(jr,{className:"w-8 h-8 text-gray-500"})})}),s.jsx("h4",{className:"text-white font-semibold text-sm",children:P.name}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:P.character})]},P.id))})]}),r&&r.notes&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(Zd,{className:"w-6 h-6 mr-3 text-violet-400"}),"Notes"]}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-line",children:r.notes})]})]}),s.jsxs("div",{className:"space-y-6",children:[r&&!n&&s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(Qn,{className:"w-5 h-5 mr-2"}),l("card.torrent.specs")]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-violet-300 mb-2",children:l("specs.video")}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[l("specs.quality"),":"]}),s.jsx("span",{className:"text-white font-medium",children:r.video.quality})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Format:"}),s.jsx("span",{className:"text-white font-medium",children:r.video.format})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Codec:"}),s.jsx("span",{className:"text-white font-medium",children:r.video.codec})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[l("specs.bitrate.label"),":"]}),s.jsxs("span",{className:"text-white font-medium",children:[r.video.bitrate," ",r.video.bitrateUnit]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Taille:"}),s.jsxs("span",{className:"text-white font-medium",children:[r.video.size," GB"]})]}),r.source&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Source:"}),s.jsx("span",{className:"text-white font-medium",children:r.source})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-300 mb-2",children:l("specs.audio")}),s.jsx("div",{className:"space-y-2",children:r.audio.map((P,A)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-white font-medium text-sm",children:[P.language," ",P.isDefault&&`(${l("specs.default")})`]}),s.jsx("span",{className:"text-gray-400 text-xs",children:P.codec})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[s.jsx("span",{children:P.channels}),s.jsxs("span",{children:[P.bitrate," ",P.bitrateUnit]})]})]},P.id))})]}),r.subtitles.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-yellow-300 mb-2",children:l("specs.subtitles")}),s.jsx("div",{className:"space-y-2",children:r.subtitles.map((P,A)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-white font-medium text-sm",children:[P.language," ",P.isDefault&&`(${l("specs.default")})`," ",P.isForced&&`(${l("specs.forced")})`]}),s.jsx("span",{className:"text-gray-400 text-xs",children:P.format})]}),s.jsx("div",{className:"text-xs text-gray-400",children:P.type==="embedded"?"Intégré":"Externe"})]},P.id))})]}),r.releaseGroup&&s.jsx("div",{children:s.jsx("div",{className:"flex justify-between mb-2",children:s.jsx("span",{className:"text-gray-400  font-medium text-sm",children:r.releaseGroup})})})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(nn,{className:"w-5 h-5 mr-2"}),l("card.production")]}),s.jsxs("div",{className:"space-y-3",children:[e.production_companies.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Studios"}),s.jsx("div",{className:"mt-2 space-y-2",children:e.production_companies.slice(0,3).map(P=>s.jsxs("div",{className:"flex items-center space-x-2",children:[P.logo_path&&s.jsx("img",{src:me.getImageUrl(P.logo_path,"w92"),alt:P.name,className:"w-8 h-8 object-contain bg-white rounded p-1"}),s.jsx("span",{className:"text-white text-sm",children:P.name})]},P.id))})]}),e.production_countries.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Pays"}),s.jsx("p",{className:"text-white font-medium",children:e.production_countries.map(P=>P.name).join(", ")})]}),e.spoken_languages.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Langues"}),s.jsx("p",{className:"text-white font-medium",children:e.spoken_languages.map(P=>P.name).join(", ")})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(Kd,{className:"w-5 h-5 mr-2"}),l("card.technical")]}),s.jsxs("div",{className:"space-y-3",children:[j&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Réalisateur"}),s.jsx("p",{className:"text-white font-medium",children:j.name})]}),_.length>0&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400 text-sm",children:["Scénariste",_.length>1?"s":""]}),s.jsx("p",{className:"text-white font-medium",children:_.map(P=>P.name).join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Date de sortie"}),s.jsx("p",{className:"text-white font-medium",children:new Date(e.release_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Durée"}),s.jsx("p",{className:"text-white font-medium",children:E(e.runtime)})]}),e.budget>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Budget"}),s.jsx("p",{className:"text-white font-medium",children:k(e.budget)})]}),e.revenue>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Recettes"}),s.jsx("p",{className:"text-white font-medium",children:k(e.revenue)})]}),e.imdb_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"IMDB ID"}),s.jsx("p",{className:"text-white font-medium",children:s.jsx("a",{href:`https://www.imdb.com/title/${e.imdb_id}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.imdb_id})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"TMDB ID"}),s.jsx("p",{className:"text-white font-medium",children:s.jsx("a",{href:`https://www.themoviedb.org/movie/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.id})})]})]})]})]})]})}),s.jsx("div",{className:"px-8 pb-6",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 pt-4 border-t border-gray-700/50",children:[s.jsx("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"TMDB Logo",className:"w-6 h-6"}),s.jsxs("p",{className:"text-gray-400 text-xs",children:[l("card.data.provided")," ",s.jsx("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"TMDB"})]})]})})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsx(Xl,{isOpen:o,onClose:()=>c(!1),bbcode:q,title:e.title,onStyleChange:b,movieData:ne,credits:t}),s.jsx(uf,{isOpen:u,onClose:()=>g(!1),onSelect:G,movieId:e.id,currentPoster:v,mediaType:"movie"}),s.jsx(df,{isOpen:d,onClose:()=>f(!1),onExportSimple:U,onExportComplete:Z,title:e.title})]})]})}function vc({tvShow:e,credits:t,torrentSpecs:r,isPreview:n=!1,selectedPoster:i,onPosterChange:a,onSeasonSelect:l}){const{t:o}=Fe(),[c,m]=Ue.useState(!1),[y,u]=Ue.useState(1),[g,h]=Ue.useState(!1),[N,p]=Ue.useState(e.poster_path),[w,d]=Ue.useState(null),[f,v]=Ue.useState(!1),j=i!==void 0?i:N,_=t.crew.filter(A=>A.job==="Creator"||A.job==="Executive Producer"),S=t.cast.slice(0,6),E=A=>!A||A.length===0?"N/A":`${Math.round(A.reduce((M,z)=>M+z,0)/A.length)} min`,k=A=>({"Returning Series":{text:"En cours",color:"text-green-400"},Ended:{text:"Terminée",color:"text-red-400"},Canceled:{text:"Annulée",color:"text-red-400"},"In Production":{text:"En production",color:"text-blue-400"},Planned:{text:"Planifiée",color:"text-yellow-400"}})[A]||{text:A,color:"text-gray-400"},$=()=>{m(!0)},U=()=>{const A=Yl(ne,t,r);Wr(A,`${e.name}.html`,"text/html")},Z=async()=>{try{console.log("TVShowCard: Starting complete export...");const A=await lf(ne,t,r);return console.log("TVShowCard: Export result:",A),A}catch(A){return console.error("TVShowCard: Erreur dans exportHTMLComplete:",A),{success:!1,error:"UNEXPECTED_ERROR"}}},T=()=>{const A=of(ne,t,r);Wr(A,`${e.name}.md`,"text/markdown")},L=()=>{const A=cf(ne,t,r);Wr(A,`${e.name}.txt`,"text/plain")},b=A=>{u(A)},G=A=>{a?a(A):p(A)},ne={...e,poster_path:j},q=Kp(ne,t,r,y,w);Ue.useEffect(()=>{(async()=>{try{const I=await me.getTrailerUrl(e.id,"tv");d(I)}catch(I){console.error("Erreur lors de la récupération de la bande-annonce:",I)}})()},[e.id]);const P=k(e.status);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"max-w-6xl mx-auto bg-gradient-to-br from-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"relative h-96 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover",style:{backgroundImage:`url(${me.getBackdropUrl(e.backdrop_path,"w1280")})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 pt-12",children:s.jsxs("div",{className:"flex items-end space-x-6",children:[s.jsx("div",{className:"flex-shrink-0 w-48 h-72 rounded-xl overflow-hidden shadow-2xl border-4 border-white/20",children:s.jsx("img",{src:me.getImageUrl(j,"w500"),alt:e.name,className:"w-full h-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>!n&&h(!0)})}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:e.name}),e.original_name!==e.name&&s.jsx("h2",{className:"text-xl text-gray-300 mb-4",children:e.original_name}),s.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[s.jsxs("div",{className:"flex items-center text-yellow-400",children:[s.jsx(Gr,{className:"w-5 h-5 mr-1 fill-current"}),s.jsx("span",{className:"text-lg font-semibold",children:e.vote_average.toFixed(1)}),s.jsxs("span",{className:"text-gray-400 ml-1",children:["(",e.vote_count.toLocaleString()," votes)"]})]}),s.jsxs("div",{className:"flex items-center text-gray-300",children:[s.jsx(on,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:new Date(e.first_air_date).getFullYear()}),e.last_air_date&&e.status==="Ended"&&s.jsxs("span",{children:[" - ",new Date(e.last_air_date).getFullYear()]})]}),s.jsxs("div",{className:"flex items-center text-gray-300",children:[s.jsx(Wd,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:E(e.episode_run_time)})]}),s.jsxs("div",{className:`flex items-center ${P.color}`,children:[s.jsx($t,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:P.text})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map(A=>s.jsx("span",{className:"px-3 py-1 bg-violet-600/30 text-violet-300 rounded-full text-sm border border-violet-500/30",children:A.name},A.id))})]})]})}),!n&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:o("card.export.actions")}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[s.jsx(Nr,{className:"w-4 h-4"}),s.jsx("span",{children:o("card.change.poster")})]}),s.jsxs("div",{className:"border-t border-white/10 pt-3",children:[s.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:o("card.export.formats")}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>v(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Ci,{className:"w-3 h-3"}),s.jsx("span",{children:"HTML"})]}),s.jsxs("button",{onClick:T,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(rn,{className:"w-3 h-3"}),s.jsx("span",{children:"MD"})]}),s.jsxs("button",{onClick:L,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Wl,{className:"w-3 h-3"}),s.jsx("span",{children:"TXT"})]}),s.jsxs("button",{onClick:$,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(tn,{className:"w-3 h-3"}),s.jsx("span",{children:"BB"})]})]})]})]})})})]}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_404px] gap-8",children:[s.jsxs("div",{className:"space-y-8",children:[e.tagline&&e.tagline.trim()&&s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-violet-300 italic text-2xl font-medium leading-relaxed",children:['"',e.tagline,'"']})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx($t,{className:"w-6 h-6 mr-3 text-violet-400"}),"Synopsis"]}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:e.overview||"Aucun synopsis disponible."})]}),S.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(jr,{className:"w-6 h-6 mr-3 text-violet-400"}),"Casting principal"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:S.map(A=>s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gray-700",children:A.profile_path?s.jsx("img",{src:me.getImageUrl(A.profile_path,"w185"),alt:A.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(jr,{className:"w-8 h-8 text-gray-500"})})}),s.jsx("h4",{className:"text-white font-semibold text-sm",children:A.name}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:A.character})]},A.id))})]}),e.seasons&&e.seasons.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["Saisons",n&&l&&s.jsx("span",{className:"text-sm text-violet-400 ml-2 font-normal",children:"(Cliquez pour sélectionner)"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.seasons.filter(A=>A.season_number>0).map(A=>s.jsxs("div",{className:`bg-gray-800/50 rounded-xl p-4 flex space-x-4 ${n&&l?"cursor-pointer hover:bg-gray-700/50 hover:border-violet-500 border border-transparent transition-all duration-200":""}`,onClick:()=>n&&l&&l(A.season_number),children:[s.jsx("div",{className:"w-16 h-24 flex-shrink-0 rounded overflow-hidden bg-gray-700",children:A.poster_path?s.jsx("img",{src:me.getImageUrl(A.poster_path,"w154"),alt:A.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx($t,{className:"w-6 h-6 text-gray-500"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-white font-semibold",children:A.name}),s.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[A.episode_count," épisode",A.episode_count>1?"s":""]}),A.air_date&&s.jsx("p",{className:"text-gray-400 text-sm",children:new Date(A.air_date).getFullYear()})]})]},A.id))})]}),r&&r.notes&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(Zd,{className:"w-6 h-6 mr-3 text-violet-400"}),"Notes"]}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-line",children:r.notes})]})]}),s.jsxs("div",{className:"space-y-6",children:[r&&!n&&s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(Qn,{className:"w-5 h-5 mr-2"}),o("card.torrent.specs")]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-violet-300 mb-2",children:"Vidéo"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Qualité:"}),s.jsx("span",{className:"text-white font-medium",children:r.video.quality})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Format:"}),s.jsx("span",{className:"text-white font-medium",children:r.video.format})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Codec:"}),s.jsx("span",{className:"text-white font-medium",children:r.video.codec})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Débit:"}),s.jsxs("span",{className:"text-white font-medium",children:[r.video.bitrate," ",r.video.bitrateUnit]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Taille:"}),s.jsxs("span",{className:"text-white font-medium",children:[r.video.size," GB"]})]}),r.source&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Source:"}),s.jsx("span",{className:"text-white font-medium",children:r.source})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-300 mb-2",children:"Audio"}),s.jsx("div",{className:"space-y-2",children:r.audio.map((A,I)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-white font-medium text-sm",children:[A.language," ",A.isDefault&&"(Défaut)"]}),s.jsx("span",{className:"text-gray-400 text-xs",children:A.codec})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[s.jsx("span",{children:A.channels}),s.jsxs("span",{children:[A.bitrate," ",A.bitrateUnit]})]})]},A.id))})]}),r.subtitles.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-yellow-300 mb-2",children:"Sous-titres"}),s.jsx("div",{className:"space-y-2",children:r.subtitles.map((A,I)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-white font-medium text-sm",children:[A.language," ",A.isDefault&&"(Défaut)"," ",A.isForced&&"(Forcé)"]}),s.jsx("span",{className:"text-gray-400 text-xs",children:A.format})]}),s.jsx("div",{className:"text-xs text-gray-400",children:A.type==="embedded"?"Intégré":"Externe"})]},A.id))})]}),(r.releaseGroup||r.notes)&&s.jsx("div",{children:r.releaseGroup&&s.jsx("div",{className:"flex justify-between mb-2",children:s.jsx("span",{className:"text-gray-400  font-medium text-sm",children:r.releaseGroup})})})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(Kd,{className:"w-5 h-5 mr-2"}),"Informations"]}),s.jsxs("div",{className:"space-y-3",children:[_.length>0&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400 text-sm",children:["Créateur",_.length>1?"s":""]}),s.jsx("p",{className:"text-white font-medium",children:_.slice(0,2).map(A=>A.name).join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Première diffusion"}),s.jsx("p",{className:"text-white font-medium",children:new Date(e.first_air_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),e.last_air_date&&e.status==="Ended"&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Dernière diffusion"}),s.jsx("p",{className:"text-white font-medium",children:new Date(e.last_air_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Statut"}),s.jsx("p",{className:`font-medium ${P.color}`,children:P.text})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Nombre de saisons"}),s.jsx("p",{className:"text-white font-medium",children:e.number_of_seasons})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Nombre d'épisodes"}),s.jsx("p",{className:"text-white font-medium",children:e.number_of_episodes})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Durée moyenne"}),s.jsx("p",{className:"text-white font-medium",children:E(e.episode_run_time)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"TMDB ID"}),s.jsx("p",{className:"text-white font-medium",children:s.jsx("a",{href:`https://www.themoviedb.org/tv/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.id})})]})]})]}),e.networks.length>0&&s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Diffuseurs"}),s.jsx("div",{className:"space-y-3",children:e.networks.map(A=>s.jsxs("div",{className:"flex items-center space-x-3",children:[A.logo_path&&s.jsx("img",{src:me.getImageUrl(A.logo_path,"w92"),alt:A.name,className:"w-12 h-8 object-contain bg-white rounded p-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:A.name}),s.jsx("p",{className:"text-gray-400 text-sm",children:A.origin_country})]})]},A.id))})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(nn,{className:"w-5 h-5 mr-2"}),"Production"]}),s.jsxs("div",{className:"space-y-3",children:[e.production_companies.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Studios"}),s.jsx("div",{className:"mt-2 space-y-2",children:e.production_companies.slice(0,3).map(A=>s.jsxs("div",{className:"flex items-center space-x-2",children:[A.logo_path&&s.jsx("img",{src:me.getImageUrl(A.logo_path,"w92"),alt:A.name,className:"w-8 h-8 object-contain bg-white rounded p-1"}),s.jsx("span",{className:"text-white text-sm",children:A.name})]},A.id))})]}),e.production_countries.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Pays"}),s.jsx("p",{className:"text-white font-medium",children:e.production_countries.map(A=>A.name).join(", ")})]}),e.spoken_languages.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Langues"}),s.jsx("p",{className:"text-white font-medium",children:e.spoken_languages.map(A=>A.name).join(", ")})]})]})]})]})]})}),s.jsx("div",{className:"px-8 pb-6",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 pt-4 border-t border-gray-700/50",children:[s.jsx("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"TMDB Logo",className:"w-6 h-6"}),s.jsxs("p",{className:"text-gray-400 text-xs",children:["Données fournies par"," ",s.jsx("a",{href:"https://www.themoviedb.org//",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"TMDB"})]})]})})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsx(Xl,{isOpen:c,onClose:()=>m(!1),bbcode:q,title:e.name,onStyleChange:b,tvShowData:ne,credits:t}),s.jsx(uf,{isOpen:g,onClose:()=>h(!1),onSelect:G,tvShowId:e.id,currentPoster:j,mediaType:"tv"}),s.jsx(df,{isOpen:f,onClose:()=>v(!1),onExportSimple:U,onExportComplete:Z,title:e.name})]})]})}const yc=["UHD Full BluRay","UHD-Remux","Full BluRay","BluRay-Remux","2160p","1080p/i","720p/i","SD"],bc=["MKV","MP4","AVI","M2TS","ISO","Autre"],wc=["H.264","H.265","x264","x265","HEVC","VC-1","AV1","VP9","VP8","DivX","XviD","XVID","MPEG-2","MPEG-4","Autre"],Nc=["Dolby Digital / AC3","Dolby Digital Plus / E-AC3","Dolby Digital Plus / E-AC3 Atmos","Dolby TrueHD","Dolby TrueHD Atmos","DTS","DTS-HD","DTS-HD MA","AAC","PCM","FLAC","Opus","Autre"],ng=["Mono","Stéréo","5.1","5.1.x","7.1","7.1.x"],sg=["SRT","ASS","SSA","PGS","VobSub","SUP"],jc=["BluRay","UHD BluRay","WEB","WEBRip","HDTV","DVDRip","BDRip","REMUX","CAM","TS","R5"];function ig({onSave:e,onCancel:t,initialSpecs:r}){var L,b,G,ne,q,P,A;const{t:n}=Fe(),i=[{code:"fr",name:n("lang.french")},{code:"fr-ca",name:n("lang.quebecois")},{code:"en",name:n("lang.english")},{code:"es",name:n("lang.spanish")},{code:"de",name:n("lang.german")},{code:"it",name:n("lang.italian")},{code:"pt",name:n("lang.portuguese")},{code:"ru",name:n("lang.russian")},{code:"ja",name:n("lang.japanese")},{code:"ko",name:n("lang.korean")},{code:"zh",name:n("lang.chinese")},{code:"nl",name:n("lang.dutch")},{code:"sv",name:n("lang.swedish")},{code:"no",name:n("lang.norwegian")},{code:"da",name:n("lang.danish")},{code:"fi",name:n("lang.finnish")},{code:"pl",name:n("lang.polish")},{code:"cs",name:n("lang.czech")},{code:"hu",name:n("lang.hungarian")},{code:"tr",name:n("lang.turkish")},{code:"ar",name:n("lang.arabic")},{code:"he",name:n("lang.hebrew")},{code:"th",name:n("lang.thai")},{code:"vi",name:n("lang.vietnamese")},{code:"hi",name:n("lang.hindi")},{code:"other",name:n("lang.other")}],a=(I,M)=>{const z=(M||"").toLowerCase();let Q=(I||"").toLowerCase();if(Q){const ie=ze(Q);if(ie.flag)return{code:ie.code,name:ie.name}}if(z){const ie=ze(z);if(ie.flag)return{code:ie.code,name:ie.name}}if(new Set(i.map(ie=>ie.code)).has(Q)){const ie=ze(Q);return Q==="other"?{code:"other",name:M||n("lang.other")}:{code:ie.code,name:ie.name}}const W=ie=>{const de=ze(ie);return{code:de.code,name:de.name}};return/\b(french\s*\(ca\)|french ca|vfq|canadian)\b/i.test(M||"")?W("fr-ca"):/\b(french|français)\b/i.test(M||"")?W("fr"):/\b(english|anglais)\b/i.test(M||"")?W("en"):/\b(german|deutsch|\(de\))\b/i.test(M||"")?W("de"):/\b(spanish|español|\(es\))\b/i.test(M||"")?W("es"):/\b(portuguese|português|\(pt\)|\(br\))\b/i.test(M||"")?W("pt"):/\b(italian|italiano|\(it\))\b/i.test(M||"")?W("it"):/\b(finnish|suomi|\(fi\))\b/i.test(M||"")?W("fi"):/\b(japanese|日本語|\(jp\))\b/i.test(M||"")?W("ja"):/\b(dutch|nederlands|\(nl\))\b/i.test(M||"")?W("nl"):/\b(polish|polski|\(pl\))\b/i.test(M||"")?W("pl"):/\b(swedish|svenska|\(se\)|\(sv\))\b/i.test(M||"")?W("sv"):/\b(hindi|\(in\))\b/i.test(M||"")?W("hi"):{code:"other",name:M||n("lang.other")}},o=(I=>{var M,z,Q,O,W,ie,de,le,oe,he,xe,Ae,Be,x,K,V,D,C,F,R,H,B,Y;return console.log("convertInitialSpecs received:",I),console.log("specs.video:",I==null?void 0:I.video),console.log("specs.video.quality:",(M=I==null?void 0:I.video)==null?void 0:M.quality),I?{video:{quality:((z=I.video)==null?void 0:z.quality)==="1080p"?"1080p/i":((Q=I.video)==null?void 0:Q.quality)==="720p"?"720p/i":((O=I.video)==null?void 0:O.quality)==="480p"?"SD":yc.includes((W=I.video)==null?void 0:W.quality)?(ie=I.video)==null?void 0:ie.quality:((de=I.video)==null?void 0:de.quality)||"1080p/i",format:bc.includes((le=I.video)==null?void 0:le.format)?(oe=I.video)==null?void 0:oe.format:(he=I.video)!=null&&he.format?"Autre":"MKV",codec:((xe=I.video)==null?void 0:xe.codec)==="MPEG Video"?"MPEG-2":((Ae=I.video)==null?void 0:Ae.codec)==="XVID"||((Be=I.video)==null?void 0:Be.codec)==="XVID"||((x=I.video)==null?void 0:x.codec)==="XviD"?"XVID":wc.includes((K=I.video)==null?void 0:K.codec)?(V=I.video)==null?void 0:V.codec:(D=I.video)!=null&&D.codec?"Autre":"H.264",bitrate:((C=I.video)==null?void 0:C.bitrate)||5,bitrateUnit:((F=I.video)==null?void 0:F.bitrateUnit)||"Mbps",size:((R=I.video)==null?void 0:R.size)||8,duration:(H=I.video)==null?void 0:H.duration},audio:((B=I.audio)==null?void 0:B.map((re,ee)=>({id:re.id||(ee+1).toString(),...(()=>{const X=a(re.languageCode,re.language);return{language:X.name,languageCode:X.code}})(),codec:(()=>{const X=re.codec||"";return console.log(`Processing audio track ${ee+1}, original codec:`,X),X.includes("Dolby Digital Plus with Dolby Atmos")?(console.log("Detected Dolby Digital Plus with Dolby Atmos, mapping to Dolby Digital Plus / E-AC3 Atmos"),"Dolby Digital Plus / E-AC3 Atmos"):X.includes("Dolby Digital Plus with Atmos")?(console.log("Detected Dolby Digital Plus with Atmos, mapping to Dolby Digital Plus / E-AC3 Atmos"),"Dolby Digital Plus / E-AC3 Atmos"):X.includes("DTS-HD High Resolution Audio")||X==="DTS-HD"?(console.log("Detected DTS-HD High Resolution Audio, mapping to DTS-HD"),"DTS-HD"):X.includes("MLP FBA 16-ch")?(console.log("Detected MLP FBA 16-ch, mapping to Dolby TrueHD Atmos"),"Dolby TrueHD Atmos"):X.includes("MLP FBA")?(console.log("Detected MLP FBA, mapping to Dolby TrueHD Atmos"),"Dolby TrueHD Atmos"):X.includes("DTS-HD Master Audio")||X==="DTS-HD MA"?"DTS-HD MA":X.includes("Dolby TrueHD with Dolby Atmos")||X.includes("TrueHD Atmos")?"Dolby TrueHD Atmos":X.includes("Dolby TrueHD")||X==="TrueHD"?"Dolby TrueHD":X.includes("DTS-HD")||X==="DTS-HD"?"DTS-HD":X.includes("DTS-ES")||X==="DTS-ES"?"DTS-ES":X==="E-AC-3"||X.includes("E-AC-3")?"Dolby Digital Plus / E-AC3":X==="AC-3"||X.includes("AC-3")?"Dolby Digital / AC3":X==="DTS"||X.includes("DTS")?"DTS":X==="AAC"||X.includes("AAC")?"AAC":X==="PCM"||X.includes("PCM")?"PCM":Nc.includes(X)?X:(console.log(`No specific mapping found for codec: ${X}, using default or "Autre"`),X?"Autre":"Dolby Digital Plus / E-AC3")})(),channels:re.channels||"5.1",bitrate:re.bitrate||640,bitrateUnit:re.bitrateUnit||"Kbps",isDefault:re.isDefault||ee===0})))||[],subtitles:((Y=I.subtitles)==null?void 0:Y.map((re,ee)=>({id:re.id||(ee+1).toString(),...(()=>{const X=a(re.languageCode,re.language);return{language:X.name,languageCode:X.code}})(),type:re.type||"embedded",format:re.format||"SRT",isForced:re.isForced===!0,isComplete:re.isComplete===!0,isSDH:re.isSDH===!0,isDefault:re.isDefault===!0})))||[],source:I.source,releaseGroup:I.releaseGroup}:null})(r);console.log("convertedSpecs result:",o);const[c,m]=te.useState({quality:((L=o==null?void 0:o.video)==null?void 0:L.quality)||"1080p/i",format:((b=o==null?void 0:o.video)==null?void 0:b.format)||"MKV",codec:((G=o==null?void 0:o.video)==null?void 0:G.codec)||"H.264",bitrate:((ne=o==null?void 0:o.video)==null?void 0:ne.bitrate)||2.3,bitrateUnit:((q=o==null?void 0:o.video)==null?void 0:q.bitrateUnit)||"Mbps",size:((P=o==null?void 0:o.video)==null?void 0:P.size)||8.5,duration:(A=o==null?void 0:o.video)==null?void 0:A.duration}),[y,u]=te.useState(()=>o!=null&&o.audio&&o.audio.length>0?o.audio.map(I=>({...I,bitrateUnit:I.bitrateUnit||"Kbps"})):[{id:"1",language:"Français",languageCode:"fr",codec:"Dolby Digital Plus / E-AC3",channels:"5.1",bitrate:640,bitrateUnit:"Kbps",isDefault:!0}]),[g,h]=te.useState(()=>o!=null&&o.subtitles&&o.subtitles.length>0?o.subtitles.map(I=>({...I,type:I.type,isForced:I.isForced===!0,isComplete:I.isComplete===!0,isSDH:I.isSDH===!0})):[]),[N,p]=te.useState((o==null?void 0:o.releaseGroup)||""),[w,d]=te.useState(1),[f,v]=te.useState(()=>{var I;if(o!=null&&o.source){const M={Bluray:"BluRay",BluRay:"BluRay","blu-ray":"BluRay",bluray:"BluRay","UHD BluRay":"UHD BluRay","uhd bluray":"UHD BluRay","4k bluray":"UHD BluRay",WEB:"WEB",WEBRip:"WEBRip","WEB-DL":"WEB",WEBDL:"WEB","web-dl":"WEB",webrip:"WEBRip",web:"WEB",HDTV:"HDTV",DVDRip:"DVDRip",BDRip:"BDRip",REMUX:"REMUX",remux:"REMUX"},z=(o.source||"").toString(),Q=M[z]||M[z.toLowerCase()]||z;return jc.includes(Q)?Q:"WEB"}return((I=o==null?void 0:o.video)==null?void 0:I.format)==="ISO"?"DVDRip":"BluRay"}),[j,_]=te.useState(""),S=()=>{const I={id:Date.now().toString(),language:"Anglais",languageCode:"en",codec:"Dolby Digital Plus / E-AC3",channels:"5.1",bitrate:640,bitrateUnit:"Kbps",isDefault:!1};u([...y,I])},E=I=>{y.length>1&&u(y.filter(M=>M.id!==I))},k=(I,M)=>{u(y.map(z=>z.id===I?{...z,...M}:M.isDefault===!0&&z.isDefault?{...z,isDefault:!1}:z))},$=()=>{const I={id:Date.now().toString(),language:"Anglais",languageCode:"en",type:"embedded",format:"SRT",isForced:!1,isComplete:!0,isSDH:!1,isDefault:!1};h([...g,I])},U=I=>{h(g.filter(M=>M.id!==I))},Z=(I,M)=>{h(g.map(z=>z.id===I?{...z,...M}:M.isDefault===!0&&z.isDefault?{...z,isDefault:!1}:z))},T=()=>{e({video:c,audio:y,subtitles:g,releaseGroup:N||void 0,source:f||void 0,notes:j||void 0,numberOfFiles:w})};return s.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800/60 backdrop-blur-sm rounded-2xl p-8 border border-gray-700/50",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors mr-4",children:[s.jsx(Gd,{className:"w-4 h-4"}),s.jsx("span",{children:n("specs.back")})]}),s.jsx(Qn,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:n("specs.title")})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(op,{className:"w-5 h-5 mr-2 text-blue-400"}),"Spécifications Vidéo"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Qualité"}),s.jsx("select",{value:c.quality,onChange:I=>m({...c,quality:I.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:yc.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Format"}),s.jsx("select",{value:c.format,onChange:I=>m({...c,format:I.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:bc.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Codec"}),s.jsx("select",{value:c.codec,onChange:I=>m({...c,codec:I.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:wc.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Source"}),s.jsx("select",{value:f,onChange:I=>v(I.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:jc.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Débit vidéo"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"number",value:c.bitrate,onChange:I=>m({...c,bitrate:parseFloat(I.target.value)}),className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",step:"0.1"}),s.jsxs("select",{value:c.bitrateUnit,onChange:I=>m({...c,bitrateUnit:I.target.value}),className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-2 py-2 text-white focus:outline-none focus:border-violet-500",children:[s.jsx("option",{value:"Mbps",children:"Mbps"}),s.jsx("option",{value:"Kbps",children:"Kbps"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Taille (GB)"}),s.jsx("input",{type:"number",value:c.size,onChange:I=>m({...c,size:parseFloat(I.target.value)}),className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",step:"0.1"})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[s.jsx(cp,{className:"w-5 h-5 mr-2 text-green-400"}),"Pistes Audio"]}),s.jsxs("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[s.jsx(fc,{className:"w-4 h-4"}),s.jsx("span",{children:"Ajouter"})]})]}),s.jsx("div",{className:"space-y-4",children:y.map((I,M)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"text-white font-medium",children:[n("specs.track.audio")," #",M+1]}),y.length>1&&s.jsx("button",{onClick:()=>E(I.id),className:"text-red-400 hover:text-red-300 transition-colors",children:s.jsx(oi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_1fr_auto_auto] lg:grid-cols-[1fr_1fr_auto_auto] gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Langue"}),I.languageCode==="other"?s.jsx("input",{type:"text",value:I.language,onChange:z=>k(I.id,{language:z.target.value,languageCode:"other"}),placeholder:"Nom de la langue",className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"}):s.jsx("select",{value:I.language,onChange:z=>{const Q=z.target.value;if(Q===n("lang.other"))k(I.id,{language:"",languageCode:"other"});else{const O=i.find(ie=>ie.name===Q),W=ze((O==null?void 0:O.code)||"fr");k(I.id,{language:Q,languageCode:W.code})}},className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:i.map(z=>s.jsx("option",{value:z.name,children:z.name},z.code))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Codec"}),s.jsx("select",{value:I.codec,onChange:z=>k(I.id,{codec:z.target.value}),className:"w-55 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:Nc.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.channels")}),s.jsx("select",{value:I.channels,onChange:z=>k(I.id,{channels:z.target.value}),className:"w-25 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:ng.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Débit (Kbps)"}),s.jsx("input",{value:I.bitrate,onChange:z=>k(I.id,{bitrate:parseInt(z.target.value)}),className:"w-20 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsx("div",{className:"col-span-full mt-4 flex items-center space-x-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:I.isDefault,onChange:z=>k(I.id,{isDefault:z.target.checked}),className:"mr-2 rounded border-gray-500 bg-gray-600 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:"Piste par défaut"})]})})]})]},I.id))})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[s.jsx(Qm,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Sous-titres"]}),s.jsxs("button",{onClick:$,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg transition-colors",children:[s.jsx(fc,{className:"w-4 h-4"}),s.jsx("span",{children:"Ajouter"})]})]}),s.jsx("div",{className:"space-y-4",children:g.map((I,M)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"text-white font-medium",children:[n("specs.track.subtitle")," #",M+1]}),s.jsx("button",{onClick:()=>U(I.id),className:"text-red-400 hover:text-red-300 transition-colors",children:s.jsx(oi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Langue"}),I.languageCode==="other"?s.jsx("input",{type:"text",value:I.language,onChange:z=>Z(I.id,{language:z.target.value,languageCode:"other"}),placeholder:"Nom de la langue",className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"}):s.jsx("select",{value:I.language,onChange:z=>{const Q=z.target.value;if(Q===n("lang.other"))Z(I.id,{language:"",languageCode:"other"});else{const O=i.find(ie=>ie.name===Q),W=ze((O==null?void 0:O.code)||"fr");Z(I.id,{language:Q,languageCode:W.code})}},className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:i.map(z=>s.jsx("option",{value:z.name,children:z.name},z.code))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.type")}),s.jsxs("select",{value:I.type,onChange:z=>Z(I.id,{type:z.target.value}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:[s.jsx("option",{value:"embedded",children:n("specs.embedded")}),s.jsx("option",{value:"external",children:n("specs.external")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Format"}),s.jsx("select",{value:I.format,onChange:z=>Z(I.id,{format:z.target.value}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:sg.map(z=>s.jsx("option",{value:z,children:z},z))})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:I.isDefault,onChange:z=>Z(I.id,{isDefault:z.target.checked}),className:"mr-2 rounded border-gray-500 bg-gray-600 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:"Par défaut"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-gray-300 text-sm",children:"Type de sous-titre :"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`subtitle-type-${I.id}`,checked:I.isForced===!0,onChange:()=>Z(I.id,{isForced:!0,isComplete:!1,isSDH:!1}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:"Forcé"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`subtitle-type-${I.id}`,checked:I.isComplete===!0,onChange:()=>Z(I.id,{isForced:!1,isComplete:!0,isSDH:!1}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:"Complet"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`subtitle-type-${I.id}`,checked:I.isSDH===!0,onChange:()=>Z(I.id,{isForced:!1,isComplete:!1,isSDH:!0}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:"SDH"})]})]})]})]},I.id))})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:n("specs.additional")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.release.group")}),s.jsx("input",{type:"text",value:N,onChange:I=>p(I.target.value),placeholder:n("specs.release.placeholder"),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nb de fichiers"}),s.jsx("input",{type:"number",value:w,onChange:I=>d(parseInt(I.target.value)||1),min:"1",className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.notes")}),s.jsx("textarea",{value:j,onChange:I=>_(I.target.value),placeholder:n("specs.notes.placeholder"),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:t,className:"px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Annuler"}),s.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-6 py-3 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:[s.jsx(Qd,{className:"w-4 h-4"}),s.jsx("span",{children:"Générer la fiche"})]})]})]})]})}function ag({isOpen:e,onClose:t,onSave:r,currentApiKey:n}){const{t:i}=Fe(),[a,l]=te.useState(n),[o,c]=te.useState(!1);if(!e)return null;const m=()=>{r(a),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(tp,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:i("api.title")})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Bt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:i("api.description")}),s.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/30 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-violet-300 text-sm",children:s.jsx("strong",{children:"Comment obtenir votre clé API :"})}),s.jsxs("ol",{className:"list-decimal list-inside text-violet-200 text-sm mt-2 space-y-1",children:[s.jsxs("li",{children:["Créez un compte sur ",s.jsx("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 hover:underline",children:"TMDB"})]}),s.jsx("li",{children:"Allez dans les paramètres de votre compte"}),s.jsx("li",{children:'Cliquez sur "API"'}),s.jsx("li",{children:"Demandez une clé API (gratuite)"}),s.jsx("li",{children:"Copiez votre clé API v3"})]}),s.jsxs("a",{href:"https://www.themoviedb.org/settings/api",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-violet-400 hover:text-violet-300 text-sm mt-3 transition-colors",children:[i("api.get.key")," ",s.jsx(li,{className:"w-4 h-4 ml-1"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-300 mb-2",children:i("api.key.label")}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o?"text":"password",id:"apiKey",value:a,onChange:y=>l(y.target.value),placeholder:i("api.key.placeholder"),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500 pr-12"}),s.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:o?s.jsx(Jm,{className:"w-5 h-5"}):s.jsx(ep,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:t,className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:i("nfo.cancel")}),s.jsx("button",{onClick:m,disabled:!a.trim(),className:"flex-1 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium py-3 px-4 rounded-lg transition-colors",children:i("api.save")})]})]})})}const lg=()=>{const{language:e,setLanguage:t}=Fe();return s.jsxs("button",{onClick:()=>t(e==="fr"?"en":"fr"),className:"flex items-center gap-2 px-3 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 text-white hover:bg-white/20 transition-colors",title:e==="fr"?"Switch to English":"Passer en français",children:[s.jsx(rp,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:e==="fr"?"EN":"FR"})]})},js="fichegen_history",_c=50,mr={addItem(e){const t=this.getHistory(),r={...e,id:Date.now().toString(),createdAt:Date.now()};t.unshift(r),t.length>_c&&t.splice(_c),localStorage.setItem(js,JSON.stringify(t))},getHistory(){try{const e=localStorage.getItem(js);return e?JSON.parse(e):[]}catch{return[]}},removeItem(e){const t=this.getHistory().filter(r=>r.id!==e);localStorage.setItem(js,JSON.stringify(t))},clearHistory(){localStorage.removeItem(js)},getItem(e){return this.getHistory().find(t=>t.id===e)||null}};function og({isOpen:e,onClose:t,onSelectItem:r,currentMode:n}){const{t:i}=Fe(),[a,l]=te.useState([]);te.useEffect(()=>{e&&l(mr.getHistory())},[e]);const o=y=>{mr.removeItem(y),l(mr.getHistory())},c=()=>{mr.clearHistory(),l([])},m=y=>new Date(y).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] shadow-2xl border border-gray-700 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qa,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:i("history.title")})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[a.length>0&&s.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors text-sm",children:[s.jsx(oi,{className:"w-4 h-4"}),s.jsx("span",{children:i("history.clear.all")})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Bt,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex-1 p-6 overflow-auto",children:a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Qa,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:i("history.empty")}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:i("history.empty.description")})]}):s.jsx("div",{className:"space-y-4",children:a.map(y=>n==="movies"&&(y.type==="movie"||y.type==="tv")||n==="books"&&y.type==="book"?s.jsx("div",{className:"bg-gray-700/50 rounded-xl p-4 hover:bg-gray-700/70 transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0 w-16 h-24 rounded overflow-hidden bg-gray-600",children:y.poster?s.jsx("img",{src:y.type==="book"?y.poster:me.getImageUrl(y.poster,"w92"),alt:y.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:y.type==="movie"?s.jsx(kt,{className:"w-6 h-6 text-gray-400"}):y.type==="tv"?s.jsx($t,{className:"w-6 h-6 text-gray-400"}):s.jsx(_t,{className:"w-6 h-6 text-gray-400"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.type==="movie"?s.jsx(kt,{className:"w-4 h-4 text-emerald-400"}):y.type==="tv"?s.jsx($t,{className:"w-4 h-4 text-emerald-400"}):s.jsx(_t,{className:"w-4 h-4 text-emerald-400"}),s.jsx("h3",{className:"text-white font-semibold",children:y.title}),s.jsxs("span",{className:"text-gray-400",children:["(",y.year,")"]})]}),s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(on,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:m(y.createdAt)})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>{r(y),t()},className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-sm font-medium",children:i("history.load")}),s.jsx("button",{onClick:()=>o(y.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:s.jsx(oi,{className:"w-4 h-4"})})]})]})},y.id):null)})})]})}):null}class cg{constructor(){ns(this,"baseUrl","https://www.googleapis.com/books/v1");ns(this,"maxResults",40)}async searchBooks(t,r=0){const n=`${this.baseUrl}/volumes?q=${encodeURIComponent(t)}&startIndex=${r}&maxResults=${this.maxResults}&printType=books&orderBy=relevance`,i=await fetch(n);if(!i.ok)throw new Error(`Google Books API error: ${i.status}`);const a=await i.json();return a.items&&(a.items=a.items.filter(l=>{var o;return(o=l.volumeInfo)==null?void 0:o.title}).map(l=>({...l,volumeInfo:{...l.volumeInfo,imageLinks:l.volumeInfo.imageLinks?{...l.volumeInfo.imageLinks,thumbnail:this.getBestImageUrl(l.volumeInfo.imageLinks)||l.volumeInfo.imageLinks.thumbnail}:void 0}}))),a}async getVolumeDetails(t){var a;const r=`${this.baseUrl}/volumes/${t}`,n=await fetch(r);if(!n.ok)throw new Error(`Google Books API error: ${n.status}`);const i=await n.json();if((a=i.volumeInfo)!=null&&a.imageLinks){const l=this.getBestImageUrl(i.volumeInfo.imageLinks);l&&(i.volumeInfo.imageLinks.thumbnail=l)}return i}getHighQualityImage(t){if(!t)return null;const r=["extraLarge","large","medium","small","thumbnail","smallThumbnail"];for(const n of r)if(t[n])return this.normalizeImageUrl(t[n]);return null}getBestImageUrl(t){const r=["extraLarge","large","medium","small","thumbnail","smallThumbnail"];for(const n of r){const i=t[n];if(i)return this.normalizeImageUrl(i)}return null}normalizeImageUrl(t){let r=t.replace("http://","https://");return r.includes("books.google.com")&&(r=r.replace(/[&?]zoom=\d+/,""),r.includes("&w=")||r.includes("?w=")?r=r.replace(/[&?]w=\d+/,"&w=500"):r+=r.includes("?")?"&w=500":"?w=500",r+="&zoom=0"),r}extractISBN(t){if(!t)return null;const r=t.find(a=>a.type==="ISBN_13"),n=t.find(a=>a.type==="ISBN_10"),i=t.find(a=>a.type==="OTHER");return(r==null?void 0:r.identifier)||(n==null?void 0:n.identifier)||(i==null?void 0:i.identifier)||null}formatISBN(t){return t?t.filter(r=>r.type==="ISBN_10"||r.type==="ISBN_13").map(r=>r.identifier):[]}}const qr=new cg,ug=({onBookSelect:e,onResultSelect:t})=>{const{t:r}=(Fe==null?void 0:Fe())??{t:$=>$},[n,i]=te.useState(""),[a,l]=te.useState([]),[o,c]=te.useState(!1),[m,y]=te.useState(0),[u,g]=te.useState(0),[h,N]=te.useState(!1),[p,w]=te.useState(!1),d=te.useRef(null),f=te.useCallback(async($,U=0,Z=!1)=>{if(!$.trim()){l([]),w(!1),y(0),N(!1);return}c(!0);try{const T=await qr.searchBooks($,U),L=T.items||[];l(b=>Z?[...b,...L]:L),y(T.totalItems||0),g(U),N(U+L.length<(T.totalItems||0)),w(!0)}catch(T){console.error("Erreur lors de la recherche:",T),l([]),y(0),N(!1),w(!1)}finally{c(!1)}},[]),v=$=>{i($),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{f($)},500)},j=()=>{const $=u+40;f(n,$,!0)},_=$=>{e==null||e($),t==null||t($),w(!1),i(""),l([])},S=$=>!$||$.length===0?r("ebook.unknown.author")||"Auteur inconnu":$.length===1?$[0]:$.length===2?`${$[0]} & ${$[1]}`:`${$[0]} ${r("ebook.more",{count:$.length-1})||`+${$.length-1}`}`,E=($,U)=>$?$.length<=U?$:$.substring(0,U)+"...":"",k=$=>{if(!$)return null;if(qr.getHighQualityImage){const U=qr.getHighQualityImage($);if(U)return U}return $.thumbnail||$.smallThumbnail||null};return te.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]),s.jsxs("div",{className:"relative w-full max-w-2xl mx-auto search-container",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:s.jsx(Yd,{className:"w-5 h-5 text-gray-400 group-focus-within:text-emerald-300"})}),s.jsx("input",{type:"text",value:n,onChange:$=>v($.target.value),placeholder:r("ebook.search.placeholder")||"Rechercher un livre par titre, auteur ou ISBN...",className:"w-full pl-12 pr-10 py-4 text-lg bg-gray-800/60 backdrop-blur-sm border-2 border-gray-700/50 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-emerald-500/70 focus:bg-gray-800/80 transition-all duration-300"}),o&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx(np,{className:"w-5 h-5 text-emerald-400 animate-spin"})})]}),p&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-md border border-gray-700/50 rounded-2xl shadow-2xl z-50 max-h-[50vh] overflow-y-auto",children:[m>0&&s.jsxs("div",{className:"px-4 py-3 border-b border-gray-700/50 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-emerald-300",children:[s.jsx("strong",{children:m.toLocaleString()})," ",r("ebook.search.results")||"résultats"]}),s.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Fermer les résultats",children:s.jsx(Zm,{className:"w-4 h-4"})})]}),a.length===0&&!o&&n&&s.jsxs("div",{className:"px-4 py-8 text-center",children:[s.jsx(_t,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400",children:r("search.no.results")||"Aucun résultat"})]}),o&&a.length===0&&s.jsxs("div",{className:"px-4 py-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-emerald-500 border-t-transparent mx-auto mb-3"}),s.jsx("p",{className:"text-emerald-300",children:r("ebook.search.loading")||"Chargement..."})]}),a.map($=>s.jsx("div",{onClick:()=>_($),className:"px-4 py-4 border-b border-gray-700/30 hover:bg-gray-700/30 cursor-pointer transition-colors group last:border-b-0",children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:k($.volumeInfo.imageLinks)?s.jsx("img",{src:k($.volumeInfo.imageLinks),alt:$.volumeInfo.title,className:"w-16 h-24 object-cover rounded-lg shadow-lg group-hover:shadow-xl transition-shadow",loading:"lazy"}):s.jsx("div",{className:"w-16 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 rounded-lg flex items-center justify-center border border-emerald-400/20",children:s.jsx(_t,{className:"w-6 h-6 text-emerald-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-semibold text-lg leading-tight mb-1 group-hover:text-emerald-300 transition-colors",children:E($.volumeInfo.title||"",60)}),$.volumeInfo.subtitle&&s.jsx("p",{className:"text-gray-400 text-sm mb-2 leading-tight",children:E($.volumeInfo.subtitle,80)}),s.jsxs("div",{className:"space-y-1",children:[$.volumeInfo.authors&&s.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[s.jsx(jr,{className:"w-3 h-3 mr-2 text-emerald-400 flex-shrink-0"}),s.jsx("span",{children:S($.volumeInfo.authors)})]}),$.volumeInfo.publishedDate&&s.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[s.jsx(on,{className:"w-3 h-3 mr-2 text-emerald-400 flex-shrink-0"}),s.jsx("span",{children:new Date($.volumeInfo.publishedDate).getFullYear()})]}),$.volumeInfo.categories&&$.volumeInfo.categories.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[$.volumeInfo.categories.slice(0,2).map((U,Z)=>s.jsx("span",{className:"px-2 py-1 bg-emerald-500/10 text-emerald-300 text-xs rounded-full border border-emerald-400/20",children:U},Z)),$.volumeInfo.categories.length>2&&s.jsxs("span",{className:"text-gray-400 text-xs px-1 py-1",children:["+",$.volumeInfo.categories.length-2," ",r("ebook.showMore")||"de plus"]})]})]})]})]})},$.id)),h&&!o&&a.length>0&&s.jsx("div",{className:"px-4 py-4 text-center border-t border-gray-700/50",children:s.jsx("button",{onClick:j,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors",children:r("ebook.search.loadMore")||"Charger plus"})}),h&&o&&a.length>0&&s.jsx("div",{className:"px-4 py-4 text-center border-t border-gray-700/50",children:s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-emerald-500 border-t-transparent mx-auto"})})]})]})},ta={Fiction:"Fiction","Literary Fiction":"Fiction littéraire","Historical Fiction":"Fiction historique","Science Fiction":"Science-fiction",Fantasy:"Fantasy",Mystery:"Mystère",Thriller:"Thriller",Romance:"Romance",Horror:"Horreur",Adventure:"Aventure",Crime:"Policier",Detective:"Policier",Suspense:"Suspense",Western:"Western","Young Adult Fiction":"Fiction jeune adulte","Children's Fiction":"Fiction pour enfants",Biography:"Biographie",Autobiography:"Autobiographie",Memoir:"Mémoires",History:"Histoire",Philosophy:"Philosophie",Psychology:"Psychologie",Religion:"Religion",Spirituality:"Spiritualité","Self-Help":"Développement personnel",Health:"Santé",Fitness:"Fitness",Cooking:"Cuisine",Travel:"Voyage",Nature:"Nature",Science:"Science",Technology:"Technologie",Medicine:"Médecine",Law:"Droit",Politics:"Politique",Economics:"Économie",Business:"Business",Management:"Management",Education:"Éducation",Art:"Art",Music:"Musique",Photography:"Photographie",Sports:"Sport",Games:"Jeux",Humor:"Humour",Comics:"Bande dessinée","Graphic Novels":"Roman graphique",Poetry:"Poésie",Drama:"Théâtre",Essays:"Essais",Reference:"Référence",Dictionary:"Dictionnaire",Encyclopedia:"Encyclopédie",Textbook:"Manuel scolaire","Study Guide":"Guide d'étude","Language Arts":"Arts du langage",Literature:"Littérature",Classics:"Classiques","Computer Science":"Informatique",Programming:"Programmation","Web Development":"Développement web",Database:"Base de données",Networking:"Réseaux",Security:"Sécurité","Artificial Intelligence":"Intelligence artificielle","Machine Learning":"Apprentissage automatique","Juvenile Fiction":"Fiction jeunesse","Juvenile Nonfiction":"Documentaire jeunesse","Children's Books":"Livres pour enfants","Picture Books":"Albums illustrés","Early Readers":"Premiers lecteurs","True Crime":"Faits divers","Current Events":"Actualités","Social Science":"Sciences sociales",Anthropology:"Anthropologie",Sociology:"Sociologie",Geography:"Géographie","Environmental Science":"Sciences environnementales",Mathematics:"Mathématiques",Physics:"Physique",Chemistry:"Chimie",Biology:"Biologie",Astronomy:"Astronomie",Geology:"Géologie",Architecture:"Architecture",Design:"Design",Fashion:"Mode",Gardening:"Jardinage",Crafts:"Artisanat",Hobbies:"Loisirs",Pets:"Animaux de compagnie",Family:"Famille",Parenting:"Parentalité",Relationships:"Relations","Personal Growth":"Développement personnel",Meditation:"Méditation",Yoga:"Yoga","Alternative Medicine":"Médecine alternative",Diet:"Régime",Nutrition:"Nutrition",Wine:"Vin",Beer:"Bière",Cocktails:"Cocktails"};function ci(e){const t=e.trim();if(ta[t])return ta[t];for(const[r,n]of Object.entries(ta))if(t.toLowerCase().includes(r.toLowerCase())||r.toLowerCase().includes(t.toLowerCase()))return n;return t}const kc=e=>e?e.split(",").map(t=>{const r=t.trim();return`[url=https://www.sharewood.tv/torrents?tags=${encodeURIComponent(r)}]${r}[/url]`}).join(", "):"";class dg{generateBBCode(t,r=1){return r===1?this.generateBBCodeStyle1(t):r===2?this.generateBBCodeStyle2(t):this.generateBBCodeStyle3(t)}generateBBCodeStyle1(t){var S,E;const{book:r,specs:n,coverImage:i}=t,a=n.title||r.volumeInfo.title||"Titre inconnu",l=n.subtitle||r.volumeInfo.subtitle||"",o=this.formatAuthors(n.authors||r.volumeInfo.authors),c=n.publisher||r.volumeInfo.publisher||"",m=n.publishedDate||r.volumeInfo.publishedDate||"",y=n.year||(m?new Date(m).getFullYear():""),u=this.stripHtml(n.description||r.volumeInfo.description||""),g=n.mainCategory||ci(((S=r.volumeInfo.categories)==null?void 0:S[0])||"")||"",h=n.isbn||this.getISBN(n.industryIdentifiers||r.volumeInfo.industryIdentifiers)||"",N=n.pageCount||r.volumeInfo.pageCount||"",p=r.volumeInfo.infoLink||"",w=n.bookDisplayNumber||((E=r.volumeInfo.seriesInfo)==null?void 0:E.bookDisplayNumber)||"",d=n.edition||"",f=n.source||"",v=n.fileName||"",j=n.notes||"";let _=`[center][b][font=Verdana][color=#3d85c6][size=29]${a}

[/size][size=18](${y})[/size][/color][/font][/b]

[img]${i}.jpg[/img][color=#ea9999][i]

[/i][/color][color=#ea9999][i][b][font=Verdana][size=29]
${l}[/size][/font][/b][/i][/color]

[img]https://i.imgur.com/zNnPX3V.png[/img]

[font=Verdana][size=13][b][color=#3d85c6]Auteurs :[/color][/b] [i]${o}[/i]`;return c&&(_+=`
[b][color=#3d85c6]Editeur :[/color][/b] [i]${c}[/i]`),_+=`
[b][color=#3d85c6]Genres :[/color][/b] ${kc(g)}
[b][color=#3d85c6]Année :[/color][/b] [i]${y}[/i]`,m&&(_+=`
[b][color=#3d85c6]Date de sortie :[/color][/b] [i]${m}[/i]`),_+=`
[b][color=#3d85c6]Pages :[/color][/b] [i]${N}[/i]`,w&&(_+=`
[b][color=#3d85c6]Tome n°  :[/color][/b] [i]${w}[/i]`),d&&(_+=`
[color=#3d85c6][b]Édition :[/b] [/color][i]${d}[/i]`),_+=`
[color=#3d85c6][b]ISBN :[/b] [/color][i]${h}[/i]

[size=13][url=${p}][b][color=#1e84cc]Plus d'info  >> Google Book[/color][/b][/url][/size]

[img]https://i.imgur.com/ATVsdeo.png[/img]

[font=Verdana][size=13]${u}[/size][/font]


[img]https://i.imgur.com/Ji92VqD.png[/img]`,f&&(_+=`
[b][color=#3d85c6]Source :[/color][/b] [i]${f}[/i]`),_+=`
[color=#3d85c6][b]Format :[/b] [/color][i]${n.format}[/i]
[b][color=#3d85c6]Qualité :[/color][/b] [i]${n.quality}[/i]

[b][color=#3d85c6]Langue :[/color][/b][i]${(r.volumeInfo.language||n.language).toUpperCase()}[/i]


[img]https://i.imgur.com/ZutFbjb.png[/img]`,v&&(_+=`
[b][color=#3d85c6]Release :[/color][/b] [i]${v}[/i]`),j&&(_+=`
[b][color=#3d85c6]Notes :[/color][/b] [i]${j}[/i]`),_+=`
[b][color=#3d85c6]Taille totale :[/color][/b] ${n.fileSize.value} ${n.fileSize.unit}
[color=#3d85c6][b]Nombre de fichier [/b][/color]: ${n.numberOfFiles||"1"}[/size][/font][/center]`,_}generateBBCodeStyle2(t){var v;const{book:r,specs:n,coverImage:i}=t,a=n.title||r.volumeInfo.title||"Titre inconnu",l=n.subtitle||r.volumeInfo.subtitle||"",o=this.formatAuthors(n.authors||r.volumeInfo.authors),c=n.publisher||r.volumeInfo.publisher||"",m=n.publishedDate||r.volumeInfo.publishedDate||"",y=n.year||(m?new Date(m).getFullYear():""),u=this.stripHtml(n.description||r.volumeInfo.description||""),g=n.isbn||this.getISBN(n.industryIdentifiers||r.volumeInfo.industryIdentifiers)||"",h=n.pageCount||r.volumeInfo.pageCount||"",N=r.volumeInfo.infoLink||"",p=n.bookDisplayNumber||((v=r.volumeInfo.seriesInfo)==null?void 0:v.bookDisplayNumber)||"",w=n.fileName||"",d=n.notes||"";let f=`[center][color=#10b981][size=29][b]${a}[/b][/size][/color]

[color=#10b981][size=29][b]${l}[/b][/size][/color]

[size=10] [/size]

[size=29][b][img]${i}.jpg[/img][/b][/size]

[color=#10b981][b][size=16]    [/size][/b][/color]

[size=16][color=#10b981][b]Auteur :[/b] ${o}
[b]Année :[/b] ${y}`;return p&&(f+=`
[b]Tome n° [/b]:  ${p}`),c&&(f+=`
[b]Editeur :[/b] ${c}`),f+=`
[b]Nombres de pages [/b]:  ${h}
[b]ISBN [/b]:  ${g}

[size=13][url=${N}][b][color=#1e84cc]Voir >> [img]https://i.imgur.com/vCfx0LD.png[/img][/color][/b][/url][/size]

[b]Synopsis[/b][b] :[/b] [/color]

${u}

[/size]

[size=16]
[color=#10b981][b]Format :[/b][/color] ${n.format}
[color=#10b981][b]Qualité :[/b][/color] ${n.quality}

[color=#10b981][b]Langue :[/b][/color] ${(r.volumeInfo.language||n.language).toUpperCase()}`,w&&(f+=`
[color=#10b981][b]Nom de la release :[/b][/color] ${w}`),d&&(f+=`

[color=#10b981][b]Notes :[/b][/color] [i]${d}[/i]`),n.numberOfFiles&&(f+=`

[color=#10b981][b]Nombre de fichiers :[/b][/color] ${n.numberOfFiles}`),f+=`
[color=#10b981][b]Poids Total :[/b][/color] ${n.fileSize.value} ${n.fileSize.unit}

[/size]
[/center]`,f}generateBBCodeStyle3(t){var E,k;const{book:r,specs:n,coverImage:i}=t,a=n.title||r.volumeInfo.title||"Titre inconnu",l=n.subtitle||r.volumeInfo.subtitle||"",o=this.formatAuthors(n.authors||r.volumeInfo.authors),c=n.publisher||r.volumeInfo.publisher||"",m=n.publishedDate||r.volumeInfo.publishedDate||"",y=n.year||(r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():""),u=this.stripHtml(n.description||r.volumeInfo.description||""),g=n.mainCategory||ci(((E=r.volumeInfo.categories)==null?void 0:E[0])||"")||"",h=n.isbn||this.getISBN(n.industryIdentifiers||r.volumeInfo.industryIdentifiers)||"",N=n.pageCount||r.volumeInfo.pageCount||"",p=r.volumeInfo.infoLink||"",w=n.bookDisplayNumber||((k=r.volumeInfo.seriesInfo)==null?void 0:k.bookDisplayNumber)||"",d=n.edition||"",f=n.source||"",v=n.fileName||"",j=n.notes||"",_=(r.volumeInfo.language||n.language).toUpperCase();let S=`[table][tr][td] [/td][td][table][tr][td][table][tr][td][table][tr][td]
&nbsp; &nbsp; &nbsp; [img width=550]${i}.jpg[/img] &nbsp; &nbsp; &nbsp; [/td][td] [/td][/tr][/table][/td][td][table][tr][td]
    [/td][td]      [/td][/tr][/table][/td][td][table][tr][td][table][tr][td][table][tr][td][color=#3d85c6][size=29] ${a}[/size][/color][/td][/tr][tr][td][table][tr][td]  ${y} - ${kc(g)} - ${N} pages  [/td][td][size=10]   [/size][/td][td] &nbsp; - [url=${p}][img]https://i.imgur.com/vCfx0LD.png[/img][/url] &nbsp; &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][i][color=#c27ba0][size=18][center][b]"${l}"[/b][/center][/size][/color][/i]
[/td][/tr][tr][td] 
[/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Auteurs : &nbsp;[/color][/b][/td][td] ${o}[/td][/tr][tr][td][b][color=#3d85c6]Editeur : &nbsp;[/color][/b][/td][td] ${c}[/td][/tr]`;return d&&m?S+=`[tr][td][b][color=#3d85c6]Edition : &nbsp;[/color][/b][/td][td] ${d}[/td][td][b][color=#3d85c6]Parution : &nbsp;[/color][/b][/td][td] ${m}[/td][/tr]`:d&&!m?S+="[tr][td][b][color=#3d85c6]Edition : &nbsp;[/color][/b][/td][td] ${edition}[/td][/tr]":!d&&m&&(S+="[tr][td][b][color=#3d85c6]Parution : &nbsp;[/color][/b][/td][td] ${publishedDate}[/td][/tr]"),S+=`[tr][td][b][color=#3d85c6][/color][/b][/td][td] [/td][/tr][/table][/td][/tr][tr][td]  [br] [/br][b][color=#3d85c6]Synopsis &nbsp;[br] [/br] [br] [/br][/color][/b][/td][/tr][tr][td]  &nbsp; ${u}[br] [/br][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Format :  &nbsp;[/color][/b][/td][td]${n.format}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Qualité :  &nbsp;[/right][/color][/b][/td][td]${n.quality}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Tome n° : &nbsp;[/color][/b][/td][td]${w}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Source  : &nbsp;[/right][/color][/b][/td][td]&nbsp;${f}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td] [b][color=#3d85c6]Taille totale : &nbsp;[/color][/b][/td][td]${n.fileSize.value} ${n.fileSize.unit}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Nb de fichiers : &nbsp;[/right][/color][/b][/td][td]&nbsp;${n.numberOfFiles||"1"}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6] Langue : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${_}[/size][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][b][color=#3d85c6]ISBN : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${h}[/size][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][/table][/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr]`,v&&(S+=`[tr][td][b][color=#3d85c6]Nom release : &nbsp; [/color][/b] [br] [/br] ${v}[/td][/tr]`),j&&(S+=`[tr][td][b][color=#3d85c6][br] [/br]Notes:  [/color][/b] [br] [/br] ${j}[/td][/tr]`),S+="[/table][/td][/tr][/table]",S}generateHTML(t){var h;const{book:r,specs:n,coverImage:i}=t,a=r.volumeInfo.title||"Titre inconnu",l=this.formatAuthors(r.volumeInfo.authors),o=r.volumeInfo.publisher||"Éditeur inconnu",c=r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():"Année inconnue",m=r.volumeInfo.description||"Aucun synopsis disponible.",y=((h=r.volumeInfo.categories)==null?void 0:h.join(", "))||"Non spécifié",u=this.getISBN(r.volumeInfo.industryIdentifiers),g=r.volumeInfo.pageCount||"Non spécifié";return`<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${a} - Fiche eBook</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #ffffff;
            background: linear-gradient(135deg, #064e3b, #065f46, #047857);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(17, 24, 39, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #10b981;
        }
        h1 {
            color: #10b981;
            font-size: 2.5em;
            margin: 0 0 10px 0;
            font-weight: 700;
        }
        .subtitle {
            color: #9ca3af;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        .cover {
            text-align: center;
            margin: 20px 0;
        }
        .cover img {
            max-width: 200px;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        .section {
            margin: 30px 0;
        }
        .section-title {
            color: #059669;
            font-size: 1.5em;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .info-item {
            background: rgba(31, 41, 55, 0.6);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
        .label {
            color: #10b981;
            font-weight: 600;
            margin-bottom: 5px;
        }
        .value {
            color: #f3f4f6;
        }
        .synopsis {
            background: rgba(31, 41, 55, 0.6);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #10b981;
            margin: 20px 0;
        }
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(75, 85, 99, 0.3);
            color: #9ca3af;
            font-size: 0.9em;
        }
        .notes {
            background: rgba(31, 41, 55, 0.6);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #10b981;
            margin: 20px 0;
            font-style: italic;
        }
        @media print {
            body { background: white; color: black; }
            .container { box-shadow: none; background: white; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>${a}</h1>
            ${r.volumeInfo.subtitle?`<div class="subtitle">${r.volumeInfo.subtitle}</div>`:""}
        </div>

        ${i?`<div class="cover"><img src="${i}" alt="${a}"></div>`:""}

        <div class="section">
            <h2 class="section-title">📚 Informations générales</h2>
            <div class="info-grid">
                <div class="info-item">
                    <div class="label">Auteur(s)</div>
                    <div class="value">${l}</div>
                </div>
                <div class="info-item">
                    <div class="label">Éditeur</div>
                    <div class="value">${o}</div>
                </div>
                <div class="info-item">
                    <div class="label">Année</div>
                    <div class="value">${c}</div>
                </div>
                <div class="info-item">
                    <div class="label">Pages</div>
                    <div class="value">${g}</div>
                </div>
                <div class="info-item">
                    <div class="label">Langue</div>
                    <div class="value">${(r.volumeInfo.language||n.language).toUpperCase()}</div>
                </div>
                <div class="info-item">
                    <div class="label">Catégories</div>
                    <div class="value">${y}</div>
                </div>
                ${u?`<div class="info-item"><div class="label">ISBN</div><div class="value">${u}</div></div>`:""}
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">📖 Synopsis</h2>
            <div class="synopsis">${m}</div>
        </div>

        <div class="section">
            <h2 class="section-title">💾 Spécifications techniques</h2>
            <div class="specs-grid">
${n.fileName?`<div class="info-item"><div class="label">Nom du fichier</div><div class="value">${n.fileName}</div></div>`:""}
                <div class="info-item">
                    <div class="label">Format</div>
                    <div class="value">${n.format}</div>
                </div>
                <div class="info-item">
                    <div class="label">Taille</div>
                    <div class="value">${n.fileSize.value} ${n.fileSize.unit}</div>
                </div>
                <div class="info-item">
                    <div class="label">Qualité</div>
                    <div class="value">${n.quality}</div>
                </div>

${n.source?`<div class="info-item"><div class="label">Source</div><div class="value">${n.source}</div></div>`:""}
                ${n.edition?`<div class="info-item"><div class="label">Édition</div><div class="value">${n.edition}</div></div>`:""}
                ${n.numberOfFiles?`<div class="info-item"><div class="label">Nombre de fichiers</div><div class="value">${n.numberOfFiles}</div></div>`:""}
                ${n.uploadedBy?`<div class="info-item"><div class="label">Uploadé par</div><div class="value">${n.uploadedBy}</div></div>`:""}
            </div>
        </div>

        ${n.notes?`
        <div class="section">
            <h2 class="section-title">📝 Notes</h2>
            <div class="notes">${n.notes}</div>
        </div>`:""}

        <div class="footer">
            Fiche générée avec <strong>FicheGen</strong>
        </div>
    </div>
</body>
</html>`}generateMarkdown(t){var h;const{book:r,specs:n,coverImage:i}=t,a=r.volumeInfo.title||"Titre inconnu",l=this.formatAuthors(r.volumeInfo.authors),o=r.volumeInfo.publisher||"Éditeur inconnu",c=r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():"Année inconnue",m=this.stripHtml(r.volumeInfo.description||""),y=((h=r.volumeInfo.categories)==null?void 0:h.join(", "))||"Non spécifié",u=this.getISBN(r.volumeInfo.industryIdentifiers),g=r.volumeInfo.pageCount||"Non spécifié";return`# ${a}
${r.volumeInfo.subtitle?`## ${r.volumeInfo.subtitle}`:""}

${i?`![${a}](${i})`:""}

## 📚 Informations générales

- **Auteur(s) :** ${l}
- **Éditeur :** ${o}
- **Année de publication :** ${c}
- **Pages :** ${g}
- **Langue :** ${(r.volumeInfo.language||n.language).toUpperCase()}
- **Catégories :** ${y}
${u?`- **ISBN :** ${u}`:""}

## 📖 Synopsis

> ${m||"Aucun synopsis disponible."}

## 💾 Spécifications techniques

${n.fileName?`- **Nom du fichier :** ${n.fileName}
`:""}- **Format :** ${n.format}
- **Taille :** ${n.fileSize.value} ${n.fileSize.unit}
- **Qualité :** ${n.quality}
${n.source?`- **Source :** ${n.source}`:""}
${n.edition?`- **Édition :** ${n.edition}`:""}
${n.numberOfFiles?`- **Nombre de fichiers :** ${n.numberOfFiles}`:""}
${n.uploadedBy?`- **Uploadé par :** ${n.uploadedBy}`:""}

${n.notes?`## 📝 Notes

> ${n.notes}`:""}

---
*Fiche générée avec FicheGen*`}generateText(t){var g;const{book:r,specs:n}=t,i=r.volumeInfo.title||"Titre inconnu",a=this.formatAuthors(r.volumeInfo.authors),l=r.volumeInfo.publisher||"Éditeur inconnu",o=r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():"Année inconnue",c=this.stripHtml(r.volumeInfo.description||""),m=((g=r.volumeInfo.categories)==null?void 0:g.join(", "))||"Non spécifié",y=this.getISBN(r.volumeInfo.industryIdentifiers),u=r.volumeInfo.pageCount||"Non spécifié";return`${i.toUpperCase()}
${r.volumeInfo.subtitle?r.volumeInfo.subtitle:""}

════════════════════════════════════════════════════════════════
INFORMATIONS GÉNÉRALES
════════════════════════════════════════════════════════════════

Auteur(s): ${a}
Éditeur: ${l}
Année de publication: ${o}
Pages: ${u}
Langue: ${(r.volumeInfo.language||n.language).toUpperCase()}
Catégories: ${m}
${y?`ISBN: ${y}`:""}

════════════════════════════════════════════════════════════════
SYNOPSIS
════════════════════════════════════════════════════════════════

${c||"Aucun synopsis disponible."}

════════════════════════════════════════════════════════════════
SPÉCIFICATIONS TECHNIQUES
════════════════════════════════════════════════════════════════

${n.fileName?`Nom du fichier: ${n.fileName}
`:""}Format: ${n.format}
Taille: ${n.fileSize.value} ${n.fileSize.unit}
Qualité: ${n.quality}
${n.source?`Source: ${n.source}`:""}
${n.edition?`Édition: ${n.edition}`:""}
${n.numberOfFiles?`Nombre de fichiers: ${n.numberOfFiles}`:""}
${n.uploadedBy?`Uploadé par: ${n.uploadedBy}`:""}

${n.notes?`════════════════════════════════════════════════════════════════
NOTES
════════════════════════════════════════════════════════════════

${n.notes}

`:""}════════════════════════════════════════════════════════════════
Fiche générée avec FicheGen
════════════════════════════════════════════════════════════════`}formatAuthors(t){return!t||t.length===0?"Auteur inconnu":t.length===1?t[0]:t.length===2?`${t[0]} & ${t[1]}`:t.join(", ")}stripHtml(t){const r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}getISBN(t){if(!t)return null;const r=t.find(a=>a.type==="ISBN_13"),n=t.find(a=>a.type==="ISBN_10"),i=t.find(a=>a.type==="OTHER");return(r==null?void 0:r.identifier)||(n==null?void 0:n.identifier)||(i==null?void 0:i.identifier)||null}}const _s=new dg;function fg({isOpen:e,onClose:t,onCoverChange:r,currentCover:n}){const{t:i}=Fe(),[a,l]=te.useState(""),[o,c]=te.useState(!1);if(!e)return null;const m=u=>{u.preventDefault(),a.trim()&&(r(a.trim()),t(),l(""),c(!1))},y=()=>{t(),l(""),c(!1)};return s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl max-w-md w-full shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[s.jsx(Nr,{className:"w-5 h-5 mr-2 text-emerald-400"}),i("modal.cover.title")]}),s.jsx("button",{onClick:y,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Bt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[n&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:i("modal.cover.current")}),s.jsx("img",{src:n,alt:"Cover actuelle",className:"w-20 h-28 object-cover rounded-lg mx-auto border border-gray-600",onError:u=>{u.currentTarget.src=getPlaceholderSvg()}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i("modal.cover.url")}),s.jsx("input",{type:"url",value:a,onChange:u=>{l(u.target.value),c(!1)},placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",required:!0})]}),a&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:i("modal.cover.preview")}),o?s.jsx("div",{className:"w-20 h-28 bg-gray-800 border border-red-500 rounded-lg mx-auto flex items-center justify-center",children:s.jsx("span",{className:"text-red-400 text-xs text-center px-2",children:i("modal.cover.error")})}):s.jsx("img",{src:a,alt:"Aperçu",className:"w-20 h-28 object-cover rounded-lg mx-auto border border-gray-600",onError:()=>c(!0)})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(li,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-300",children:[s.jsx("p",{className:"font-medium mb-1",children:i("modal.cover.help.title")}),s.jsx("p",{className:"text-blue-300/80",children:i("modal.cover.help.description")})]})]})}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:i("modal.cover.cancel")}),s.jsx("button",{type:"submit",disabled:!a.trim()||o,className:"flex-1 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:i("modal.cover.confirm")})]})]})]})})}function Cc({book:e,ebookSpecs:t,isPreview:r=!1,selectedCover:n,onCoverChange:i}){var $,U,Z,T;const{t:a}=Fe(),[l,o]=te.useState(!1),[c,m]=te.useState(!1),[y,u]=te.useState(!1),g=()=>`data:image/svg+xml;base64,${btoa(`
          <svg width="128" height="192" viewBox="0 0 128 192" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="128" height="192" fill="#374151"/>
                <path d="M32 48h64v8H32v-8zm0 16h64v8H32v-8zm0 16h48v8H32v-8z" fill="#6B7280"/>
                <rect x="48" y="96" width="32" height="32" rx="4" fill="#6B7280"/>
            </svg>

        `)}`,h=()=>{if(n)return n;const L=e.volumeInfo.imageLinks||{};return L.extraLarge||L.large||L.medium||L.small||L.thumbnail||L.smallThumbnail||g()},[N,p]=te.useState(1),w={book:e,specs:t,coverImage:h()},d=t?_s.generateBBCode(w,N):"",f=L=>{p(L)},v=e.volumeInfo.authors||[];v.length>3&&v.slice(0,3),v.length>3;const j=((U=($=e.volumeInfo.industryIdentifiers)==null?void 0:$.find(L=>L.type==="ISBN_13"))==null?void 0:U.identifier)||((T=(Z=e.volumeInfo.industryIdentifiers)==null?void 0:Z.find(L=>L.type==="ISBN_10"))==null?void 0:T.identifier)||"",_=e.volumeInfo.description||"",S=_.length>300?_.slice(0,300)+"...":_,E=L=>`${L.fileSize.value} ${L.fileSize.unit}`,k=L=>{if(!t)return;const b={book:e,specs:t,coverImage:h()};let G="",ne=`${e.volumeInfo.title.replace(/[^a-z0-9]/gi,"_")}`,q="text/plain";switch(L){case"html":G=_s.generateHTML(b),ne+=".html",q="text/html";break;case"markdown":G=_s.generateMarkdown(b),ne+=".md",q="text/markdown";break;case"text":G=_s.generateText(b),ne+=".txt",q="text/plain";break}const P=new Blob([G],{type:q}),A=URL.createObjectURL(P),I=document.createElement("a");I.href=A,I.download=ne,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(A)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-md border border-gray-700/50 rounded-2xl overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-600/20 to-teal-600/20 p-6 border-b border-gray-700/50",children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:h(),alt:e.volumeInfo.title,className:"w-32 h-48 object-cover rounded-lg border border-gray-600/50 shadow-lg group-hover:scale-105 transition-transform duration-300",onError:L=>{L.currentTarget.src=g()}}),i&&!r&&s.jsx("button",{onClick:()=>u(!0),className:"absolute inset-0 bg-black/60 backdrop-blur-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium px-3 py-1 bg-emerald-600 rounded-md",children:a("card.change.poster")})})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2 leading-tight",children:(t==null?void 0:t.title)||e.volumeInfo.title}),((t==null?void 0:t.subtitle)||e.volumeInfo.subtitle)&&s.jsx("h3",{className:"text-xl text-gray-300 mb-3",children:(t==null?void 0:t.subtitle)||e.volumeInfo.subtitle}),((t==null?void 0:t.authors)||v).length>0&&s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(jr,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),s.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[((t==null?void 0:t.authors)||v).slice(0,3).map((L,b)=>s.jsxs("span",{className:"text-emerald-400 font-medium",children:[L,b<Math.min(3,((t==null?void 0:t.authors)||v).length)-1&&", "]},b)),((t==null?void 0:t.authors)||v).length>3&&s.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["+",((t==null?void 0:t.authors)||v).length-3," ",a("ebook.more")]})]})]}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.volumeInfo.averageRating!==void 0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gr,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsxs("span",{className:"text-white font-medium",children:[e.volumeInfo.averageRating,"/5"]}),e.volumeInfo.ratingsCount&&s.jsxs("span",{className:"text-gray-400 text-sm",children:["(",e.volumeInfo.ratingsCount," ",a("ebook.ratings"),")"]})]}),e.volumeInfo.seriesInfo&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ka,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:e.volumeInfo.seriesInfo.bookDisplayNumber})]}),e.volumeInfo.infoLink&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(li,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),s.jsx("a",{href:`https://books.google.fr/books?id=${e.id}&printsec=frontcover&hl=fr&source=gbs_ge_summary_r&cad=0`,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 truncate",children:"Google Book"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[((t==null?void 0:t.year)||(t==null?void 0:t.publishedDate)||e.volumeInfo.publishedDate)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(on,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:(t==null?void 0:t.year)||(t!=null&&t.publishedDate?new Date(t.publishedDate).getFullYear():new Date(e.volumeInfo.publishedDate).getFullYear())})]}),((t==null?void 0:t.publisher)||e.volumeInfo.publisher)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Km,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300 truncate",children:(t==null?void 0:t.publisher)||e.volumeInfo.publisher})]}),((t==null?void 0:t.pageCount)||e.volumeInfo.pageCount)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ka,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-300",children:[(t==null?void 0:t.pageCount)||e.volumeInfo.pageCount," pages"]})]}),e.volumeInfo.language&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nn,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:e.volumeInfo.language.toUpperCase()})]})]}),j&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(qd,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-300",children:["ISBN: ",j]})]})]})]}),!r&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:a("card.export.actions")}),s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[s.jsx(Nr,{className:"w-4 h-4"}),s.jsx("span",{children:a("card.change.poster")})]}),s.jsxs("div",{className:"border-t border-white/10 pt-3",children:[s.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:a("card.export.formats")}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>k("html"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Ci,{className:"w-3 h-3"}),s.jsx("span",{children:"HTML"})]}),s.jsxs("button",{onClick:()=>k("markdown"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(rn,{className:"w-3 h-3"}),s.jsx("span",{children:"MD"})]}),s.jsxs("button",{onClick:()=>k("text"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Wl,{className:"w-3 h-3"}),s.jsx("span",{children:"TXT"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(tn,{className:"w-3 h-3"}),s.jsx("span",{children:"BB"})]})]})]})]})})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[_&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center",children:[s.jsx(_t,{className:"w-5 h-5 mr-2 text-emerald-400"}),a("card.synopsis")]}),s.jsxs("div",{className:"bg-gray-800/60 border border-gray-700/50 rounded-xl p-4",children:[s.jsx("div",{className:`text-gray-300 leading-relaxed ${!l&&_.length>300?"line-clamp-4":""}`,dangerouslySetInnerHTML:{__html:l?_:S}}),_.length>300&&s.jsx("button",{onClick:()=>o(!l),className:"text-emerald-400 hover:text-emerald-300 text-sm font-medium mt-2 transition-colors",children:a(l?"ebook.showLess":"ebook.showMore")})]})]}),e.volumeInfo.categories&&e.volumeInfo.categories.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[s.jsx(Za,{className:"w-5 h-5 mr-2 text-emerald-400"}),a("ebook.categories")]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.volumeInfo.categories.map((L,b)=>s.jsx("span",{className:"px-3 py-1 bg-emerald-600/20 text-emerald-300 rounded-full text-sm border border-emerald-600/30",children:ci(L)},b))})]}),t&&!r&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-6 items-start",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[s.jsx(tn,{className:"w-5 h-5 mr-2 text-emerald-400"}),a("ebook.technical.specs")]}),s.jsxs("div",{className:"bg-gray-800/60 border border-gray-700/50 rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[a("ebook.format")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.format})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[a("ebook.quality")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.quality})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[a("ebook.size")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:E(t)})]}),t.year&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Année :"}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.year})]}),t.edition&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Édition :"}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.edition})]}),t.numberOfFiles&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Nb fichiers :"}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.numberOfFiles})]}),t.fileName&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Nom fichier :"}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.fileName})]}),t.source&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[a("ebook.source")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.source})]}),t.language&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[a("ebook.language")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.language})]})]}),t.notes&&s.jsxs("div",{className:"pt-3 border-t border-gray-700/30",children:[s.jsxs("span",{className:"text-gray-400",children:[a("ebook.notes")," :"]}),s.jsx("p",{className:"text-white mt-1 text-sm",children:t.notes})]})]})]})}),s.jsxs("div",{className:"text-center pt-4 border-t border-gray-700/30",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-400",children:[s.jsx("span",{children:a("card.data.provided")}),s.jsxs("a",{href:e.volumeInfo.canonicalVolumeLink||`https://books.google.com/books?id=${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-emerald-400 hover:text-emerald-300 transition-colors",children:[s.jsx("span",{children:"Google Books"}),s.jsx(li,{className:"w-3 h-3"})]})]}),j&&s.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["ISBN: ",j]})]})]})]}),s.jsx(Xl,{isOpen:c,onClose:()=>m(!1),bbcode:d,title:e.volumeInfo.title,ebookData:e,onStyleChange:f}),s.jsx(fg,{isOpen:y,onClose:()=>u(!1),onCoverChange:L=>{i&&i(L),u(!1)},currentCover:h()})]})}const Sc=["ePUB","CBR","CBZ","PDF","MOBI","AZW3","FB2","TXT","DJVU","Autre"],Ec=["MP3","FLAC","Autre"],Dc=["Original","3200x4307","2560x3361","2100 x 2700","1650x2169","1622x2200","1325x1721","760 x 1060","Autre"],Ic=["320 kbps","160 kbps","128 kbps","64 kbps","Autre"],hg=["Ko","Mo","Go"];function mg({onSave:e,onCancel:t,initialSpecs:r,bookData:n}){var y;const{t:i}=Fe(),[a,l]=te.useState(()=>{var g,h,N,p;const u={isAudiobook:(r==null?void 0:r.isAudiobook)||!1,fileName:(r==null?void 0:r.fileName)||"",fileSize:(r==null?void 0:r.fileSize)||{value:1,unit:"Mo"},format:(r==null?void 0:r.format)||"ePub",quality:(r==null?void 0:r.quality)||"Original",source:(r==null?void 0:r.source)||"",edition:(r==null?void 0:r.edition)||void 0,language:(r==null?void 0:r.language)||"fr",notes:(r==null?void 0:r.notes)||void 0,publisher:(r==null?void 0:r.publisher)||void 0,year:(r==null?void 0:r.year)||new Date().getFullYear(),isbn:(r==null?void 0:r.isbn)||void 0,title:r==null?void 0:r.title,subtitle:r==null?void 0:r.subtitle,authors:r==null?void 0:r.authors,pageCount:r==null?void 0:r.pageCount,description:r==null?void 0:r.description,mainCategory:r==null?void 0:r.mainCategory,bookDisplayNumber:r==null?void 0:r.bookDisplayNumber,numberOfFiles:r==null?void 0:r.numberOfFiles};if(n!=null&&n.volumeInfo){const{volumeInfo:w}=n;if(u.title=w.title,u.subtitle=w.subtitle,u.authors=w.authors,u.publisher=w.publisher,u.publishedDate=w.publishedDate,w.publishedDate&&(u.year=new Date(w.publishedDate).getFullYear()),u.description=w.description,w.industryIdentifiers){u.industryIdentifiers=w.industryIdentifiers.map(v=>({type:v.type,identifier:v.identifier}));const d=(g=w.industryIdentifiers.find(v=>v.type==="ISBN_13"))==null?void 0:g.identifier,f=(h=w.industryIdentifiers.find(v=>v.type==="ISBN_10"))==null?void 0:h.identifier;u.isbn=d||f||((N=w.industryIdentifiers[0])==null?void 0:N.identifier)}u.pageCount=w.pageCount,u.language=w.language||"fr",w.categories&&w.categories.length>0&&(u.mainCategory=ci(w.categories[0])),(p=w.seriesInfo)!=null&&p.bookDisplayNumber&&(u.bookDisplayNumber=w.seriesInfo.bookDisplayNumber)}return u});te.useEffect(()=>{r&&l(u=>({...u,...r,fileSize:r.fileSize||u.fileSize}))},[r]),te.useEffect(()=>{l(u=>{if(u.isAudiobook){const g=Ec.includes(u.format)?u.format:"MP3",h=Ic.includes(u.quality)?u.quality:"320 kbps";return{...u,format:g,quality:h}}else{const g=Sc.includes(u.format)?u.format:"ePub",h=Dc.includes(u.quality)?u.quality:"Original";return{...u,format:g,quality:h}}})},[a.isAudiobook]);const o=(u,g)=>{l(h=>({...h,[u]:g}))},c=(u,g)=>{l(h=>({...h,fileSize:{...h.fileSize,[u]:g}}))},m=u=>{var g,h,N,p,w,d;u.preventDefault(),e({...a,fileName:((g=a.fileName)==null?void 0:g.trim())||"",source:((h=a.source)==null?void 0:h.trim())||"",edition:((N=a.edition)==null?void 0:N.trim())||void 0,notes:((p=a.notes)==null?void 0:p.trim())||void 0,publisher:((w=a.publisher)==null?void 0:w.trim())||void 0,isbn:((d=a.isbn)==null?void 0:d.trim())||void 0})};return s.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800/60 backdrop-blur-sm rounded-2xl p-8 border border-gray-700/50",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors mr-4",children:[s.jsx(Gd,{className:"w-4 h-4"}),s.jsx("span",{children:i("specs.back")})]}),s.jsx(_t,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:i("ebook.specs.title")})]})}),s.jsxs("form",{onSubmit:m,className:"space-y-8",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(rn,{className:"w-5 h-5 mr-2 text-blue-400"}),"Informations sur le fichier"]}),s.jsxs("div",{className:"mb-6 flex items-center justify-end space-x-3",children:[s.jsx("span",{className:"text-white font-medium",children:"Livre audio"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.isAudiobook,onChange:u=>o("isAudiobook",u.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i("ebook.filename")}),s.jsx("input",{type:"text",value:a.fileName,onChange:u=>o("fileName",u.target.value),placeholder:"MonLivre.epub",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i("ebook.size")}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"number",value:a.fileSize.value,onChange:u=>c("value",parseFloat(u.target.value)||0),min:"0",step:"0.1",className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"}),s.jsx("select",{value:a.fileSize.unit,onChange:u=>c("unit",u.target.value),className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-2 py-2 text-white focus:outline-none focus:border-violet-500",children:hg.map(u=>s.jsx("option",{value:u,children:u},u))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i("ebook.format")}),s.jsx("select",{value:a.format,onChange:u=>o("format",u.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:a.isAudiobook?Ec.map(u=>s.jsx("option",{value:u,children:u},u)):Sc.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i("ebook.quality")}),s.jsx("select",{value:a.quality,onChange:u=>o("quality",u.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:a.isAudiobook?Ic.map(u=>s.jsx("option",{value:u,children:u},u)):Dc.map(u=>s.jsx("option",{value:u,children:u},u))})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(Ka,{className:"w-5 h-5 mr-2 text-green-400"}),"Métadonnées du livre"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Titre"}),s.jsx("input",{type:"text",value:a.title||"",onChange:u=>o("title",u.target.value),placeholder:"Titre du livre",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sous-titre"}),s.jsx("input",{type:"text",value:a.subtitle||"",onChange:u=>o("subtitle",u.target.value),placeholder:"Sous-titre (optionnel)",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsx("span",{children:"Auteurs"})]}),s.jsx("input",{type:"text",value:((y=a.authors)==null?void 0:y.join(", "))||"",onChange:u=>o("authors",u.target.value.split(",").map(g=>g.trim())),placeholder:"Séparés par des virgules",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i("ebook.publisher")}),s.jsx("input",{type:"text",value:a.publisher||"",onChange:u=>o("publisher",u.target.value),placeholder:"Nom de l'éditeur",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[s.jsx(on,{className:"w-4 h-4"}),s.jsx("span",{children:i("ebook.year")})]}),s.jsx("input",{type:"number",value:a.year||"",onChange:u=>o("year",u.target.value?parseInt(u.target.value):void 0),placeholder:"2023",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ISBN"}),s.jsx("input",{type:"text",value:a.isbn||"",onChange:u=>o("isbn",u.target.value),placeholder:"978-2-123456-78-9",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Numéro du tome"}),s.jsx("input",{type:"text",value:a.bookDisplayNumber||"",onChange:u=>o("bookDisplayNumber",u.target.value),placeholder:"Tome 1, Volume 2...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i("ebook.edition")}),s.jsx("input",{type:"text",value:a.edition||"",onChange:u=>o("edition",u.target.value),placeholder:"Édition spéciale, révisée...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(nn,{className:"w-4 h-4 inline-block mr-1"}),i("ebook.language")]}),s.jsx("input",{type:"text",value:a.language,onChange:u=>o("language",u.target.value),placeholder:"fr, en, es...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[s.jsx(qd,{className:"w-4 h-4"}),s.jsx("span",{children:"Pages"})]}),s.jsx("input",{type:"number",value:a.pageCount||"",onChange:u=>o("pageCount",u.target.value?parseInt(u.target.value):void 0),placeholder:"Nombre de pages",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[s.jsx(Za,{className:"w-4 h-4"}),s.jsx("span",{children:"Catégorie principale"})]}),s.jsx("input",{type:"text",value:a.mainCategory||"",onChange:u=>o("mainCategory",u.target.value),placeholder:"Genre, catégorie...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date de publication"}),s.jsx("input",{type:"text",value:a.publishedDate||"",onChange:u=>o("publishedDate",u.target.value),placeholder:"YYYY-MM-DD ou YYYY",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(qm,{className:"w-4 h-4 inline-block mr-1"}),"Description"]}),s.jsx("textarea",{value:a.description||"",onChange:u=>o("description",u.target.value),placeholder:"Résumé ou description du livre",rows:5,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(Za,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Informations de la release"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i("ebook.source")}),s.jsx("input",{type:"text",value:a.source||"",onChange:u=>o("source",u.target.value),placeholder:"Source du fichier",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre de fichiers"}),s.jsx("input",{type:"number",value:a.numberOfFiles||"",onChange:u=>o("numberOfFiles",u.target.value?parseInt(u.target.value):void 0),placeholder:"1",min:"1",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(ip,{className:"w-4 h-4 inline-block mr-1"}),i("specs.notes")]}),s.jsx("textarea",{value:a.notes||"",onChange:u=>o("notes",u.target.value),placeholder:i("specs.notes.placeholder"),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:i("ebook.cancel")}),s.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:[s.jsx(Qd,{className:"w-4 h-4"}),s.jsx("span",{children:i("ebook.generate.sheet")})]})]})]})]})}function pg(){const{t:e,language:t}=Fe(),[r,n]=te.useState("movies"),[i,a]=te.useState(""),[l,o]=te.useState(!1),[c,m]=te.useState(!1),[y,u]=te.useState(!1),[g,h]=te.useState(!1),[N,p]=te.useState(!1),[w,d]=te.useState(null),[f,v]=te.useState(null),[j,_]=te.useState(null),[S,E]=te.useState(null),[k,$]=te.useState(null),[U,Z]=te.useState(null),[T,L]=te.useState(null),[b,G]=te.useState(null),[ne,q]=te.useState(null),[P,A]=te.useState(null),[I,M]=te.useState(null);te.useEffect(()=>{const R=localStorage.getItem("tmdb_api_key");R&&(a(R),me.setApiKey(R))},[]);const z=R=>{a(R),localStorage.setItem("tmdb_api_key",R),me.setApiKey(R)},Q=R=>{Z(R)},O=async R=>{d(R),v(null),_(null),E(null),L(R.poster_path),m(!0);try{if(R.media_type==="movie"){const[H,B]=await Promise.all([me.getMovie(R.id,t),me.getMovieCredits(R.id,t)]);v(H),E(B)}else if(R.media_type==="tv"){const[H,B]=await Promise.all([me.getTVShow(R.id,t),me.getTVCredits(R.id,t)]);_(H),E(B)}u(!0)}catch(H){console.error("Erreur lors du chargement des détails:",H)}m(!1)},W=()=>{u(!1),h(!0)},ie=()=>{u(!1),r==="movies"?he():F()},de=te.useCallback((R,H)=>!w||!f&&!j||!S?null:{type:w.media_type,title:(f==null?void 0:f.title)||(j==null?void 0:j.name)||"",year:f?new Date(f.release_date).getFullYear():j?new Date(j.first_air_date).getFullYear():0,poster:H,movieData:f?{...f,poster_path:H}:void 0,tvShowData:j?{...j,poster_path:H}:void 0,credits:S,torrentSpecs:R},[w,f,j,S]),le=R=>{$(R),h(!1),Z(null),["temp_media_data","temp_nfo_content"].forEach(B=>localStorage.removeItem(B));const H=de(R,T);H&&mr.addItem(H),window.scrollTo({top:0,behavior:"smooth"})},oe=()=>{h(!1),u(!0)},he=te.useCallback(()=>{d(null),v(null),_(null),E(null),$(null),h(!1),u(!1),Z(null),L(null),["temp_media_data","temp_nfo_content","temp_movie_data","temp_tv_data"].forEach(R=>localStorage.removeItem(R))},[]),xe=R=>{var H,B,Y,re,ee,X,pe,ce,Ge,Ot,tt,Ut;if(R.type==="book")n("books"),G(R.bookData||null),q(R.bookData||null),A(R.ebookSpecs||null),M(R.poster),u(!1),h(!1),Z(null);else{const Ne={id:((H=R.movieData)==null?void 0:H.id)||((B=R.tvShowData)==null?void 0:B.id)||0,title:(Y=R.movieData)==null?void 0:Y.title,name:(re=R.tvShowData)==null?void 0:re.name,media_type:R.type,poster_path:R.poster,backdrop_path:((ee=R.movieData)==null?void 0:ee.backdrop_path)||((X=R.tvShowData)==null?void 0:X.backdrop_path)||null,release_date:(pe=R.movieData)==null?void 0:pe.release_date,first_air_date:(ce=R.tvShowData)==null?void 0:ce.first_air_date,vote_average:((Ge=R.movieData)==null?void 0:Ge.vote_average)||((Ot=R.tvShowData)==null?void 0:Ot.vote_average)||0,overview:((tt=R.movieData)==null?void 0:tt.overview)||((Ut=R.tvShowData)==null?void 0:Ut.overview)||""};d(Ne),v(R.movieData||null),_(R.tvShowData||null),E(R.credits),$(R.torrentSpecs),L(R.poster),h(!1),u(!1),Z(null)}},Ae=R=>{if(L(R),w&&d({...w,poster_path:R}),k){const H=de(k,R);H&&mr.addItem(H)}};te.useCallback(()=>{u(!0)},[]);const Be=R=>{if(j){const H=j.seasons.find(B=>B.season_number===R);if(H){const B={...j,name:`${j.name} - ${H.name}`,overview:H.overview||j.overview,poster_path:H.poster_path||j.poster_path,first_air_date:H.air_date||j.first_air_date,number_of_episodes:H.episode_count,selectedSeason:H};_(B),L(H.poster_path||j.poster_path),u(!1),h(!0)}}},x=async R=>{G(R),m(!0);try{const H=await qr.getVolumeDetails(R.id);q(H),M(qr.getHighQualityImage(H.volumeInfo.imageLinks));const B=localStorage.getItem(`ebook_specs_${H.id}`);if(B)try{A(JSON.parse(B))}catch(Y){console.error("Error parsing saved specs:",Y)}else A(null);u(!0)}catch(H){console.error("Error fetching book details:",H),q(R),M(qr.getHighQualityImage(R.volumeInfo.imageLinks));const B=localStorage.getItem(`ebook_specs_${R.id}`);if(B)try{A(JSON.parse(B))}catch(Y){console.error("Error parsing saved specs:",Y)}else A(null);u(!0)}m(!1)},K=R=>{if(A(R),h(!1),ne&&localStorage.setItem(`ebook_specs_${ne.id}`,JSON.stringify(R)),ne){const H={type:"book",title:ne.volumeInfo.title,year:ne.volumeInfo.publishedDate?new Date(ne.volumeInfo.publishedDate).getFullYear():0,poster:I,bookData:ne,ebookSpecs:R};mr.addItem(H)}window.scrollTo({top:0,behavior:"smooth"})},V=()=>{h(!1),u(!0)},D=R=>{M(R)},C=R=>{R!==r&&(n(R),F())},F=()=>{d(null),v(null),_(null),E(null),$(null),L(null),Z(null),G(null),q(null),A(null),M(null),u(!1),h(!1),m(!1)};return s.jsxs("div",{className:`min-h-screen relative overflow-hidden flex flex-col transition-all duration-500 ${r==="books"?"bg-gradient-to-br from-emerald-900 via-green-900 to-teal-900":"bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900"}`,children:[s.jsx("div",{className:`absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] via-transparent to-transparent pointer-events-none transition-colors duration-500 ${r==="books"?"from-emerald-400/20":"from-purple-400/20"}`}),s.jsx("div",{className:`absolute top-1/4 left-1/4 w-96 h-96 rounded-full blur-3xl animate-pulse pointer-events-none transition-colors duration-500 ${r==="books"?"bg-emerald-500/10":"bg-violet-500/10"}`}),s.jsx("div",{className:`absolute bottom-1/4 right-1/4 w-80 h-80 rounded-full blur-3xl animate-pulse delay-1000 pointer-events-none transition-colors duration-500 ${r==="books"?"bg-green-500/10":"bg-blue-500/10"}`}),s.jsx("header",{className:"border-b border-white/10 bg-black/30 backdrop-blur-md sticky top-0 z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("a",{href:"/fichegen/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer",onClick:()=>window.location.reload(),children:[s.jsx("div",{className:"p-2 bg-violet-600 rounded-xl",children:s.jsx(dc,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:e("header.title")}),s.jsx("p",{className:"text-gray-400 text-sm",children:e("header.subtitle")})]})]}),s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:s.jsxs("div",{className:"flex items-center bg-gray-800/60 border border-gray-700/50 rounded-xl p-1",children:[s.jsxs("button",{onClick:()=>C("movies"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${r==="movies"?"bg-violet-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[s.jsx(dc,{className:"w-4 h-4"}),s.jsx("span",{children:e("nav.movies")})]}),s.jsxs("button",{onClick:()=>C("books"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${r==="books"?"bg-emerald-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[s.jsx(_t,{className:"w-4 h-4"}),s.jsx("span",{children:e("nav.books")})]}),s.jsxs("button",{onClick:()=>window.open("https://jukop22.github.io/ziknfo/","_blank"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 text-gray-300 hover:text-white hover:bg-gray-700/60",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"w-4 h-4 feather feather-music",children:[s.jsx("path",{d:"M9 18V5l12-2v13"}),s.jsx("circle",{cx:"6",cy:"18",r:"3"}),s.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),s.jsx("span",{children:"Audio"})]})]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(lg,{}),s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors",children:[s.jsx(Qa,{className:"w-4 h-4"}),s.jsx("span",{children:e("history.button")})]}),s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors",children:[s.jsx(ap,{className:"w-4 h-4"}),s.jsx("span",{children:"API"})]})]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8 relative z-10 flex-1",children:[!y&&!g&&!w&&!b&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:`text-5xl md:text-6xl font-bold bg-clip-text text-transparent mb-6 leading-tight ${r==="books"?"bg-gradient-to-r from-emerald-400 via-green-400 to-teal-400":"bg-gradient-to-r from-violet-400 via-purple-400 to-blue-400"}`,children:[e(r==="books"?"ebook.create":"app.create"),s.jsx("br",{}),s.jsx("span",{className:"text-4xl md:text-5xl",children:e(r==="books"?"ebook.professional":"app.professional")})]}),s.jsx("div",{className:`w-24 h-1 mx-auto mb-6 rounded-full ${r==="books"?"bg-gradient-to-r from-emerald-500 to-teal-500":"bg-gradient-to-r from-violet-500 to-blue-500"}`})]}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:e(r==="books"?"ebook.description":"app.description")})]}),r==="movies"?s.jsx(Up,{onResultSelect:O,onTechnicalSpecsFound:Q,apiKey:i,language:t}):s.jsx(ug,{onBookSelect:x,language:t})]}),c&&s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"inline-flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-500"}),s.jsx("span",{className:"text-white text-lg",children:e("app.loading")})]})}),g&&(w||b)&&!y&&s.jsxs("div",{className:"mb-8",children:[U&&r==="movies"&&s.jsx("div",{className:"mb-6 bg-green-500/10 border border-green-500/30 rounded-xl p-4",children:s.jsxs("p",{className:"text-green-300",children:[s.jsx("strong",{children:e("app.specs.detected")})," ",e("app.specs.message")]})}),r==="movies"?s.jsx(ig,{onSave:le,onCancel:oe,initialSpecs:U||(k?{video:k.video,audio:k.audio,subtitles:k.subtitles,source:k.source,releaseGroup:k.releaseGroup}:void 0)}):s.jsx(mg,{onSave:K,onCancel:V,bookData:ne,initialSpecs:P})]}),y&&(w||b)&&!c&&!g&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[r==="books"?s.jsx(_t,{className:"w-6 h-6 text-emerald-400"}):(w==null?void 0:w.media_type)==="movie"?s.jsx(kt,{className:"w-6 h-6 text-violet-400"}):s.jsx($t,{className:"w-6 h-6 text-violet-400"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:e("app.preview.title")})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:ie,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.preview.change")}),s.jsx("button",{onClick:W,className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:e("app.preview.continue")})]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 mb-6",children:s.jsxs("p",{className:"text-blue-300",children:[s.jsx("strong",{children:e("app.preview.check")})," ",e("app.preview.verify")]})}),f&&S&&s.jsx(xc,{movie:f,credits:S,isPreview:!0,selectedPoster:T,onPosterChange:Ae}),j&&S&&r==="movies"&&s.jsx(vc,{tvShow:j,credits:S,isPreview:!0,selectedPoster:T,onPosterChange:Ae,onSeasonSelect:Be}),r==="books"&&b&&ne&&s.jsx(Cc,{book:ne,isPreview:!0,selectedCover:I,onCoverChange:D})]}),w&&!c&&!g&&!y&&k&&r==="movies"&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[w.media_type==="movie"?s.jsx(kt,{className:"w-6 h-6 text-violet-400"}):s.jsx($t,{className:"w-6 h-6 text-violet-400"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:e("app.sheet.generated")})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors",children:e("app.sheet.edit.specs")}),s.jsx("button",{onClick:he,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.sheet.new")})]})]}),f&&S&&s.jsx(xc,{movie:f,credits:S,torrentSpecs:k,selectedPoster:T,onPosterChange:Ae}),j&&S&&s.jsx(vc,{tvShow:j,credits:S,torrentSpecs:k,selectedPoster:T,onPosterChange:Ae})]}),ne&&!c&&!g&&!y&&P&&r==="books"&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_t,{className:"w-6 h-6 text-emerald-400"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:e("ebook.sheet.generated")})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors",children:e("app.sheet.edit.specs")}),s.jsx("button",{onClick:F,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.sheet.new")})]})]}),s.jsx(Cc,{book:ne,ebookSpecs:P,selectedCover:I,onCoverChange:D})]}),!w&&!ne&&!c&&!g&&!y&&s.jsxs("div",{className:"text-center py-20",children:[s.jsxs("div",{className:"mb-12",children:[r==="movies"?s.jsxs("div",{className:"flex justify-center space-x-6 mb-8",children:[s.jsx("div",{className:"p-6 bg-gradient-to-br from-violet-500/20 to-purple-600/20 rounded-3xl backdrop-blur-sm border border-violet-400/20 shadow-2xl",children:s.jsx(kt,{className:"w-16 h-16 text-violet-400"})}),s.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-500/20 to-cyan-600/20 rounded-3xl backdrop-blur-sm border border-blue-400/20 shadow-2xl",children:s.jsx($t,{className:"w-16 h-16 text-blue-400"})})]}):s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("div",{className:"p-6 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 rounded-3xl backdrop-blur-sm border border-emerald-400/20 shadow-2xl",children:s.jsx(_t,{className:"w-16 h-16 text-emerald-400"})})}),s.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-4",children:e(r==="books"?"ebook.ready.title":"app.ready.title")}),s.jsx("p",{className:"text-gray-300 text-lg max-w-lg mx-auto",children:e(r==="books"?"ebook.ready.description":"app.ready.description")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:r==="movies"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 backdrop-blur-sm border border-green-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-green-400/30",children:s.jsx("span",{className:"text-green-400 text-3xl font-bold",children:"1"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step1")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step1.desc")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-600/10 backdrop-blur-sm border border-blue-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400/20 to-cyan-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-blue-400/30",children:s.jsx("span",{className:"text-blue-400 text-3xl font-bold",children:"2"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step2")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step2.desc")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-violet-500/10 to-purple-600/10 backdrop-blur-sm border border-violet-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-400/20 to-purple-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-violet-400/30",children:s.jsx("span",{className:"text-violet-400 text-3xl font-bold",children:"3"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step3")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step3.desc")})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-green-600/10 backdrop-blur-sm border border-emerald-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-400/20 to-green-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-emerald-400/30",children:s.jsx("span",{className:"text-emerald-400 text-3xl font-bold",children:"1"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("ebook.step1")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("ebook.step1.desc")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-teal-500/10 to-cyan-600/10 backdrop-blur-sm border border-teal-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-400/20 to-cyan-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-teal-400/30",children:s.jsx("span",{className:"text-teal-400 text-3xl font-bold",children:"2"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("ebook.step2")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("ebook.step2.desc")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 backdrop-blur-sm border border-green-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-green-400/30",children:s.jsx("span",{className:"text-green-400 text-3xl font-bold",children:"3"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("ebook.step3")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("ebook.step3.desc")})]})]})})]})]}),s.jsx("footer",{className:"border-t border-white/10 bg-black/30 backdrop-blur-md mt-auto relative",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-300 text-sm font-medium",children:e("footer.version")})})})}),s.jsx(ag,{isOpen:l,onClose:()=>o(!1),onSave:z,currentApiKey:i}),s.jsx(og,{isOpen:N,onClose:()=>p(!1),currentMode:r,onSelectItem:xe})]})}function gg(){return s.jsx(Op,{children:s.jsx(pg,{})})}Vd(document.getElementById("root")).render(s.jsx(te.StrictMode,{children:s.jsx(gg,{})}));
