var Gp=Object.defineProperty;var qp=(e,t,r)=>t in e?Gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var xn=(e,t,r)=>qp(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Md={exports:{}},va={},zd={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),Kp=Symbol.for("react.portal"),Yp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),Xp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),rg=Symbol.for("react.memo"),ng=Symbol.for("react.lazy"),Qc=Symbol.iterator;function sg(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var Fd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Od=Object.assign,Bd={};function Yn(e,t,r){this.props=e,this.context=t,this.refs=Bd,this.updater=r||Fd}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ld(){}Ld.prototype=Yn.prototype;function jl(e,t,r){this.props=e,this.context=t,this.refs=Bd,this.updater=r||Fd}var kl=jl.prototype=new Ld;kl.constructor=jl;Od(kl,Yn.prototype);kl.isPureReactComponent=!0;var Xc=Array.isArray,Ud=Object.prototype.hasOwnProperty,Cl={current:null},Hd={key:!0,ref:!0,__self:!0,__source:!0};function Vd(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ud.call(t,n)&&!Hd.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ks,type:e,key:i,ref:o,props:a,_owner:Cl.current}}function ig(e,t){return{$$typeof:Ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ks}function ag(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jc=/\/+/g;function Wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ag(""+e.key):t.toString(36)}function Ei(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ks:case Kp:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Wa(o,0):n,Xc(a)?(r="",e!=null&&(r=e.replace(Jc,"$&/")+"/"),Ei(a,t,r,"",function(f){return f})):a!=null&&(Sl(a)&&(a=ig(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Jc,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Xc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Wa(i,l);o+=Ei(i,t,r,c,a)}else if(c=sg(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Wa(i,l++),o+=Ei(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ai(e,t,r){if(e==null)return e;var n=[],a=0;return Ei(e,n,"","",function(i){return t.call(r,i,a++)}),n}function og(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Di={transition:null},lg={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Di,ReactCurrentOwner:Cl};function Wd(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:ai,forEach:function(e,t,r){ai(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ai(e,function(){t++}),t},toArray:function(e){return ai(e,function(t){return t})||[]},only:function(e){if(!Sl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Yn;Se.Fragment=Yp;Se.Profiler=Qp;Se.PureComponent=jl;Se.StrictMode=Zp;Se.Suspense=tg;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lg;Se.act=Wd;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Od({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Cl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ud.call(t,c)&&!Hd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];n.children=l}return{$$typeof:Ks,type:e.type,key:a,ref:i,props:n,_owner:o}};Se.createContext=function(e){return e={$$typeof:Jp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xp,_context:e},e.Consumer=e};Se.createElement=Vd;Se.createFactory=function(e){var t=Vd.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:eg,render:e}};Se.isValidElement=Sl;Se.lazy=function(e){return{$$typeof:ng,_payload:{_status:-1,_result:e},_init:og}};Se.memo=function(e,t){return{$$typeof:rg,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Di.transition;Di.transition={};try{e()}finally{Di.transition=t}};Se.unstable_act=Wd;Se.useCallback=function(e,t){return ht.current.useCallback(e,t)};Se.useContext=function(e){return ht.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};Se.useEffect=function(e,t){return ht.current.useEffect(e,t)};Se.useId=function(){return ht.current.useId()};Se.useImperativeHandle=function(e,t,r){return ht.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return ht.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return ht.current.useReducer(e,t,r)};Se.useRef=function(e){return ht.current.useRef(e)};Se.useState=function(e){return ht.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return ht.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return ht.current.useTransition()};Se.version="18.3.1";zd.exports=Se;var M=zd.exports;const rt=Pd(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=M,ug=Symbol.for("react.element"),dg=Symbol.for("react.fragment"),fg=Object.prototype.hasOwnProperty,hg=cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mg={key:!0,ref:!0,__self:!0,__source:!0};function Gd(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)fg.call(t,n)&&!mg.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:ug,type:e,key:i,ref:o,props:a,_owner:hg.current}}va.Fragment=dg;va.jsx=Gd;va.jsxs=Gd;Md.exports=va;var s=Md.exports,qd={exports:{}},Ct={},Kd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,P){var F=ee.length;ee.push(P);e:for(;0<F;){var O=F-1>>>1,B=ee[O];if(0<a(B,P))ee[O]=P,ee[F]=B,F=O;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var P=ee[0],F=ee.pop();if(F!==P){ee[0]=F;e:for(var O=0,B=ee.length,he=B>>>1;O<he;){var ue=2*(O+1)-1,ce=ee[ue],z=ue+1,ie=ee[z];if(0>a(ce,F))z<B&&0>a(ie,ce)?(ee[O]=ie,ee[z]=F,O=z):(ee[O]=ce,ee[ue]=F,O=ue);else if(z<B&&0>a(ie,F))ee[O]=ie,ee[z]=F,O=z;else break e}}return P}function a(ee,P){var F=ee.sortIndex-P.sortIndex;return F!==0?F:ee.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],f=[],g=1,u=null,v=3,d=!1,b=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(ee){for(var P=r(f);P!==null;){if(P.callback===null)n(f);else if(P.startTime<=ee)n(f),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(f)}}function _(ee){if(m=!1,x(ee),!b)if(r(c)!==null)b=!0,ve(k);else{var P=r(f);P!==null&&G(_,P.startTime-ee)}}function k(ee,P){b=!1,m&&(m=!1,h(S),S=-1),d=!0;var F=v;try{for(x(P),u=r(c);u!==null&&(!(u.expirationTime>P)||ee&&!me());){var O=u.callback;if(typeof O=="function"){u.callback=null,v=u.priorityLevel;var B=O(u.expirationTime<=P);P=e.unstable_now(),typeof B=="function"?u.callback=B:u===r(c)&&n(c),x(P)}else n(c);u=r(c)}if(u!==null)var he=!0;else{var ue=r(f);ue!==null&&G(_,ue.startTime-P),he=!1}return he}finally{u=null,v=F,d=!1}}var E=!1,$=null,S=-1,R=5,V=-1;function me(){return!(e.unstable_now()-V<R)}function T(){if($!==null){var ee=e.unstable_now();V=ee;var P=!0;try{P=$(!0,ee)}finally{P?U():(E=!1,$=null)}}else E=!1}var U;if(typeof p=="function")U=function(){p(T)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Z=N.port2;N.port1.onmessage=T,U=function(){Z.postMessage(null)}}else U=function(){w(T,0)};function ve(ee){$=ee,E||(E=!0,U())}function G(ee,P){S=w(function(){ee(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){b||d||(b=!0,ve(k))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var P=3;break;default:P=v}var F=v;v=P;try{return ee()}finally{v=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,P){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var F=v;v=ee;try{return P()}finally{v=F}},e.unstable_scheduleCallback=function(ee,P,F){var O=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?O+F:O):F=O,ee){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,ee={id:g++,callback:P,priorityLevel:ee,startTime:F,expirationTime:B,sortIndex:-1},F>O?(ee.sortIndex=F,t(f,ee),r(c)===null&&ee===r(f)&&(m?(h(S),S=-1):m=!0,G(_,F-O))):(ee.sortIndex=B,t(c,ee),b||d||(b=!0,ve(k))),ee},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(ee){var P=v;return function(){var F=v;v=P;try{return ee.apply(this,arguments)}finally{v=F}}}})(Yd);Kd.exports=Yd;var pg=Kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=M,kt=pg;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zd=new Set,Ss={};function ln(e,t){Bn(e,t),Bn(e+"Capture",t)}function Bn(e,t){for(Ss[e]=t,e=0;e<t.length;e++)Zd.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=Object.prototype.hasOwnProperty,xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eu={},tu={};function vg(e){return Co.call(tu,e)?!0:Co.call(eu,e)?!1:xg.test(e)?tu[e]=!0:(eu[e]=!0,!1)}function yg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bg(e,t,r,n){if(t===null||typeof t>"u"||yg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function Dl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(El,Dl);st[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(El,Dl);st[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(El,Dl);st[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function $l(e,t,r,n){var a=st.hasOwnProperty(t)?st[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bg(t,r,a,n)&&(r=null),n||a===null?vg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var br=gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oi=Symbol.for("react.element"),yn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),Tl=Symbol.for("react.strict_mode"),So=Symbol.for("react.profiler"),Qd=Symbol.for("react.provider"),Xd=Symbol.for("react.context"),Il=Symbol.for("react.forward_ref"),Eo=Symbol.for("react.suspense"),Do=Symbol.for("react.suspense_list"),Al=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),Jd=Symbol.for("react.offscreen"),ru=Symbol.iterator;function ns(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Ga;function hs(e){if(Ga===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ga=t&&t[1]||""}return`
`+Ga+e}var qa=!1;function Ka(e,t){if(!e||qa)return"";qa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var a=f.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{qa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hs(e):""}function wg(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=Ka(e.type,!1),e;case 11:return e=Ka(e.type.render,!1),e;case 1:return e=Ka(e.type,!0),e;default:return""}}function $o(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bn:return"Fragment";case yn:return"Portal";case So:return"Profiler";case Tl:return"StrictMode";case Eo:return"Suspense";case Do:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xd:return(e.displayName||"Context")+".Consumer";case Qd:return(e._context.displayName||"Context")+".Provider";case Il:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Al:return t=e.displayName||null,t!==null?t:$o(e.type)||"Memo";case jr:t=e._payload,e=e._init;try{return $o(e(t))}catch{}}return null}function _g(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $o(t);case 8:return t===Tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ef(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ng(e){var t=ef(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function li(e){e._valueTracker||(e._valueTracker=Ng(e))}function tf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ef(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function To(e,t){var r=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rf(e,t){t=t.checked,t!=null&&$l(e,"checked",t,!1)}function Io(e,t){rf(e,t);var r=Fr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ao(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ao(e,t.type,Fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function su(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ao(e,t,r){(t!=="number"||Hi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ms=Array.isArray;function Tn(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(ms(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fr(r)}}function nf(e,t){var r=Fr(t.value),n=Fr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function au(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ci,af=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ci=ci||document.createElement("div"),ci.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ci.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Es(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jg=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(e){jg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xs[t]=xs[e]})});function of(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xs.hasOwnProperty(e)&&xs[e]?(""+t).trim():t+"px"}function lf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=of(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var kg=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mo(e,t){if(t){if(kg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function zo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=null;function Rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oo=null,In=null,An=null;function ou(e){if(e=Qs(e)){if(typeof Oo!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Na(t),Oo(e.stateNode,e.type,t))}}function cf(e){In?An?An.push(e):An=[e]:In=e}function uf(){if(In){var e=In,t=An;if(An=In=null,ou(e),t)for(e=0;e<t.length;e++)ou(t[e])}}function df(e,t){return e(t)}function ff(){}var Ya=!1;function hf(e,t,r){if(Ya)return e(t,r);Ya=!0;try{return df(e,t,r)}finally{Ya=!1,(In!==null||An!==null)&&(ff(),uf())}}function Ds(e,t){var r=e.stateNode;if(r===null)return null;var n=Na(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var Bo=!1;if(mr)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Bo=!1}function Cg(e,t,r,n,a,i,o,l,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(g){this.onError(g)}}var vs=!1,Vi=null,Wi=!1,Lo=null,Sg={onError:function(e){vs=!0,Vi=e}};function Eg(e,t,r,n,a,i,o,l,c){vs=!1,Vi=null,Cg.apply(Sg,arguments)}function Dg(e,t,r,n,a,i,o,l,c){if(Eg.apply(this,arguments),vs){if(vs){var f=Vi;vs=!1,Vi=null}else throw Error(fe(198));Wi||(Wi=!0,Lo=f)}}function cn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(cn(e)!==e)throw Error(fe(188))}function $g(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return lu(a),e;if(i===n)return lu(a),t;i=i.sibling}throw Error(fe(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function pf(e){return e=$g(e),e!==null?gf(e):null}function gf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gf(e);if(t!==null)return t;e=e.sibling}return null}var xf=kt.unstable_scheduleCallback,cu=kt.unstable_cancelCallback,Tg=kt.unstable_shouldYield,Ig=kt.unstable_requestPaint,Ge=kt.unstable_now,Ag=kt.unstable_getCurrentPriorityLevel,Pl=kt.unstable_ImmediatePriority,vf=kt.unstable_UserBlockingPriority,Gi=kt.unstable_NormalPriority,Rg=kt.unstable_LowPriority,yf=kt.unstable_IdlePriority,ya=null,tr=null;function Pg(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Fg,Mg=Math.log,zg=Math.LN2;function Fg(e){return e>>>=0,e===0?32:31-(Mg(e)/zg|0)|0}var ui=64,di=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=ps(l):(i&=o,i!==0&&(n=ps(i)))}else o=r&~a,o!==0?n=ps(o):i!==0&&(n=ps(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Lt(t),a=1<<r,n|=e[r],t&=~a;return n}function Og(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Lt(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=Og(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Uo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bf(){var e=ui;return ui<<=1,!(ui&4194240)&&(ui=64),e}function Za(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ys(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=r}function Lg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Lt(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Ml(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Lt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ae=0;function wf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _f,zl,Nf,jf,kf,Ho=!1,fi=[],$r=null,Tr=null,Ir=null,$s=new Map,Ts=new Map,Cr=[],Ug="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(e,t){switch(e){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(t.pointerId)}}function is(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Qs(t),t!==null&&zl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Hg(e,t,r,n,a){switch(t){case"focusin":return $r=is($r,e,t,r,n,a),!0;case"dragenter":return Tr=is(Tr,e,t,r,n,a),!0;case"mouseover":return Ir=is(Ir,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return $s.set(i,is($s.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ts.set(i,is(Ts.get(i)||null,e,t,r,n,a)),!0}return!1}function Cf(e){var t=Yr(e.target);if(t!==null){var r=cn(t);if(r!==null){if(t=r.tag,t===13){if(t=mf(r),t!==null){e.blockedOn=t,kf(e.priority,function(){Nf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fo=n,r.target.dispatchEvent(n),Fo=null}else return t=Qs(r),t!==null&&zl(t),e.blockedOn=r,!1;t.shift()}return!0}function du(e,t,r){$i(e)&&r.delete(t)}function Vg(){Ho=!1,$r!==null&&$i($r)&&($r=null),Tr!==null&&$i(Tr)&&(Tr=null),Ir!==null&&$i(Ir)&&(Ir=null),$s.forEach(du),Ts.forEach(du)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,Ho||(Ho=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,Vg)))}function Is(e){function t(a){return as(a,e)}if(0<fi.length){as(fi[0],e);for(var r=1;r<fi.length;r++){var n=fi[r];n.blockedOn===e&&(n.blockedOn=null)}}for($r!==null&&as($r,e),Tr!==null&&as(Tr,e),Ir!==null&&as(Ir,e),$s.forEach(t),Ts.forEach(t),r=0;r<Cr.length;r++)n=Cr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Cr.length&&(r=Cr[0],r.blockedOn===null);)Cf(r),r.blockedOn===null&&Cr.shift()}var Rn=br.ReactCurrentBatchConfig,Ki=!0;function Wg(e,t,r,n){var a=Ae,i=Rn.transition;Rn.transition=null;try{Ae=1,Fl(e,t,r,n)}finally{Ae=a,Rn.transition=i}}function Gg(e,t,r,n){var a=Ae,i=Rn.transition;Rn.transition=null;try{Ae=4,Fl(e,t,r,n)}finally{Ae=a,Rn.transition=i}}function Fl(e,t,r,n){if(Ki){var a=Vo(e,t,r,n);if(a===null)ao(e,t,n,Yi,r),uu(e,n);else if(Hg(a,e,t,r,n))n.stopPropagation();else if(uu(e,n),t&4&&-1<Ug.indexOf(e)){for(;a!==null;){var i=Qs(a);if(i!==null&&_f(i),i=Vo(e,t,r,n),i===null&&ao(e,t,n,Yi,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ao(e,t,n,null,r)}}var Yi=null;function Vo(e,t,r,n){if(Yi=null,e=Rl(n),e=Yr(e),e!==null)if(t=cn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yi=e,null}function Sf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ag()){case Pl:return 1;case vf:return 4;case Gi:case Rg:return 16;case yf:return 536870912;default:return 16}default:return 16}}var Er=null,Ol=null,Ti=null;function Ef(){if(Ti)return Ti;var e,t=Ol,r=t.length,n,a="value"in Er?Er.value:Er.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Ti=a.slice(e,1<n?1-n:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hi(){return!0}function fu(){return!1}function St(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hi:fu,this.isPropagationStopped=fu,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=St(Zn),Zs=Ve({},Zn,{view:0,detail:0}),qg=St(Zs),Qa,Xa,os,ba=Ve({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&e.type==="mousemove"?(Qa=e.screenX-os.screenX,Xa=e.screenY-os.screenY):Xa=Qa=0,os=e),Qa)},movementY:function(e){return"movementY"in e?e.movementY:Xa}}),hu=St(ba),Kg=Ve({},ba,{dataTransfer:0}),Yg=St(Kg),Zg=Ve({},Zs,{relatedTarget:0}),Ja=St(Zg),Qg=Ve({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xg=St(Qg),Jg=Ve({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e0=St(Jg),t0=Ve({},Zn,{data:0}),mu=St(t0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s0[e])?!!t[e]:!1}function Ll(){return i0}var a0=Ve({},Zs,{key:function(e){if(e.key){var t=r0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o0=St(a0),l0=Ve({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=St(l0),c0=Ve({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),u0=St(c0),d0=Ve({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),f0=St(d0),h0=Ve({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=St(h0),p0=[9,13,27,32],Ul=mr&&"CompositionEvent"in window,ys=null;mr&&"documentMode"in document&&(ys=document.documentMode);var g0=mr&&"TextEvent"in window&&!ys,Df=mr&&(!Ul||ys&&8<ys&&11>=ys),gu=" ",xu=!1;function $f(e,t){switch(e){case"keyup":return p0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function x0(e,t){switch(e){case"compositionend":return Tf(t);case"keypress":return t.which!==32?null:(xu=!0,gu);case"textInput":return e=t.data,e===gu&&xu?null:e;default:return null}}function v0(e,t){if(wn)return e==="compositionend"||!Ul&&$f(e,t)?(e=Ef(),Ti=Ol=Er=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Df&&t.locale!=="ko"?null:t.data;default:return null}}var y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y0[e.type]:t==="textarea"}function If(e,t,r,n){cf(n),t=Zi(t,"onChange"),0<t.length&&(r=new Bl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bs=null,As=null;function b0(e){Hf(e,0)}function wa(e){var t=jn(e);if(tf(t))return e}function w0(e,t){if(e==="change")return t}var Af=!1;if(mr){var eo;if(mr){var to="oninput"in document;if(!to){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),to=typeof yu.oninput=="function"}eo=to}else eo=!1;Af=eo&&(!document.documentMode||9<document.documentMode)}function bu(){bs&&(bs.detachEvent("onpropertychange",Rf),As=bs=null)}function Rf(e){if(e.propertyName==="value"&&wa(As)){var t=[];If(t,As,e,Rl(e)),hf(b0,t)}}function _0(e,t,r){e==="focusin"?(bu(),bs=t,As=r,bs.attachEvent("onpropertychange",Rf)):e==="focusout"&&bu()}function N0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa(As)}function j0(e,t){if(e==="click")return wa(t)}function k0(e,t){if(e==="input"||e==="change")return wa(t)}function C0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:C0;function Rs(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Co.call(t,a)||!Ht(e[a],t[a]))return!1}return!0}function wu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,t){var r=wu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wu(r)}}function Pf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mf(){for(var e=window,t=Hi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hi(e.document)}return t}function Hl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function S0(e){var t=Mf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pf(r.ownerDocument.documentElement,r)){if(n!==null&&Hl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=_u(r,i);var o=_u(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var E0=mr&&"documentMode"in document&&11>=document.documentMode,_n=null,Wo=null,ws=null,Go=!1;function Nu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Go||_n==null||_n!==Hi(n)||(n=_n,"selectionStart"in n&&Hl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ws&&Rs(ws,n)||(ws=n,n=Zi(Wo,"onSelect"),0<n.length&&(t=new Bl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_n)))}function mi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nn={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionend:mi("Transition","TransitionEnd")},ro={},zf={};mr&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function _a(e){if(ro[e])return ro[e];if(!Nn[e])return e;var t=Nn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zf)return ro[e]=t[r];return e}var Ff=_a("animationend"),Of=_a("animationiteration"),Bf=_a("animationstart"),Lf=_a("transitionend"),Uf=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){Uf.set(e,t),ln(t,[e])}for(var no=0;no<ju.length;no++){var so=ju[no],D0=so.toLowerCase(),$0=so[0].toUpperCase()+so.slice(1);Br(D0,"on"+$0)}Br(Ff,"onAnimationEnd");Br(Of,"onAnimationIteration");Br(Bf,"onAnimationStart");Br("dblclick","onDoubleClick");Br("focusin","onFocus");Br("focusout","onBlur");Br(Lf,"onTransitionEnd");Bn("onMouseEnter",["mouseout","mouseover"]);Bn("onMouseLeave",["mouseout","mouseover"]);Bn("onPointerEnter",["pointerout","pointerover"]);Bn("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function ku(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Dg(n,t,void 0,e),e.currentTarget=null}function Hf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,f=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;ku(a,l,f),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,f=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;ku(a,l,f),i=c}}}if(Wi)throw e=Lo,Wi=!1,Lo=null,e}function ze(e,t){var r=t[Qo];r===void 0&&(r=t[Qo]=new Set);var n=e+"__bubble";r.has(n)||(Vf(t,e,2,!1),r.add(n))}function io(e,t,r){var n=0;t&&(n|=4),Vf(r,e,n,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Ps(e){if(!e[pi]){e[pi]=!0,Zd.forEach(function(r){r!=="selectionchange"&&(T0.has(r)||io(r,!1,e),io(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,io("selectionchange",!1,t))}}function Vf(e,t,r,n){switch(Sf(t)){case 1:var a=Wg;break;case 4:a=Gg;break;default:a=Fl}r=a.bind(null,t,r,e),a=void 0,!Bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ao(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Yr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}hf(function(){var f=i,g=Rl(r),u=[];e:{var v=Uf.get(e);if(v!==void 0){var d=Bl,b=e;switch(e){case"keypress":if(Ii(r)===0)break e;case"keydown":case"keyup":d=o0;break;case"focusin":b="focus",d=Ja;break;case"focusout":b="blur",d=Ja;break;case"beforeblur":case"afterblur":d=Ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=u0;break;case Ff:case Of:case Bf:d=Xg;break;case Lf:d=f0;break;case"scroll":d=qg;break;case"wheel":d=m0;break;case"copy":case"cut":case"paste":d=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=pu}var m=(t&4)!==0,w=!m&&e==="scroll",h=m?v!==null?v+"Capture":null:v;m=[];for(var p=f,x;p!==null;){x=p;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,h!==null&&(_=Ds(p,h),_!=null&&m.push(Ms(p,_,x)))),w)break;p=p.return}0<m.length&&(v=new d(v,b,null,r,g),u.push({event:v,listeners:m}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",v&&r!==Fo&&(b=r.relatedTarget||r.fromElement)&&(Yr(b)||b[pr]))break e;if((d||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,d?(b=r.relatedTarget||r.toElement,d=f,b=b?Yr(b):null,b!==null&&(w=cn(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(d=null,b=f),d!==b)){if(m=hu,_="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(m=pu,_="onPointerLeave",h="onPointerEnter",p="pointer"),w=d==null?v:jn(d),x=b==null?v:jn(b),v=new m(_,p+"leave",d,r,g),v.target=w,v.relatedTarget=x,_=null,Yr(g)===f&&(m=new m(h,p+"enter",b,r,g),m.target=x,m.relatedTarget=w,_=m),w=_,d&&b)t:{for(m=d,h=b,p=0,x=m;x;x=vn(x))p++;for(x=0,_=h;_;_=vn(_))x++;for(;0<p-x;)m=vn(m),p--;for(;0<x-p;)h=vn(h),x--;for(;p--;){if(m===h||h!==null&&m===h.alternate)break t;m=vn(m),h=vn(h)}m=null}else m=null;d!==null&&Cu(u,v,d,m,!1),b!==null&&w!==null&&Cu(u,w,b,m,!0)}}e:{if(v=f?jn(f):window,d=v.nodeName&&v.nodeName.toLowerCase(),d==="select"||d==="input"&&v.type==="file")var k=w0;else if(vu(v))if(Af)k=k0;else{k=N0;var E=_0}else(d=v.nodeName)&&d.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(k=j0);if(k&&(k=k(e,f))){If(u,k,r,g);break e}E&&E(e,v,f),e==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&Ao(v,"number",v.value)}switch(E=f?jn(f):window,e){case"focusin":(vu(E)||E.contentEditable==="true")&&(_n=E,Wo=f,ws=null);break;case"focusout":ws=Wo=_n=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,Nu(u,r,g);break;case"selectionchange":if(E0)break;case"keydown":case"keyup":Nu(u,r,g)}var $;if(Ul)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else wn?$f(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Df&&r.locale!=="ko"&&(wn||S!=="onCompositionStart"?S==="onCompositionEnd"&&wn&&($=Ef()):(Er=g,Ol="value"in Er?Er.value:Er.textContent,wn=!0)),E=Zi(f,S),0<E.length&&(S=new mu(S,e,null,r,g),u.push({event:S,listeners:E}),$?S.data=$:($=Tf(r),$!==null&&(S.data=$)))),($=g0?x0(e,r):v0(e,r))&&(f=Zi(f,"onBeforeInput"),0<f.length&&(g=new mu("onBeforeInput","beforeinput",null,r,g),u.push({event:g,listeners:f}),g.data=$))}Hf(u,t)})}function Ms(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zi(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ds(e,r),i!=null&&n.unshift(Ms(e,i,a)),i=Ds(e,t),i!=null&&n.push(Ms(e,i,a))),e=e.return}return n}function vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cu(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,f=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&f!==null&&(l=f,a?(c=Ds(r,i),c!=null&&o.unshift(Ms(r,c,l))):a||(c=Ds(r,i),c!=null&&o.push(Ms(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var I0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function Su(e){return(typeof e=="string"?e:""+e).replace(I0,`
`).replace(A0,"")}function gi(e,t,r){if(t=Su(t),Su(e)!==t&&r)throw Error(fe(425))}function Qi(){}var qo=null,Ko=null;function Yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zo=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,Eu=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof Eu<"u"?function(e){return Eu.resolve(null).then(e).catch(M0)}:Zo;function M0(e){setTimeout(function(){throw e})}function oo(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Is(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Is(t)}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Du(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Qn,zs="__reactProps$"+Qn,pr="__reactContainer$"+Qn,Qo="__reactEvents$"+Qn,z0="__reactListeners$"+Qn,F0="__reactHandles$"+Qn;function Yr(e){var t=e[Jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pr]||r[Jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Du(e);e!==null;){if(r=e[Jt])return r;e=Du(e)}return t}e=r,r=e.parentNode}return null}function Qs(e){return e=e[Jt]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Na(e){return e[zs]||null}var Xo=[],kn=-1;function Lr(e){return{current:e}}function Fe(e){0>kn||(e.current=Xo[kn],Xo[kn]=null,kn--)}function Me(e,t){kn++,Xo[kn]=e.current,e.current=t}var Or={},lt=Lr(Or),yt=Lr(!1),en=Or;function Ln(e,t){var r=e.type.contextTypes;if(!r)return Or;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bt(e){return e=e.childContextTypes,e!=null}function Xi(){Fe(yt),Fe(lt)}function $u(e,t,r){if(lt.current!==Or)throw Error(fe(168));Me(lt,t),Me(yt,r)}function Wf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(fe(108,_g(e)||"Unknown",a));return Ve({},r,n)}function Ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,en=lt.current,Me(lt,e),Me(yt,yt.current),!0}function Tu(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=Wf(e,t,en),n.__reactInternalMemoizedMergedChildContext=e,Fe(yt),Fe(lt),Me(lt,e)):Fe(yt),Me(yt,r)}var or=null,ja=!1,lo=!1;function Gf(e){or===null?or=[e]:or.push(e)}function O0(e){ja=!0,Gf(e)}function Ur(){if(!lo&&or!==null){lo=!0;var e=0,t=Ae;try{var r=or;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}or=null,ja=!1}catch(a){throw or!==null&&(or=or.slice(e+1)),xf(Pl,Ur),a}finally{Ae=t,lo=!1}}return null}var Cn=[],Sn=0,ea=null,ta=0,Et=[],Dt=0,tn=null,lr=1,cr="";function qr(e,t){Cn[Sn++]=ta,Cn[Sn++]=ea,ea=e,ta=t}function qf(e,t,r){Et[Dt++]=lr,Et[Dt++]=cr,Et[Dt++]=tn,tn=e;var n=lr;e=cr;var a=32-Lt(n)-1;n&=~(1<<a),r+=1;var i=32-Lt(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,lr=1<<32-Lt(t)+a|r<<a|n,cr=i+e}else lr=1<<i|r<<a|n,cr=e}function Vl(e){e.return!==null&&(qr(e,1),qf(e,1,0))}function Wl(e){for(;e===ea;)ea=Cn[--Sn],Cn[Sn]=null,ta=Cn[--Sn],Cn[Sn]=null;for(;e===tn;)tn=Et[--Dt],Et[Dt]=null,cr=Et[--Dt],Et[Dt]=null,lr=Et[--Dt],Et[Dt]=null}var jt=null,Nt=null,Be=!1,Ot=null;function Kf(e,t){var r=$t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Iu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,Nt=Ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tn!==null?{id:lr,overflow:cr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,jt=e,Nt=null,!0):!1;default:return!1}}function Jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function el(e){if(Be){var t=Nt;if(t){var r=t;if(!Iu(e,t)){if(Jo(e))throw Error(fe(418));t=Ar(r.nextSibling);var n=jt;t&&Iu(e,t)?Kf(n,r):(e.flags=e.flags&-4097|2,Be=!1,jt=e)}}else{if(Jo(e))throw Error(fe(418));e.flags=e.flags&-4097|2,Be=!1,jt=e}}}function Au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function xi(e){if(e!==jt)return!1;if(!Be)return Au(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yo(e.type,e.memoizedProps)),t&&(t=Nt)){if(Jo(e))throw Yf(),Error(fe(418));for(;t;)Kf(e,t),t=Ar(t.nextSibling)}if(Au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nt=Ar(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=jt?Ar(e.stateNode.nextSibling):null;return!0}function Yf(){for(var e=Nt;e;)e=Ar(e.nextSibling)}function Un(){Nt=jt=null,Be=!1}function Gl(e){Ot===null?Ot=[e]:Ot.push(e)}var B0=br.ReactCurrentBatchConfig;function ls(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ru(e){var t=e._init;return t(e._payload)}function Zf(e){function t(h,p){if(e){var x=h.deletions;x===null?(h.deletions=[p],h.flags|=16):x.push(p)}}function r(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function n(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function a(h,p){return h=zr(h,p),h.index=0,h.sibling=null,h}function i(h,p,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<p?(h.flags|=2,p):x):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,x,_){return p===null||p.tag!==6?(p=go(x,h.mode,_),p.return=h,p):(p=a(p,x),p.return=h,p)}function c(h,p,x,_){var k=x.type;return k===bn?g(h,p,x.props.children,_,x.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===jr&&Ru(k)===p.type)?(_=a(p,x.props),_.ref=ls(h,p,x),_.return=h,_):(_=Oi(x.type,x.key,x.props,null,h.mode,_),_.ref=ls(h,p,x),_.return=h,_)}function f(h,p,x,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=xo(x,h.mode,_),p.return=h,p):(p=a(p,x.children||[]),p.return=h,p)}function g(h,p,x,_,k){return p===null||p.tag!==7?(p=Jr(x,h.mode,_,k),p.return=h,p):(p=a(p,x),p.return=h,p)}function u(h,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=go(""+p,h.mode,x),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case oi:return x=Oi(p.type,p.key,p.props,null,h.mode,x),x.ref=ls(h,null,p),x.return=h,x;case yn:return p=xo(p,h.mode,x),p.return=h,p;case jr:var _=p._init;return u(h,_(p._payload),x)}if(ms(p)||ns(p))return p=Jr(p,h.mode,x,null),p.return=h,p;vi(h,p)}return null}function v(h,p,x,_){var k=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:l(h,p,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oi:return x.key===k?c(h,p,x,_):null;case yn:return x.key===k?f(h,p,x,_):null;case jr:return k=x._init,v(h,p,k(x._payload),_)}if(ms(x)||ns(x))return k!==null?null:g(h,p,x,_,null);vi(h,x)}return null}function d(h,p,x,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return h=h.get(x)||null,l(p,h,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case oi:return h=h.get(_.key===null?x:_.key)||null,c(p,h,_,k);case yn:return h=h.get(_.key===null?x:_.key)||null,f(p,h,_,k);case jr:var E=_._init;return d(h,p,x,E(_._payload),k)}if(ms(_)||ns(_))return h=h.get(x)||null,g(p,h,_,k,null);vi(p,_)}return null}function b(h,p,x,_){for(var k=null,E=null,$=p,S=p=0,R=null;$!==null&&S<x.length;S++){$.index>S?(R=$,$=null):R=$.sibling;var V=v(h,$,x[S],_);if(V===null){$===null&&($=R);break}e&&$&&V.alternate===null&&t(h,$),p=i(V,p,S),E===null?k=V:E.sibling=V,E=V,$=R}if(S===x.length)return r(h,$),Be&&qr(h,S),k;if($===null){for(;S<x.length;S++)$=u(h,x[S],_),$!==null&&(p=i($,p,S),E===null?k=$:E.sibling=$,E=$);return Be&&qr(h,S),k}for($=n(h,$);S<x.length;S++)R=d($,h,S,x[S],_),R!==null&&(e&&R.alternate!==null&&$.delete(R.key===null?S:R.key),p=i(R,p,S),E===null?k=R:E.sibling=R,E=R);return e&&$.forEach(function(me){return t(h,me)}),Be&&qr(h,S),k}function m(h,p,x,_){var k=ns(x);if(typeof k!="function")throw Error(fe(150));if(x=k.call(x),x==null)throw Error(fe(151));for(var E=k=null,$=p,S=p=0,R=null,V=x.next();$!==null&&!V.done;S++,V=x.next()){$.index>S?(R=$,$=null):R=$.sibling;var me=v(h,$,V.value,_);if(me===null){$===null&&($=R);break}e&&$&&me.alternate===null&&t(h,$),p=i(me,p,S),E===null?k=me:E.sibling=me,E=me,$=R}if(V.done)return r(h,$),Be&&qr(h,S),k;if($===null){for(;!V.done;S++,V=x.next())V=u(h,V.value,_),V!==null&&(p=i(V,p,S),E===null?k=V:E.sibling=V,E=V);return Be&&qr(h,S),k}for($=n(h,$);!V.done;S++,V=x.next())V=d($,h,S,V.value,_),V!==null&&(e&&V.alternate!==null&&$.delete(V.key===null?S:V.key),p=i(V,p,S),E===null?k=V:E.sibling=V,E=V);return e&&$.forEach(function(T){return t(h,T)}),Be&&qr(h,S),k}function w(h,p,x,_){if(typeof x=="object"&&x!==null&&x.type===bn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case oi:e:{for(var k=x.key,E=p;E!==null;){if(E.key===k){if(k=x.type,k===bn){if(E.tag===7){r(h,E.sibling),p=a(E,x.props.children),p.return=h,h=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===jr&&Ru(k)===E.type){r(h,E.sibling),p=a(E,x.props),p.ref=ls(h,E,x),p.return=h,h=p;break e}r(h,E);break}else t(h,E);E=E.sibling}x.type===bn?(p=Jr(x.props.children,h.mode,_,x.key),p.return=h,h=p):(_=Oi(x.type,x.key,x.props,null,h.mode,_),_.ref=ls(h,p,x),_.return=h,h=_)}return o(h);case yn:e:{for(E=x.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(h,p.sibling),p=a(p,x.children||[]),p.return=h,h=p;break e}else{r(h,p);break}else t(h,p);p=p.sibling}p=xo(x,h.mode,_),p.return=h,h=p}return o(h);case jr:return E=x._init,w(h,p,E(x._payload),_)}if(ms(x))return b(h,p,x,_);if(ns(x))return m(h,p,x,_);vi(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(h,p.sibling),p=a(p,x),p.return=h,h=p):(r(h,p),p=go(x,h.mode,_),p.return=h,h=p),o(h)):r(h,p)}return w}var Hn=Zf(!0),Qf=Zf(!1),ra=Lr(null),na=null,En=null,ql=null;function Kl(){ql=En=na=null}function Yl(e){var t=ra.current;Fe(ra),e._currentValue=t}function tl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pn(e,t){na=e,ql=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(ql!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(na===null)throw Error(fe(308));En=e,na.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var Zr=null;function Zl(e){Zr===null?Zr=[e]:Zr.push(e)}function Xf(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Zl(t)):(r.next=a.next,a.next=r),t.interleaved=r,gr(e,n)}function gr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kr=!1;function Ql(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,gr(e,r)}return a=n.interleaved,a===null?(t.next=t,Zl(n)):(t.next=a.next,a.next=t),n.interleaved=t,gr(e,r)}function Ai(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ml(e,r)}}function Pu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sa(e,t,r,n){var a=e.updateQueue;kr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,f=c.next;c.next=null,o===null?i=f:o.next=f,o=c;var g=e.alternate;g!==null&&(g=g.updateQueue,l=g.lastBaseUpdate,l!==o&&(l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;o=0,g=f=c=null,l=i;do{var v=l.lane,d=l.eventTime;if((n&v)===v){g!==null&&(g=g.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,m=l;switch(v=t,d=r,m.tag){case 1:if(b=m.payload,typeof b=="function"){u=b.call(d,u,v);break e}u=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=m.payload,v=typeof b=="function"?b.call(d,u,v):b,v==null)break e;u=Ve({},u,v);break e;case 2:kr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=a.effects,v===null?a.effects=[l]:v.push(l))}else d={eventTime:d,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},g===null?(f=g=d,c=u):g=g.next=d,o|=v;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;v=l,l=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(!0);if(g===null&&(c=u),a.baseState=c,a.firstBaseUpdate=f,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);nn|=o,e.lanes=o,e.memoizedState=u}}function Mu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(fe(191,a));a.call(n)}}}var Xs={},rr=Lr(Xs),Fs=Lr(Xs),Os=Lr(Xs);function Qr(e){if(e===Xs)throw Error(fe(174));return e}function Xl(e,t){switch(Me(Os,t),Me(Fs,e),Me(rr,Xs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Po(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Po(t,e)}Fe(rr),Me(rr,t)}function Vn(){Fe(rr),Fe(Fs),Fe(Os)}function eh(e){Qr(Os.current);var t=Qr(rr.current),r=Po(t,e.type);t!==r&&(Me(Fs,e),Me(rr,r))}function Jl(e){Fs.current===e&&(Fe(rr),Fe(Fs))}var Le=Lr(0);function ia(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function ec(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var Ri=br.ReactCurrentDispatcher,uo=br.ReactCurrentBatchConfig,rn=0,Ue=null,Ze=null,Xe=null,aa=!1,_s=!1,Bs=0,L0=0;function it(){throw Error(fe(321))}function tc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ht(e[r],t[r]))return!1;return!0}function rc(e,t,r,n,a,i){if(rn=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ri.current=e===null||e.memoizedState===null?W0:G0,e=r(n,a),_s){i=0;do{if(_s=!1,Bs=0,25<=i)throw Error(fe(301));i+=1,Xe=Ze=null,t.updateQueue=null,Ri.current=q0,e=r(n,a)}while(_s)}if(Ri.current=oa,t=Ze!==null&&Ze.next!==null,rn=0,Xe=Ze=Ue=null,aa=!1,t)throw Error(fe(300));return e}function nc(){var e=Bs!==0;return Bs=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function At(){if(Ze===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=Xe===null?Ue.memoizedState:Xe.next;if(t!==null)Xe=t,Ze=e;else{if(e===null)throw Error(fe(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Ls(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=At(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=Ze,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,f=i;do{var g=f.lane;if((rn&g)===g)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:e(n,f.action);else{var u={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(l=c=u,o=n):c=c.next=u,Ue.lanes|=g,nn|=g}f=f.next}while(f!==null&&f!==i);c===null?o=n:c.next=l,Ht(n,t.memoizedState)||(vt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ue.lanes|=i,nn|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ho(e){var t=At(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ht(i,t.memoizedState)||(vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function th(){}function rh(e,t){var r=Ue,n=At(),a=t(),i=!Ht(n.memoizedState,a);if(i&&(n.memoizedState=a,vt=!0),n=n.queue,sc(ih.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,Us(9,sh.bind(null,r,n,a,t),void 0,null),et===null)throw Error(fe(349));rn&30||nh(r,t,a)}return a}function nh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sh(e,t,r,n){t.value=r,t.getSnapshot=n,ah(t)&&oh(e)}function ih(e,t,r){return r(function(){ah(t)&&oh(e)})}function ah(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ht(e,r)}catch{return!0}}function oh(e){var t=gr(e,1);t!==null&&Ut(t,e,1,-1)}function zu(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:e},t.queue=e,e=e.dispatch=V0.bind(null,Ue,e),[t.memoizedState,e]}function Us(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lh(){return At().memoizedState}function Pi(e,t,r,n){var a=Xt();Ue.flags|=e,a.memoizedState=Us(1|t,r,void 0,n===void 0?null:n)}function ka(e,t,r,n){var a=At();n=n===void 0?null:n;var i=void 0;if(Ze!==null){var o=Ze.memoizedState;if(i=o.destroy,n!==null&&tc(n,o.deps)){a.memoizedState=Us(t,r,i,n);return}}Ue.flags|=e,a.memoizedState=Us(1|t,r,i,n)}function Fu(e,t){return Pi(8390656,8,e,t)}function sc(e,t){return ka(2048,8,e,t)}function ch(e,t){return ka(4,2,e,t)}function uh(e,t){return ka(4,4,e,t)}function dh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fh(e,t,r){return r=r!=null?r.concat([e]):null,ka(4,4,dh.bind(null,t,e),r)}function ic(){}function hh(e,t){var r=At();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mh(e,t){var r=At();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ph(e,t,r){return rn&21?(Ht(r,t)||(r=bf(),Ue.lanes|=r,nn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=r)}function U0(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=uo.transition;uo.transition={};try{e(!1),t()}finally{Ae=r,uo.transition=n}}function gh(){return At().memoizedState}function H0(e,t,r){var n=Mr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xh(e))vh(t,r);else if(r=Xf(e,t,r,n),r!==null){var a=ft();Ut(r,e,n,a),yh(r,t,n)}}function V0(e,t,r){var n=Mr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xh(e))vh(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ht(l,o)){var c=t.interleaved;c===null?(a.next=a,Zl(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Xf(e,t,a,n),r!==null&&(a=ft(),Ut(r,e,n,a),yh(r,t,n))}}function xh(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function vh(e,t){_s=aa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ml(e,r)}}var oa={readContext:It,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},W0={readContext:It,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Fu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pi(4194308,4,dh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var r=Xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=H0.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:zu,useDebugValue:ic,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=zu(!1),t=e[0];return e=U0.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,a=Xt();if(Be){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),et===null)throw Error(fe(349));rn&30||nh(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Fu(ih.bind(null,n,i,e),[e]),n.flags|=2048,Us(9,sh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xt(),t=et.identifierPrefix;if(Be){var r=cr,n=lr;r=(n&~(1<<32-Lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=L0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},G0={readContext:It,useCallback:hh,useContext:It,useEffect:sc,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:mh,useReducer:fo,useRef:lh,useState:function(){return fo(Ls)},useDebugValue:ic,useDeferredValue:function(e){var t=At();return ph(t,Ze.memoizedState,e)},useTransition:function(){var e=fo(Ls)[0],t=At().memoizedState;return[e,t]},useMutableSource:th,useSyncExternalStore:rh,useId:gh,unstable_isNewReconciler:!1},q0={readContext:It,useCallback:hh,useContext:It,useEffect:sc,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:mh,useReducer:ho,useRef:lh,useState:function(){return ho(Ls)},useDebugValue:ic,useDeferredValue:function(e){var t=At();return Ze===null?t.memoizedState=e:ph(t,Ze.memoizedState,e)},useTransition:function(){var e=ho(Ls)[0],t=At().memoizedState;return[e,t]},useMutableSource:th,useSyncExternalStore:rh,useId:gh,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ca={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ft(),a=Mr(e),i=dr(n,a);i.payload=t,r!=null&&(i.callback=r),t=Rr(e,i,a),t!==null&&(Ut(t,e,a,n),Ai(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ft(),a=Mr(e),i=dr(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Rr(e,i,a),t!==null&&(Ut(t,e,a,n),Ai(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ft(),n=Mr(e),a=dr(r,n);a.tag=2,t!=null&&(a.callback=t),t=Rr(e,a,n),t!==null&&(Ut(t,e,n,r),Ai(t,e,n))}};function Ou(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Rs(r,n)||!Rs(a,i):!0}function bh(e,t,r){var n=!1,a=Or,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(a=bt(t)?en:lt.current,n=t.contextTypes,i=(n=n!=null)?Ln(e,a):Or),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ca,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ca.enqueueReplaceState(t,t.state,null)}function nl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ql(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=It(i):(i=bt(t)?en:lt.current,a.context=Ln(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rl(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ca.enqueueReplaceState(a,a.state,null),sa(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var r="",n=t;do r+=wg(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function mo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function wh(e,t,r){r=dr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ca||(ca=!0,ml=n),sl(e,t)},r}function _h(e,t,r){r=dr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){sl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sl(e,t),typeof n!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Lu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new K0;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=lx.bind(null,e,t,r),t.then(e,e))}function Uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hu(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dr(-1,1),t.tag=2,Rr(r,t,1))),r.lanes|=1),e)}var Y0=br.ReactCurrentOwner,vt=!1;function dt(e,t,r,n){t.child=e===null?Qf(t,null,r,n):Hn(t,e.child,r,n)}function Vu(e,t,r,n,a){r=r.render;var i=t.ref;return Pn(t,a),n=rc(e,t,r,n,i,a),r=nc(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xr(e,t,a)):(Be&&r&&Vl(t),t.flags|=1,dt(e,t,n,a),t.child)}function Wu(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!hc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Nh(e,t,i,n,a)):(e=Oi(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Rs,r(o,n)&&e.ref===t.ref)return xr(e,t,a)}return t.flags|=1,e=zr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Nh(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Rs(i,n)&&e.ref===t.ref)if(vt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,xr(e,t,a)}return il(e,t,r,n,a)}function jh(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me($n,_t),_t|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me($n,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Me($n,_t),_t|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Me($n,_t),_t|=n;return dt(e,t,a,r),t.child}function kh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function il(e,t,r,n,a){var i=bt(r)?en:lt.current;return i=Ln(t,i),Pn(t,a),r=rc(e,t,r,n,i,a),n=nc(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xr(e,t,a)):(Be&&n&&Vl(t),t.flags|=1,dt(e,t,r,a),t.child)}function Gu(e,t,r,n,a){if(bt(r)){var i=!0;Ji(t)}else i=!1;if(Pn(t,a),t.stateNode===null)Mi(e,t),bh(t,r,n),nl(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,f=r.contextType;typeof f=="object"&&f!==null?f=It(f):(f=bt(r)?en:lt.current,f=Ln(t,f));var g=r.getDerivedStateFromProps,u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==f)&&Bu(t,o,n,f),kr=!1;var v=t.memoizedState;o.state=v,sa(t,n,o,a),c=t.memoizedState,l!==n||v!==c||yt.current||kr?(typeof g=="function"&&(rl(t,r,g,n),c=t.memoizedState),(l=kr||Ou(t,r,l,n,v,c,f))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=f,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Jf(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:zt(t.type,l),o.props=f,u=t.pendingProps,v=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=It(c):(c=bt(r)?en:lt.current,c=Ln(t,c));var d=r.getDerivedStateFromProps;(g=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||v!==c)&&Bu(t,o,n,c),kr=!1,v=t.memoizedState,o.state=v,sa(t,n,o,a);var b=t.memoizedState;l!==u||v!==b||yt.current||kr?(typeof d=="function"&&(rl(t,r,d,n),b=t.memoizedState),(f=kr||Ou(t,r,f,n,v,b,c)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=f):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return al(e,t,r,n,i,a)}function al(e,t,r,n,a,i){kh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Tu(t,r,!1),xr(e,t,i);n=t.stateNode,Y0.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Hn(t,e.child,null,i),t.child=Hn(t,null,l,i)):dt(e,t,l,i),t.memoizedState=n.state,a&&Tu(t,r,!0),t.child}function Ch(e){var t=e.stateNode;t.pendingContext?$u(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$u(e,t.context,!1),Xl(e,t.containerInfo)}function qu(e,t,r,n,a){return Un(),Gl(a),t.flags|=256,dt(e,t,r,n),t.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sh(e,t,r){var n=t.pendingProps,a=Le.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Me(Le,a&1),e===null)return el(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Da(o,n,0,null),e=Jr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ll(r),t.memoizedState=ol,e):ac(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Z0(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=zr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=zr(l,i):(i=Jr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ll(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ol,n}return i=e.child,e=i.sibling,n=zr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ac(e,t){return t=Da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yi(e,t,r,n){return n!==null&&Gl(n),Hn(t,e.child,null,r),e=ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z0(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=mo(Error(fe(422))),yi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Da({mode:"visible",children:n.children},a,0,null),i=Jr(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Hn(t,e.child,null,o),t.child.memoizedState=ll(o),t.memoizedState=ol,i);if(!(t.mode&1))return yi(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(fe(419)),n=mo(i,n,void 0),yi(e,t,o,n)}if(l=(o&e.childLanes)!==0,vt||l){if(n=et,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,gr(e,a),Ut(n,e,a,-1))}return fc(),n=mo(Error(fe(421))),yi(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cx.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Nt=Ar(a.nextSibling),jt=t,Be=!0,Ot=null,e!==null&&(Et[Dt++]=lr,Et[Dt++]=cr,Et[Dt++]=tn,lr=e.id,cr=e.overflow,tn=t),t=ac(t,n.children),t.flags|=4096,t)}function Ku(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tl(e.return,t,r)}function po(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Eh(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(dt(e,t,n.children,r),n=Le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ku(e,r,t);else if(e.tag===19)Ku(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Me(Le,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ia(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),po(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ia(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}po(t,!0,r,null,i);break;case"together":po(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=zr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Q0(e,t,r){switch(t.tag){case 3:Ch(t),Un();break;case 5:eh(t);break;case 1:bt(t.type)&&Ji(t);break;case 4:Xl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Me(ra,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Me(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?Sh(e,t,r):(Me(Le,Le.current&1),e=xr(e,t,r),e!==null?e.sibling:null);Me(Le,Le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Eh(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Me(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,jh(e,t,r)}return xr(e,t,r)}var Dh,cl,$h,Th;Dh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cl=function(){};$h=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Qr(rr.current);var i=null;switch(r){case"input":a=To(e,a),n=To(e,n),i=[];break;case"select":a=Ve({},a,{value:void 0}),n=Ve({},n,{value:void 0}),i=[];break;case"textarea":a=Ro(e,a),n=Ro(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qi)}Mo(r,n);var o;r=null;for(f in a)if(!n.hasOwnProperty(f)&&a.hasOwnProperty(f)&&a[f]!=null)if(f==="style"){var l=a[f];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ss.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in n){var c=n[f];if(l=a!=null?a[f]:void 0,n.hasOwnProperty(f)&&c!==l&&(c!=null||l!=null))if(f==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(f,r)),r=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ss.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ze("scroll",e),i||l===c||(i=[])):(i=i||[]).push(f,c))}r&&(i=i||[]).push("style",r);var f=i;(t.updateQueue=f)&&(t.flags|=4)}};Th=function(e,t,r,n){r!==n&&(t.flags|=4)};function cs(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function X0(e,t,r){var n=t.pendingProps;switch(Wl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return bt(t.type)&&Xi(),at(t),null;case 3:return n=t.stateNode,Vn(),Fe(yt),Fe(lt),ec(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(xl(Ot),Ot=null))),cl(e,t),at(t),null;case 5:Jl(t);var a=Qr(Os.current);if(r=t.type,e!==null&&t.stateNode!=null)$h(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return at(t),null}if(e=Qr(rr.current),xi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Jt]=t,n[zs]=i,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<gs.length;a++)ze(gs[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":nu(n,i),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ze("invalid",n);break;case"textarea":iu(n,i),ze("invalid",n)}Mo(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&gi(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gi(n.textContent,l,e),a=["children",""+l]):Ss.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ze("scroll",n)}switch(r){case"input":li(n),su(n,i,!0);break;case"textarea":li(n),au(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Qi)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Jt]=t,e[zs]=n,Dh(e,t,!1,!1),t.stateNode=e;e:{switch(o=zo(r,n),r){case"dialog":ze("cancel",e),ze("close",e),a=n;break;case"iframe":case"object":case"embed":ze("load",e),a=n;break;case"video":case"audio":for(a=0;a<gs.length;a++)ze(gs[a],e);a=n;break;case"source":ze("error",e),a=n;break;case"img":case"image":case"link":ze("error",e),ze("load",e),a=n;break;case"details":ze("toggle",e),a=n;break;case"input":nu(e,n),a=To(e,n),ze("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ve({},n,{value:void 0}),ze("invalid",e);break;case"textarea":iu(e,n),a=Ro(e,n),ze("invalid",e);break;default:a=n}Mo(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?lf(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&af(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Es(e,c):typeof c=="number"&&Es(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ss.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ze("scroll",e):c!=null&&$l(e,i,c,o))}switch(r){case"input":li(e),su(e,n,!1);break;case"textarea":li(e),au(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Tn(e,!!n.multiple,i,!1):n.defaultValue!=null&&Tn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Qi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)Th(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Qr(Os.current),Qr(rr.current),xi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jt]=t,(i=n.nodeValue!==r)&&(e=jt,e!==null))switch(e.tag){case 3:gi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jt]=t,t.stateNode=n}return at(t),null;case 13:if(Fe(Le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&Nt!==null&&t.mode&1&&!(t.flags&128))Yf(),Un(),t.flags|=98560,i=!1;else if(i=xi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(fe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[Jt]=t}else Un(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),i=!1}else Ot!==null&&(xl(Ot),Ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Qe===0&&(Qe=3):fc())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Vn(),cl(e,t),e===null&&Ps(t.stateNode.containerInfo),at(t),null;case 10:return Yl(t.type._context),at(t),null;case 17:return bt(t.type)&&Xi(),at(t),null;case 19:if(Fe(Le),i=t.memoizedState,i===null)return at(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)cs(i,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ia(e),o!==null){for(t.flags|=128,cs(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Me(Le,Le.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>Gn&&(t.flags|=128,n=!0,cs(i,!1),t.lanes=4194304)}else{if(!n)if(e=ia(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return at(t),null}else 2*Ge()-i.renderingStartTime>Gn&&r!==1073741824&&(t.flags|=128,n=!0,cs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,r=Le.current,Me(Le,n?r&1|2:r&1),t):(at(t),null);case 22:case 23:return dc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_t&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function J0(e,t){switch(Wl(t),t.tag){case 1:return bt(t.type)&&Xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vn(),Fe(yt),Fe(lt),ec(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jl(t),null;case 13:if(Fe(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Le),null;case 4:return Vn(),null;case 10:return Yl(t.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var bi=!1,ot=!1,ex=typeof WeakSet=="function"?WeakSet:Set,be=null;function Dn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){We(e,t,n)}else r.current=null}function ul(e,t,r){try{r()}catch(n){We(e,t,n)}}var Yu=!1;function tx(e,t){if(qo=Ki,e=Mf(),Hl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,f=0,g=0,u=e,v=null;t:for(;;){for(var d;u!==r||a!==0&&u.nodeType!==3||(l=o+a),u!==i||n!==0&&u.nodeType!==3||(c=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(d=u.firstChild)!==null;)v=u,u=d;for(;;){if(u===e)break t;if(v===r&&++f===a&&(l=o),v===i&&++g===n&&(c=o),(d=u.nextSibling)!==null)break;u=v,v=u.parentNode}u=d}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ko={focusedElem:e,selectionRange:r},Ki=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var m=b.memoizedProps,w=b.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?m:zt(t.type,m),w);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(_){We(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return b=Yu,Yu=!1,b}function Ns(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&ul(t,r,i)}a=a.next}while(a!==n)}}function Sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function dl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ih(e){var t=e.alternate;t!==null&&(e.alternate=null,Ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[zs],delete t[Qo],delete t[z0],delete t[F0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ah(e){return e.tag===5||e.tag===3||e.tag===4}function Zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qi));else if(n!==4&&(e=e.child,e!==null))for(fl(e,t,r),e=e.sibling;e!==null;)fl(e,t,r),e=e.sibling}function hl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hl(e,t,r),e=e.sibling;e!==null;)hl(e,t,r),e=e.sibling}var tt=null,Ft=!1;function Nr(e,t,r){for(r=r.child;r!==null;)Rh(e,t,r),r=r.sibling}function Rh(e,t,r){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ya,r)}catch{}switch(r.tag){case 5:ot||Dn(r,t);case 6:var n=tt,a=Ft;tt=null,Nr(e,t,r),tt=n,Ft=a,tt!==null&&(Ft?(e=tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tt.removeChild(r.stateNode));break;case 18:tt!==null&&(Ft?(e=tt,r=r.stateNode,e.nodeType===8?oo(e.parentNode,r):e.nodeType===1&&oo(e,r),Is(e)):oo(tt,r.stateNode));break;case 4:n=tt,a=Ft,tt=r.stateNode.containerInfo,Ft=!0,Nr(e,t,r),tt=n,Ft=a;break;case 0:case 11:case 14:case 15:if(!ot&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ul(r,t,o),a=a.next}while(a!==n)}Nr(e,t,r);break;case 1:if(!ot&&(Dn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){We(r,t,l)}Nr(e,t,r);break;case 21:Nr(e,t,r);break;case 22:r.mode&1?(ot=(n=ot)||r.memoizedState!==null,Nr(e,t,r),ot=n):Nr(e,t,r);break;default:Nr(e,t,r)}}function Qu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ex),t.forEach(function(n){var a=ux.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Mt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:tt=l.stateNode,Ft=!1;break e;case 3:tt=l.stateNode.containerInfo,Ft=!0;break e;case 4:tt=l.stateNode.containerInfo,Ft=!0;break e}l=l.return}if(tt===null)throw Error(fe(160));Rh(i,o,a),tt=null,Ft=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(f){We(a,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ph(t,e),t=t.sibling}function Ph(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Qt(e),n&4){try{Ns(3,e,e.return),Sa(3,e)}catch(m){We(e,e.return,m)}try{Ns(5,e,e.return)}catch(m){We(e,e.return,m)}}break;case 1:Mt(t,e),Qt(e),n&512&&r!==null&&Dn(r,r.return);break;case 5:if(Mt(t,e),Qt(e),n&512&&r!==null&&Dn(r,r.return),e.flags&32){var a=e.stateNode;try{Es(a,"")}catch(m){We(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rf(a,i),zo(l,o);var f=zo(l,i);for(o=0;o<c.length;o+=2){var g=c[o],u=c[o+1];g==="style"?lf(a,u):g==="dangerouslySetInnerHTML"?af(a,u):g==="children"?Es(a,u):$l(a,g,u,f)}switch(l){case"input":Io(a,i);break;case"textarea":nf(a,i);break;case"select":var v=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?Tn(a,!!i.multiple,d,!1):v!==!!i.multiple&&(i.defaultValue!=null?Tn(a,!!i.multiple,i.defaultValue,!0):Tn(a,!!i.multiple,i.multiple?[]:"",!1))}a[zs]=i}catch(m){We(e,e.return,m)}}break;case 6:if(Mt(t,e),Qt(e),n&4){if(e.stateNode===null)throw Error(fe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){We(e,e.return,m)}}break;case 3:if(Mt(t,e),Qt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Is(t.containerInfo)}catch(m){We(e,e.return,m)}break;case 4:Mt(t,e),Qt(e);break;case 13:Mt(t,e),Qt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(cc=Ge())),n&4&&Qu(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(ot=(f=ot)||g,Mt(t,e),ot=f):Mt(t,e),Qt(e),n&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!g&&e.mode&1)for(be=e,g=e.child;g!==null;){for(u=be=g;be!==null;){switch(v=be,d=v.child,v.tag){case 0:case 11:case 14:case 15:Ns(4,v,v.return);break;case 1:Dn(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(m){We(n,r,m)}}break;case 5:Dn(v,v.return);break;case 22:if(v.memoizedState!==null){Ju(u);continue}}d!==null?(d.return=v,be=d):Ju(u)}g=g.sibling}e:for(g=null,u=e;;){if(u.tag===5){if(g===null){g=u;try{a=u.stateNode,f?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=of("display",o))}catch(m){We(e,e.return,m)}}}else if(u.tag===6){if(g===null)try{u.stateNode.nodeValue=f?"":u.memoizedProps}catch(m){We(e,e.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Mt(t,e),Qt(e),n&4&&Qu(e);break;case 21:break;default:Mt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ah(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Es(a,""),n.flags&=-33);var i=Zu(e);hl(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Zu(e);fl(e,l,o);break;default:throw Error(fe(161))}}catch(c){We(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rx(e,t,r){be=e,Mh(e)}function Mh(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||bi;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ot;l=bi;var f=ot;if(bi=o,(ot=c)&&!f)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?ed(a):c!==null?(c.return=o,be=c):ed(a);for(;i!==null;)be=i,Mh(i),i=i.sibling;be=a,bi=l,ot=f}Xu(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):Xu(e)}}function Xu(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Sa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ot)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:zt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Mu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Mu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var u=g.dehydrated;u!==null&&Is(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}ot||t.flags&512&&dl(t)}catch(v){We(t,t.return,v)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function Ju(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function ed(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sa(4,t)}catch(c){We(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){We(t,a,c)}}var i=t.return;try{dl(t)}catch(c){We(t,i,c)}break;case 5:var o=t.return;try{dl(t)}catch(c){We(t,o,c)}}}catch(c){We(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var nx=Math.ceil,la=br.ReactCurrentDispatcher,oc=br.ReactCurrentOwner,Tt=br.ReactCurrentBatchConfig,De=0,et=null,Ke=null,nt=0,_t=0,$n=Lr(0),Qe=0,Hs=null,nn=0,Ea=0,lc=0,js=null,xt=null,cc=0,Gn=1/0,ar=null,ca=!1,ml=null,Pr=null,wi=!1,Dr=null,ua=0,ks=0,pl=null,zi=-1,Fi=0;function ft(){return De&6?Ge():zi!==-1?zi:zi=Ge()}function Mr(e){return e.mode&1?De&2&&nt!==0?nt&-nt:B0.transition!==null?(Fi===0&&(Fi=bf()),Fi):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Sf(e.type)),e):1}function Ut(e,t,r,n){if(50<ks)throw ks=0,pl=null,Error(fe(185));Ys(e,r,n),(!(De&2)||e!==et)&&(e===et&&(!(De&2)&&(Ea|=r),Qe===4&&Sr(e,nt)),wt(e,n),r===1&&De===0&&!(t.mode&1)&&(Gn=Ge()+500,ja&&Ur()))}function wt(e,t){var r=e.callbackNode;Bg(e,t);var n=qi(e,e===et?nt:0);if(n===0)r!==null&&cu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cu(r),t===1)e.tag===0?O0(td.bind(null,e)):Gf(td.bind(null,e)),P0(function(){!(De&6)&&Ur()}),r=null;else{switch(wf(n)){case 1:r=Pl;break;case 4:r=vf;break;case 16:r=Gi;break;case 536870912:r=yf;break;default:r=Gi}r=Vh(r,zh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zh(e,t){if(zi=-1,Fi=0,De&6)throw Error(fe(327));var r=e.callbackNode;if(Mn()&&e.callbackNode!==r)return null;var n=qi(e,e===et?nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=da(e,n);else{t=n;var a=De;De|=2;var i=Oh();(et!==e||nt!==t)&&(ar=null,Gn=Ge()+500,Xr(e,t));do try{ax();break}catch(l){Fh(e,l)}while(!0);Kl(),la.current=i,De=a,Ke!==null?t=0:(et=null,nt=0,t=Qe)}if(t!==0){if(t===2&&(a=Uo(e),a!==0&&(n=a,t=gl(e,a))),t===1)throw r=Hs,Xr(e,0),Sr(e,n),wt(e,Ge()),r;if(t===6)Sr(e,n);else{if(a=e.current.alternate,!(n&30)&&!sx(a)&&(t=da(e,n),t===2&&(i=Uo(e),i!==0&&(n=i,t=gl(e,i))),t===1))throw r=Hs,Xr(e,0),Sr(e,n),wt(e,Ge()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:Kr(e,xt,ar);break;case 3:if(Sr(e,n),(n&130023424)===n&&(t=cc+500-Ge(),10<t)){if(qi(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ft(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Zo(Kr.bind(null,e,xt,ar),t);break}Kr(e,xt,ar);break;case 4:if(Sr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Lt(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nx(n/1960))-n,10<n){e.timeoutHandle=Zo(Kr.bind(null,e,xt,ar),n);break}Kr(e,xt,ar);break;case 5:Kr(e,xt,ar);break;default:throw Error(fe(329))}}}return wt(e,Ge()),e.callbackNode===r?zh.bind(null,e):null}function gl(e,t){var r=js;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=da(e,t),e!==2&&(t=xt,xt=r,t!==null&&xl(t)),e}function xl(e){xt===null?xt=e:xt.push.apply(xt,e)}function sx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ht(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sr(e,t){for(t&=~lc,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lt(t),n=1<<r;e[r]=-1,t&=~n}}function td(e){if(De&6)throw Error(fe(327));Mn();var t=qi(e,0);if(!(t&1))return wt(e,Ge()),null;var r=da(e,t);if(e.tag!==0&&r===2){var n=Uo(e);n!==0&&(t=n,r=gl(e,n))}if(r===1)throw r=Hs,Xr(e,0),Sr(e,t),wt(e,Ge()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,xt,ar),wt(e,Ge()),null}function uc(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(Gn=Ge()+500,ja&&Ur())}}function sn(e){Dr!==null&&Dr.tag===0&&!(De&6)&&Mn();var t=De;De|=1;var r=Tt.transition,n=Ae;try{if(Tt.transition=null,Ae=1,e)return e()}finally{Ae=n,Tt.transition=r,De=t,!(De&6)&&Ur()}}function dc(){_t=$n.current,Fe($n)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,R0(r)),Ke!==null)for(r=Ke.return;r!==null;){var n=r;switch(Wl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xi();break;case 3:Vn(),Fe(yt),Fe(lt),ec();break;case 5:Jl(n);break;case 4:Vn();break;case 13:Fe(Le);break;case 19:Fe(Le);break;case 10:Yl(n.type._context);break;case 22:case 23:dc()}r=r.return}if(et=e,Ke=e=zr(e.current,null),nt=_t=t,Qe=0,Hs=null,lc=Ea=nn=0,xt=js=null,Zr!==null){for(t=0;t<Zr.length;t++)if(r=Zr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Zr=null}return e}function Fh(e,t){do{var r=Ke;try{if(Kl(),Ri.current=oa,aa){for(var n=Ue.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}aa=!1}if(rn=0,Xe=Ze=Ue=null,_s=!1,Bs=0,oc.current=null,r===null||r.return===null){Qe=1,Hs=t,Ke=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,g=l,u=g.tag;if(!(g.mode&1)&&(u===0||u===11||u===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var d=Uu(o);if(d!==null){d.flags&=-257,Hu(d,o,l,i,t),d.mode&1&&Lu(i,f,t),t=d,c=f;var b=t.updateQueue;if(b===null){var m=new Set;m.add(c),t.updateQueue=m}else b.add(c);break e}else{if(!(t&1)){Lu(i,f,t),fc();break e}c=Error(fe(426))}}else if(Be&&l.mode&1){var w=Uu(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Hu(w,o,l,i,t),Gl(Wn(c,l));break e}}i=c=Wn(c,l),Qe!==4&&(Qe=2),js===null?js=[i]:js.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=wh(i,c,t);Pu(i,h);break e;case 1:l=c;var p=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Pr===null||!Pr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=_h(i,l,t);Pu(i,_);break e}}i=i.return}while(i!==null)}Lh(r)}catch(k){t=k,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function Oh(){var e=la.current;return la.current=oa,e===null?oa:e}function fc(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(nn&268435455)&&!(Ea&268435455)||Sr(et,nt)}function da(e,t){var r=De;De|=2;var n=Oh();(et!==e||nt!==t)&&(ar=null,Xr(e,t));do try{ix();break}catch(a){Fh(e,a)}while(!0);if(Kl(),De=r,la.current=n,Ke!==null)throw Error(fe(261));return et=null,nt=0,Qe}function ix(){for(;Ke!==null;)Bh(Ke)}function ax(){for(;Ke!==null&&!Tg();)Bh(Ke)}function Bh(e){var t=Hh(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?Lh(e):Ke=t,oc.current=null}function Lh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=J0(r,t),r!==null){r.flags&=32767,Ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ke=null;return}}else if(r=X0(r,t,_t),r!==null){Ke=r;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Qe===0&&(Qe=5)}function Kr(e,t,r){var n=Ae,a=Tt.transition;try{Tt.transition=null,Ae=1,ox(e,t,r,n)}finally{Tt.transition=a,Ae=n}return null}function ox(e,t,r,n){do Mn();while(Dr!==null);if(De&6)throw Error(fe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Lg(e,i),e===et&&(Ke=et=null,nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wi||(wi=!0,Vh(Gi,function(){return Mn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Tt.transition,Tt.transition=null;var o=Ae;Ae=1;var l=De;De|=4,oc.current=null,tx(e,r),Ph(r,e),S0(Ko),Ki=!!qo,Ko=qo=null,e.current=r,rx(r),Ig(),De=l,Ae=o,Tt.transition=i}else e.current=r;if(wi&&(wi=!1,Dr=e,ua=a),i=e.pendingLanes,i===0&&(Pr=null),Pg(r.stateNode),wt(e,Ge()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ca)throw ca=!1,e=ml,ml=null,e;return ua&1&&e.tag!==0&&Mn(),i=e.pendingLanes,i&1?e===pl?ks++:(ks=0,pl=e):ks=0,Ur(),null}function Mn(){if(Dr!==null){var e=wf(ua),t=Tt.transition,r=Ae;try{if(Tt.transition=null,Ae=16>e?16:e,Dr===null)var n=!1;else{if(e=Dr,Dr=null,ua=0,De&6)throw Error(fe(331));var a=De;for(De|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var f=l[c];for(be=f;be!==null;){var g=be;switch(g.tag){case 0:case 11:case 15:Ns(8,g,i)}var u=g.child;if(u!==null)u.return=g,be=u;else for(;be!==null;){g=be;var v=g.sibling,d=g.return;if(Ih(g),g===f){be=null;break}if(v!==null){v.return=d,be=v;break}be=d}}}var b=i.alternate;if(b!==null){var m=b.child;if(m!==null){b.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ns(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,be=h;break e}be=i.return}}var p=e.current;for(be=p;be!==null;){o=be;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,be=x;else e:for(o=p;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sa(9,l)}}catch(k){We(l,l.return,k)}if(l===o){be=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,be=_;break e}be=l.return}}if(De=a,Ur(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ya,e)}catch{}n=!0}return n}finally{Ae=r,Tt.transition=t}}return!1}function rd(e,t,r){t=Wn(r,t),t=wh(e,t,1),e=Rr(e,t,1),t=ft(),e!==null&&(Ys(e,1,t),wt(e,t))}function We(e,t,r){if(e.tag===3)rd(e,e,r);else for(;t!==null;){if(t.tag===3){rd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pr===null||!Pr.has(n))){e=Wn(r,e),e=_h(t,e,1),t=Rr(t,e,1),e=ft(),t!==null&&(Ys(t,1,e),wt(t,e));break}}t=t.return}}function lx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&r,et===e&&(nt&r)===r&&(Qe===4||Qe===3&&(nt&130023424)===nt&&500>Ge()-cc?Xr(e,0):lc|=r),wt(e,t)}function Uh(e,t){t===0&&(e.mode&1?(t=di,di<<=1,!(di&130023424)&&(di=4194304)):t=1);var r=ft();e=gr(e,t),e!==null&&(Ys(e,t,r),wt(e,r))}function cx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uh(e,r)}function ux(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),Uh(e,r)}var Hh;Hh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vt=!1,Q0(e,t,r);vt=!!(e.flags&131072)}else vt=!1,Be&&t.flags&1048576&&qf(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Mi(e,t),e=t.pendingProps;var a=Ln(t,lt.current);Pn(t,r),a=rc(null,t,n,e,a,r);var i=nc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(n)?(i=!0,Ji(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ql(t),a.updater=Ca,t.stateNode=a,a._reactInternals=t,nl(t,n,e,r),t=al(null,t,n,!0,i,r)):(t.tag=0,Be&&i&&Vl(t),dt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=fx(n),e=zt(n,e),a){case 0:t=il(null,t,n,e,r);break e;case 1:t=Gu(null,t,n,e,r);break e;case 11:t=Vu(null,t,n,e,r);break e;case 14:t=Wu(null,t,n,zt(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zt(n,a),il(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zt(n,a),Gu(e,t,n,a,r);case 3:e:{if(Ch(t),e===null)throw Error(fe(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Jf(e,t),sa(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Wn(Error(fe(423)),t),t=qu(e,t,n,r,a);break e}else if(n!==a){a=Wn(Error(fe(424)),t),t=qu(e,t,n,r,a);break e}else for(Nt=Ar(t.stateNode.containerInfo.firstChild),jt=t,Be=!0,Ot=null,r=Qf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Un(),n===a){t=xr(e,t,r);break e}dt(e,t,n,r)}t=t.child}return t;case 5:return eh(t),e===null&&el(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Yo(n,a)?o=null:i!==null&&Yo(n,i)&&(t.flags|=32),kh(e,t),dt(e,t,o,r),t.child;case 6:return e===null&&el(t),null;case 13:return Sh(e,t,r);case 4:return Xl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hn(t,null,n,r):dt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zt(n,a),Vu(e,t,n,a,r);case 7:return dt(e,t,t.pendingProps,r),t.child;case 8:return dt(e,t,t.pendingProps.children,r),t.child;case 12:return dt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Me(ra,n._currentValue),n._currentValue=o,i!==null)if(Ht(i.value,o)){if(i.children===a.children&&!yt.current){t=xr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=dr(-1,r&-r),c.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?c.next=c:(c.next=g.next,g.next=c),f.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),tl(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(fe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),tl(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Pn(t,r),a=It(a),n=n(a),t.flags|=1,dt(e,t,n,r),t.child;case 14:return n=t.type,a=zt(n,t.pendingProps),a=zt(n.type,a),Wu(e,t,n,a,r);case 15:return Nh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zt(n,a),Mi(e,t),t.tag=1,bt(n)?(e=!0,Ji(t)):e=!1,Pn(t,r),bh(t,n,a),nl(t,n,a,r),al(null,t,n,!0,e,r);case 19:return Eh(e,t,r);case 22:return jh(e,t,r)}throw Error(fe(156,t.tag))};function Vh(e,t){return xf(e,t)}function dx(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,r,n){return new dx(e,t,r,n)}function hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fx(e){if(typeof e=="function")return hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Il)return 11;if(e===Al)return 14}return 2}function zr(e,t){var r=e.alternate;return r===null?(r=$t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Oi(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")hc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case bn:return Jr(r.children,a,i,t);case Tl:o=8,a|=8;break;case So:return e=$t(12,r,t,a|2),e.elementType=So,e.lanes=i,e;case Eo:return e=$t(13,r,t,a),e.elementType=Eo,e.lanes=i,e;case Do:return e=$t(19,r,t,a),e.elementType=Do,e.lanes=i,e;case Jd:return Da(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qd:o=10;break e;case Xd:o=9;break e;case Il:o=11;break e;case Al:o=14;break e;case jr:o=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=$t(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Jr(e,t,r,n){return e=$t(7,e,n,t),e.lanes=r,e}function Da(e,t,r,n){return e=$t(22,e,n,t),e.elementType=Jd,e.lanes=r,e.stateNode={isHidden:!1},e}function go(e,t,r){return e=$t(6,e,null,t),e.lanes=r,e}function xo(e,t,r){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hx(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Za(0),this.expirationTimes=Za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mc(e,t,r,n,a,i,o,l,c){return e=new hx(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$t(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ql(i),e}function mx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Wh(e){if(!e)return Or;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(bt(r))return Wf(e,r,t)}return t}function Gh(e,t,r,n,a,i,o,l,c){return e=mc(r,n,!0,e,a,i,o,l,c),e.context=Wh(null),r=e.current,n=ft(),a=Mr(r),i=dr(n,a),i.callback=t??null,Rr(r,i,a),e.current.lanes=a,Ys(e,a,n),wt(e,n),e}function $a(e,t,r,n){var a=t.current,i=ft(),o=Mr(a);return r=Wh(r),t.context===null?t.context=r:t.pendingContext=r,t=dr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Rr(a,t,o),e!==null&&(Ut(e,a,o,i),Ai(e,a,o)),o}function fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pc(e,t){nd(e,t),(e=e.alternate)&&nd(e,t)}function px(){return null}var qh=typeof reportError=="function"?reportError:function(e){console.error(e)};function gc(e){this._internalRoot=e}Ta.prototype.render=gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));$a(e,t,null,null)};Ta.prototype.unmount=gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sn(function(){$a(null,e,null,null)}),t[pr]=null}};function Ta(e){this._internalRoot=e}Ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=jf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Cr.length&&t!==0&&t<Cr[r].priority;r++);Cr.splice(r,0,e),r===0&&Cf(e)}};function xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sd(){}function gx(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var f=fa(o);i.call(f)}}var o=Gh(t,n,e,0,null,!1,!1,"",sd);return e._reactRootContainer=o,e[pr]=o.current,Ps(e.nodeType===8?e.parentNode:e),sn(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var f=fa(c);l.call(f)}}var c=mc(e,0,!1,null,null,!1,!1,"",sd);return e._reactRootContainer=c,e[pr]=c.current,Ps(e.nodeType===8?e.parentNode:e),sn(function(){$a(t,c,r,n)}),c}function Aa(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=fa(o);l.call(c)}}$a(t,o,e,a)}else o=gx(r,t,e,a,n);return fa(o)}_f=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ps(t.pendingLanes);r!==0&&(Ml(t,r|1),wt(t,Ge()),!(De&6)&&(Gn=Ge()+500,Ur()))}break;case 13:sn(function(){var n=gr(e,1);if(n!==null){var a=ft();Ut(n,e,1,a)}}),pc(e,1)}};zl=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var r=ft();Ut(t,e,134217728,r)}pc(e,134217728)}};Nf=function(e){if(e.tag===13){var t=Mr(e),r=gr(e,t);if(r!==null){var n=ft();Ut(r,e,t,n)}pc(e,t)}};jf=function(){return Ae};kf=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};Oo=function(e,t,r){switch(t){case"input":if(Io(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Na(n);if(!a)throw Error(fe(90));tf(n),Io(n,a)}}}break;case"textarea":nf(e,r);break;case"select":t=r.value,t!=null&&Tn(e,!!r.multiple,t,!1)}};df=uc;ff=sn;var xx={usingClientEntryPoint:!1,Events:[Qs,jn,Na,cf,uf,uc]},us={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vx={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pf(e),e===null?null:e.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_i.isDisabled&&_i.supportsFiber)try{ya=_i.inject(vx),tr=_i}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xx;Ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xc(t))throw Error(fe(200));return mx(e,t,null,r)};Ct.createRoot=function(e,t){if(!xc(e))throw Error(fe(299));var r=!1,n="",a=qh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mc(e,1,!1,null,null,r,!1,n,a),e[pr]=t.current,Ps(e.nodeType===8?e.parentNode:e),new gc(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=pf(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return sn(e)};Ct.hydrate=function(e,t,r){if(!Ia(t))throw Error(fe(200));return Aa(null,e,t,!0,r)};Ct.hydrateRoot=function(e,t,r){if(!xc(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=qh;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Gh(t,null,e,1,r??null,a,!1,i,o),e[pr]=t.current,Ps(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ta(t)};Ct.render=function(e,t,r){if(!Ia(t))throw Error(fe(200));return Aa(null,e,t,!1,r)};Ct.unmountComponentAtNode=function(e){if(!Ia(e))throw Error(fe(40));return e._reactRootContainer?(sn(function(){Aa(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};Ct.unstable_batchedUpdates=uc;Ct.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ia(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return Aa(e,t,r,!1,n)};Ct.version="18.3.1-next-f1338f8080-20240426";function Kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kh)}catch(e){console.error(e)}}Kh(),qd.exports=Ct;var yx=qd.exports,Yh,id=yx;Yh=id.createRoot,id.hydrateRoot;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ad="popstate";function bx(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return vl("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Vs(a)}return _x(t,r,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wx(){return Math.random().toString(36).substring(2,10)}function od(e,t){return{usr:e.state,key:e.key,idx:t}}function vl(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xn(t):t,state:r,key:t&&t.key||n||wx()}}function Vs({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function _x(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,f=g();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function g(){return(o.state||{idx:null}).idx}function u(){l="POP";let w=g(),h=w==null?null:w-f;f=w,c&&c({action:l,location:m.location,delta:h})}function v(w,h){l="PUSH";let p=vl(m.location,w,h);f=g()+1;let x=od(p,f),_=m.createHref(p);try{o.pushState(x,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(_)}i&&c&&c({action:l,location:m.location,delta:1})}function d(w,h){l="REPLACE";let p=vl(m.location,w,h);f=g();let x=od(p,f),_=m.createHref(p);o.replaceState(x,"",_),i&&c&&c({action:l,location:m.location,delta:0})}function b(w){return Nx(w)}let m={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ad,u),c=w,()=>{a.removeEventListener(ad,u),c=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let h=b(w);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:v,replace:d,go(w){return o.go(w)}};return m}function Nx(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),He(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Vs(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Zh(e,t,r="/"){return jx(e,t,r,!1)}function jx(e,t,r,n){let a=typeof t=="string"?Xn(t):t,i=vr(a.pathname||"/",r);if(i==null)return null;let o=Qh(e);kx(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let f=Mx(i);l=Rx(o[c],f,n)}return l}function Qh(e,t=[],r=[],n="",a=!1){let i=(o,l,c=a,f)=>{let g={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&c)return;He(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let u=fr([n,g.relativePath]),v=r.concat(g);o.children&&o.children.length>0&&(He(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Qh(o.children,t,v,u,c)),!(o.path==null&&!o.index)&&t.push({path:u,score:Ix(u,o.index),routesMeta:v})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let f of Xh(o.path))i(o,l,!0,f)}),t}function Xh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Xh(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function kx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ax(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Cx=/^:[\w-]+$/,Sx=3,Ex=2,Dx=1,$x=10,Tx=-2,ld=e=>e==="*";function Ix(e,t){let r=e.split("/"),n=r.length;return r.some(ld)&&(n+=Tx),t&&(n+=Ex),r.filter(a=>!ld(a)).reduce((a,i)=>a+(Cx.test(i)?Sx:i===""?Dx:$x),n)}function Ax(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Rx(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],f=l===n.length-1,g=i==="/"?t:t.slice(i.length)||"/",u=ha({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},g),v=c.route;if(!u&&f&&r&&!n[n.length-1].route.index&&(u=ha({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},g)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:fr([i,u.pathname]),pathnameBase:Bx(fr([i,u.pathnameBase])),route:v}),u.pathnameBase!=="/"&&(i=fr([i,u.pathnameBase]))}return o}function ha(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Px(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((f,{paramName:g,isOptional:u},v)=>{if(g==="*"){let b=l[v]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const d=l[v];return u&&!d?f[g]=void 0:f[g]=(d||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:e}}function Px(e,t=!1,r=!0){Vt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Mx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function vr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var Jh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zx=e=>Jh.test(e);function Fx(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Xn(e):e,i;if(r)if(zx(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Vt(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=cd(r.substring(1),"/"):i=cd(r,t)}else i=t;return{pathname:i,search:Lx(n),hash:Ux(a)}}function cd(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function vo(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ox(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function em(e){let t=Ox(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function tm(e,t,r,n=!1){let a;typeof e=="string"?a=Xn(e):(a={...e},He(!a.pathname||!a.pathname.includes("?"),vo("?","pathname","search",a)),He(!a.pathname||!a.pathname.includes("#"),vo("#","pathname","hash",a)),He(!a.search||!a.search.includes("#"),vo("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let u=t.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),u-=1;a.pathname=v.join("/")}l=u>=0?t[u]:"/"}let c=Fx(a,l),f=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||g)&&(c.pathname+="/"),c}var fr=e=>e.join("/").replace(/\/\/+/g,"/"),Bx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ux=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Hx=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Vx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Wx(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nm(e,t){let r=e;if(typeof r!="string"||!Jh.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(rm)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),l=vr(o.pathname,t);o.origin===i.origin&&l!=null?r=l+o.search+o.hash:a=!0}catch{Vt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sm=["POST","PUT","PATCH","DELETE"];new Set(sm);var Gx=["GET",...sm];new Set(Gx);var Jn=M.createContext(null);Jn.displayName="DataRouter";var Ra=M.createContext(null);Ra.displayName="DataRouterState";var qx=M.createContext(!1),im=M.createContext({isTransitioning:!1});im.displayName="ViewTransition";var Kx=M.createContext(new Map);Kx.displayName="Fetchers";var Yx=M.createContext(null);Yx.displayName="Await";var Rt=M.createContext(null);Rt.displayName="Navigation";var Js=M.createContext(null);Js.displayName="Location";var wr=M.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var vc=M.createContext(null);vc.displayName="RouteError";var am="REACT_ROUTER_ERROR",Zx="REDIRECT",Qx="ROUTE_ERROR_RESPONSE";function Xx(e){if(e.startsWith(`${am}:${Zx}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Jx(e){if(e.startsWith(`${am}:${Qx}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Hx(t.status,t.statusText,t.data)}catch{}}function ev(e,{relative:t}={}){He(ei(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=M.useContext(Rt),{hash:a,pathname:i,search:o}=ti(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:fr([r,i])),n.createHref({pathname:l,search:o,hash:a})}function ei(){return M.useContext(Js)!=null}function Hr(){return He(ei(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Js).location}var om="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lm(e){M.useContext(Rt).static||M.useLayoutEffect(e)}function cm(){let{isDataRoute:e}=M.useContext(wr);return e?hv():tv()}function tv(){He(ei(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(Jn),{basename:t,navigator:r}=M.useContext(Rt),{matches:n}=M.useContext(wr),{pathname:a}=Hr(),i=JSON.stringify(em(n)),o=M.useRef(!1);return lm(()=>{o.current=!0}),M.useCallback((c,f={})=>{if(Vt(o.current,om),!o.current)return;if(typeof c=="number"){r.go(c);return}let g=tm(c,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:fr([t,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[t,r,i,a,e])}M.createContext(null);function ti(e,{relative:t}={}){let{matches:r}=M.useContext(wr),{pathname:n}=Hr(),a=JSON.stringify(em(r));return M.useMemo(()=>tm(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function rv(e,t){return um(e,t)}function um(e,t,r,n,a){var p;He(ei(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=M.useContext(Rt),{matches:o}=M.useContext(wr),l=o[o.length-1],c=l?l.params:{},f=l?l.pathname:"/",g=l?l.pathnameBase:"/",u=l&&l.route;{let x=u&&u.path||"";fm(f,!u||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let v=Hr(),d;if(t){let x=typeof t=="string"?Xn(t):t;He(g==="/"||((p=x.pathname)==null?void 0:p.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${x.pathname}" was given in the \`location\` prop.`),d=x}else d=v;let b=d.pathname||"/",m=b;if(g!=="/"){let x=g.replace(/^\//,"").split("/");m="/"+b.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=Zh(e,{pathname:m});Vt(u||w!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Vt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let h=ov(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:fr([g,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?g:fr([g,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),o,r,n,a);return t&&h?M.createElement(Js.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},h):h}function nv(){let e=fv(),t=Vx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:i},"ErrorBoundary")," or"," ",M.createElement("code",{style:i},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:a},r):null,o)}var sv=M.createElement(nv,null),dm=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Jx(e.digest);r&&(e=r)}let t=e!==void 0?M.createElement(wr.Provider,{value:this.props.routeContext},M.createElement(vc.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?M.createElement(iv,{error:e},t):t}};dm.contextType=qx;var yo=new WeakMap;function iv({children:e,error:t}){let{basename:r}=M.useContext(Rt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=Xx(t.digest);if(n){let a=yo.get(t);if(a)throw a;let i=nm(n.location,r);if(rm&&!yo.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw yo.set(t,o),o}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function av({routeContext:e,match:t,children:r}){let n=M.useContext(Jn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(wr.Provider,{value:e},r)}function ov(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let g=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);He(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,g+1))}let l=!1,c=-1;if(r)for(let g=0;g<i.length;g++){let u=i[g];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=g),u.route.id){let{loaderData:v,errors:d}=r,b=u.route.loader&&!v.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let f=r&&n?(g,u)=>{var v,d;n(g,{location:r.location,params:((d=(v=r.matches)==null?void 0:v[0])==null?void 0:d.params)??{},unstable_pattern:Wx(r.matches),errorInfo:u})}:void 0;return i.reduceRight((g,u,v)=>{let d,b=!1,m=null,w=null;r&&(d=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||sv,l&&(c<0&&v===0?(fm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):c===v&&(b=!0,w=u.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,v+1)),p=()=>{let x;return d?x=m:b?x=w:u.route.Component?x=M.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=g,M.createElement(av,{match:u,routeContext:{outlet:g,matches:h,isDataRoute:r!=null},children:x})};return r&&(u.route.ErrorBoundary||u.route.errorElement||v===0)?M.createElement(dm,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0},onError:f}):p()},null)}function yc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lv(e){let t=M.useContext(Jn);return He(t,yc(e)),t}function cv(e){let t=M.useContext(Ra);return He(t,yc(e)),t}function uv(e){let t=M.useContext(wr);return He(t,yc(e)),t}function bc(e){let t=uv(e),r=t.matches[t.matches.length-1];return He(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function dv(){return bc("useRouteId")}function fv(){var n;let e=M.useContext(vc),t=cv("useRouteError"),r=bc("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function hv(){let{router:e}=lv("useNavigate"),t=bc("useNavigate"),r=M.useRef(!1);return lm(()=>{r.current=!0}),M.useCallback(async(a,i={})=>{Vt(r.current,om),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var ud={};function fm(e,t,r){!t&&!ud[e]&&(ud[e]=!0,Vt(!1,r))}M.memo(mv);function mv({routes:e,future:t,state:r,onError:n}){return um(e,void 0,r,n,t)}function Bi(e){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pv({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){He(!ei(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[l,a,i,o]);typeof r=="string"&&(r=Xn(r));let{pathname:f="/",search:g="",hash:u="",state:v=null,key:d="default"}=r,b=M.useMemo(()=>{let m=vr(f,l);return m==null?null:{location:{pathname:m,search:g,hash:u,state:v,key:d},navigationType:n}},[l,f,g,u,v,d,n]);return Vt(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${g}${u}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(Rt.Provider,{value:c},M.createElement(Js.Provider,{children:t,value:b}))}function gv({children:e,location:t}){return rv(yl(e),t)}function yl(e,t=[]){let r=[];return M.Children.forEach(e,(n,a)=>{if(!M.isValidElement(n))return;let i=[...t,a];if(n.type===M.Fragment){r.push.apply(r,yl(n.props.children,i));return}He(n.type===Bi,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yl(n.props.children,i)),r.push(o)}),r}var Li="get",Ui="application/x-www-form-urlencoded";function Pa(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function xv(e){return Pa(e)&&e.tagName.toLowerCase()==="button"}function vv(e){return Pa(e)&&e.tagName.toLowerCase()==="form"}function yv(e){return Pa(e)&&e.tagName.toLowerCase()==="input"}function bv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wv(e,t){return e.button===0&&(!t||t==="_self")&&!bv(e)}var Ni=null;function _v(){if(Ni===null)try{new FormData(document.createElement("form"),0),Ni=!1}catch{Ni=!0}return Ni}var Nv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bo(e){return e!=null&&!Nv.has(e)?(Vt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ui}"`),null):e}function jv(e,t){let r,n,a,i,o;if(vv(e)){let l=e.getAttribute("action");n=l?vr(l,t):null,r=e.getAttribute("method")||Li,a=bo(e.getAttribute("enctype"))||Ui,i=new FormData(e)}else if(xv(e)||yv(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?vr(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Li,a=bo(e.getAttribute("formenctype"))||bo(l.getAttribute("enctype"))||Ui,i=new FormData(l,e),!_v()){let{name:f,type:g,value:u}=e;if(g==="image"){let v=f?`${f}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else f&&i.append(f,u)}}else{if(Pa(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Li,n=null,a=Ui,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kv(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&vr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Cv(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ev(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await Cv(i,r);return o.links?o.links():[]}return[]}));return Iv(n.flat(1).filter(Sv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dd(e,t,r,n,a,i){let o=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,l=(c,f)=>{var g;return r[f].pathname!==c.pathname||((g=r[f].route.path)==null?void 0:g.endsWith("*"))&&r[f].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,f)=>o(c,f)||l(c,f)):i==="data"?t.filter((c,f)=>{var u;let g=n.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(o(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((u=r[0])==null?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Dv(e,t,{includeHydrateFallback:r}={}){return $v(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function $v(e){return[...new Set(e)]}function Tv(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Iv(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(Tv(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function hm(){let e=M.useContext(Jn);return wc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Av(){let e=M.useContext(Ra);return wc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _c=M.createContext(void 0);_c.displayName="FrameworkContext";function mm(){let e=M.useContext(_c);return wc(e,"You must render this element inside a <HydratedRouter> element"),e}function Rv(e,t){let r=M.useContext(_c),[n,a]=M.useState(!1),[i,o]=M.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:g,onTouchStart:u}=t,v=M.useRef(null);M.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=h=>{h.forEach(p=>{o(p.isIntersecting)})},w=new IntersectionObserver(m,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[e]),M.useEffect(()=>{if(n){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[n]);let d=()=>{a(!0)},b=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,v,{}]:[i,v,{onFocus:ds(l,d),onBlur:ds(c,b),onMouseEnter:ds(f,d),onMouseLeave:ds(g,b),onTouchStart:ds(u,d)}]:[!1,v,{}]}function ds(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Pv({page:e,...t}){let{router:r}=hm(),n=M.useMemo(()=>Zh(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?M.createElement(zv,{page:e,matches:n,...t}):null}function Mv(e){let{manifest:t,routeModules:r}=mm(),[n,a]=M.useState([]);return M.useEffect(()=>{let i=!1;return Ev(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function zv({page:e,matches:t,...r}){let n=Hr(),{manifest:a,routeModules:i}=mm(),{basename:o}=hm(),{loaderData:l,matches:c}=Av(),f=M.useMemo(()=>dd(e,t,c,a,n,"data"),[e,t,c,a,n]),g=M.useMemo(()=>dd(e,t,c,a,n,"assets"),[e,t,c,a,n]),u=M.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,m=!1;if(t.forEach(h=>{var x;let p=a.routes[h.route.id];!p||!p.hasLoader||(!f.some(_=>_.route.id===h.route.id)&&h.route.id in l&&((x=i[h.route.id])!=null&&x.shouldRevalidate)||p.hasClientLoader?m=!0:b.add(h.route.id))}),b.size===0)return[];let w=kv(e,o,"data");return m&&b.size>0&&w.searchParams.set("_routes",t.filter(h=>b.has(h.route.id)).map(h=>h.route.id).join(",")),[w.pathname+w.search]},[o,l,n,a,f,t,e,i]),v=M.useMemo(()=>Dv(g,a),[g,a]),d=Mv(g);return M.createElement(M.Fragment,null,u.map(b=>M.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),v.map(b=>M.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),d.map(({key:b,link:m})=>M.createElement("link",{key:b,nonce:r.nonce,...m})))}function Fv(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ov&&(window.__reactRouterVersion="7.11.0")}catch{}function Bv({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=M.useRef();a.current==null&&(a.current=bx({window:n,v5Compat:!0}));let i=a.current,[o,l]=M.useState({action:i.action,location:i.location}),c=M.useCallback(f=>{r===!1?l(f):M.startTransition(()=>l(f))},[r]);return M.useLayoutEffect(()=>i.listen(c),[i,c]),M.createElement(pv,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var pm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gm=M.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:f,preventScrollReset:g,viewTransition:u,unstable_defaultShouldRevalidate:v,...d},b){let{basename:m,unstable_useTransitions:w}=M.useContext(Rt),h=typeof f=="string"&&pm.test(f),p=nm(f,m);f=p.to;let x=ev(f,{relative:a}),[_,k,E]=Rv(n,d),$=Vv(f,{replace:o,state:l,target:c,preventScrollReset:g,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:v,unstable_useTransitions:w});function S(V){t&&t(V),V.defaultPrevented||$(V)}let R=M.createElement("a",{...d,...E,href:p.absoluteURL||x,onClick:p.isExternal||i?t:S,ref:Fv(b,k),target:c,"data-discover":!h&&r==="render"?"true":void 0});return _&&!h?M.createElement(M.Fragment,null,R,M.createElement(Pv,{page:x})):R});gm.displayName="Link";var Lv=M.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...f},g){let u=ti(o,{relative:f.relative}),v=Hr(),d=M.useContext(Ra),{navigator:b,basename:m}=M.useContext(Rt),w=d!=null&&Yv(u)&&l===!0,h=b.encodeLocation?b.encodeLocation(u).pathname:u.pathname,p=v.pathname,x=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;r||(p=p.toLowerCase(),x=x?x.toLowerCase():null,h=h.toLowerCase()),x&&m&&(x=vr(x,m)||x);const _=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let k=p===h||!a&&p.startsWith(h)&&p.charAt(_)==="/",E=x!=null&&(x===h||!a&&x.startsWith(h)&&x.charAt(h.length)==="/"),$={isActive:k,isPending:E,isTransitioning:w},S=k?t:void 0,R;typeof n=="function"?R=n($):R=[n,k?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let V=typeof i=="function"?i($):i;return M.createElement(gm,{...f,"aria-current":S,className:R,ref:g,style:V,to:o,viewTransition:l},typeof c=="function"?c($):c)});Lv.displayName="NavLink";var Uv=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Li,action:l,onSubmit:c,relative:f,preventScrollReset:g,viewTransition:u,unstable_defaultShouldRevalidate:v,...d},b)=>{let{unstable_useTransitions:m}=M.useContext(Rt),w=qv(),h=Kv(l,{relative:f}),p=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&pm.test(l),_=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let E=k.nativeEvent.submitter,$=(E==null?void 0:E.getAttribute("formmethod"))||o,S=()=>w(E||k.currentTarget,{fetcherKey:t,method:$,navigate:r,replace:a,state:i,relative:f,preventScrollReset:g,viewTransition:u,unstable_defaultShouldRevalidate:v});m&&r!==!1?M.startTransition(()=>S()):S()};return M.createElement("form",{ref:b,method:p,action:h,onSubmit:n?c:_,...d,"data-discover":!x&&e==="render"?"true":void 0})});Uv.displayName="Form";function Hv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xm(e){let t=M.useContext(Jn);return He(t,Hv(e)),t}function Vv(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let f=cm(),g=Hr(),u=ti(e,{relative:i});return M.useCallback(v=>{if(wv(v,t)){v.preventDefault();let d=r!==void 0?r:Vs(g)===Vs(u),b=()=>f(e,{replace:d,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?M.startTransition(()=>b()):b()}},[g,f,u,r,n,t,e,a,i,o,l,c])}var Wv=0,Gv=()=>`__${String(++Wv)}__`;function qv(){let{router:e}=xm("useSubmit"),{basename:t}=M.useContext(Rt),r=dv(),n=e.fetch,a=e.navigate;return M.useCallback(async(i,o={})=>{let{action:l,method:c,encType:f,formData:g,body:u}=jv(i,t);if(o.navigate===!1){let v=o.fetcherKey||Gv();await n(v,r,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:g,body:u,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await a(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:g,body:u,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function Kv(e,{relative:t}={}){let{basename:r}=M.useContext(Rt),n=M.useContext(wr);He(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...ti(e||".",{relative:t})},o=Hr();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(g=>g==="")){l.delete("index"),c.filter(u=>u).forEach(u=>l.append("index",u));let g=l.toString();i.search=g?`?${g}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:fr([r,i.pathname])),Vs(i)}function Yv(e,{relative:t}={}){let r=M.useContext(im);He(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xm("useViewTransitionState"),a=ti(e,{relative:t});if(!r.isTransitioning)return!1;let i=vr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=vr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ha(a.pathname,o)!=null||ha(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(e,t)=>{const r=M.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...f},g)=>M.createElement("svg",{ref:g,...Zv,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Qv(e)}`,l].join(" "),...f},[...t.map(([u,v])=>M.createElement(u,v)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Ne("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h11V6H11a2 2 0 0 0-2 2v12",key:"1owzki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Ne("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Ne("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Ne("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Ne("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ne("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Ne("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Ne("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Ne("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Ne("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ne("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Ne("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Ne("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ne("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),md="72b4987f77607964f64d1fd5a4935f81",fy="https://api.themoviedb.org/3",_o="https://image.tmdb.org/t/p/";class hy{constructor(t=md){xn(this,"apiKey");this.apiKey=t}setApiKey(t){this.apiKey=t}async makeRequest(t,r={},n="fr"){const a=this.apiKey||md;if(a.length<32)throw new Error("Cl API TMDB invalide - vrifiez que vous avez saisi la bonne cl");const i=new URL(`${fy}${t}`);i.searchParams.append("api_key",a),i.searchParams.append("language",n==="fr"?"fr-FR":"en-US"),Object.entries(r).forEach(([l,c])=>{i.searchParams.append(l,c)});const o=await fetch(i.toString());if(!o.ok)throw o.status===401?new Error("Cl API TMDB invalide ou expire - vrifiez votre cl dans les paramtres"):o.status===400?new Error("Requte invalide - vrifiez votre cl API TMDB dans les paramtres"):new Error(`Erreur TMDB: ${o.status} ${o.statusText}`);return o.json()}async searchMulti(t,r=1,n="fr",a){if(t.match(/^\d+$/)){const o=parseInt(t);try{const l=await this.getMovie(o,n);return{results:[{id:l.id,title:l.title,name:void 0,media_type:"movie",poster_path:l.poster_path,release_date:l.release_date,first_air_date:void 0,vote_average:l.vote_average,overview:l.overview}],total_pages:1}}catch{}try{const l=await this.getTVShow(o,n);return{results:[{id:l.id,title:void 0,name:l.name,media_type:"tv",poster_path:l.poster_path,release_date:void 0,first_air_date:l.first_air_date,vote_average:l.vote_average,overview:l.overview}],total_pages:1}}catch{return{results:[],total_pages:0}}}if(a){const[o,l]=await Promise.all([this.searchMovies(t,r,n,a).catch(()=>({results:[],total_pages:0})),this.searchTV(t,r,n,a).catch(()=>({results:[],total_pages:0}))]);return{results:[...o.results.map(f=>({...f,media_type:"movie"})),...l.results.map(f=>({...f,media_type:"tv"}))],total_pages:Math.max(o.total_pages,l.total_pages)}}return this.makeRequest("/search/multi",{query:encodeURIComponent(t),page:r.toString()},n)}async searchMovies(t,r=1,n="fr",a){const i={query:encodeURIComponent(t),page:r.toString()};return a&&(i.year=a.toString()),this.makeRequest("/search/movie",i,n)}async searchTV(t,r=1,n="fr",a){const i={query:encodeURIComponent(t),page:r.toString()};return a&&(i.first_air_date_year=a.toString()),this.makeRequest("/search/tv",i,n)}async getMovie(t,r="fr"){return this.makeRequest(`/movie/${t}`,{append_to_response:"videos"},r)}async getTVShow(t,r="fr"){return this.makeRequest(`/tv/${t}`,{append_to_response:"videos"},r)}async getMovieCredits(t,r="fr"){return this.makeRequest(`/movie/${t}/credits`,{},r)}async getTVCredits(t,r="fr"){return this.makeRequest(`/tv/${t}/credits`,{},r)}getImageUrl(t,r="w500"){return t?`${_o}${r}${t}`:"/placeholder-poster.jpg"}getActorImageUrl(t){return t?`${_o}w138_and_h175_face${t}`:"/placeholder-actor.jpg"}getBackdropUrl(t,r="w1280"){return t?`${_o}${r}${t}`:"/placeholder-backdrop.jpg"}async getMovieVideos(t){return this.makeRequest(`/movie/${t}/videos`)}async getTVVideos(t){return this.makeRequest(`/tv/${t}/videos`)}async getMovieImages(t){return this.makeRequest(`/movie/${t}/images`,{include_image_language:"en,fr,null"})}async getTVImages(t){return this.makeRequest(`/tv/${t}/images`,{include_image_language:"en,fr,null"})}async getTrailerUrl(t,r){var n,a,i;try{const o=r==="movie"?await this.getMovieVideos(t):await this.getTVVideos(t);let l=(n=o.results)==null?void 0:n.find(c=>c.type==="Trailer"&&c.site==="YouTube"&&c.iso_639_1==="fr");return l||(l=(a=o.results)==null?void 0:a.find(c=>c.type==="Trailer"&&c.site==="YouTube"&&c.iso_639_1==="en")),l||(l=(i=o.results)==null?void 0:i.find(c=>c.site==="YouTube")),l?`https://www.youtube.com/watch?v=${l.key}`:null}catch(o){return console.error("Erreur lors de la rcupration de la bande-annonce:",o),null}}}const Te=new hy;function my(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"message")}function ji(e){return my(e)?e:new Error(typeof e=="string"?e:"Unknown error")}const py=["Active_Height","Active_Width","AudioCount","Audio_Channels_Total","BitDepth_Detected","BitDepth","BitDepth_Stored","Channels","Channels_Original","Chapters_Pos_Begin","Chapters_Pos_End","Comic_Position_Total","Count","DataSize","ElementCount","EPG_Positions_Begin","EPG_Positions_End","FirstPacketOrder","FooterSize","Format_Settings_GMC","Format_Settings_RefFrames","Format_Settings_SliceCount","FrameCount","FrameRate_Den","FrameRate_Num","GeneralCount","HeaderSize","Height_CleanAperture","Height","Height_Offset","Height_Original","ImageCount","Lines_MaxCharacterCount","Lines_MaxCountPerEvent","Matrix_Channels","MenuCount","OtherCount","Part_Position","Part_Position_Total","Played_Count","Reel_Position","Reel_Position_Total","Resolution","Sampled_Height","Sampled_Width","SamplingCount","Season_Position","Season_Position_Total","Source_FrameCount","Source_SamplingCount","Source_StreamSize_Encoded","Source_StreamSize","Status","Stored_Height","Stored_Width","StreamCount","StreamKindID","StreamKindPos","StreamSize_Demuxed","StreamSize_Encoded","StreamSize","TextCount","Track_Position","Track_Position_Total","Video0_Delay","VideoCount","Width_CleanAperture","Width","Width_Offset","Width_Original"],gy=["Active_DisplayAspectRatio","BitRate_Encoded","BitRate_Maximum","BitRate_Minimum","BitRate","BitRate_Nominal","Bits-Pixel_Frame","BitsPixel_Frame","Compression_Ratio","Delay","Delay_Original","DisplayAspectRatio_CleanAperture","DisplayAspectRatio","DisplayAspectRatio_Original","Duration_End_Command","Duration_End","Duration_FirstFrame","Duration_LastFrame","Duration","Duration_Start2End","Duration_Start_Command","Duration_Start","Events_MinDuration","FrameRate_Maximum","FrameRate_Minimum","FrameRate","FrameRate_Nominal","FrameRate_Original_Den","FrameRate_Original","FrameRate_Original_Num","FrameRate_Real","Interleave_Duration","Interleave_Preload","Interleave_VideoFrames","OverallBitRate_Maximum","OverallBitRate_Minimum","OverallBitRate","OverallBitRate_Nominal","PixelAspectRatio_CleanAperture","PixelAspectRatio","PixelAspectRatio_Original","SamplesPerFrame","SamplingRate","Source_Duration_FirstFrame","Source_Duration_LastFrame","Source_Duration","TimeStamp_FirstFrame","Video_Delay"],No=2**32,pd={coverData:!1,chunkSize:256*1024,format:"object",full:!1};class xy{constructor(t,r){xn(this,"isAnalyzing",!1);this.mediainfoModule=t,this.options=r,this.mediainfoModuleInstance=this.instantiateModuleInstance()}analyzeData(t,r,n){if(n===void 0)return new Promise((c,f)=>{const g=(u,v)=>{this.isAnalyzing=!1,v||!u?f(ji(v)):c(u)};this.analyzeData(t,r,g)});if(this.isAnalyzing){n("",new Error("cannot start a new analysis while another is in progress"));return}this.reset(),this.isAnalyzing=!0;const a=()=>{try{this.openBufferFinalize();const c=this.inform();this.options.format==="object"?n(this.parseResultJson(c)):n(c)}finally{this.isAnalyzing=!1}};let i=0;const o=c=>{const f=v=>{u(v)?g():a()},g=()=>{let v;try{const d=Math.min(this.options.chunkSize,c-i);v=r(d,i)}catch(d){this.isAnalyzing=!1,n("",ji(d));return}v instanceof Promise?v.then(f).catch(d=>{this.isAnalyzing=!1,n("",ji(d))}):f(v)},u=v=>{if(v.length===0||this.openBufferContinue(v,v.length))return!1;const d=this.openBufferContinueGotoGet();return d===-1?i+=v.length:(i=d,this.openBufferInit(c,d)),!0};this.openBufferInit(c,i),g()},l=typeof t=="function"?t():t;l instanceof Promise?l.then(o).catch(c=>{n(null,ji(c))}):o(l)}close(){typeof this.mediainfoModuleInstance.close=="function"&&this.mediainfoModuleInstance.close()}reset(){this.mediainfoModuleInstance.delete(),this.mediainfoModuleInstance=this.instantiateModuleInstance()}inform(){return this.mediainfoModuleInstance.inform()}openBufferContinue(t,r){return!!(this.mediainfoModuleInstance.open_buffer_continue(t,r)&8)}openBufferContinueGotoGet(){let t=-1;const r=this.mediainfoModuleInstance.open_buffer_continue_goto_get_lower(),n=this.mediainfoModuleInstance.open_buffer_continue_goto_get_upper();return r==-1&&n==-1?t=-1:r<0?t=r+No+n*No:t=r+n*No,t}openBufferFinalize(){this.mediainfoModuleInstance.open_buffer_finalize()}openBufferInit(t,r){this.mediainfoModuleInstance.open_buffer_init(t,r)}parseResultJson(t){const r=py,n=gy,a=JSON.parse(t);if(a.media){const i={...a.media,track:[]};if(Array.isArray(a.media.track))for(const o of a.media.track){let l={"@type":o["@type"]};for(const[c,f]of Object.entries(o))c!=="@type"&&(typeof f=="string"&&r.includes(c)?l={...l,[c]:Number.parseInt(f,10)}:typeof f=="string"&&n.includes(c)?l={...l,[c]:Number.parseFloat(f)}:l={...l,[c]:f});i.track.push(l)}return{...a,media:i}}return a}instantiateModuleInstance(){return new this.mediainfoModule.MediaInfo(this.options.format==="object"?"JSON":this.options.format,this.options.coverData,this.options.full)}}async function vy(e={}){var t,r=e,n="./this.program",a=import.meta.url,i="";function o(C){return r.locateFile?r.locateFile(C,i):i+C}var l;{try{i=new URL(".",a).href}catch{}l=async C=>{var j=await fetch(C,{credentials:"same-origin"});if(j.ok)return j.arrayBuffer();throw new Error(j.status+" : "+j.url)}}var c=console.log.bind(console),f=console.error.bind(console),g,u=!1,v,d,b,m,w,h,p,x,_,k,E,$,S,R=!1;function V(){var C=b.buffer;m=new Int8Array(C),h=new Int16Array(C),w=new Uint8Array(C),p=new Uint16Array(C),x=new Int32Array(C),_=new Uint32Array(C),k=new Float32Array(C),E=new Float64Array(C),$=new BigInt64Array(C),S=new BigUint64Array(C)}function me(){R=!0,gn.__wasm_call_ctors()}var T=0,U=null;function N(C){T++}function Z(C){if(T--,T==0&&U){var j=U;U=null,j()}}function ve(C){C="Aborted("+C+")",f(C),u=!0,C+=". Build with -sASSERTIONS for more info.";var j=new WebAssembly.RuntimeError(C);throw d==null||d(j),j}var G;function ee(){return r.locateFile?o("MediaInfoModule.wasm"):new URL("MediaInfoModule.wasm",import.meta.url).href}function P(C){throw"both async and sync fetching of the wasm failed"}async function F(C){try{var j=await l(C);return new Uint8Array(j)}catch{}return P()}async function O(C,j){try{var A=await F(C),H=await WebAssembly.instantiate(A,j);return H}catch(X){f(`failed to asynchronously prepare wasm: ${X}`),ve(X)}}async function B(C,j,A){try{var H=fetch(j,{credentials:"same-origin"}),X=await WebAssembly.instantiateStreaming(H,A);return X}catch(ne){f(`wasm streaming compile failed: ${ne}`),f("falling back to ArrayBuffer instantiation")}return O(j,A)}function he(){return{env:Gc,wasi_snapshot_preview1:Gc}}async function ue(){function C(ne,de){return gn=ne.exports,b=gn.memory,V(),Ac=gn.__indirect_function_table,Vp(gn),Z(),gn}N();function j(ne){return C(ne.instance)}var A=he();G??(G=ee());var H=await B(g,G,A),X=j(H);return X}var ce=()=>ve(""),z=C=>{for(var j="";;){var A=w[C++];if(!A)return j;j+=String.fromCharCode(A)}},ie={},te={},Q={},ye=class extends Error{constructor(j){super(j),this.name="BindingError"}},le=C=>{throw new ye(C)};function _e(C,j,A={}){var H=j.name;if(C||le(`type "${H}" must have a positive integer typeid pointer`),te.hasOwnProperty(C)){if(A.ignoreDuplicateRegistrations)return;le(`Cannot register type '${H}' twice`)}if(te[C]=j,delete Q[C],ie.hasOwnProperty(C)){var X=ie[C];delete ie[C],X.forEach(ne=>ne())}}function je(C,j,A={}){return _e(C,j,A)}var y=(C,j,A)=>{switch(j){case 1:return A?H=>m[H]:H=>w[H];case 2:return A?H=>h[H>>1]:H=>p[H>>1];case 4:return A?H=>x[H>>2]:H=>_[H>>2];case 8:return A?H=>$[H>>3]:H=>S[H>>3];default:throw new TypeError(`invalid integer width (${j}): ${C}`)}},J=(C,j,A,H,X)=>{j=z(j);const ne=H===0n;let de=oe=>oe;if(ne){const oe=A*8;de=ge=>BigInt.asUintN(oe,ge),X=de(X)}je(C,{name:j,fromWireType:de,toWireType:(oe,ge)=>(typeof ge=="number"&&(ge=BigInt(ge)),ge),readValueFromPointer:y(j,A,!ne),destructorFunction:null})},K=(C,j,A,H)=>{j=z(j),je(C,{name:j,fromWireType:function(X){return!!X},toWireType:function(X,ne){return ne?A:H},readValueFromPointer:function(X){return this.fromWireType(w[X])},destructorFunction:null})},I=C=>({count:C.count,deleteScheduled:C.deleteScheduled,preservePointerOnDelete:C.preservePointerOnDelete,ptr:C.ptr,ptrType:C.ptrType,smartPtr:C.smartPtr,smartPtrType:C.smartPtrType}),D=C=>{function j(A){return A.$$.ptrType.registeredClass.name}le(j(C)+" instance already deleted")},L=!1,re=C=>{},Y=C=>{C.smartPtr?C.smartPtrType.rawDestructor(C.smartPtr):C.ptrType.registeredClass.rawDestructor(C.ptr)},W=C=>{C.count.value-=1;var j=C.count.value===0;j&&Y(C)},q=C=>typeof FinalizationRegistry>"u"?(q=j=>j,C):(L=new FinalizationRegistry(j=>{W(j.$$)}),q=j=>{var A=j.$$,H=!!A.smartPtr;if(H){var X={$$:A};L.register(j,X,j)}return j},re=j=>L.unregister(j),q(C)),pe=()=>{let C=ae.prototype;Object.assign(C,{isAliasOf(A){if(!(this instanceof ae)||!(A instanceof ae))return!1;var H=this.$$.ptrType.registeredClass,X=this.$$.ptr;A.$$=A.$$;for(var ne=A.$$.ptrType.registeredClass,de=A.$$.ptr;H.baseClass;)X=H.upcast(X),H=H.baseClass;for(;ne.baseClass;)de=ne.upcast(de),ne=ne.baseClass;return H===ne&&X===de},clone(){if(this.$$.ptr||D(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var A=q(Object.create(Object.getPrototypeOf(this),{$$:{value:I(this.$$)}}));return A.$$.count.value+=1,A.$$.deleteScheduled=!1,A},delete(){this.$$.ptr||D(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&le("Object already scheduled for deletion"),re(this),W(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||D(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&le("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const j=Symbol.dispose;j&&(C[j]=C.delete)};function ae(){}var we=(C,j)=>Object.defineProperty(j,"name",{value:C}),se={},xe=(C,j,A)=>{if(C[j].overloadTable===void 0){var H=C[j];C[j]=function(...X){return C[j].overloadTable.hasOwnProperty(X.length)||le(`Function '${A}' called with an invalid number of arguments (${X.length}) - expects one of (${C[j].overloadTable})!`),C[j].overloadTable[X.length].apply(this,X)},C[j].overloadTable=[],C[j].overloadTable[H.argCount]=H}},Ee=(C,j,A)=>{r.hasOwnProperty(C)?(le(`Cannot register public name '${C}' twice`),xe(r,C,C),r[C].overloadTable.hasOwnProperty(A)&&le(`Cannot register multiple overloads of a function with the same number of arguments (${A})!`),r[C].overloadTable[A]=j):(r[C]=j,r[C].argCount=A)},pt=48,ct=57,Gt=C=>{C=C.replace(/[^a-zA-Z0-9_]/g,"$");var j=C.charCodeAt(0);return j>=pt&&j<=ct?`_${C}`:C};function Pe(C,j,A,H,X,ne,de,oe){this.name=C,this.constructor=j,this.instancePrototype=A,this.rawDestructor=H,this.baseClass=X,this.getActualType=ne,this.upcast=de,this.downcast=oe,this.pureVirtualFunctions=[]}var Pt=(C,j,A)=>{for(;j!==A;)j.upcast||le(`Expected null or instance of ${A.name}, got an instance of ${j.name}`),C=j.upcast(C),j=j.baseClass;return C},qt=C=>{if(C===null)return"null";var j=typeof C;return j==="object"||j==="array"||j==="function"?C.toString():""+C};function gt(C,j){if(j===null)return this.isReference&&le(`null is not a valid ${this.name}`),0;j.$$||le(`Cannot pass "${qt(j)}" as a ${this.name}`),j.$$.ptr||le(`Cannot pass deleted object as a pointer of type ${this.name}`);var A=j.$$.ptrType.registeredClass,H=Pt(j.$$.ptr,A,this.registeredClass);return H}function Vr(C,j){var A;if(j===null)return this.isReference&&le(`null is not a valid ${this.name}`),this.isSmartPointer?(A=this.rawConstructor(),C!==null&&C.push(this.rawDestructor,A),A):0;(!j||!j.$$)&&le(`Cannot pass "${qt(j)}" as a ${this.name}`),j.$$.ptr||le(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&j.$$.ptrType.isConst&&le(`Cannot convert argument of type ${j.$$.smartPtrType?j.$$.smartPtrType.name:j.$$.ptrType.name} to parameter type ${this.name}`);var H=j.$$.ptrType.registeredClass;if(A=Pt(j.$$.ptr,H,this.registeredClass),this.isSmartPointer)switch(j.$$.smartPtr===void 0&&le("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:j.$$.smartPtrType===this?A=j.$$.smartPtr:le(`Cannot convert argument of type ${j.$$.smartPtrType?j.$$.smartPtrType.name:j.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:A=j.$$.smartPtr;break;case 2:if(j.$$.smartPtrType===this)A=j.$$.smartPtr;else{var X=j.clone();A=this.rawShare(A,mn.toHandle(()=>X.delete())),C!==null&&C.push(this.rawDestructor,A)}break;default:le("Unsupporting sharing policy")}return A}function un(C,j){if(j===null)return this.isReference&&le(`null is not a valid ${this.name}`),0;j.$$||le(`Cannot pass "${qt(j)}" as a ${this.name}`),j.$$.ptr||le(`Cannot pass deleted object as a pointer of type ${this.name}`),j.$$.ptrType.isConst&&le(`Cannot convert argument of type ${j.$$.ptrType.name} to parameter type ${this.name}`);var A=j.$$.ptrType.registeredClass,H=Pt(j.$$.ptr,A,this.registeredClass);return H}function sr(C){return this.fromWireType(_[C>>2])}var dn=(C,j,A)=>{if(j===A)return C;if(A.baseClass===void 0)return null;var H=dn(C,j,A.baseClass);return H===null?null:A.downcast(H)},ri={},Wr=(C,j)=>{for(j===void 0&&le("ptr should not be undefined");C.baseClass;)j=C.upcast(j),C=C.baseClass;return j},fn=(C,j)=>(j=Wr(C,j),ri[j]),Lm=class extends Error{constructor(j){super(j),this.name="InternalError"}},ni=C=>{throw new Lm(C)},si=(C,j)=>{(!j.ptrType||!j.ptr)&&ni("makeClassHandle requires ptr and ptrType");var A=!!j.smartPtrType,H=!!j.smartPtr;return A!==H&&ni("Both smartPtrType and smartPtr must be specified"),j.count={value:1},q(Object.create(C,{$$:{value:j,writable:!0}}))};function Um(C){var j=this.getPointee(C);if(!j)return this.destructor(C),null;var A=fn(this.registeredClass,j);if(A!==void 0){if(A.$$.count.value===0)return A.$$.ptr=j,A.$$.smartPtr=C,A.clone();var H=A.clone();return this.destructor(C),H}function X(){return this.isSmartPointer?si(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:j,smartPtrType:this,smartPtr:C}):si(this.registeredClass.instancePrototype,{ptrType:this,ptr:C})}var ne=this.registeredClass.getActualType(j),de=se[ne];if(!de)return X.call(this);var oe;this.isConst?oe=de.constPointerType:oe=de.pointerType;var ge=dn(j,this.registeredClass,oe.registeredClass);return ge===null?X.call(this):this.isSmartPointer?si(oe.registeredClass.instancePrototype,{ptrType:oe,ptr:ge,smartPtrType:this,smartPtr:C}):si(oe.registeredClass.instancePrototype,{ptrType:oe,ptr:ge})}var Hm=()=>{Object.assign(ts.prototype,{getPointee(C){return this.rawGetPointee&&(C=this.rawGetPointee(C)),C},destructor(C){var j;(j=this.rawDestructor)==null||j.call(this,C)},readValueFromPointer:sr,fromWireType:Um})};function ts(C,j,A,H,X,ne,de,oe,ge,ke,Ce){this.name=C,this.registeredClass=j,this.isReference=A,this.isConst=H,this.isSmartPointer=X,this.pointeeType=ne,this.sharingPolicy=de,this.rawGetPointee=oe,this.rawConstructor=ge,this.rawShare=ke,this.rawDestructor=Ce,!X&&j.baseClass===void 0?H?(this.toWireType=gt,this.destructorFunction=null):(this.toWireType=un,this.destructorFunction=null):this.toWireType=Vr}var Vm=(C,j,A)=>{r.hasOwnProperty(C)||ni("Replacing nonexistent public symbol"),r[C].overloadTable!==void 0&&A!==void 0||(r[C]=j,r[C].argCount=A)},Ic=[],Ac,Wm=C=>{var j=Ic[C];return j||(Ic[C]=j=Ac.get(C)),j},Kt=(C,j,A=!1)=>{C=z(C);function H(){var ne=Wm(j);return ne}var X=H();return typeof X!="function"&&le(`unknown function pointer with signature ${C}: ${j}`),X};class Gm extends Error{}var Rc=C=>{var j=Wc(C),A=z(j);return _r(j),A},za=(C,j)=>{var A=[],H={};function X(ne){if(!H[ne]&&!te[ne]){if(Q[ne]){Q[ne].forEach(X);return}A.push(ne),H[ne]=!0}}throw j.forEach(X),new Gm(`${C}: `+A.map(Rc).join([", "]))},hn=(C,j,A)=>{C.forEach(oe=>Q[oe]=j);function H(oe){var ge=A(oe);ge.length!==C.length&&ni("Mismatched type converter count");for(var ke=0;ke<C.length;++ke)je(C[ke],ge[ke])}var X=new Array(j.length),ne=[],de=0;j.forEach((oe,ge)=>{te.hasOwnProperty(oe)?X[ge]=te[oe]:(ne.push(oe),ie.hasOwnProperty(oe)||(ie[oe]=[]),ie[oe].push(()=>{X[ge]=te[oe],++de,de===ne.length&&H(X)}))}),ne.length===0&&H(X)},qm=(C,j,A,H,X,ne,de,oe,ge,ke,Ce,Re,Oe)=>{Ce=z(Ce),ne=Kt(X,ne),oe&&(oe=Kt(de,oe)),ke&&(ke=Kt(ge,ke)),Oe=Kt(Re,Oe);var $e=Gt(Ce);Ee($e,function(){za(`Cannot construct ${Ce} due to unbound types`,[H])}),hn([C,j,A],H?[H]:[],qe=>{var Yc;qe=qe[0];var ut,ir;H?(ut=qe.registeredClass,ir=ut.instancePrototype):ir=ae.prototype;var Yt=we(Ce,function(...Va){if(Object.getPrototypeOf(this)!==Ha)throw new ye(`Use 'new' to construct ${Ce}`);if(Zt.constructor_body===void 0)throw new ye(`${Ce} has no accessible constructor`);var Zc=Zt.constructor_body[Va.length];if(Zc===void 0)throw new ye(`Tried to invoke ctor of ${Ce} with invalid number of parameters (${Va.length}) - expected (${Object.keys(Zt.constructor_body).toString()}) parameters instead!`);return Zc.apply(this,Va)}),Ha=Object.create(ir,{constructor:{value:Yt}});Yt.prototype=Ha;var Zt=new Pe(Ce,Yt,Ha,Oe,ut,ne,oe,ke);Zt.baseClass&&((Yc=Zt.baseClass).__derivedClasses??(Yc.__derivedClasses=[]),Zt.baseClass.__derivedClasses.push(Zt));var Wp=new ts(Ce,Zt,!0,!1,!1),qc=new ts(Ce+"*",Zt,!1,!1,!1),Kc=new ts(Ce+" const*",Zt,!1,!0,!1);return se[C]={pointerType:qc,constPointerType:Kc},Vm($e,Yt),[Wp,qc,Kc]})},Pc=(C,j)=>{for(var A=[],H=0;H<C;H++)A.push(_[j+H*4>>2]);return A},Mc=C=>{for(;C.length;){var j=C.pop(),A=C.pop();A(j)}};function zc(C){for(var j=1;j<C.length;++j)if(C[j]!==null&&C[j].destructorFunction===void 0)return!0;return!1}function Km(C,j,A,H){var X=zc(C),ne=C.length-2,de=[],oe=["fn"];j&&oe.push("thisWired");for(var ge=0;ge<ne;++ge)de.push(`arg${ge}`),oe.push(`arg${ge}Wired`);de=de.join(","),oe=oe.join(",");var ke=`return function (${de}) {
`;X&&(ke+=`var destructors = [];
`);var Ce=X?"destructors":"null",Re=["humanName","throwBindingError","invoker","fn","runDestructors","fromRetWire","toClassParamWire"];j&&(ke+=`var thisWired = toClassParamWire(${Ce}, this);
`);for(var ge=0;ge<ne;++ge){var Oe=`toArg${ge}Wire`;ke+=`var arg${ge}Wired = ${Oe}(${Ce}, arg${ge});
`,Re.push(Oe)}if(ke+=(A||H?"var rv = ":"")+`invoker(${oe});
`,X)ke+=`runDestructors(destructors);
`;else for(var ge=j?1:2;ge<C.length;++ge){var $e=ge===1?"thisWired":"arg"+(ge-2)+"Wired";C[ge].destructorFunction!==null&&(ke+=`${$e}_dtor(${$e});
`,Re.push(`${$e}_dtor`))}return A&&(ke+=`var ret = fromRetWire(rv);
return ret;
`),ke+=`}
`,new Function(Re,ke)}function Fc(C,j,A,H,X,ne){var de=j.length;de<2&&le("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var oe=j[1]!==null&&A!==null,ge=zc(j),ke=!j[0].isVoid,Ce=j[0],Re=j[1],Oe=[C,le,H,X,Mc,Ce.fromWireType.bind(Ce),Re==null?void 0:Re.toWireType.bind(Re)],$e=2;$e<de;++$e){var qe=j[$e];Oe.push(qe.toWireType.bind(qe))}if(!ge)for(var $e=oe?1:2;$e<j.length;++$e)j[$e].destructorFunction!==null&&Oe.push(j[$e].destructorFunction);var ir=Km(j,oe,ke,ne)(...Oe);return we(C,ir)}var Ym=(C,j,A,H,X,ne)=>{var de=Pc(j,A);X=Kt(H,X),hn([],[C],oe=>{oe=oe[0];var ge=`constructor ${oe.name}`;if(oe.registeredClass.constructor_body===void 0&&(oe.registeredClass.constructor_body=[]),oe.registeredClass.constructor_body[j-1]!==void 0)throw new ye(`Cannot register multiple constructors with identical number of parameters (${j-1}) for class '${oe.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return oe.registeredClass.constructor_body[j-1]=()=>{za(`Cannot construct ${oe.name} due to unbound types`,de)},hn([],de,ke=>(ke.splice(1,0,null),oe.registeredClass.constructor_body[j-1]=Fc(ge,ke,null,X,ne),[])),[]})},Zm=C=>{C=C.trim();const j=C.indexOf("(");return j===-1?C:C.slice(0,j)},Qm=(C,j,A,H,X,ne,de,oe,ge,ke)=>{var Ce=Pc(A,H);j=z(j),j=Zm(j),ne=Kt(X,ne,ge),hn([],[C],Re=>{Re=Re[0];var Oe=`${Re.name}.${j}`;j.startsWith("@@")&&(j=Symbol[j.substring(2)]),oe&&Re.registeredClass.pureVirtualFunctions.push(j);function $e(){za(`Cannot call ${Oe} due to unbound types`,Ce)}var qe=Re.registeredClass.instancePrototype,ut=qe[j];return ut===void 0||ut.overloadTable===void 0&&ut.className!==Re.name&&ut.argCount===A-2?($e.argCount=A-2,$e.className=Re.name,qe[j]=$e):(xe(qe,j,Oe),qe[j].overloadTable[A-2]=$e),hn([],Ce,ir=>{var Yt=Fc(Oe,ir,Re,ne,de,ge);return qe[j].overloadTable===void 0?(Yt.argCount=A-2,qe[j]=Yt):qe[j].overloadTable[A-2]=Yt,[]}),[]})},Oc=[],Gr=[0,1,,1,null,1,!0,1,!1,1],Fa=C=>{C>9&&--Gr[C+1]===0&&(Gr[C]=void 0,Oc.push(C))},mn={toValue:C=>(C||le(`Cannot use deleted val. handle = ${C}`),Gr[C]),toHandle:C=>{switch(C){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const j=Oc.pop()||Gr.length;return Gr[j]=C,Gr[j+1]=1,j}}}},Xm={name:"emscripten::val",fromWireType:C=>{var j=mn.toValue(C);return Fa(C),j},toWireType:(C,j)=>mn.toHandle(j),readValueFromPointer:sr,destructorFunction:null},Jm=C=>je(C,Xm),ep=(C,j)=>{switch(j){case 4:return function(A){return this.fromWireType(k[A>>2])};case 8:return function(A){return this.fromWireType(E[A>>3])};default:throw new TypeError(`invalid float width (${j}): ${C}`)}},tp=(C,j,A)=>{j=z(j),je(C,{name:j,fromWireType:H=>H,toWireType:(H,X)=>X,readValueFromPointer:ep(j,A),destructorFunction:null})},rp=(C,j,A,H,X)=>{j=z(j);const ne=H===0;let de=ge=>ge;if(ne){var oe=32-8*A;de=ge=>ge<<oe>>>oe,X=de(X)}je(C,{name:j,fromWireType:de,toWireType:(ge,ke)=>ke,readValueFromPointer:y(j,A,H!==0),destructorFunction:null})},np=(C,j,A)=>{var H=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],X=H[j];function ne(de){var oe=_[de>>2],ge=_[de+4>>2];return new X(m.buffer,ge,oe)}A=z(A),je(C,{name:A,fromWireType:ne,readValueFromPointer:ne},{ignoreDuplicateRegistrations:!0})},sp=(C,j,A,H,X,ne,de,oe,ge,ke,Ce,Re)=>{A=z(A),ne=Kt(X,ne),oe=Kt(de,oe),ke=Kt(ge,ke),Re=Kt(Ce,Re),hn([C],[j],Oe=>{Oe=Oe[0];var $e=new ts(A,Oe.registeredClass,!1,!1,!0,Oe,H,ne,oe,ke,Re);return[$e]})},ip=(C,j,A,H)=>{if(!(H>0))return 0;for(var X=A,ne=A+H-1,de=0;de<C.length;++de){var oe=C.codePointAt(de);if(oe<=127){if(A>=ne)break;j[A++]=oe}else if(oe<=2047){if(A+1>=ne)break;j[A++]=192|oe>>6,j[A++]=128|oe&63}else if(oe<=65535){if(A+2>=ne)break;j[A++]=224|oe>>12,j[A++]=128|oe>>6&63,j[A++]=128|oe&63}else{if(A+3>=ne)break;j[A++]=240|oe>>18,j[A++]=128|oe>>12&63,j[A++]=128|oe>>6&63,j[A++]=128|oe&63,de++}}return j[A]=0,A-X},pn=(C,j,A)=>ip(C,w,j,A),Bc=C=>{for(var j=0,A=0;A<C.length;++A){var H=C.charCodeAt(A);H<=127?j++:H<=2047?j+=2:H>=55296&&H<=57343?(j+=4,++A):j+=3}return j},Lc=typeof TextDecoder<"u"?new TextDecoder:void 0,Uc=(C,j,A,H)=>{var X=j+A;if(H)return X;for(;C[j]&&!(j>=X);)++j;return j},Hc=(C,j=0,A,H)=>{var X=Uc(C,j,A,H);if(X-j>16&&C.buffer&&Lc)return Lc.decode(C.subarray(j,X));for(var ne="";j<X;){var de=C[j++];if(!(de&128)){ne+=String.fromCharCode(de);continue}var oe=C[j++]&63;if((de&224)==192){ne+=String.fromCharCode((de&31)<<6|oe);continue}var ge=C[j++]&63;if((de&240)==224?de=(de&15)<<12|oe<<6|ge:de=(de&7)<<18|oe<<12|ge<<6|C[j++]&63,de<65536)ne+=String.fromCharCode(de);else{var ke=de-65536;ne+=String.fromCharCode(55296|ke>>10,56320|ke&1023)}}return ne},ap=(C,j,A)=>C?Hc(w,C,j,A):"",op=(C,j)=>{j=z(j),je(C,{name:j,fromWireType(A){var H=_[A>>2],X=A+4,ne;return ne=ap(X,H,!0),_r(A),ne},toWireType(A,H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));var X,ne=typeof H=="string";ne||ArrayBuffer.isView(H)&&H.BYTES_PER_ELEMENT==1||le("Cannot pass non-string to std::string"),ne?X=Bc(H):X=H.length;var de=La(4+X+1),oe=de+4;return _[de>>2]=X,ne?pn(H,oe,X+1):w.set(H,oe),A!==null&&A.push(_r,de),de},readValueFromPointer:sr,destructorFunction(A){_r(A)}})},Vc=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,lp=(C,j,A)=>{var H=C>>1,X=Uc(p,H,j/2,A);if(X-H>16&&Vc)return Vc.decode(p.subarray(H,X));for(var ne="",de=H;de<X;++de){var oe=p[de];ne+=String.fromCharCode(oe)}return ne},cp=(C,j,A)=>{if(A??(A=2147483647),A<2)return 0;A-=2;for(var H=j,X=A<C.length*2?A/2:C.length,ne=0;ne<X;++ne){var de=C.charCodeAt(ne);h[j>>1]=de,j+=2}return h[j>>1]=0,j-H},up=C=>C.length*2,dp=(C,j,A)=>{for(var H="",X=C>>2,ne=0;!(ne>=j/4);ne++){var de=_[X+ne];if(!de&&!A)break;H+=String.fromCodePoint(de)}return H},fp=(C,j,A)=>{if(A??(A=2147483647),A<4)return 0;for(var H=j,X=H+A-4,ne=0;ne<C.length;++ne){var de=C.codePointAt(ne);if(de>65535&&ne++,x[j>>2]=de,j+=4,j+4>X)break}return x[j>>2]=0,j-H},hp=C=>{for(var j=0,A=0;A<C.length;++A){var H=C.codePointAt(A);H>65535&&A++,j+=4}return j},mp=(C,j,A)=>{A=z(A);var H,X,ne;j===2?(H=lp,X=cp,ne=up):(H=dp,X=fp,ne=hp),je(C,{name:A,fromWireType:de=>{var oe=_[de>>2],ge=H(de+4,oe*j,!0);return _r(de),ge},toWireType:(de,oe)=>{typeof oe!="string"&&le(`Cannot pass non-string to C++ string type ${A}`);var ge=ne(oe),ke=La(4+ge+j);return _[ke>>2]=ge/j,X(oe,ke+4,ge+j),de!==null&&de.push(_r,ke),ke},readValueFromPointer:sr,destructorFunction(de){_r(de)}})},pp=(C,j)=>{j=z(j),je(C,{isVoid:!0,name:j,fromWireType:()=>{},toWireType:(A,H)=>{}})},Oa=[],gp=C=>{var j=Oa.length;return Oa.push(C),j},xp=(C,j)=>{var A=te[C];return A===void 0&&le(`${j} has unknown type ${Rc(C)}`),A},vp=(C,j)=>{for(var A=new Array(C),H=0;H<C;++H)A[H]=xp(_[j+H*4>>2],`parameter ${H}`);return A},yp=(C,j,A)=>{var H=[],X=C(H,A);return H.length&&(_[j>>2]=mn.toHandle(H)),X},bp={},wp=C=>{var j=bp[C];return j===void 0?z(C):j},_p=(C,j,A)=>{var H=8,[X,...ne]=vp(C,j),de=X.toWireType.bind(X),oe=ne.map($e=>$e.readValueFromPointer.bind($e));C--;var ge={toValue:mn.toValue},ke=oe.map(($e,qe)=>{var ut=`argFromPtr${qe}`;return ge[ut]=$e,`${ut}(args${qe?"+"+qe*H:""})`}),Ce;switch(A){case 0:Ce="toValue(handle)";break;case 2:Ce="new (toValue(handle))";break;case 3:Ce="";break;case 1:ge.getStringOrSymbol=wp,Ce="toValue(handle)[getStringOrSymbol(methodName)]";break}Ce+=`(${ke})`,X.isVoid||(ge.toReturnWire=de,ge.emval_returnValue=yp,Ce=`return emval_returnValue(toReturnWire, destructorsRef, ${Ce})`),Ce=`return function (handle, methodName, destructorsRef, args) {
  ${Ce}
  }`;var Re=new Function(Object.keys(ge),Ce)(...Object.values(ge)),Oe=`methodCaller<(${ne.map($e=>$e.name)}) => ${X.name}>`;return gp(we(Oe,Re))},Np=C=>{C>9&&(Gr[C+1]+=1)},jp=(C,j,A,H,X)=>Oa[C](j,A,H,X),kp=C=>{var j=mn.toValue(C);Mc(j),Fa(C)},Cp=9007199254740992,Sp=-9007199254740992,Ep=C=>C<Sp||C>Cp?NaN:Number(C);function Dp(C,j){C=Ep(C);var A=new Date(C*1e3);x[j>>2]=A.getUTCSeconds(),x[j+4>>2]=A.getUTCMinutes(),x[j+8>>2]=A.getUTCHours(),x[j+12>>2]=A.getUTCDate(),x[j+16>>2]=A.getUTCMonth(),x[j+20>>2]=A.getUTCFullYear()-1900,x[j+24>>2]=A.getUTCDay();var H=Date.UTC(A.getUTCFullYear(),0,1,0,0,0,0),X=(A.getTime()-H)/(1e3*60*60*24)|0;x[j+28>>2]=X}var $p=(C,j,A,H)=>{var X=new Date().getFullYear(),ne=new Date(X,0,1),de=new Date(X,6,1),oe=ne.getTimezoneOffset(),ge=de.getTimezoneOffset(),ke=Math.max(oe,ge);_[C>>2]=ke*60,x[j>>2]=+(oe!=ge);var Ce=$e=>{var qe=$e>=0?"-":"+",ut=Math.abs($e),ir=String(Math.floor(ut/60)).padStart(2,"0"),Yt=String(ut%60).padStart(2,"0");return`UTC${qe}${ir}${Yt}`},Re=Ce(oe),Oe=Ce(ge);ge<oe?(pn(Re,A,17),pn(Oe,H,17)):(pn(Re,H,17),pn(Oe,A,17))},Tp=()=>Date.now(),Ip=()=>2147483648,Ap=(C,j)=>Math.ceil(C/j)*j,Rp=C=>{var j=b.buffer.byteLength,A=(C-j+65535)/65536|0;try{return b.grow(A),V(),1}catch{}},Pp=C=>{var j=w.length;C>>>=0;var A=Ip();if(C>A)return!1;for(var H=1;H<=4;H*=2){var X=j*(1+.2/H);X=Math.min(X,C+100663296);var ne=Math.min(A,Ap(Math.max(C,X),65536)),de=Rp(ne);if(de)return!0}return!1},Ba={},Mp=()=>n,rs=()=>{if(!rs.strings){var C=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8",j={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:C,_:Mp()};for(var A in Ba)Ba[A]===void 0?delete j[A]:j[A]=Ba[A];var H=[];for(var A in j)H.push(`${A}=${j[A]}`);rs.strings=H}return rs.strings},zp=(C,j)=>{var A=0,H=0;for(var X of rs()){var ne=j+A;_[C+H>>2]=ne,A+=pn(X,ne,1/0)+1,H+=4}return 0},Fp=(C,j)=>{var A=rs();_[C>>2]=A.length;var H=0;for(var X of A)H+=Bc(X)+1;return _[j>>2]=H,0},Op=C=>52;function Bp(C,j,A,H){return 70}var Lp=[null,[],[]],Up=(C,j)=>{var A=Lp[C];j===0||j===10?((C===1?c:f)(Hc(A)),A.length=0):A.push(j)},Hp=(C,j,A,H)=>{for(var X=0,ne=0;ne<A;ne++){var de=_[j>>2],oe=_[j+4>>2];j+=8;for(var ge=0;ge<oe;ge++)Up(C,w[de+ge]);X+=oe}return _[H>>2]=X,0};pe(),Hm();var Wc,La,_r;function Vp(C){Wc=C.__getTypeName,La=C.malloc,_r=C.free,C._emscripten_stack_restore,C._emscripten_stack_alloc,C.emscripten_stack_get_current}var Gc={_abort_js:ce,_embind_register_bigint:J,_embind_register_bool:K,_embind_register_class:qm,_embind_register_class_constructor:Ym,_embind_register_class_function:Qm,_embind_register_emval:Jm,_embind_register_float:tp,_embind_register_integer:rp,_embind_register_memory_view:np,_embind_register_smart_ptr:sp,_embind_register_std_string:op,_embind_register_std_wstring:mp,_embind_register_void:pp,_emval_create_invoker:_p,_emval_decref:Fa,_emval_incref:Np,_emval_invoke:jp,_emval_run_destructors:kp,_gmtime_js:Dp,_tzset_js:$p,emscripten_date_now:Tp,emscripten_resize_heap:Pp,environ_get:zp,environ_sizes_get:Fp,fd_close:Op,fd_seek:Bp,fd_write:Hp},gn=await ue();function Ua(){if(T>0){U=Ua;return}if(T>0){U=Ua;return}function C(){r.calledRun=!0,!u&&(me(),v==null||v(r))}C()}return Ua(),R?t=r:t=new Promise((C,j)=>{v=C,d=j}),t}const gd=()=>{};function yy(e,t){try{if(new URL(t).pathname==="/")return`${t}mediainfo.js/dist/${e}`}catch{}return`${t}../${e}`}function Cm(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(t===void 0)return new Promise((o,l)=>{Cm(e,o,l)});const{locateFile:n,...a}={...pd,...e,format:e.format??pd.format};vy({print:gd,printErr:gd,locateFile:n??yy,onAbort:o=>{r&&r(o)}}).then(o=>{t(new xy(o,a))}).catch(o=>{r&&r(o)})}const by="/fichegen/MediaInfoModule.wasm";class wy{constructor(){xn(this,"mediaInfo",null)}async initialize(){if(this.mediaInfo)return this.mediaInfo;try{return this.mediaInfo=await Cm({format:"text",locateFile:()=>by}),this.mediaInfo}catch(t){throw console.error("Erreur lors de l'initialisation de MediaInfo:",t),t}}async analyzeFile(t){const r=await this.initialize(),n=()=>t.size,a=(l,c)=>new Promise((f,g)=>{const u=new FileReader;u.onload=v=>{var d,b;if((d=v.target)!=null&&d.error){g(v.target.error);return}f(new Uint8Array((b=v.target)==null?void 0:b.result))},u.readAsArrayBuffer(t.slice(c,c+l))}),i=await r.analyzeData(n,a),o=i.match(/(General[\s\S]*?)(?=\n(?:Video|Audio|Text|Menu|$))/);if(o){const l=o[1],c=`Complete name                            : ${t.name}
`,f=l.replace(/^(General\s*\n)/,`$1${c}`);return i.replace(l,f)}return i}}const Sm=new wy;function Em(e){if(!e)return!1;const t=e.toLowerCase(),r=["<movie>","<tvshow>","<episodedetails>","<title>","<originaltitle>","<plot>","<director>","<?xml","<root>"],n=["general","video","audio","text","complete name","movie name","format ","codec","bit rate","width","height","frame rate","duration"],a=r.some(o=>t.includes(o)),i=n.some(o=>t.includes(o));return a||i}function Dm(e){if(!e)return!1;const t=e.toLowerCase();return["general","video","audio","text","complete name","format ","codec","bit rate","width","height","frame rate","duration","mediainfo","media info"].some(n=>t.includes(n))}function $m(e){const t={};try{const r=e.match(/<originaltitle[^>]*>(.*?)<\/originaltitle>/is);r&&(t.originaltitle=r[1].trim());const n=e.match(/<votes[^>]*>(.*?)<\/votes>/is);n&&(t.votes=n[1].trim());const a=e.match(/<premiered[^>]*>(.*?)<\/premiered>/is);a&&(t.premiered=a[1].trim());const i=e.match(/<aired[^>]*>(.*?)<\/aired>/is);i&&(t.aired=i[1].trim());const o=e.match(/<season[^>]*>(.*?)<\/season>/is);o&&(t.season=o[1].trim());const l=e.match(/<episode[^>]*>(.*?)<\/episode>/is);l&&(t.episode=l[1].trim());const c=e.match(/<tvdbid[^>]*>(.*?)<\/tvdbid>/is)||e.match(/thetvdb\.com\/(?:series|episode)\/(\d+)/i);c&&(t.tvdbId=c[1].trim());const f=e.match(/<title[^>]*>(.*?)<\/title>/is);f&&(t.title=f[1].trim());const g=e.match(/<year[^>]*>(.*?)<\/year>/is);g&&(t.year=g[1].trim());const u=e.match(/<plot[^>]*>(.*?)<\/plot>/is);u&&(t.plot=u[1].trim());const v=e.match(/<director[^>]*>(.*?)<\/director>/is);v&&(t.director=v[1].trim());const d=e.match(/<actor[^>]*>.*?<name[^>]*>(.*?)<\/name>.*?<\/actor>/gis);d&&(t.actors=d.map($=>{const S=$.match(/<name[^>]*>(.*?)<\/name>/is);return S?S[1].trim():""}).filter($=>$));const b=e.match(/<genre[^>]*>(.*?)<\/genre>/gis);b&&(t.genres=b.map($=>$.replace(/<\/?genre[^>]*>/gi,"").trim()));const m=e.match(/<writer[^>]*>(.*?)<\/writer>/gis);m&&(t.writer=m.map($=>$.replace(/<\/?writer[^>]*>/gi,"").trim()).filter(Boolean));const w=e.match(/<studio[^>]*>(.*?)<\/studio>/gis);w&&(t.studio=w.map($=>$.replace(/<\/?studio[^>]*>/gi,"").trim()).filter(Boolean));const h=e.match(/<country[^>]*>(.*?)<\/country>/gis);h&&(t.country=h.map($=>$.replace(/<\/?country[^>]*>/gi,"").trim()).filter(Boolean));const p=e.match(/<language[^>]*>(.*?)<\/language>/gis);p&&(t.language=p.map($=>$.replace(/<\/?language[^>]*>/gi,"").trim()).filter(Boolean));const x=e.match(/<runtime[^>]*>(.*?)<\/runtime>/is);x&&(t.runtime=x[1].trim());const _=e.match(/<rating[^>]*>(.*?)<\/rating>/is);_&&(t.rating=_[1].trim());const k=e.match(/<imdb[^>]*>(.*?)<\/imdb>/is)||e.match(/imdb\.com\/title\/(tt\d+)/i);k&&(t.imdbId=k[1].trim());const E=e.match(/<tmdbid[^>]*>(.*?)<\/tmdbid>/is)||e.match(/themoviedb\.org\/(?:movie|tv)\/(\d+)/i);E&&(t.tmdbId=E[1].trim())}catch(r){console.error("Erreur lors du parsing NFO XML:",r)}return t}function Cs(e){return e?e.replace(/\.[^.]+$/,"").replace(/[[\]()]/g," ").replace(/[._-]/g," ").replace(/\b(19|20)\d{2}\b.*$/,"").replace(/\b(S\d+E\d+|Season\s+\d+|Episode\s+\d+)\b.*$/i,"").replace(/\b(FRENCH|ENGLISH|MULTI|TRUEFRENCH|VFF|VFQ|VOSTFR|MULTI\.TRUEFRENCH)\b.*$/i,"").replace(/\b(720p|1080p|2160p|4K|UHD|HDR|BluRay|WEB|WEB-DL|WEBRIP|HDTV|REMUX)\b.*$/i,"").replace(/\s+/g," ").trim():""}function _y(e){if(!e)return"";const t=e.match(/(Movie\s*name|Nom\s*du\s*film)\s*:\s*(.+)/i);if(t){const l=t[2].trim(),c=Cs(l);if(c&&c.length>1)return c}const r=e.match(/^Title\s*:\s*(.+)$/mi);if(r){const l=r[1].trim(),c=Cs(l);if(c&&c.length>1)return c}const n=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(n){const c=n[2].trim().split(/[\\/]/).pop()||"",f=Cs(c);if(f)return f}const a=e.match(/^\s*([^\n]+?)\s*\((19|20)\d{2}\).*$/m);if(a){const l=a[1].replace(/[._]/g," ").replace(/\s+/g," ").trim();if(l&&l.length>1)return l}const i=e.match(/^\s*Source\s*:\s*(.+)$/mi)||e.match(/^\s*Source\s*VF\s*:\s*(.+)$/mi);if(i){let l=i[1].trim().replace(/[._]/g," ");const c=l.search(/\b(19|20)\d{2}\b/);if(c>0&&(l=l.slice(0,c)),l=l.replace(/\s+$/g,"").trim(),l&&l.length>1)return l}const o=$m(e);return o.title?o.title:""}function Ny(e){const t=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(!t)return"";const r=t[2].trim();return(r.split(/[\\/]/).pop()||r).trim().replace(/\.[^.]+$/,"")}const jy={quality:"1080p",format:"MKV",codec:"H.264",bitrate:5,bitrateUnit:"Mbps",size:8};function ky(e){const t={video:{...jy},audio:[],subtitles:[]},r=e.match(/RESOLUTiON[.\s]*:\s*(\d+)\s*x\s*(\d+)/i);if(r){const u=parseInt(r[2]);u>=2160?t.video.quality="2160p":u>=1080?t.video.quality="1080p":u>=720?t.video.quality="720p":u>=480&&(t.video.quality="480p"),t.video.height=u,t.video.width=parseInt(r[1])}const n=e.match(/CODEC[.\s]*:\s*([^\n]+)/i);if(n){let u=n[1].trim().split("-")[0].trim();/265|hevc/i.test(u)?t.video.codec="H.265":/264/i.test(u)?t.video.codec="H.264":t.video.codec=u}const a=e.match(/BiTRATE[.\s]*:\s*([\d\s,]+)\s*kb\/s/i);if(a){const u=parseInt(a[1].replace(/[\s,]/g,""));t.video.bitrate=Math.round(u/1e3*100)/100,t.video.bitrateUnit="Mbps"}const i=e.match(/RELEASE\s*SiZE[.\s]*:\s*([\d.]+)\s*(GiB|GB)/i);i&&(t.video.size=parseFloat(i[1]));const o=e.match(/Format\s*:\s*(\w+)/i);if(o){let u=o[1].toUpperCase();u==="MATROSKA"&&(u="MKV"),t.video.format=u}[...e.matchAll(/AUDiO\s*#(\d+)[^]*?[^]*?([\s\S]*?)(?=[^]*?[^]*?(?:AUDiO\s*#|SUBTiTLES\s*#|LiNKS|NOTE|GREETZ)|$)/gi)].forEach((u,v)=>{const d=u[1]||(v+1).toString(),b=u[2],m={id:d,language:"Franais",languageCode:"fr",codec:"AC-3",channels:"2.0",bitrate:256,bitrateUnit:"Kbps",isDefault:v===0},w=b.match(/LANGUAGE[.\s]*:\s*([^\n]+)/i);if(w){const _=w[1].trim().toLowerCase();_.includes("french ca")||_.includes("vfq")?(m.language="Qubcois",m.languageCode="fr-ca"):_.includes("french")||_.includes("franais")?(m.language="Franais",m.languageCode="fr"):_.includes("english")||_.includes("anglais")?(m.language="Anglais",m.languageCode="en"):(m.language=w[1].trim(),m.languageCode="other")}const h=b.match(/CODEC[.\s]*:\s*([^\n]+)/i);if(h){const _=h[1].trim();/(E-AC-3|EAC-3)/i.test(_)?m.codec="Dolby Digital Plus (E-AC-3)":/(AC-3|AC3)/i.test(_)?m.codec="AC-3":/DTS(-HD)?/i.test(_)?m.codec="DTS":m.codec=_}const p=b.match(/CHANNELS[.\s]*:\s*([^\n]+)/i);if(p){const _=p[1].trim();/2\.0|stereo/i.test(_)?m.channels="Stro":/5\.1/i.test(_)?m.channels="5.1":/7\.1/i.test(_)?m.channels="7.1":m.channels=_}const x=b.match(/BiTRATE[.\s]*:\s*([\d\s,]+)\s*kb\/s/i);x&&(m.bitrate=parseInt(x[1])),t.audio.push(m)}),[...e.matchAll(/SUBTiTLES\s*#(\d+)[^]*?[^]*?([\s\S]*?)(?=[^]*?[^]*?(?:SUBTiTLES\s*#|LiNKS|NOTE|GREETZ)|$)/gi)].forEach((u,v)=>{const d=u[1]||(v+1).toString(),b=u[2],m={id:d,language:"Franais",languageCode:"fr",type:"embedded",format:"SRT",isForced:!1,isDefault:v===0},w=b.match(/LANGUAGE[.\s]*:\s*([^\n]+)/i);if(w){const x=w[1].trim(),_=x.toLowerCase();_.includes("french ca")||_.includes("vfq")?(m.language="Qubcois",m.languageCode="fr-ca"):_.includes("french")||_.includes("franais")?(m.language="Franais",m.languageCode="fr"):_.includes("english")||_.includes("anglais")?(m.language="Anglais",m.languageCode="en"):(m.language=x,m.languageCode="other")}const h=b.match(/TYPE[.\s]*:\s*([^\n]+)/i);if(h){const x=h[1].trim().toLowerCase();x.includes("forced")&&(m.isForced=!0),x.includes("full")&&(m.isComplete=!0),x.includes("sdh")&&(m.isSDH=!0)}const p=b.match(/FORMAT[.\s]*:\s*([^\n]+)/i);if(p){const x=p[1].trim();/hardcoded/i.test(x)?(m.format="Hardcoded",m.type="embedded"):m.format=x.toUpperCase()==="UTF-8"?"SRT":x}t.subtitles.push(m)});const f=e.match(/SOURCE[.\s]*:\s*([^\n]+)/i);f&&(t.source=Cy(f[1]));const g=e.match(/^\s*([^\n]+?\.(?:MULTi|FRENCH|ENGLISH|TRUEFRENCH)\..*?-[A-Z0-9]+)\s*$/m);return g&&(t.releaseGroup=g[1].trim()),t}function Cy(e){const t=e.toLowerCase();return/(^|[._\-\s])webrip([._\-\s]|$)/i.test(t)?"WEBRip":/(^|[._\-\s])web\-?dl([._\-\s]|$)/i.test(t)||/(^|[._\-\s])web([._\-\s]|$)/i.test(t)||/(^|[._\-\s])(amzn|amazon|nf|netflix|dsnp|disney\+?|dplus|itunes|atvp|appletv\+?|hulu|max|hbomax|paramount|pmtp|peacock)([._\-\s]|$)/i.test(t)?"WEB-DL":/(^|[._\-\s])(bdremux|remux)([._\-\s]|$)/i.test(t)?"REMUX":/(^|[._\-\s])(uhd|4k)([._\-\s]|$)/i.test(t)?"UHD BluRay":/(^|[._\-\s])(bluray|blu\-ray)([._\-\s]|$)/i.test(t)?"BluRay":/(^|[._\-\s])hdtv([._\-\s]|$)/i.test(t)?"HDTV":/(^|[._\-\s])dvdrip([._\-\s]|$)/i.test(t)?"DVDRip":e.trim()}const Sy={"V_MPEG4/ISO/AVC":"H.264","V_MPEGH/ISO/HEVC":"H.265",V_MPEG2:"MPEG-2","MPEG VIDEO":"MPEG-2","MPEG-2":"MPEG-2","V_MPEG4/ISO/ASP":"MPEG-4","V_MS/VFW/FOURCC":"FOURCC","V_MS/VFW/FOURCC / DIV3":"DivX 3","V_MS/VFW/FOURCC / DIVX":"DivX","V_MS/VFW/FOURCC / DX50":"DivX 5","V_MS/VFW/FOURCC / XVID":"Xvid",XVID:"XVID",xvid:"XVID","V_MPEG4/ISO/AP":"MPEG-4 Part 2",V_MJPEG:"MJPEG","V_MS/VFW/FOURCC / H264":"H.264","V_MS/VFW/FOURCC / X264":"H.264","V_MS/VFW/FOURCC / AVC1":"H.264","V_MS/VFW/FOURCC / H265":"H.265","V_MS/VFW/FOURCC / HEVC":"H.265","V_MS/VFW/FOURCC / x265":"H.265","V_MS/VFW/FOURCC / hev1":"H.265",V_VP8:"VP8",V_VP9:"VP9",V_THEORA:"Theora",V_MPEG1:"MPEG-1","V_MPEG4/ISO/SP":"MPEG-4 Part 2","V_MPEG4/ISO/MP4V-ES":"MPEG-4 Part 2",V_AV01:"AV1",avc1:"H.264",hev1:"H.265",hvc1:"H.265",av01:"AV1",vp09:"VP9",vp08:"VP8"},Ey={"A_AAC-2":"AAC",A_AAC:"AAC",A_AC3:"AC-3",A_DTS:"DTS","A_DTS/ES":"DTS-ES","A_DTS/HDRA":"DTS-HD-HRA","A_DTS/HDMA":"DTS-HD-MA","Dolby Digital Plus with Atmos":"Dolby Digital Plus / E-AC3 Atmos","Dolby Digital Plus with Dolby Atmos":"Dolby Digital Plus / E-AC3 Atmos","E-AC-3 JOC":"Dolby Digital Plus / E-AC3 Atmos","DD+ Atmos":"Dolby Digital Plus / E-AC3 Atmos","DDP Atmos":"Dolby Digital Plus / E-AC3 Atmos","Dolby Digital Plus (E-AC-3)":"Dolby Digital Plus / E-AC3","Dolby Digital Plus":"Dolby Digital Plus / E-AC3","E-AC-3":"Dolby Digital Plus / E-AC3","EC-3":"Dolby Digital Plus / E-AC3","DD+":"Dolby Digital Plus / E-AC3",A_EAC3:"E-AC-3",A_FLAC:"FLAC","A_MPEG/L3":"MP3","A_MPEG/L2":"MP2",A_TRUEHD:"TrueHD",A_VORBIS:"Vorbis",A_WAVPACK4:"WavPack",A_PCM:"PCM","A_PCM/INT/LIT":"PCM","A_PCM/INT/BIG":"PCM","A_PCM/FLOAT/IEEE":"PCM",mp4a:"AAC","ac-3":"AC-3","ec-3":"E-AC-3",dts:"DTS",dtsh:"DTS-HDRA",dtsl:"DTS-HD MA","dts-es":"DTS-ES",dtses:"DTS-ES",flac:"FLAC"},Dy={1:"Mono",2:"Stro",3:"2.1",4:"4.0",5:"5.0",6:"5.1",7:"6.1",8:"7.1",10:"7.1.2 (Atmos)",12:"7.1.4 (Atmos)",16:"15.1"},xd={fr:{code:"fr",name:"Franais",flag:"https://flagcdn.com/20x15/fr.png"},"fr-ad":{code:"fr-ad",name:"Franais AD",flag:"https://flagcdn.com/20x15/fr.png"},"fr-ca":{code:"fr-ca",name:"Qubcois",flag:"https://flagcdn.com/20x15/ca.png"},en:{code:"en",name:"Anglais",flag:"https://flagcdn.com/20x15/us.png"},es:{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},de:{code:"de",name:"Allemand",flag:"https://flagcdn.com/20x15/de.png"},it:{code:"it",name:"Italien",flag:"https://flagcdn.com/20x15/it.png"},pt:{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},ru:{code:"ru",name:"Russe",flag:"https://flagcdn.com/20x15/ru.png"},ja:{code:"ja",name:"Japonais",flag:"https://flagcdn.com/20x15/jp.png"},ko:{code:"ko",name:"Coren",flag:"https://flagcdn.com/20x15/kr.png"},zh:{code:"zh",name:"Chinois",flag:"https://flagcdn.com/20x15/cn.png"},ar:{code:"ar",name:"Arabe",flag:"https://flagcdn.com/20x15/sa.png"},he:{code:"he",name:"Hbreu",flag:"https://flagcdn.com/20x15/il.png"},th:{code:"th",name:"Tha",flag:"https://flagcdn.com/20x15/th.png"},vi:{code:"vi",name:"Vietnamien",flag:"https://flagcdn.com/20x15/vn.png"},hi:{code:"hi",name:"Hindi",flag:"https://flagcdn.com/20x15/in.png"},nl:{code:"nl",name:"Nerlandais",flag:"https://flagcdn.com/20x15/nl.png"},sv:{code:"sv",name:"Sudois",flag:"https://flagcdn.com/20x15/se.png"},no:{code:"no",name:"Norvgien",flag:"https://flagcdn.com/20x15/no.png"},da:{code:"da",name:"Danois",flag:"https://flagcdn.com/20x15/dk.png"},fi:{code:"fi",name:"Finnois",flag:"https://flagcdn.com/20x15/fi.png"},pl:{code:"pl",name:"Polonais",flag:"https://flagcdn.com/20x15/pl.png"},cs:{code:"cs",name:"Tchque",flag:"https://flagcdn.com/20x15/cz.png"},hu:{code:"hu",name:"Hongrois",flag:"https://flagcdn.com/20x15/hu.png"},tr:{code:"tr",name:"Turc",flag:"https://flagcdn.com/20x15/tr.png"},ro:{code:"ro",name:"Roumain",flag:"https://flagcdn.com/20x15/ro.png"},bg:{code:"bg",name:"Bulgare",flag:"https://flagcdn.com/20x15/bg.png"},el:{code:"el",name:"Grec",flag:"https://flagcdn.com/20x15/gr.png"},id:{code:"id",name:"Indonsien",flag:"https://flagcdn.com/20x15/id.png"},ms:{code:"ms",name:"Malais",flag:"https://flagcdn.com/20x15/my.png"},tl:{code:"tl",name:"Filipino",flag:"https://flagcdn.com/20x15/ph.png"},uk:{code:"uk",name:"Ukrainien",flag:"https://flagcdn.com/20x15/ua.png"},hr:{code:"hr",name:"Croate",flag:"https://flagcdn.com/20x15/hr.png"},sr:{code:"sr",name:"Serbe",flag:"https://flagcdn.com/20x15/rs.png"},sl:{code:"sl",name:"Slovne",flag:"https://flagcdn.com/20x15/si.png"},sk:{code:"sk",name:"Slovaque",flag:"https://flagcdn.com/20x15/sk.png"},lt:{code:"lt",name:"Lituanien",flag:"https://flagcdn.com/20x15/lt.png"},lv:{code:"lv",name:"Letton",flag:"https://flagcdn.com/20x15/lv.png"},et:{code:"et",name:"Estonien",flag:"https://flagcdn.com/20x15/ee.png"},"chinese (simplified)":{code:"zh",name:"Chinois (Simplifi)",flag:"https://flagcdn.com/20x15/cn.png"},"chinese (traditional)":{code:"zh-tw",name:"Chinois (Traditionnel)",flag:"https://flagcdn.com/20x15/tw.png"},"spanish (latin america)":{code:"es-mx",name:"Espagnol (Amrique Latine)",flag:"https://flagcdn.com/20x15/mx.png"},"spanish (es)":{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},spanish:{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},"portuguese (br)":{code:"pt-br",name:"Portugais (Brsil)",flag:"https://flagcdn.com/20x15/br.png"},portuguese:{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},"portuguese (pt)":{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},"norwegian bokmal":{code:"no",name:"Norvgien",flag:"https://flagcdn.com/20x15/no.png"},chinese:{code:"zh",name:"Chinois",flag:"https://flagcdn.com/20x15/cn.png"},arabic:{code:"ar",name:"Arabe",flag:"https://flagcdn.com/20x15/sa.png"},czech:{code:"cs",name:"Tchque",flag:"https://flagcdn.com/20x15/cz.png"},danish:{code:"da",name:"Danois",flag:"https://flagcdn.com/20x15/dk.png"},german:{code:"de",name:"Allemand",flag:"https://flagcdn.com/20x15/de.png"},greek:{code:"el",name:"Grec",flag:"https://flagcdn.com/20x15/gr.png"},finnish:{code:"fi",name:"Finnois",flag:"https://flagcdn.com/20x15/fi.png"},hebrew:{code:"he",name:"Hbreu",flag:"https://flagcdn.com/20x15/il.png"},croatian:{code:"hr",name:"Croate",flag:"https://flagcdn.com/20x15/hr.png"},hungarian:{code:"hu",name:"Hongrois",flag:"https://flagcdn.com/20x15/hu.png"},indonesian:{code:"id",name:"Indonsien",flag:"https://flagcdn.com/20x15/id.png"},italian:{code:"it",name:"Italien",flag:"https://flagcdn.com/20x15/it.png"},korean:{code:"ko",name:"Coren",flag:"https://flagcdn.com/20x15/kr.png"},malay:{code:"ms",name:"Malais",flag:"https://flagcdn.com/20x15/my.png"},dutch:{code:"nl",name:"Nerlandais",flag:"https://flagcdn.com/20x15/nl.png"},polish:{code:"pl",name:"Polonais",flag:"https://flagcdn.com/20x15/pl.png"},romanian:{code:"ro",name:"Roumain",flag:"https://flagcdn.com/20x15/ro.png"},russian:{code:"ru",name:"Russe",flag:"https://flagcdn.com/20x15/ru.png"},swedish:{code:"sv",name:"Sudois",flag:"https://flagcdn.com/20x15/se.png"},thai:{code:"th",name:"Tha",flag:"https://flagcdn.com/20x15/th.png"},turkish:{code:"tr",name:"Turc",flag:"https://flagcdn.com/20x15/tr.png"},ukrainian:{code:"uk",name:"Ukrainien",flag:"https://flagcdn.com/20x15/ua.png"},vietnamese:{code:"vi",name:"Vietnamien",flag:"https://flagcdn.com/20x15/vn.png"}};function $y(e){return Sy[e]||e}function Ty(e){if(!e)return"Autre";const t=e.trim(),r=t.toLowerCase();return/e[\- _]?ac[\- _]?3\s*joc/.test(r)||/(^|[\s\-_/])(e[\- _]?ac[\- _]?3|ec[\- _]?3|dd\+|dolby\s*digital\s*plus)([^a-z]|$)/.test(r)&&/(atmos|joc)/.test(r)||r==="dolby digital plus with atmos"||r==="dd+ atmos"||r==="ddp atmos"?"Dolby Digital Plus / E-AC3 Atmos":/dolby\s*truehd/.test(r)&&/atmos/.test(r)||/\bmlp\s*fba\s*16-ch\b/.test(r)?"Dolby TrueHD Atmos":/(^|[\s\-_/])(e[\- _]?ac[\- _]?3|ec[\- _]?3|dd\+|dolby\s*digital\s*plus)([^a-z]|$)/.test(r)?"Dolby Digital Plus / E-AC3":/(^|[\s\-_/])ac[\- _]?3([^a-z]|$)/.test(r)||/dolby\s*digital(?!\s*plus)/.test(r)?"AC-3":Ey[e]||t}function Iy(e){return Dy[e]||`${e} canaux`}function Je(e){const t=e.toLowerCase();return t==="autre"||t==="other"?{code:t,name:e,flag:null}:xd[t]?xd[t]:{code:t,name:e,flag:null}}function Ay(e){const t={},r=e.split(`
`);let n="",a=[];for(const i of r){const o=i.trim(),l=/^(general|gnral)(\s*#\d+)?\s*$/i.test(o),c=/^(video|vido)(\s*#\d+)?\s*$/i.test(o),f=/^audio(\s*#\d+)?\s*$/i.test(o),g=/^(text|texte)(\s*#\d+)?\s*$/i.test(o),u=/^(subtitle|sous-titre)\s*#\d+\s*$/i.test(o);l?(n&&a.length>0&&fs(t,n,a.join(`
`)),n="general",a=[]):c?(n&&a.length>0&&fs(t,n,a.join(`
`)),n="video",a=[]):f?(n&&a.length>0&&fs(t,n,a.join(`
`)),n="audio",a=[]):g||u?(n&&a.length>0&&fs(t,n,a.join(`
`)),n="text",a=[]):o&&n&&(/^#\d+$/.test(o)||a.push(i))}return n&&a.length>0&&fs(t,n,a.join(`
`)),t}function fs(e,t,r){t==="general"?e.general=r:t==="video"?(e.video||(e.video=[]),e.video.push(r)):t==="audio"?(e.audio||(e.audio=[]),e.audio.push(r)):t==="text"&&(e.text||(e.text=[]),e.text.push(r))}function Ie(e,t){const r=t.replace(/[()\[\]{}.*+?^$|\\]/g,"\\$&"),n=new RegExp(`${r}\\s*:\\s*(.+)`,"i"),a=e.match(n);if(a)return a[1].trim();const i=new RegExp(`^${r}\\t(.+)$`,"im"),o=e.match(i);return o?o[1].trim():null}function Ry(e){const t={},r=e.match(/(Duration|Dure)\s*:\s*(.+)/i);r&&(t.duration=r[2].trim());const n=e.match(/(File\s*size|Taille\s*du\s*fichier)\s*:\s*([\d\s,.]+)\s*(GiB|GB|MiB|MB|Gio|Mio)/i);if(n){const a=n[2].replace(/\s/g,"").replace(",","."),i=n[3].toUpperCase(),o=parseFloat(a);Number.isNaN(o)||(i==="GIB"||i==="GB"||i==="GIO"?t.fileSizeGiB=o:(i==="MIB"||i==="MB"||i==="MIO")&&(t.fileSizeGiB=o/1024))}return t}function Py(e){const t={},r=e.match(/(Duration|Dure)\s*:\s*(.+)/i);r&&(t.duration=r[2].trim());const n=e.match(/(Width|Largeur)\s*:\s*([\d\s.,]+)/i),a=e.match(/(Height|Hauteur)\s*:\s*([\d\s.,]+)/i);if(n&&a){const g=parseInt(n[2].replace(/\D/g,"")),u=parseInt(a[2].replace(/\D/g,""));if(!Number.isNaN(g)&&!Number.isNaN(u)){t.width=g,t.height=u;const v=g>=3800||u>=2160||g>=3e3&&u>=1600,d=!v&&(g>=1900||u>=1e3||g>=1900&&u>=800),b=!v&&!d&&(g>=1280||u>=700);v?t.quality="2160p":d?t.quality="1080p":b?t.quality="720p":t.quality="SD"}}const i=e.match(/(Codec ID|Identifiant du codec)\s*:\s*(.+)/i)||e.match(/Format\s*:\s*(.+)/i);if(i){let g=(i[2]||i[1]).trim();g.toUpperCase()==="MPEG VIDEO"?g="MPEG-2":g.toUpperCase()==="AVC"||g.toUpperCase().includes("H264")?g="H.264":(g.toUpperCase()==="HEVC"||g.toUpperCase().includes("H265"))&&(g="H.265"),t.codec=$y(g)}const o=e.match(/(Frame\s*rate|Images\s*par\s*seconde)\s*:\s*([\d.,]+)\s*(FPS|Im\/s)/i);o&&(t.frameRate=o[2].replace(",","."));const l=e.match(/(Bit[ _-]?rate|Dbit)\s*:\s*([\d\s.,]+)\s*(Mb\/?s|Mbps|Kb\/?s|Kbps|kb\/?s)/i)||e.match(/Bitrate\s*:\s*([\d\s.,]+)\s*(Mb\/?s|Mbps|Kb\/?s|Kbps|kb\/?s)/i);if(l){const g=l[2].replace(/\s/g,"").replace(",","."),u=l[3].toLowerCase();let v=parseFloat(g);Number.isNaN(v)||(u.startsWith("kb")&&(v=v/1e3),t.bitrate=parseFloat(v.toFixed(3)),t.bitrateUnit="Mbps")}const c=e.match(/(Writing\s*library|Bibliothque\s*d'criture)\s*:\s*(.+)/i);c&&(t.writingLibrary=c[2].trim());const f=e.match(/(Encoding\s*settings|Paramtres\s*d'encodage)\s*:\s*(.+)/i);return f&&(t.encodingSettings=f[2].trim()),t}function My(e,t){var r;try{const n={id:(t+1).toString(),language:"Franais",languageCode:"fr",codec:"AAC",channels:"Stro",bitrate:128,bitrateUnit:"Kbps",isDefault:t===0};let a=!1;const i=Ie(e,"Language")||Ie(e,"Langue");if(i){const d=i.toLowerCase();d.includes("french (ca)")||d.includes("french ca")||d.includes("vfq")?(n.language="Qubcois",n.languageCode="fr-ca"):d.includes("french")||d.includes("franais")||d==="fr"?(n.language="Franais",n.languageCode="fr"):d.includes("english")||d.includes("anglais")||d==="en"?(n.language="Anglais",n.languageCode="en"):d.includes("japanese")||d.includes("japonais")||d==="ja"?(n.language="Japonais",n.languageCode="ja"):(n.language=i,n.languageCode="other")}const o=Ie(e,"Commercial name")||Ie(e,"Nom commercial")||Ie(e,"Format_Commercial_IfAny");if(o){const d=o.toLowerCase();d.includes("dts-hd high resolution audio")||d.includes("dts-hd hra")?(n.codec="DTS-HD",a=!0):d.includes("dts-hd master audio")||d.includes("dts-hd ma")?(n.codec="DTS-HD MA",a=!0):d.includes("dts:x")?(n.codec="DTS:X",a=!0):d.includes("dolby truehd")&&d.includes("atmos")?(n.codec="Dolby TrueHD with Dolby Atmos",a=!0):d.includes("dolby truehd")?(n.codec="Dolby TrueHD",a=!0):d.includes("dolby digital plus")&&d.includes("atmos")?(n.codec="Dolby Digital Plus / E-AC3 Atmos",a=!0):d.includes("dolby digital plus")?(n.codec="Dolby Digital Plus / E-AC3",a=!0):d.includes("dolby digital")&&(n.codec="AC-3",a=!0)}const l=/\bAtmos\b|\bJOC\b/i.test(e),c=Ie(e,"Format")||Ie(e,"Codec ID")||Ie(e,"Identifiant du codec");if(c&&!a){const d=c.toLowerCase();d==="ac-3"||d.includes("ac-3")||d==="ac3"?n.codec="AC-3":d==="dts xll"||d==="dts-xll"?n.codec="DTS-HD MA":d==="dts xbr"||d==="dts-xbr"?n.codec="DTS-HD":d.includes("dts")?n.codec="DTS":d==="mlp fba"||d.includes("mlp fba 16-ch")?n.codec="Dolby TrueHD with Dolby Atmos":d==="mlp fba"||d.includes("mlp")?n.codec="Dolby TrueHD":d==="e-ac-3"||d==="eac3"||d.includes("e-ac-3")?n.codec="Dolby Digital Plus / E-AC3":n.codec=Ty(c)}console.log(`Audio track ${t+1}: Checking channels in content (first 500 chars):`,e.substring(0,500));const f=Ie(e,"Channel(s)_Original")||Ie(e,"ChannelLayout_Original"),g=Ie(e,"Channel(s)")||Ie(e,"Channels")||Ie(e,"Canaux");console.log(`Audio track ${t+1}: channelsOriginal='${f}', channelsValue='${g}'`);const u=f||g;if(u){const d=parseInt(u);console.log(`Audio track ${t+1}: Parsing '${u}'  channelCount=${d}`),isNaN(d)||(n.channels=Iy(d),console.log(`Audio track ${t+1}: Detected ${d} channels  ${n.channels}`))}else console.log(`Audio track ${t+1}: No channel information found`);const v=Ie(e,"Bit rate")||Ie(e,"Maximum bit rate")||Ie(e,"BitRate")||Ie(e,"Dbit")||Ie(e,"Bitrate");if(v){const d=v.match(/([\d\s.,]+)\s*(kb\/s|kbps|Mb\/s|Mbps)?/i);if(d){const b=parseFloat(d[1].replace(/\s/g,"").replace(",",".")),m=((r=d[2])==null?void 0:r.toLowerCase())||"kb/s";isNaN(b)||(m.includes("mb")?n.bitrate=Math.round(b*1e3):n.bitrate=Math.round(b),n.bitrateUnit="Kbps",console.log(`Audio track ${t+1}: Detected bitrate ${b} ${m}  ${n.bitrate} Kbps`))}}else{const d=Ie(e,"Title")||Ie(e,"Titre");if(d){const b=d.match(/@\s*([\d\s.,]+)\s*[Kk]bps/i);if(b){const m=parseFloat(b[1].replace(/\s/g,"").replace(",","."));isNaN(m)||(n.bitrate=Math.round(m),n.bitrateUnit="Kbps",console.log(`Audio track ${t+1}: Extracted bitrate from Title: ${n.bitrate} Kbps`))}}}return n}catch(n){return console.error("Erreur lors du parsing de la piste audio:",n),null}}function zy(e,t){try{const r={id:(t+1).toString(),language:"Franais",languageCode:"fr",type:"embedded",format:"SRT",isForced:!1,isDefault:t===0},n=Ie(e,"Language")||Ie(e,"Langue");if(n){const c=n.toLowerCase();c.includes("french (ca)")||c.includes("french ca")||c.includes("vfq")?(r.language="Qubcois",r.languageCode="fr-ca"):c.includes("french")||c.includes("franais")||c==="fr"?(r.language="Franais",r.languageCode="fr"):c.includes("english")||c.includes("anglais")||c==="en"?(r.language="Anglais",r.languageCode="en"):c.includes("japanese")||c.includes("japonais")||c==="ja"?(r.language="Japonais",r.languageCode="ja"):(r.language=n,r.languageCode="other")}const a=Ie(e,"Format");if(a){const c=a.trim().toUpperCase();["SRT","ASS","SSA","PGS","VOBSUB","SUP","UTF-8"].includes(c)&&(r.format=c==="UTF-8"?"SRT":c)}const i=Ie(e,"Title")||Ie(e,"Titre");if(i){const c=i.toLowerCase();(c.includes("forced")||c.includes("forc"))&&(r.isForced=!0),c.includes("sdh")&&(r.isSDH=!0),(c.includes("full")||c.includes("complete"))&&(r.isComplete=!0)}const o=Ie(e,"Forced")||Ie(e,"Forc");o&&(r.isForced=/^(yes|oui)$/i.test(o));const l=Ie(e,"Default")||Ie(e,"Dfaut");return l&&(r.isDefault=/^(yes|oui)$/i.test(l)),r}catch(r){return console.error("Erreur lors du parsing des sous-titres:",r),null}}function Fy(e){var l;const t={},r=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i),n=e.match(/(Movie\s*name|Nom\s*du\s*film)\s*:\s*(.+)/i),a=e.match(/(Encoded\s*by|Encod\s*par)\s*:\s*(.+)/i),i=e.match(/(Original\s*source\s*medium|Support\s*source\s*original)\s*:\s*(.+)/i),o=((l=r?r[2]:n?n[2]:"")==null?void 0:l.trim())||"";if(o){const f=(o.split(/[\\/]/).pop()||o).trim().replace(/\.[^.]+$/,"").trim(),g=f.toLowerCase();t.source=Tm(g)||t.source,t.releaseGroup=f.replace(/\./g," ")}if(!t.source&&i){const c=i[2].toLowerCase();c.includes("uhd")||c.includes("4k")?t.source="UHD BluRay":c.includes("blu-ray")?t.source="BluRay":c.includes("web")&&(t.source="WEB-DL")}return!t.releaseGroup&&a&&(t.releaseGroup=a[2].trim()),t}function Tm(e){const t=e.toLowerCase();if(/(^|[._\-\s])webrip([._\-\s]|$)/i.test(t))return"WEBRip";if(/(^|[._\-\s])web\-?dl([._\-\s]|$)/i.test(t)||/(^|[._\-\s])web([._\-\s]|$)/i.test(t)||/(^|[._\-\s])(amzn|amazon|nf|netflix|dsnp|disney\+?|dplus|itunes|atvp|appletv\+?|hulu|max|hbomax|paramount|pmtp|peacock)([._\-\s]|$)/i.test(t))return"WEB-DL";if(/(^|[._\-\s])(bdremux|remux)([._\-\s]|$)/i.test(t))return"REMUX";if(/(^|[._\-\s])(uhd|4k)([._\-\s]|$)/i.test(t))return"UHD BluRay";if(/(^|[._\-\s])(bluray|blu\-ray|bdrip)([._\-\s]|$)/i.test(t))return"BluRay";if(/(^|[._\-\s])hdtv([._\-\s]|$)/i.test(t))return"HDTV";if(/(^|[._\-\s])dvdrip([._\-\s]|$)/i.test(t))return"DVDRip";if(/(^|[._\-\s])cam([._\-\s]|$)/i.test(t))return"CAM";if(/(^|[._\-\s])ts([._\-\s]|$)/i.test(t))return"TS"}function Oy(e){if(!e||!Em(e))return null;const t=/\bRESOLUTiON\b|\bViDEO\b|\bAUDiO\b|\bSUBTiTLES\b/i.test(e),r={video:{},audio:[],subtitles:[]};try{if(!Dm(e)&&t){const i=ky(e);if(i)return i}const n=Ay(e);return By(n.general,r),Wy(n.video,r),Gy(n.audio,r),qy(n.text,r),n.video&&n.video.length>1&&Ky(r),r}catch(n){return console.error("Erreur lors du parsing des spcifications techniques:",n),null}}function By(e,t){if(!e)return;console.log("processGeneralSection - generalSection:",e.substring(0,500));const r=Ry(e),n=t.video,a=e.match(/Format\s*:\s*(.+)/i);if(a){let o=a[1].trim().toUpperCase();o==="MATROSKA"?o="MKV":o==="AVI"?o="AVI":o==="MP4"?o="MP4":o==="M2TS"?o="M2TS":(o==="ISO"||o==="BDAV")&&(o="ISO"),["MKV","MP4","AVI","M2TS","ISO"].includes(o)&&(n.format=o),console.log("Format detected from General section:",o)}r.duration&&(n.duration=r.duration),r.fileSizeGiB&&!Number.isNaN(r.fileSizeGiB)&&(n.size=r.fileSizeGiB);const i=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(console.log("completeNameMatch:",i),i){const o=i[2];Ly(o,n),Uy(o,t),Hy(e,t)}Vy(e,t)}function Ly(e,t){const r=e.toLowerCase();/\b(2160p|uhd|4k)\b/i.test(r)?t.quality="2160p":/\b1080p\b/i.test(r)?t.quality="1080p":/\b720p\b/i.test(r)&&(t.quality="720p")}function Uy(e,t){const r=Tm(e);r&&(t.source=r)}function Hy(e,t){const r=Ny(e);console.log("extractReleaseInfoFromCompleteName - releaseName:",r),r&&(t.releaseName=r)}function Vy(e,t){const r=Fy(e);r.source&&!t.source&&(t.source=r.source),r.releaseGroup&&!t.releaseGroup&&(t.releaseGroup=r.releaseGroup)}function Wy(e,t){if(!e||e.length===0)return;const r=Py(e[0]),n=t.video,a="Mbps",i=n.format;t.video={quality:r.quality||n.quality||"1080p",format:i||"MKV",codec:r.codec||n.codec||"H.264",bitrate:r.bitrate??n.bitrate??5,bitrateUnit:r.bitrateUnit||n.bitrateUnit||a,size:n.size??r.size,duration:n.duration||r.duration},console.log("Final video format after processing:",t.video.format);const o=t.video,l=r;l.width&&(o.width=l.width),l.height&&(o.height=l.height),l.frameRate&&(o.frameRate=l.frameRate),l.writingLibrary&&(o.writingLibrary=l.writingLibrary),l.encodingSettings&&(o.encodingSettings=l.encodingSettings)}function Gy(e,t){!e||e.length===0||(t.audio=e.map((r,n)=>My(r,n)).filter(r=>r!==null))}function qy(e,t){!e||e.length===0||(t.subtitles=e.map((r,n)=>zy(r,n)).filter(r=>r!==null))}function Ky(e){if(e.audio){const t=r=>`${r.language}-${r.codec}-${r.channels}-${r.bitrate}`;e.audio=vd(e.audio,t)}if(e.subtitles){const t=r=>{const n=r;return`${r.language}-${r.format}-${r.isForced}-${n.isSDH}-${n.isComplete}`};e.subtitles=vd(e.subtitles,t)}}function vd(e,t){const r=new Set;return e.filter(n=>{const a=t(n);return r.has(a)?!1:(r.add(a),!0)})}const Im=M.createContext(void 0),Yy={fr:{"footer.version":"V.1.02","header.title":"FicheGen","header.subtitle":"Gnrateur de Fiches mdia","search.placeholder":"Rechercher un film, une srie, un spectacle ...","search.nfo.upload":"Importer NFO","search.nfo.paste":"Coller NFO","search.nfo.notitle":"NFO import / gnr avec succs, mais aucun titre trouv. Recherchez le manuellement.","specs.title":"Spcifications techniques","specs.back":"Retour","specs.name":"Nom de la release","specs.size":"Taille","specs.video":"Vido","specs.resolution":"Rsolution","specs.codec":"Codec","specs.bitrate":"Dbit","specs.audio":"Audio","specs.subtitles":"Sous-titres","specs.language":"Audio","specs.format":"Format","specs.default":"Dfaut","specs.add":"Ajouter","specs.generate":"Gnrer la fiche","lang.french":"Franais","lang.english":"Anglais","lang.spanish":"Espagnol","lang.german":"Allemand","lang.italian":"Italien","lang.portuguese":"Portugais","lang.russian":"Russe","lang.japanese":"Japonais","lang.korean":"Coren","lang.chinese":"Chinois","lang.arabic":"Arabe","lang.hindi":"Hindi","lang.dutch":"Nerlandais","lang.swedish":"Sudois","lang.norwegian":"Norvgien","lang.danish":"Danois","lang.finnish":"Finnois","lang.polish":"Polonais","lang.czech":"Tchque","lang.hungarian":"Hongrois","lang.romanian":"Roumain","lang.bulgarian":"Bulgare","lang.greek":"Grec","lang.turkish":"Turc","lang.hebrew":"Hbreu","lang.thai":"Tha","lang.vietnamese":"Vietnamien","lang.indonesian":"Indonsien","lang.malay":"Malais","lang.filipino":"Filipino","lang.ukrainian":"Ukrainien","lang.croatian":"Croate","lang.serbian":"Serbe","lang.slovenian":"Slovne","lang.slovak":"Slovaque","lang.lithuanian":"Lituanien","lang.latvian":"Letton","lang.estonian":"Estonien","lang.quebecois":"Qubcois","lang.other":"Autre","card.synopsis":"Synopsis","card.cast":"Distribution","card.crew":"quipe technique","card.director":"Ralisateur","card.writer":"Scnariste","card.producer":"Producteur","card.composer":"Compositeur","card.cinematographer":"Directeur de la photographie","card.editor":"Monteur","card.production":"Production","card.company":"Socit de production","card.country":"Pays","card.release":"Date de sortie","card.runtime":"Dure","card.budget":"Budget","card.revenue":"Recettes","card.genres":"Genres","card.rating":"Note","card.votes":"votes","card.technical":"Infos complmentaires","card.torrent":"Infos","card.torrent.specs":"Spcifications techniques","card.export.bbcode":"Exporter BBCode","card.export.html":"Exporter HTML","card.export.markdown":"Exporter Markdown","card.export.text":"Exporter Texte","tv.seasons":"Saisons","tv.episodes":"pisodes","tv.status":"Statut","tv.network":"Chane","tv.firstAired":"Premire diffusion","tv.lastAired":"Dernire diffusion","app.create":"Crez vos fiches","app.professional":"de sries, films ...","app.description":"Recherchez un mdia via sa vido, son titre, un NFO ou son ID TMDB","app.config.required":"Configuration requise :","app.config.message":"Vous devez configurer votre cl API TMDB pour utiliser cette application.","app.config.now":"Configurer maintenant","app.loading":"Chargement des dtails...","app.specs.detected":"Spcifications techniques dtectes :","app.specs.message":"NFO analys. Vous pouvez modifier les informations si ncessaire.","app.preview.title":"Prvisualisation de la fiche","app.preview.change":"Changer","app.preview.continue":"Continuer","app.preview.check":"Prvisualisation :","app.preview.verify":"Vrifiez que c'est bien le bon film/srie avant de remplir les spcifications techniques.","app.sheet.generated":"Fiche gnre","app.sheet.modify":"Modifier le film/srie","app.sheet.edit.specs":"Modifier les spcifications","app.sheet.new":"Nouvelle recherche","app.ready.title":"Prt  crer votre premire fiche ?","app.ready.description":"Utilisez la barre de recherche ci-dessus ou glissez une vido pour commencer.","app.step1":"Recherchez","app.step1.desc":"Scannez votre video ou tapez le nom d'un film, d'une srie ou son ID TMDB","app.step2":"Slectionnez","app.step2.desc":"Choisissez dans les rsultats de recherche","app.step3":"Exportez","app.step3.desc":"Tlchargez votre NFO et la fiche en BBCODE, HTML, Markdown ou TXT","search.movie":"Film","search.tv":"Srie","search.searching":"Recherche en cours...","nfo.title.not.found":"Titre non trouv","nfo.close":"Fermer","nfo.paste.title":"Coller le contenu NFO","nfo.paste.description":"Collez ici le contenu de votre NFO. Les spcifications techniques seront automatiquement analyses.","nfo.paste.placeholder":"Collez le contenu de votre fichier NFO ici...","nfo.cancel":"Annuler","nfo.analyze":"Analyser","specs.channels":"Canaux","specs.additional":"Infos supplmentaires","specs.release.group":"Release","specs.notes":"Notes","specs.notes.placeholder":"Informations supplmentaires ...","specs.release.placeholder":"ex : nom de la release source","specs.track.audio":"Piste Audio","specs.track.subtitle":"Sous-titre","specs.type":"Type","specs.embedded":"Intgr","specs.external":"Externe","specs.forced":"Forc","card.main.cast":"Casting principal","card.data.provided":"Donnes fournies par","specs.video.title":"Spcifications Vido","specs.quality":"Qualit","specs.audio.tracks":"Pistes Audio","specs.bitrate.label":"Dbit","specs.track.default":"Piste par dfaut","poster.choose":"Choisir une affiche","poster.select":"Slectionner","poster.close":"Fermer","poster.description":"Slectionnez l'affiche voulue. Les affiches sont tries par popularit et qualit.","poster.loading":"Chargement des affiches...","poster.none":"Aucune affiche supplmentaire disponible","poster.use":"Utiliser cette affiche","api.title":"Configuration API TMDB","api.description":"Entrez votre cl API TMDB pour accder aux donnes des films et sries.","api.key.label":"Cl API TMDB","api.key.placeholder":"Votre cl API TMDB...","api.get.key":"Obtenir une cl API","api.save":"Sauvegarder","export.title":"Exporter la fiche en bbcode","export.style":"Style de la prsentation","export.copy":"Copier le code","export.download":"Tlcharger","card.export.actions":"Actions","card.change.poster":"Changer l'affiche","card.export.formats":"Formats d'export","history.title":"Historique des fiches","history.clear.all":"Tout supprimer","history.empty":"Aucune fiche dans l'historique","history.empty.description":"Les fiches gnres apparatront ici","history.load":"Charger","history.button":"Historique","nav.movies":"Vido","nav.books":"eBook","ebook.create":"Crez vos fiches","ebook.professional":"de livres, BD etc ...","ebook.description":"Recherchez un livre ou une BD via son titre dans Google Book","ebook.search.placeholder":"Rechercher un livre ou BD par titre, auteur ou ISBN...","ebook.search.results":"livres trouvs","ebook.search.loading":"Chargement...","ebook.search.loadMore":"Charger plus","ebook.more":"autres","ebook.showMore":"Voir plus","ebook.showLess":"Voir moins","ebook.categories":"Catgories","ebook.technical.specs":"Spcifications eBook","ebook.format":"Format","ebook.size":"Taille","ebook.quality":"Qualit","ebook.drm":"Protection DRM","ebook.yes":"Oui","ebook.no":"Non","ebook.source":"Source","ebook.notes":"Notes","ebook.notes.placeholder":"Informations supplmentaires...","ebook.specs.title":"Spcifications eBook","ebook.filename":"Nom du fichier","ebook.language":"Langue","ebook.edition":"dition","ebook.publisher":"diteur","ebook.year":"Anne","ebook.uploaded.by":"Upload par","ebook.cancel":"Annuler","ebook.generate.sheet":"Gnrer la fiche","ebook.preview.title":"Prvisualisation du livre","ebook.sheet.generated":"Fiche eBook gnre","ebook.ready.title":"Prt  crer votre premire fiche eBook ?","ebook.ready.description":"Recherchez un livre par titre, auteur ou ISBN pour commencer.","ebook.step1":"Recherchez","ebook.step1.desc":"Tapez le titre d'un livre, le nom d'un auteur ou un ISBN","ebook.step2":"Configurez","ebook.step2.desc":"Ajoutez les spcifications techniques du fichier eBook","ebook.step3":"Exportez","ebook.step3.desc":"Tlchargez votre fiche en HTML, Markdown ou TXT","modal.cover.title":"Changer la couverture","modal.cover.current":"Couverture actuelle","modal.cover.url":"URL de la nouvelle couverture","modal.cover.preview":"Aperu","modal.cover.error":"Image non valide","modal.cover.help.title":"Conseil :","modal.cover.help.description":"Utilisez une URL d'image directe (se terminant par .jpg, .png, etc.)","modal.cover.cancel":"Annuler","modal.cover.confirm":"Confirmer","upload.video.dropzone":"Dposez votre vido ici ...","upload.video.nfo":"ou votre fichier NFO","upload.video.analyse":"Relchez pour analyser","upload.video.analyse2":"Analyse en cours...","upload.video.extract":"Extraction des mtadonnes du fichier vido","upload.video.select":"Slectionnez votre fichier","upload.video.charge":"Chargement...","upload.video.more":"Voir plus de rsultats","nfo.generator.title":"Gnrateur NFO","nfo.generator.subtitle":"MediaInfo","nfo.generator.description":"Gnrez un fichier NFO MediaInfo  partir de votre fichier vido","nfo.generator.drop.title":"  Gooooooooo !!  ","nfo.generator.drop.subtitle":"Dposez votre fichier vido","nfo.generator.drop.desc":"ou cliquez sur le bouton ci-dessous pour slectionner un fichier","nfo.generator.drop.analyzing":"Analyse du fichier...","nfo.generator.select.button":"Slectionner un fichier vido","nfo.generator.analyzing.title":"Analyse en cours...","nfo.generator.analyzing.desc":"Extraction des informations techniques du fichier vido","nfo.generator.success":"NFO gnr avec succs","nfo.generator.copy":"Copier","nfo.generator.download":"Tlcharger","nfo.generator.new":"Nouveau","nfo.generator.content.title":"Contenu du fichier NFO","nfo.generator.copy.success":"NFO copi dans le presse-papiers !","nfo.generator.error":"Erreur lors de la gnration du fichier NFO. Veuillez ressayer.","nfo.viewer.title":"NFO MediaInfo","nfo.viewer.subtitle":"Fichier technique gnr","nfo.viewer.show":"Afficher","nfo.viewer.copy":"Copier","nfo.viewer.copied":"Copi !","nfo.viewer.download":"Tlcharger","html.export.title":"Export HTML","html.export.choose":"Choisissez le type d'export HTML pour","html.export.simple.title":"HTML Simple","html.export.simple.desc":"Export rapide avec images distantes (URLs)","html.export.simple.check1":"Fichier unique, lger","html.export.simple.check2":"Ncessite une connexion internet","html.export.complete.title":"HTML Complet","html.export.complete.desc":"Export avec toutes les images tlcharges","html.export.complete.check1":"Archive ZIP avec HTML + images","html.export.complete.check2":"Fonctionne hors ligne","html.export.generating":"Gnration du fichier HTML...","html.export.downloading":"Test des permissions et tlchargement des images...","html.export.error.cors":"Erreur CORS dtecte","html.export.error.cors.details":`Les images n'ont pas pu tre tlcharges.

Solutions :
 Utilisez l'export HTML simple (images distantes)
 Ouvrez les DevTools (appuyez sur F12) puis ressayez`,"html.export.error.generic":"Erreur d'export","html.export.error.generic.details":"Une erreur s'est produite lors de l'export: {error}. Veuillez ressayer.","html.export.error.unexpected":"Erreur inattendue","html.export.error.unexpected.details":"Une erreur inattendue s'est produite: {error}. Veuillez ressayer.","html.export.close":"Fermer","html.export.try.simple":"Essayer l'export simple","export.modal.style.complete":"Complet avec images","export.modal.style.minimalist":"Minimaliste","export.modal.style.modern":"Moderne","export.modal.style.classic":"Classique","export.modal.style.modern.emux":"Moderne (eMux)","export.modal.desc":"Voici le BBCode gnr pour","export.modal.desc.suffix":"Il vous suffit de le copier et le coller.","export.modal.generated":"BBCode gnr (modifiable)","export.modal.placeholder":"Votre BBCode apparatra ici...","export.modal.warning":"Attention :","export.modal.warning.desc":"Le BBCode est capricieux et peut ne pas fonctionner correctement selon la destination, il peut falloir apporter des modifications.","specs.files.count":"Nb de fichiers"},en:{"footer.version":"V.1.02","header.title":"FicheGen","header.subtitle":"Sheet Generator for media","search.placeholder":"Search for a movie, a series, a show...","search.nfo.upload":"Upload NFO","search.nfo.paste":"Paste NFO","search.nfo.notitle":"NFO successfully imported/generated, but no extractable title found. Please search manually.","specs.title":"Technical Specifications","specs.back":"Back","specs.name":"Release","specs.size":"Size","specs.video":"Video","specs.resolution":"Resolution","specs.codec":"Codec","specs.bitrate":"Bitrate","specs.audio":"Audio","specs.subtitles":"Subtitles","specs.language":"Audio","specs.format":"Format","specs.default":"Default","specs.add":"Add","specs.generate":"Generate Sheet","lang.french":"French","lang.english":"English","lang.spanish":"Spanish","lang.german":"German","lang.italian":"Italian","lang.portuguese":"Portuguese","lang.russian":"Russian","lang.japanese":"Japanese","lang.korean":"Korean","lang.chinese":"Chinese","lang.arabic":"Arabic","lang.hindi":"Hindi","lang.dutch":"Dutch","lang.swedish":"Swedish","lang.norwegian":"Norwegian","lang.danish":"Danish","lang.finnish":"Finnish","lang.polish":"Polish","lang.czech":"Czech","lang.hungarian":"Hungarian","lang.romanian":"Romanian","lang.bulgarian":"Bulgarian","lang.greek":"Greek","lang.turkish":"Turkish","lang.hebrew":"Hebrew","lang.thai":"Thai","lang.vietnamese":"Vietnamese","lang.indonesian":"Indonesian","lang.malay":"Malay","lang.filipino":"Filipino","lang.ukrainian":"Ukrainian","lang.croatian":"Croatian","lang.serbian":"Serbian","lang.slovenian":"Slovenian","lang.slovak":"Slovak","lang.lithuanian":"Lithuanian","lang.latvian":"Latvian","lang.estonian":"Estonian","lang.quebecois":"Quebec French","lang.other":"Other","card.synopsis":"Synopsis","card.cast":"Cast","card.crew":"Crew","card.director":"Director","card.writer":"Writer","card.producer":"Producer","card.composer":"Composer","card.cinematographer":"Cinematographer","card.editor":"Editor","card.production":"Production","card.company":"Production Company","card.country":"Country","card.release":"Release Date","card.runtime":"Runtime","card.budget":"Budget","card.revenue":"Revenue","card.genres":"Genres","card.rating":"Rating","card.votes":"votes","card.technical":"Technical Information","card.torrent":"Specifications","card.torrent.specs":"Technical Specifications","card.export.bbcode":"Export BBCode","card.export.html":"Export HTML","card.export.markdown":"Export Markdown","card.export.text":"Export Text","tv.seasons":"Seasons","tv.episodes":"Episodes","tv.status":"Status","tv.network":"Network","tv.firstAired":"First Aired","tv.lastAired":"Last Aired","app.create":"Create your TV show or movie","app.professional":"sheets","app.description":"Search for media by its video, title, NFO, or TMDB ID","app.config.required":"Configuration required:","app.config.message":"You must configure your TMDB API key to use this application.","app.config.now":"Configure now","app.loading":"Loading details...","app.specs.detected":"Technical specifications detected:","app.specs.message":"NFO file information has been analyzed and pre-filled automatically. You can modify them if necessary","app.preview.title":"Sheet Preview","app.preview.change":"Change movie/TV show","app.preview.continue":"Continue with this movie/TV show","app.preview.check":"Preview:","app.preview.verify":"Verify this is the correct movie/TV show before filling in technical specifications","app.sheet.generated":"Generated Sheet","app.sheet.modify":"Modify movie/TV show","app.sheet.edit.specs":"Edit specifications","app.sheet.new":"New search","app.ready.title":"Ready to create your first sheet?","app.ready.description":"Use the search bar above or drag and drop a video to get started.","app.step1":"Search","app.step1.desc":"Scan your video or type the name of a movie, series, or its TMD ID","app.step2":"Select","app.step2.desc":"Choose from search results","app.step3":"Export","app.step3.desc":"Download your NFO and the datasheet in BBCODE, HTML, Markdown or TXT","search.movie":"Movie","search.tv":"TV Show","search.searching":"Searching...","nfo.title.not.found":"Title not found","nfo.close":"Close","nfo.paste.title":"Paste NFO content","nfo.paste.description":"Paste your NFO file content here (MediaInfo or XML). Technical specifications will be automatically analyzed.","nfo.paste.placeholder":"Paste your NFO file content here...","nfo.cancel":"Cancel","nfo.analyze":"Analyze","specs.channels":"Channels","specs.additional":"Additional Information","specs.release.group":"Release","specs.notes":"Notes","specs.notes.placeholder":"Additional information...","specs.release.placeholder":"Ex: release source","specs.track.audio":"Audio Track","specs.track.subtitle":"Subtitle","specs.type":"Type","specs.embedded":"Embedded","specs.external":"External","specs.forced":"Forced","card.main.cast":"Main Cast","card.data.provided":"Data provided by","specs.video.title":"Video Specifications","specs.quality":"Quality","specs.audio.tracks":"Audio Tracks","specs.bitrate.label":"Bitrate","specs.track.default":"Default track","poster.choose":"Choose Poster","poster.select":"Select","poster.close":"Close","poster.description":"Select the poster you want to use for your sheet. Posters are sorted by popularity and quality.","poster.loading":"Loading posters...","poster.none":"No additional posters available","poster.use":"Use this poster","api.title":"TMDB API Configuration","api.description":"Enter your TMDB API key to access movie and TV show data.","api.key.label":"TMDB API Key","api.key.placeholder":"Your TMDB API key...","api.get.key":"Get API Key","api.save":"Save","export.title":"Export Sheet","export.style":"Export Style","export.copy":"Copy Code","export.download":"Download","card.export.actions":"Actions","card.change.poster":"Change Poster","card.export.formats":"Export Formats","history.title":"Sheet History","history.clear.all":"Clear All","history.empty":"No sheets in history","history.empty.description":"Generated sheets will appear here","history.load":"Load","history.button":"History","nav.movies":"Video","nav.books":"eBook","ebook.create":"Create your sheets","ebook.professional":"for books, comics, etc.","ebook.description":"Search for a book or a comic by its title in Google Books","ebook.search.placeholder":"Search for a book by title, author or ISBN...","ebook.search.results":"books found","ebook.search.loading":"Loading...","ebook.search.loadMore":"Load more","ebook.more":"more","ebook.showMore":"Show more","ebook.showLess":"Show less","ebook.categories":"Categories","ebook.technical.specs":"eBook Specifications","ebook.format":"Format","ebook.size":"Size","ebook.quality":"Quality","ebook.drm":"DRM Protection","ebook.yes":"Yes","ebook.no":"No","ebook.source":"Source","ebook.notes":"Notes","ebook.notes.placeholder":"Additional information...","ebook.specs.title":"eBook Specifications","ebook.filename":"Filename","ebook.language":"Language","ebook.edition":"Edition","ebook.publisher":"Publisher","ebook.year":"Year","ebook.uploaded.by":"Uploaded by","ebook.cancel":"Cancel","ebook.generate.sheet":"Generate Sheet","ebook.preview.title":"Book Preview","ebook.sheet.generated":"eBook Sheet Generated","ebook.ready.title":"Ready to create your first eBook sheet?","ebook.ready.description":"Search for a book by title, author or ISBN to start.","ebook.step1":"Search","ebook.step1.desc":"Enter a book title, author name or ISBN","ebook.step2":"Configure","ebook.step2.desc":"Add the eBook file technical specifications","ebook.step3":"Export","ebook.step3.desc":"Download your sheet in HTML, Markdown or TXT","modal.cover.title":"Change Cover","modal.cover.current":"Current cover","modal.cover.url":"New cover URL","modal.cover.preview":"Preview","modal.cover.error":"Invalid image","modal.cover.help.title":"Tip:","modal.cover.help.description":"Use a direct image URL (ending with .jpg, .png, etc.)","modal.cover.cancel":"Cancel","modal.cover.confirm":"Confirm","upload.video.dropzone":"Drop your video here ...","upload.video.nfo":"or your NFO file","upload.video.analyse":"Drop to analyze","upload.video.analyse2":"Analysis in progress...","upload.video.extract":"Extracting metadata from the video file","upload.video.select":"Select your file","upload.video.charge":"Loading...","upload.video.more":"See more results","nfo.generator.title":"NFO Generator","nfo.generator.subtitle":"MediaInfo","nfo.generator.description":"Generate a MediaInfo NFO file from your video file","nfo.generator.drop.title":"  Gooooooooo !!  ","nfo.generator.drop.subtitle":"Drop your video file","nfo.generator.drop.desc":"or click the button below to select a file","nfo.generator.drop.analyzing":"Analyzing file...","nfo.generator.select.button":"Select a video file","nfo.generator.analyzing.title":"Analysis in progress...","nfo.generator.analyzing.desc":"Extracting technical information from the video file","nfo.generator.success":"NFO generated successfully","nfo.generator.copy":"Copy","nfo.generator.download":"Download","nfo.generator.new":"New","nfo.generator.content.title":"NFO File Content","nfo.generator.copy.success":"NFO copied to clipboard!","nfo.generator.error":"Error generating NFO file. Please try again.","nfo.viewer.title":"MediaInfo NFO","nfo.viewer.subtitle":"Generated technical file","nfo.viewer.show":"Show","nfo.viewer.copy":"Copy","nfo.viewer.copied":"Copied!","nfo.viewer.download":"Download","html.export.title":"HTML Export","html.export.choose":"Choose HTML export type for","html.export.simple.title":"Simple HTML","html.export.simple.desc":"Quick export with remote images (URLs)","html.export.simple.check1":"Single, lightweight file","html.export.simple.check2":"Requires internet connection","html.export.complete.title":"Complete HTML","html.export.complete.desc":"Export with all images downloaded","html.export.complete.check1":"ZIP archive with HTML + images","html.export.complete.check2":"Works offline","html.export.generating":"Generating HTML file...","html.export.downloading":"Testing permissions and downloading images...","html.export.error.cors":"CORS Error Detected","html.export.error.cors.details":`Images could not be downloaded.

Solutions:
 Use simple HTML export (remote images)
 Open DevTools (press F12) and try again`,"html.export.error.generic":"Export Error","html.export.error.generic.details":"An error occurred during export: {error}. Please try again.","html.export.error.unexpected":"Unexpected Error","html.export.error.unexpected.details":"An unexpected error occurred: {error}. Please try again.","html.export.close":"Close","html.export.try.simple":"Try simple export","export.modal.style.complete":"Complete with images","export.modal.style.minimalist":"Minimalist","export.modal.style.modern":"Modern","export.modal.style.classic":"Classic","export.modal.style.modern.emux":"Modern (eMux)","export.modal.desc":"Here is the generated BBCode for","export.modal.desc.suffix":"Just copy and paste it.","export.modal.generated":"Generated BBCode (editable)","export.modal.placeholder":"Your BBCode will appear here...","export.modal.warning":"Warning:","export.modal.warning.desc":"BBCode can be tricky and may not work correctly depending on the destination, modifications may be required.","specs.files.count":"File count"}},Zy=({children:e})=>{const[t,r]=M.useState(()=>{const i=localStorage.getItem("language");return i&&(i==="fr"||i==="en")?i:navigator.language.startsWith("fr")?"fr":"en"});M.useEffect(()=>{localStorage.setItem("language",t)},[t]);const n=i=>{r(i)},a=i=>Yy[t][i]||i;return s.jsx(Im.Provider,{value:{language:t,setLanguage:n,t:a},children:e})},Ye=()=>{const e=M.useContext(Im);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e};function Qy({onResultSelect:e,onTechnicalSpecsFound:t,onNFOGenerated:r,apiKey:n,disabled:a=!1,language:i="fr"}){const{t:o}=Ye(),[l,c]=M.useState(""),[f,g]=M.useState([]),[u,v]=M.useState(!1),[d,b]=M.useState(!1),[m,w]=M.useState(1),[h,p]=M.useState(0),[x,_]=M.useState(!1),[k,E]=M.useState(!1),[$,S]=M.useState(!1),[R,V]=M.useState(""),[me,T]=M.useState(!1),[U,N]=M.useState(!1),Z=M.useRef(null),ve=M.useRef(null),G=M.useRef(null);M.useEffect(()=>{n&&Te.setApiKey(n)},[n]),M.useEffect(()=>{const Q=ye=>{Z.current&&!Z.current.contains(ye.target)&&b(!1)};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]),M.useEffect(()=>{const Q=setTimeout(async()=>{if(l.trim()){v(!0),w(1);try{const ye=l.match(/\b(19\d{2}|20[0-3]\d)\b/),le=ye?parseInt(ye[1]):void 0,_e=le?l.replace(/\b(19\d{2}|20[0-3]\d)\b/g,"").trim().replace(/\s+/g," "):l,je=await Te.searchMulti(_e,1,i,le);g(je.results),p(je.total_pages),b(!0)}catch(ye){console.error("Erreur de recherche:",ye),g([]),p(0)}v(!1)}else g([]),b(!1),w(1),p(0)},300);return()=>clearTimeout(Q)},[l,i]);const ee=async()=>{if(!(x||m>=h)){_(!0);try{const Q=l.match(/\b(19\d{2}|20[0-3]\d)\b/),ye=Q?parseInt(Q[1]):void 0,le=ye?l.replace(/\b(19\d{2}|20[0-3]\d)\b/g,"").trim().replace(/\s+/g," "):l,_e=await Te.searchMulti(le,m+1,i,ye);g(je=>[...je,..._e.results]),w(je=>je+1)}catch(Q){console.error("Erreur lors du chargement de plus de rsultats:",Q)}_(!1)}},P=Q=>{if(Em(Q)){let ye="";if(Dm(Q)){ye=_y(Q);const le=Oy(Q);le&&t&&t(le)}else ye=$m(Q).title||"";ye?c(ye):T(!0)}},F=Q=>{var _e;const ye=(_e=Q.target.files)==null?void 0:_e[0];if(!ye)return;const le=new FileReader;le.onload=async je=>{var J;const y=(J=je.target)==null?void 0:J.result;r&&r(y),P(y)},le.readAsText(ye),Q.target.value=""},O=Q=>{Q.preventDefault(),E(!0)},B=Q=>{Q.preventDefault(),E(!1)},he=Q=>{Q.preventDefault(),E(!1);const le=Array.from(Q.dataTransfer.files)[0];if(le)if(le.name.endsWith(".nfo")||le.type.startsWith("text/")){const _e=new FileReader;_e.onload=je=>{var J;const y=(J=je.target)==null?void 0:J.result;r&&r(y),P(y)},_e.readAsText(le)}else(le.type.startsWith("video/")||le.name.match(/\.(mkv|avi|mp4|mov|wmv|flv|webm|m4v|3gp|ogv|iso|ts|m2ts)$/i))&&ie({target:{files:[le],value:""}})},ue=Q=>{e(Q),b(!1),c(Q.title||Q.name||"")},ce=()=>{R.trim()&&(r&&r(R),P(R),S(!1),V(""))},z=()=>{S(!1),V("")},ie=async Q=>{var le;const ye=(le=Q.target.files)==null?void 0:le[0];if(ye){N(!0);try{const _e=await Sm.analyzeFile(ye);if(r&&r(_e),P(_e),!l){const je=Cs(ye.name);je&&c(je)}}catch(_e){console.error("Erreur lors de la gnration NFO:",_e);const je=Cs(ye.name);je?c(je):T(!0)}finally{N(!1),Q.target.value=""}}},te=()=>{c(""),g([]),b(!1),T(!1)};return s.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4",children:[s.jsxs("div",{ref:Z,className:"relative",children:[s.jsx("div",{className:"relative bg-gray-800/60 backdrop-blur-sm border-2 border-gray-700/50 rounded-xl hover:border-gray-600/70 focus-within:border-violet-500 transition-all duration-200",children:s.jsxs("div",{className:"flex items-center px-4 py-3",children:[s.jsx(km,{className:"w-5 h-5 text-gray-400 mr-3"}),s.jsx("input",{type:"text",placeholder:o("search.placeholder"),value:l,onChange:Q=>{c(Q.target.value),me&&T(!1)},className:"flex-1 bg-transparent text-white placeholder-gray-400 outline-none",disabled:U}),l&&s.jsx("button",{onClick:te,className:"ml-2 p-1 text-gray-400 hover:text-white transition-colors",children:s.jsx(Wt,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[s.jsxs("button",{onClick:()=>{var Q;return(Q=ve.current)==null?void 0:Q.click()},className:"px-3 py-1.5 text-sm bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white transition-colors rounded-lg border border-gray-600/50 hover:border-gray-500 flex items-center space-x-1.5",title:"Importer un fichier NFO",children:[s.jsx(Nl,{className:"w-4 h-4"}),s.jsx("span",{children:"NFO"})]}),s.jsxs("button",{onClick:()=>S(!0),className:"px-3 py-1.5 text-sm bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white transition-colors rounded-lg border border-gray-600/50 hover:border-gray-500 flex items-center space-x-1.5",title:"Coller contenu NFO",children:[s.jsx(sy,{className:"w-4 h-4"}),s.jsx("span",{children:"Coller"})]})]})]})}),s.jsx("input",{ref:ve,type:"file",accept:".nfo,.txt",onChange:F,className:"hidden"}),s.jsx("input",{ref:G,type:"file",accept:"video/*,.mkv,.avi,.mp4,.mov,.wmv,.flv,.webm,.m4v,.3gp,.ogv,.iso,.ts,.m2ts",onChange:ie,className:"hidden"}),d&&f.length>0&&!a&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-xl shadow-2xl overflow-hidden z-50 max-h-[32rem]",children:[s.jsx("div",{className:"overflow-y-auto max-h-[28rem]",children:f.map(Q=>s.jsxs("button",{onClick:()=>ue(Q),className:"w-full flex items-center px-4 py-3 hover:bg-gray-700/50 transition-colors text-left",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-16 mr-3 bg-gray-700 rounded overflow-hidden",children:Q.poster_path?s.jsx("img",{src:Te.getImageUrl(Q.poster_path,"w92"),alt:"",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:Q.media_type==="movie"?s.jsx(er,{className:"w-5 h-5 text-gray-500"}):s.jsx(hr,{className:"w-5 h-5 text-gray-500"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-medium truncate",children:Q.title||Q.name}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[Q.media_type==="movie"?o("search.movie"):o("search.tv"),"  ",Q.release_date?new Date(Q.release_date).getFullYear():Q.first_air_date?new Date(Q.first_air_date).getFullYear():"N/A"]}),Q.vote_average>0&&s.jsx("div",{className:"flex items-center mt-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400 text-sm",children:""}),s.jsx("span",{className:"text-gray-400 text-sm ml-1",children:Q.vote_average.toFixed(1)})]})})]})]},Q.id))}),m<h&&s.jsx("div",{className:"border-t border-gray-700/50 p-3",children:s.jsx("button",{onClick:ee,disabled:x,className:"w-full py-2 text-sm text-violet-300 hover:text-violet-200 disabled:text-gray-500 transition-colors",children:x?o("upload.video.charge"):`${o("upload.video.more")} (${f.length}/${h>1?"20+":f.length})`})})]}),u&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-xl p-4 text-center z-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-violet-500 mx-auto"}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:o("search.searching")})]})]}),!d&&s.jsx("div",{onDragOver:O,onDragLeave:B,onDrop:he,className:`relative transition-all duration-300 ${k?"scale-[1.02]":""}`,children:s.jsx("div",{className:`relative bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm border-2 border-dashed rounded-2xl p-12 transition-all duration-300 ${k?"border-violet-400 bg-violet-500/10 shadow-lg shadow-violet-500/20":"border-gray-600/50 hover:border-gray-500/70"}`,children:U?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-violet-500/20 rounded-full mb-4",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-violet-500 border-t-transparent"})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:o("upload.video.analyse2")}),s.jsx("p",{className:"text-gray-400",children:o("upload.video.extract")})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-violet-500/20 to-blue-500/20 rounded-full mb-6",children:s.jsx(Gs,{className:"w-10 h-10 text-violet-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:k?"  Gooooooooo !!  ":o("upload.video.dropzone")}),s.jsx("p",{className:"text-gray-400 mb-6",children:o(k?"upload.video.analyse":"upload.video.nfo")}),s.jsx("div",{className:"flex items-center justify-center space-x-4",children:s.jsxs("button",{onClick:()=>{var Q;return(Q=G.current)==null?void 0:Q.click()},className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-blue-600 hover:from-violet-500 hover:to-blue-500 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-violet-500/25 flex items-center space-x-2",children:[s.jsx(Nl,{className:"w-5 h-5"}),s.jsx("span",{children:o("upload.video.select")})]})}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MKV"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"ISO"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MP4"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"AVI"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MOV"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"TS"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"M2TS"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"NFO"})]})]})})}),me&&s.jsx("div",{className:"bg-orange-500/10 backdrop-blur-sm border border-orange-500/30 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(nr,{className:"w-5 h-5 text-orange-400 mr-3 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-orange-300 font-medium mb-1",children:o("nfo.title.not.found")}),s.jsx("p",{className:"text-orange-200 text-sm mb-3",children:o("search.nfo.notitle")}),s.jsx("button",{onClick:()=>T(!1),className:"text-orange-300 hover:text-orange-200 text-sm underline",children:o("nfo.close")})]})]})}),$&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[80vh] shadow-2xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nr,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:o("nfo.paste.title")})]}),s.jsx("button",{onClick:z,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:o("nfo.paste.description")}),s.jsx("textarea",{value:R,onChange:Q=>V(Q.target.value),placeholder:o("nfo.paste.placeholder"),className:"w-full h-64 bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500 font-mono text-sm resize-none"}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:z,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:o("nfo.cancel")}),s.jsx("button",{onClick:ce,disabled:!R.trim(),className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:o("nfo.analyze")})]})]})]})})]})}const Kn=(e,t)=>t==="Kbps"&&e>=1e3?e.toLocaleString("fr-FR").replace(/,/g," "):e.toString(),jc=e=>{if(e<1){const t=e*1e3;return t>=100?`${t.toLocaleString("fr-FR").replace(/,/g," ")} MB`:`${t} MB`}return`${e} GB`},Xy=e=>e==="movie"?"https://i.imgur.com/gCBzIjL.png":"https://i.imgur.com/mHzDDIe.png",kc=e=>{if(!e)return"N/A";const t=Math.floor(e/60),r=e%60;return`${t}h${r.toString().padStart(2,"0")}`},Cc=e=>!e||e.length===0?"N/A":`${Math.round(e.reduce((r,n)=>r+n,0)/e.length)} min`,Jy=e=>new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),Sc=(e,t,r)=>{const n=r==="movie",a=e,i=e,o=t.crew.find(f=>f.job==="Director"),l=t.crew.filter(f=>f.job==="Creator"||f.job==="Executive Producer"),c=t.cast.slice(0,5);return{isMovie:n,movie:a,tvShow:i,director:o,creators:l,mainActors:c,title:n?a.title:i.name,originalTitle:n?a.original_title:i.original_name,releaseDate:n?a.release_date:i.first_air_date,overview:e.overview,tagline:e.tagline,voteAverage:e.vote_average,voteCount:e.vote_count,id:e.id,posterPath:e.poster_path,genres:e.genres,productionCountries:e.production_countries}},eb=e=>e.audio.map(t=>{let r=Je(t.languageCode);return!r.flag&&t.language&&(r=Je(t.language)),`${r.flag?`[img]${r.flag}[/img] `:""}${t.language} [${t.channels}] ${t.codec} @ ${Kn(t.bitrate,t.bitrateUnit)} ${t.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}`}).join(`
`),tb=e=>e.subtitles.length===0?"Aucun":e.subtitles.map(t=>{let r=Je(t.languageCode);!r.flag&&t.language&&(r=Je(t.language));const n=r.flag?`[img]${r.flag}[/img] `:"";let a="complets";return t.isForced?a="Forc":t.isSDH&&(a="SDH"),`${n}${t.language} : ${t.format} (${a})`}).join(`
`),Ec=e=>e.map(t=>`[i][url=https://www.sharewood.tv/torrents?tags=${encodeURIComponent(t.name)}]${t.name}[/url][/i]`).join(", ");function rb(e,t,r,n=1,a){return Am(e,t,"movie",r,n,a)}function nb(e,t,r,n=1,a){return Am(e,t,"tv",r,n,a)}function Am(e,t,r,n,a=1,i){switch(a){case 1:return yd(e,t,r,n,i);case 2:return sb(e,t,r,n);case 3:return ib(e,t,r,n,i);default:return yd(e,t,r,n,i)}}function yd(e,t,r,n,a){const{isMovie:i,movie:o,tvShow:l,director:c,creators:f,mainActors:g,title:u,originalTitle:v,releaseDate:d,overview:b,tagline:m,voteAverage:w,voteCount:h,id:p,posterPath:x,genres:_,productionCountries:k}=Sc(e,t,r);let E=`[center][b][font=Verdana][color=#3d85c6][size=29]${u}

[/size][size=18](${new Date(d).getFullYear()})[/size][/color][/font][/b]

[img]${Te.getImageUrl(x,"original")}[/img]${m?`[color=#ea9999][i]

[/i][/color][color=#ea9999][i][b][font=Verdana][size=29]
"${m}"[/size][/font][/b][/i][/color]`:""}

[img]${Xy(r)}[/img]${i?"":`
`}

[font=Verdana][size=13]${i?`[b][color=#3d85c6]Titre original :[/color][/b] [i]${v}[/i]
`:""}[b][color=#3d85c6]Pays :[/color][/b] [i]${k.map(S=>S.name).join(", ")||"N/A"}[/i]
[b][color=#3d85c6]Genres :[/color][/b] ${Ec(_)}
[b][color=#3d85c6]Date de sortie :[/color][/b] [i]${Jy(d)}[/i]
${i?`[b][color=#3d85c6]Dure :[/color][/b] [i]${kc(o.runtime)}[/i]`:`[b][color=#3d85c6]Titre original :[/color][/b] [i]${v}[/i]
[b][color=#3d85c6]Dure :[/color][/b] [i]${Cc(l.episode_run_time)}[/i]`}

[b][color=#3d85c6]${i?"Ralisateur":"Crateur(s)"} :[/color][/b] [i]${i?(c==null?void 0:c.name)||"N/A":f.slice(0,2).map(S=>S.name).join(", ")||"N/A"}[/i]
[color=#3d85c6][b]Acteurs :[/b] [/color][i]${g.map(S=>S.name).join(", ")}`;const $=g.filter(S=>S.profile_path).map(S=>`[img]${Te.getImageUrl(S.profile_path,"w185")}[/img]`).join(" ");return $&&(E+=`
${i?`
`:""}${$}`),E+=`
[/i]

[b][color=#3d85c6]Note des spectateurs :[/color][/b] [img]https://img.streetprez.com/note/${Math.round(w*10)}.svg[/img] [i]${w.toFixed(2)} (${h})[/i]

[size=13][url=https://www.themoviedb.org/${i?"movie":"tv"}/${p}][b][color=#1e84cc]Plus d'info  >> [img]https://i.imgur.com/mxI05s2.png[/img][/color][/b][/url]

${a?`[url=${a}][img]https://i.imgur.com/jKQt520.png[/img][b][color=#1e84cc]${i?"Bande Annonce":"Voir Bande Annonce"}[/color][/b][/url]`:""}[/size]

[img]https://i.imgur.com/ATVsdeo.png[/img]

[font=Verdana][size=13]${b||"Aucun synopsis disponible."}[/size][/font]


[img]https://i.imgur.com/Ji92VqD.png[/img]`,n&&(E+=`
[b][color=#3d85c6]${i?"Source":"Release source"} :[/color][/b] [i]${n.source||"N/A"}[/i]
[b][color=#3d85c6]Qualit vido :[/color][/b] [i]${n.video.quality}[/i]
[color=#3d85c6][b]Format vido :[/b] [/color][i]${n.video.format}[/i]
[b][color=#3d85c6]Codec vido :[/color][/b] [i]${n.video.codec}[/i]
[b][color=#3d85c6]Dbit vido :[/color][/b] [i]${Kn(n.video.bitrate,n.video.bitrateUnit)} ${n.video.bitrateUnit}${i?`
[/i]`:"[/i]"}

[b][color=#3d85c6]Audio${i?"(s)":""} :[/color][/b]`,E+=`
${eb(n)}
${i?`
`:""}[b][color=#3d85c6]Sous-titres :[/color][/b]
${tb(n)}`),E+=`

[img]https://i.imgur.com/ZutFbjb.png[/img]`,n!=null&&n.releaseGroup&&(E+=`
[b][color=#3d85c6]Release :[/color][/b] [i]${n.releaseGroup}[/i]`),n!=null&&n.notes&&(E+=`
[b][color=#3d85c6]Notes :[/color][/b] [i]${n.notes}[/i]`),E+=`
[b][color=#3d85c6]Taille totale :[/color][/b] ${jc((n==null?void 0:n.video.size)||0)}
[color=#3d85c6][b]Nombre de fichier [/b][/color]: ${(n==null?void 0:n.numberOfFiles)||(i?1:l.number_of_episodes||1)}[/size][/font][/center]`,E}function sb(e,t,r,n,a){const{isMovie:i,movie:o,tvShow:l,director:c,creators:f,mainActors:g,title:u,originalTitle:v,releaseDate:d,overview:b,tagline:m,voteAverage:w,voteCount:h,posterPath:p,genres:x,productionCountries:_}=Sc(e,t,r);let k=`[center][b][size=29]${u}[/size][/b]
[size=18](${new Date(d).getFullYear()})[/size]

[img]${Te.getImageUrl(p,"original")}[/img]${m?`

[i]"${m}"[/i]`:""}[/center]

[list]
[*] [b]Titre original :[/b] ${v}[/*]
[*] [b]Pays :[/b] ${_.map(E=>E.name).join(", ")||"N/A"}[/*]
[*] [b]Genres :[/b] ${Ec(x)}[/*]
[*] [b]Date de sortie :[/b] ${new Date(d).toLocaleDateString("fr-FR")}[/*]
[*] [b]Dure :[/b] ${i?kc(o.runtime):Cc(l.episode_run_time)}[/*]`;return i||(k+=`
[*] [b]Saisons :[/b] ${l.number_of_seasons}[/*]
[*] [b]pisodes :[/b] ${l.number_of_episodes}[/*]`),k+=`
[*] [b]${i?"Ralisateur":"Crateur(s)"} :[/b] ${i?(c==null?void 0:c.name)||"N/A":f.slice(0,2).map(E=>E.name).join(", ")||"N/A"}[/*]
[*] [b]Note TMDB :[/b] ${w.toFixed(1)}/10 (${h} votes)[/*]
[/list]
[b]Synopsis :[/b]
${b||"Aucun synopsis disponible."}

[b]Casting :[/b]
    [list]`,g.forEach(E=>{k+=`
    [*] ${E.name} - ${E.character}[/*]`}),k+=`
   [/list]`,n&&(k+=`
[b]Spcifications techniques :[/b]
[list]
[*] [b]Source :[/b] ${n.source||"N/A"}[/*]
[*] [b]Qualit :[/b] ${n.video.quality}[/*]
[*] [b]Format :[/b] ${n.video.format}[/*]
[*] [b]Codec vido :[/b] ${n.video.codec}[/*]
[*] [b]Dbit vido :[/b] ${Kn(n.video.bitrate,n.video.bitrateUnit)} ${n.video.bitrateUnit}[/*]
[*] [b]Taille :[/b] ${jc(n.video.size)}[/*]
[*] [b]Nombre de fichiers :[/b] ${n.numberOfFiles||(i?1:l.number_of_episodes||1)}[/*]
[/list]`,n.audio.length>0&&(k+=`
[b]Audio :[/b]
    [list=1]`,n.audio.forEach(E=>{let $=Je(E.languageCode);!$.flag&&E.language&&($=Je(E.language));const S=$.flag?`[img]${$.flag}[/img] `:"";k+=`
   [*] ${S}${E.language} [${E.channels}] ${E.codec} @ ${Kn(E.bitrate,E.bitrateUnit)} ${E.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}[/*]`}),k+=`
   [/list]`),n.subtitles.length>0&&(k+=`
[b]Sous-titres :[/b]
    [list=1]`,n.subtitles.forEach(E=>{let $=Je(E.languageCode);!$.flag&&E.language&&($=Je(E.language));const S=$.flag?`[img]${$.flag}[/img] `:"";let R="";E.isForced?R=" - Forc":E.isSDH&&(R=" - SDH"),k+=`
    [*] ${S}${E.language} (${E.format})${R}[/*]`}),k+=`
    [/list] `),n.releaseGroup&&(k+=`
[*] [b]Release :[/b] ${n.releaseGroup}[/*]`),n.notes&&(k+=`
[*] [b]Notes :[/b] ${n.notes}[/*]`),k+=`
`),k}function ib(e,t,r,n,a){const{isMovie:i,movie:o,tvShow:l,director:c,creators:f,mainActors:g,title:u,originalTitle:v,releaseDate:d,overview:b,tagline:m,voteAverage:w,posterPath:h,genres:p}=Sc(e,t,r),x=Te.getImageUrl(h,"original"),_=new Date(d).getFullYear(),k=Ec(p.slice(0,2)),E=i?kc(o.runtime):Cc(l.episode_run_time),$=`${w.toFixed(1)}/10`,S=i?(c==null?void 0:c.name)||"N/A":f.slice(0,2).map(he=>he.name).join(", ")||"N/A",R=g.map(he=>he.name).join(", "),V=b||"Aucun synopsis disponible.",me=(n==null?void 0:n.video.quality)||"N/A",T=jc((n==null?void 0:n.video.size)||0),U=(n==null?void 0:n.video.format)||"N/A",N=n?`${Kn(n.video.bitrate,n.video.bitrateUnit)} ${n.video.bitrateUnit}`:"N/A",Z=(n==null?void 0:n.source)||"N/A",ve=(n==null?void 0:n.numberOfFiles)||(i?1:l.number_of_episodes||1);let G="N/A";n&&n.audio.length>0&&(G=n.audio.map(he=>{let ue=Je(he.languageCode);return!ue.flag&&he.language&&(ue=Je(he.language)),`${ue.flag?`[img]${ue.flag}[/img] `:""}${he.language} [${he.channels}] ${he.codec} @ ${Kn(he.bitrate,he.bitrateUnit)} ${he.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}`}).join(", "));let ee="Aucun";n&&n.subtitles.length>0&&(ee=n.subtitles.map(he=>{let ue=Je(he.languageCode);!ue.flag&&he.language&&(ue=Je(he.language));const ce=ue.flag?`[img]${ue.flag}[/img] `:"";let z="complets";return he.isForced?z="Forc":he.isSDH&&(z="SDH"),`${ce}${he.language} (${he.format} - ${z})`}).join(", "));const P=n==null?void 0:n.releaseGroup,F=n==null?void 0:n.notes;let O=`[table][tr][td] [/td][td][table][tr][td][table][tr][td][table][tr][td]
&nbsp; &nbsp; &nbsp; [img width=550]${x}[/img] &nbsp; &nbsp; &nbsp; [/td][td] [/td][/tr][/table][/td][td][table][tr][td]
  [/td][td]   [/td][/tr][/table][/td][td][table][tr][td][table][tr][td][table][tr][td][color=#3d85c6][size=29] ${u}[/size][/color][/td][/tr][tr][td][table][tr][td]  ${_} - ${k} - ${E}  [/td][td][size=10]   [/size][/td][td] &nbsp; - Note : ${$} - [url=https://www.themoviedb.org/${i?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`;const B=a?`[url=${a}][img]https://i.imgur.com/jKQt520.png[/img][/url] &nbsp; `:"";return O=O.replace(`&nbsp; - Note : ${$} - [url=https://www.themoviedb.org/${i?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`,`&nbsp; - Note : ${$} - [url=https://www.themoviedb.org/${i?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; ${B}[/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`),m&&(O+=`[tr][td][i][color=#c27ba0][size=18][center][b]"${m}"[/b][/center][/size][/color][/i]
[/td][/tr]`),O+=`[tr][td] 
[/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Titre original : &nbsp;[/color][/b] ${v}[/td][/tr][tr][td][b][color=#3d85c6]Ralisateur : &nbsp;[/color][/b] ${S}[/td][/tr][tr][td][b][color=#3d85c6]Acteurs : &nbsp;[/color][/b] ${R}[/td][/tr][/table][/td][/tr][tr][td]  [br] [/br][b][color=#3d85c6]Synopsis &nbsp;[br] [/br] [br] [/br][/color][/b][/td][/tr][tr][td]  &nbsp; ${V}[br] [/br][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Qualit :  &nbsp;[/color][/b][/td][td]${me}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Format vido :  &nbsp;[/right][/color][/b][/td][td]${U}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Dbit vido : &nbsp;[/color][/b][/td][td]${N}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Source  : &nbsp;[/right][/color][/b][/td][td]&nbsp;${Z}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td] [b][color=#3d85c6]Taille totale : &nbsp;[/color][/b][/td][td]${T}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Nb de fichiers : &nbsp;[/right][/color][/b][/td][td]&nbsp;${ve}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6] Audio : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${G}[/size][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][b][color=#3d85c6]Sous-titres : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${ee}[/size][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][/table][/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr]`,P&&(O+=`[tr][td][b][color=#3d85c6]Nom release : &nbsp; [/color][/b] [br] [/br] ${P}[/td][/tr]`),F&&(O+=`[tr][td][b][color=#3d85c6][br] [/br]Notes:  [/color][/b] [br] [/br] ${F}[/td][/tr]`),O+="[/table][/td][/tr][/table]",O}function ki(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,a,i){function o(f,g){if(!a[f]){if(!n[f]){var u=typeof ki=="function"&&ki;if(!g&&u)return u(f,!0);if(l)return l(f,!0);var v=new Error("Cannot find module '"+f+"'");throw v.code="MODULE_NOT_FOUND",v}var d=a[f]={exports:{}};n[f][0].call(d.exports,function(b){var m=n[f][1][b];return o(m||b)},d,d.exports,r,n,a,i)}return a[f].exports}for(var l=typeof ki=="function"&&ki,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(r,n,a){var i=r("./utils"),o=r("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(c){for(var f,g,u,v,d,b,m,w=[],h=0,p=c.length,x=p,_=i.getTypeOf(c)!=="string";h<c.length;)x=p-h,u=_?(f=c[h++],g=h<p?c[h++]:0,h<p?c[h++]:0):(f=c.charCodeAt(h++),g=h<p?c.charCodeAt(h++):0,h<p?c.charCodeAt(h++):0),v=f>>2,d=(3&f)<<4|g>>4,b=1<x?(15&g)<<2|u>>6:64,m=2<x?63&u:64,w.push(l.charAt(v)+l.charAt(d)+l.charAt(b)+l.charAt(m));return w.join("")},a.decode=function(c){var f,g,u,v,d,b,m=0,w=0,h="data:";if(c.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var p,x=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&x--,c.charAt(c.length-2)===l.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=o.uint8array?new Uint8Array(0|x):new Array(0|x);m<c.length;)f=l.indexOf(c.charAt(m++))<<2|(v=l.indexOf(c.charAt(m++)))>>4,g=(15&v)<<4|(d=l.indexOf(c.charAt(m++)))>>2,u=(3&d)<<6|(b=l.indexOf(c.charAt(m++))),p[w++]=f,d!==64&&(p[w++]=g),b!==64&&(p[w++]=u);return p}},{"./support":30,"./utils":32}],2:[function(r,n,a){var i=r("./external"),o=r("./stream/DataWorker"),l=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function f(g,u,v,d,b){this.compressedSize=g,this.uncompressedSize=u,this.crc32=v,this.compression=d,this.compressedContent=b}f.prototype={getContentWorker:function(){var g=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),u=this;return g.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(g,u,v){return g.pipe(new l).pipe(new c("uncompressedSize")).pipe(u.compressWorker(v)).pipe(new c("compressedSize")).withStreamInfo("compression",u)},n.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,a){var i=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,a){var i=r("./utils"),o=function(){for(var l,c=[],f=0;f<256;f++){l=f;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;c[f]=l}return c}();n.exports=function(l,c){return l!==void 0&&l.length?i.getTypeOf(l)!=="string"?function(f,g,u,v){var d=o,b=v+u;f^=-1;for(var m=v;m<b;m++)f=f>>>8^d[255&(f^g[m])];return-1^f}(0|c,l,l.length,0):function(f,g,u,v){var d=o,b=v+u;f^=-1;for(var m=v;m<b;m++)f=f>>>8^d[255&(f^g.charCodeAt(m))];return-1^f}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(r,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,n,a){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),l=r("./utils"),c=r("./stream/GenericWorker"),f=i?"uint8array":"array";function g(u,v){c.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=v,this.meta={}}a.magic="\b\0",l.inherits(g,c),g.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,u.data),!1)},g.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(v){u.push({data:v,meta:u.meta})}},a.compressWorker=function(u){return new g("Deflate",u)},a.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,a){function i(d,b){var m,w="";for(m=0;m<b;m++)w+=String.fromCharCode(255&d),d>>>=8;return w}function o(d,b,m,w,h,p){var x,_,k=d.file,E=d.compression,$=p!==f.utf8encode,S=l.transformTo("string",p(k.name)),R=l.transformTo("string",f.utf8encode(k.name)),V=k.comment,me=l.transformTo("string",p(V)),T=l.transformTo("string",f.utf8encode(V)),U=R.length!==k.name.length,N=T.length!==V.length,Z="",ve="",G="",ee=k.dir,P=k.date,F={crc32:0,compressedSize:0,uncompressedSize:0};b&&!m||(F.crc32=d.crc32,F.compressedSize=d.compressedSize,F.uncompressedSize=d.uncompressedSize);var O=0;b&&(O|=8),$||!U&&!N||(O|=2048);var B=0,he=0;ee&&(B|=16),h==="UNIX"?(he=798,B|=function(ce,z){var ie=ce;return ce||(ie=z?16893:33204),(65535&ie)<<16}(k.unixPermissions,ee)):(he=20,B|=function(ce){return 63&(ce||0)}(k.dosPermissions)),x=P.getUTCHours(),x<<=6,x|=P.getUTCMinutes(),x<<=5,x|=P.getUTCSeconds()/2,_=P.getUTCFullYear()-1980,_<<=4,_|=P.getUTCMonth()+1,_<<=5,_|=P.getUTCDate(),U&&(ve=i(1,1)+i(g(S),4)+R,Z+="up"+i(ve.length,2)+ve),N&&(G=i(1,1)+i(g(me),4)+T,Z+="uc"+i(G.length,2)+G);var ue="";return ue+=`
\0`,ue+=i(O,2),ue+=E.magic,ue+=i(x,2),ue+=i(_,2),ue+=i(F.crc32,4),ue+=i(F.compressedSize,4),ue+=i(F.uncompressedSize,4),ue+=i(S.length,2),ue+=i(Z.length,2),{fileRecord:u.LOCAL_FILE_HEADER+ue+S+Z,dirRecord:u.CENTRAL_FILE_HEADER+i(he,2)+ue+i(me.length,2)+"\0\0\0\0"+i(B,4)+i(w,4)+S+Z+me}}var l=r("../utils"),c=r("../stream/GenericWorker"),f=r("../utf8"),g=r("../crc32"),u=r("../signature");function v(d,b,m,w){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=m,this.encodeFileName=w,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(v,c),v.prototype.push=function(d){var b=d.meta.percent||0,m=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,c.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:m?(b+100*(m-w-1))/m:100}}))},v.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var b=this.streamFiles&&!d.file.dir;if(b){var m=o(d,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(d){this.accumulate=!1;var b=this.streamFiles&&!d.file.dir,m=o(d,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),b)this.push({data:function(w){return u.DATA_DESCRIPTOR+i(w.crc32,4)+i(w.compressedSize,4)+i(w.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var d=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var m=this.bytesWritten-d,w=function(h,p,x,_,k){var E=l.transformTo("string",k(_));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(h,2)+i(h,2)+i(p,4)+i(x,4)+i(E.length,2)+E}(this.dirRecords.length,m,d,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(d){this._sources.push(d);var b=this;return d.on("data",function(m){b.processChunk(m)}),d.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),d.on("error",function(m){b.error(m)}),this},v.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(d){var b=this._sources;if(!c.prototype.error.call(this,d))return!1;for(var m=0;m<b.length;m++)try{b[m].error(d)}catch{}return!0},v.prototype.lock=function(){c.prototype.lock.call(this);for(var d=this._sources,b=0;b<d.length;b++)d[b].lock()},n.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,a){var i=r("../compressions"),o=r("./ZipFileWorker");a.generateWorker=function(l,c,f){var g=new o(c.streamFiles,f,c.platform,c.encodeFileName),u=0;try{l.forEach(function(v,d){u++;var b=function(p,x){var _=p||x,k=i[_];if(!k)throw new Error(_+" is not a valid compression method !");return k}(d.options.compression,c.compression),m=d.options.compressionOptions||c.compressionOptions||{},w=d.dir,h=d.date;d._compressWorker(b,m).withStreamInfo("file",{name:v,dir:w,date:h,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(g)}),g.entriesCount=u}catch(v){g.error(v)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,l){return new i().loadAsync(o,l)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,a){var i=r("./utils"),o=r("./external"),l=r("./utf8"),c=r("./zipEntries"),f=r("./stream/Crc32Probe"),g=r("./nodejsUtils");function u(v){return new o.Promise(function(d,b){var m=v.decompressed.getContentWorker().pipe(new f);m.on("error",function(w){b(w)}).on("end",function(){m.streamInfo.crc32!==v.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(v,d){var b=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),g.isNode&&g.isStream(v)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",v,!0,d.optimizedBinaryString,d.base64).then(function(m){var w=new c(d);return w.load(m),w}).then(function(m){var w=[o.Promise.resolve(m)],h=m.files;if(d.checkCRC32)for(var p=0;p<h.length;p++)w.push(u(h[p]));return o.Promise.all(w)}).then(function(m){for(var w=m.shift(),h=w.files,p=0;p<h.length;p++){var x=h[p],_=x.fileNameStr,k=i.resolve(x.fileNameStr);b.file(k,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:d.createFolders}),x.dir||(b.file(k).unsafeOriginalName=_)}return w.zipComment.length&&(b.comment=w.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,a){var i=r("../utils"),o=r("../stream/GenericWorker");function l(c,f){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}i.inherits(l,o),l.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(g){f.push({data:g,meta:{percent:0}})}).on("error",function(g){f.isPaused?this.generatedError=g:f.error(g)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,a){var i=r("readable-stream").Readable;function o(l,c,f){i.call(this,c),this._helper=l;var g=this;l.on("data",function(u,v){g.push(u)||g._helper.pause(),f&&f(v)}).on("error",function(u){g.emit("error",u)}).on("end",function(){g.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,a){function i(k,E,$){var S,R=l.getTypeOf(E),V=l.extend($||{},g);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(k=h(k)),V.createFolders&&(S=w(k))&&p.call(this,S,!0);var me=R==="string"&&V.binary===!1&&V.base64===!1;$&&$.binary!==void 0||(V.binary=!me),(E instanceof u&&E.uncompressedSize===0||V.dir||!E||E.length===0)&&(V.base64=!1,V.binary=!0,E="",V.compression="STORE",R="string");var T=null;T=E instanceof u||E instanceof c?E:b.isNode&&b.isStream(E)?new m(k,E):l.prepareContent(k,E,V.binary,V.optimizedBinaryString,V.base64);var U=new v(k,T,V);this.files[k]=U}var o=r("./utf8"),l=r("./utils"),c=r("./stream/GenericWorker"),f=r("./stream/StreamHelper"),g=r("./defaults"),u=r("./compressedObject"),v=r("./zipObject"),d=r("./generate"),b=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),w=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var E=k.lastIndexOf("/");return 0<E?k.substring(0,E):""},h=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},p=function(k,E){return E=E!==void 0?E:g.createFolders,k=h(k),this.files[k]||i.call(this,k,null,{dir:!0,createFolders:E}),this.files[k]};function x(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var E,$,S;for(E in this.files)S=this.files[E],($=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&k($,S)},filter:function(k){var E=[];return this.forEach(function($,S){k($,S)&&E.push(S)}),E},file:function(k,E,$){if(arguments.length!==1)return k=this.root+k,i.call(this,k,E,$),this;if(x(k)){var S=k;return this.filter(function(V,me){return!me.dir&&S.test(V)})}var R=this.files[this.root+k];return R&&!R.dir?R:null},folder:function(k){if(!k)return this;if(x(k))return this.filter(function(R,V){return V.dir&&k.test(R)});var E=this.root+k,$=p.call(this,E),S=this.clone();return S.root=$.name,S},remove:function(k){k=this.root+k;var E=this.files[k];if(E||(k.slice(-1)!=="/"&&(k+="/"),E=this.files[k]),E&&!E.dir)delete this.files[k];else for(var $=this.filter(function(R,V){return V.name.slice(0,k.length)===k}),S=0;S<$.length;S++)delete this.files[$[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var E,$={};try{if(($=l.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),$.type==="binarystring"&&($.type="string"),!$.type)throw new Error("No output type specified.");l.checkSupport($.type),$.platform!=="darwin"&&$.platform!=="freebsd"&&$.platform!=="linux"&&$.platform!=="sunos"||($.platform="UNIX"),$.platform==="win32"&&($.platform="DOS");var S=$.comment||this.comment||"";E=d.generateWorker(this,$,S)}catch(R){(E=new c("error")).error(R)}return new f(E,$.type||"string",$.mimeType)},generateAsync:function(k,E){return this.generateInternalStream(k).accumulate(E)},generateNodeStream:function(k,E){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(E)}};n.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,a){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,a){var i=r("./DataReader");function o(l){i.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}r("../utils").inherits(o,i),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),f=l.charCodeAt(1),g=l.charCodeAt(2),u=l.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===c&&this.data[v+1]===f&&this.data[v+2]===g&&this.data[v+3]===u)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),f=l.charCodeAt(1),g=l.charCodeAt(2),u=l.charCodeAt(3),v=this.readData(4);return c===v[0]&&f===v[1]&&g===v[2]&&u===v[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,a){var i=r("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,f=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=l,f},readString:function(l){return i.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,a){var i=r("./Uint8ArrayReader");function o(l){i.call(this,l)}r("../utils").inherits(o,i),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,a){var i=r("./DataReader");function o(l){i.call(this,l)}r("../utils").inherits(o,i),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,a){var i=r("./ArrayReader");function o(l){i.call(this,l)}r("../utils").inherits(o,i),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,a){var i=r("../utils"),o=r("../support"),l=r("./ArrayReader"),c=r("./StringReader"),f=r("./NodeBufferReader"),g=r("./Uint8ArrayReader");n.exports=function(u){var v=i.getTypeOf(u);return i.checkSupport(v),v!=="string"||o.uint8array?v==="nodebuffer"?new f(u):o.uint8array?new g(i.transformTo("uint8array",u)):new l(i.transformTo("array",u)):new c(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,a){var i=r("./GenericWorker"),o=r("../utils");function l(c){i.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,i),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,a){var i=r("./GenericWorker"),o=r("../crc32");function l(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(l,i),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(l,o),l.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}o.prototype.processChunk.call(this,c)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(g){f.dataIsReady=!0,f.data=g,f.max=g&&g.length||0,f.type=i.getTypeOf(g),f.isPaused||f._tickAndRepeat()},function(g){f.error(g)})}i.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,a){var i=r("../utils"),o=r("./ConvertWorker"),l=r("./GenericWorker"),c=r("../base64"),f=r("../support"),g=r("../external"),u=null;if(f.nodestream)try{u=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(b,m){return new g.Promise(function(w,h){var p=[],x=b._internalType,_=b._outputType,k=b._mimeType;b.on("data",function(E,$){p.push(E),m&&m($)}).on("error",function(E){p=[],h(E)}).on("end",function(){try{var E=function($,S,R){switch($){case"blob":return i.newBlob(i.transformTo("arraybuffer",S),R);case"base64":return c.encode(S);default:return i.transformTo($,S)}}(_,function($,S){var R,V=0,me=null,T=0;for(R=0;R<S.length;R++)T+=S[R].length;switch($){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(me=new Uint8Array(T),R=0;R<S.length;R++)me.set(S[R],V),V+=S[R].length;return me;case"nodebuffer":return Buffer.concat(S);default:throw new Error("concat : unsupported type '"+$+"'")}}(x,p),k);w(E)}catch($){h($)}p=[]}).resume()})}function d(b,m,w){var h=m;switch(m){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=m,this._mimeType=w,i.checkSupport(h),this._worker=b.pipe(new o(h)),b.lock()}catch(p){this._worker=new l("error"),this._worker.error(p)}}d.prototype={accumulate:function(b){return v(this,b)},on:function(b,m){var w=this;return b==="data"?this._worker.on(b,function(h){m.call(w,h.data,h.meta)}):this._worker.on(b,function(){i.delay(m,arguments,w)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},b)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,a){for(var i=r("./utils"),o=r("./support"),l=r("./nodejsUtils"),c=r("./stream/GenericWorker"),f=new Array(256),g=0;g<256;g++)f[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;f[254]=f[254]=1;function u(){c.call(this,"utf-8 decode"),this.leftOver=null}function v(){c.call(this,"utf-8 encode")}a.utf8encode=function(d){return o.nodebuffer?l.newBufferFrom(d,"utf-8"):function(b){var m,w,h,p,x,_=b.length,k=0;for(p=0;p<_;p++)(64512&(w=b.charCodeAt(p)))==55296&&p+1<_&&(64512&(h=b.charCodeAt(p+1)))==56320&&(w=65536+(w-55296<<10)+(h-56320),p++),k+=w<128?1:w<2048?2:w<65536?3:4;for(m=o.uint8array?new Uint8Array(k):new Array(k),p=x=0;x<k;p++)(64512&(w=b.charCodeAt(p)))==55296&&p+1<_&&(64512&(h=b.charCodeAt(p+1)))==56320&&(w=65536+(w-55296<<10)+(h-56320),p++),w<128?m[x++]=w:(w<2048?m[x++]=192|w>>>6:(w<65536?m[x++]=224|w>>>12:(m[x++]=240|w>>>18,m[x++]=128|w>>>12&63),m[x++]=128|w>>>6&63),m[x++]=128|63&w);return m}(d)},a.utf8decode=function(d){return o.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):function(b){var m,w,h,p,x=b.length,_=new Array(2*x);for(m=w=0;m<x;)if((h=b[m++])<128)_[w++]=h;else if(4<(p=f[h]))_[w++]=65533,m+=p-1;else{for(h&=p===2?31:p===3?15:7;1<p&&m<x;)h=h<<6|63&b[m++],p--;1<p?_[w++]=65533:h<65536?_[w++]=h:(h-=65536,_[w++]=55296|h>>10&1023,_[w++]=56320|1023&h)}return _.length!==w&&(_.subarray?_=_.subarray(0,w):_.length=w),i.applyFromCharCode(_)}(d=i.transformTo(o.uint8array?"uint8array":"array",d))},i.inherits(u,c),u.prototype.processChunk=function(d){var b=i.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=b;(b=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),b.set(m,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var w=function(p,x){var _;for((x=x||p.length)>p.length&&(x=p.length),_=x-1;0<=_&&(192&p[_])==128;)_--;return _<0||_===0?x:_+f[p[_]]>x?_:x}(b),h=b;w!==b.length&&(o.uint8array?(h=b.subarray(0,w),this.leftOver=b.subarray(w,b.length)):(h=b.slice(0,w),this.leftOver=b.slice(w,b.length))),this.push({data:a.utf8decode(h),meta:d.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=u,i.inherits(v,c),v.prototype.processChunk=function(d){this.push({data:a.utf8encode(d.data),meta:d.meta})},a.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,a){var i=r("./support"),o=r("./base64"),l=r("./nodejsUtils"),c=r("./external");function f(m){return m}function g(m,w){for(var h=0;h<m.length;++h)w[h]=255&m.charCodeAt(h);return w}r("setimmediate"),a.newBlob=function(m,w){a.checkSupport("blob");try{return new Blob([m],{type:w})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(m),h.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(m,w,h){var p=[],x=0,_=m.length;if(_<=h)return String.fromCharCode.apply(null,m);for(;x<_;)w==="array"||w==="nodebuffer"?p.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+h,_)))):p.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+h,_)))),x+=h;return p.join("")},stringifyByChar:function(m){for(var w="",h=0;h<m.length;h++)w+=String.fromCharCode(m[h]);return w},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function v(m){var w=65536,h=a.getTypeOf(m),p=!0;if(h==="uint8array"?p=u.applyCanBeUsed.uint8array:h==="nodebuffer"&&(p=u.applyCanBeUsed.nodebuffer),p)for(;1<w;)try{return u.stringifyByChunk(m,h,w)}catch{w=Math.floor(w/2)}return u.stringifyByChar(m)}function d(m,w){for(var h=0;h<m.length;h++)w[h]=m[h];return w}a.applyFromCharCode=v;var b={};b.string={string:f,array:function(m){return g(m,new Array(m.length))},arraybuffer:function(m){return b.string.uint8array(m).buffer},uint8array:function(m){return g(m,new Uint8Array(m.length))},nodebuffer:function(m){return g(m,l.allocBuffer(m.length))}},b.array={string:v,array:f,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return l.newBufferFrom(m)}},b.arraybuffer={string:function(m){return v(new Uint8Array(m))},array:function(m){return d(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:f,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return l.newBufferFrom(new Uint8Array(m))}},b.uint8array={string:v,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:f,nodebuffer:function(m){return l.newBufferFrom(m)}},b.nodebuffer={string:v,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return b.nodebuffer.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:f},a.transformTo=function(m,w){if(w=w||"",!m)return w;a.checkSupport(m);var h=a.getTypeOf(w);return b[h][m](w)},a.resolve=function(m){for(var w=m.split("/"),h=[],p=0;p<w.length;p++){var x=w[p];x==="."||x===""&&p!==0&&p!==w.length-1||(x===".."?h.pop():h.push(x))}return h.join("/")},a.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&l.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(m){var w,h,p="";for(h=0;h<(m||"").length;h++)p+="\\x"+((w=m.charCodeAt(h))<16?"0":"")+w.toString(16).toUpperCase();return p},a.delay=function(m,w,h){setImmediate(function(){m.apply(h||null,w||[])})},a.inherits=function(m,w){function h(){}h.prototype=w.prototype,m.prototype=new h},a.extend=function(){var m,w,h={};for(m=0;m<arguments.length;m++)for(w in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],w)&&h[w]===void 0&&(h[w]=arguments[m][w]);return h},a.prepareContent=function(m,w,h,p,x){return c.Promise.resolve(w).then(function(_){return i.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new c.Promise(function(k,E){var $=new FileReader;$.onload=function(S){k(S.target.result)},$.onerror=function(S){E(S.target.error)},$.readAsArrayBuffer(_)}):_}).then(function(_){var k=a.getTypeOf(_);return k?(k==="arraybuffer"?_=a.transformTo("uint8array",_):k==="string"&&(x?_=o.decode(_):h&&p!==!0&&(_=function(E){return g(E,i.uint8array?new Uint8Array(E.length):new Array(E.length))}(_))),_):c.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),l=r("./signature"),c=r("./zipEntry"),f=r("./support");function g(u){this.files=[],this.loadOptions=u}g.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(v)+", expected "+o.pretty(u)+")")}},isSignature:function(u,v){var d=this.reader.index;this.reader.setIndex(u);var b=this.reader.readString(4)===v;return this.reader.setIndex(d),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),v=f.uint8array?"uint8array":"array",d=o.transformTo(v,u);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,v,d,b=this.zip64EndOfCentralSize-44;0<b;)u=this.reader.readInt(2),v=this.reader.readInt(4),d=this.reader.readData(v),this.zip64ExtensibleData[u]={id:u,length:v,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,v;for(u=0;u<this.files.length;u++)v=this.files[u],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(u=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var v=u;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var b=v-d;if(0<b)this.isSignature(v,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(u){this.reader=i(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),l=r("./compressedObject"),c=r("./crc32"),f=r("./utf8"),g=r("./compressions"),u=r("./support");function v(d,b){this.options=d,this.loadOptions=b}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var b,m;if(d.skip(22),this.fileNameLength=d.readInt(2),m=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(w){for(var h in g)if(Object.prototype.hasOwnProperty.call(g,h)&&g[h].magic===w)return g[h];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var b=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(b),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var b,m,w,h=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<h;)b=d.readInt(2),m=d.readInt(2),w=d.readData(m),this.extraFields[b]={id:b,length:m,value:w};d.setIndex(h)},handleUTF8:function(){var d=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var m=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var h=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var b=i(d.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var b=i(d.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(d.length-5))}return null}},n.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,a){function i(b,m,w){this.name=b,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=m,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=r("./stream/StreamHelper"),l=r("./stream/DataWorker"),c=r("./utf8"),f=r("./compressedObject"),g=r("./stream/GenericWorker");i.prototype={internalStream:function(b){var m=null,w="string";try{if(!b)throw new Error("No output type specified.");var h=(w=b.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),m=this._decompressWorker();var p=!this._dataBinary;p&&!h&&(m=m.pipe(new c.Utf8EncodeWorker)),!p&&h&&(m=m.pipe(new c.Utf8DecodeWorker))}catch(x){(m=new g("error")).error(x)}return new o(m,w,"")},async:function(b,m){return this.internalStream(b).accumulate(m)},nodeStream:function(b,m){return this.internalStream(b||"nodebuffer").toNodejsStream(m)},_compressWorker:function(b,m){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(w,b,m)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof g?this._data:new l(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)i.prototype[u[d]]=v;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,a){(function(i){var o,l,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var f=0,g=new c(b),u=i.document.createTextNode("");g.observe(u,{characterData:!0}),o=function(){u.data=f=++f%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){b(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(b,0)};else{var v=new i.MessageChannel;v.port1.onmessage=b,o=function(){v.port2.postMessage(0)}}var d=[];function b(){var m,w;l=!0;for(var h=d.length;h;){for(w=d,d=[],m=-1;++m<h;)w[m]();h=d.length}l=!1}n.exports=function(m){d.push(m)!==1||l||o()}}).call(this,typeof ii<"u"?ii:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,a){var i=r("immediate");function o(){}var l={},c=["REJECTED"],f=["FULFILLED"],g=["PENDING"];function u(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,h!==o&&m(this,h)}function v(h,p,x){this.promise=h,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function d(h,p,x){i(function(){var _;try{_=p(x)}catch(k){return l.reject(h,k)}_===h?l.reject(h,new TypeError("Cannot resolve promise with itself")):l.resolve(h,_)})}function b(h){var p=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof p=="function")return function(){p.apply(h,arguments)}}function m(h,p){var x=!1;function _($){x||(x=!0,l.reject(h,$))}function k($){x||(x=!0,l.resolve(h,$))}var E=w(function(){p(k,_)});E.status==="error"&&_(E.value)}function w(h,p){var x={};try{x.value=h(p),x.status="success"}catch(_){x.status="error",x.value=_}return x}(n.exports=u).prototype.finally=function(h){if(typeof h!="function")return this;var p=this.constructor;return this.then(function(x){return p.resolve(h()).then(function(){return x})},function(x){return p.resolve(h()).then(function(){throw x})})},u.prototype.catch=function(h){return this.then(null,h)},u.prototype.then=function(h,p){if(typeof h!="function"&&this.state===f||typeof p!="function"&&this.state===c)return this;var x=new this.constructor(o);return this.state!==g?d(x,this.state===f?h:p,this.outcome):this.queue.push(new v(x,h,p)),x},v.prototype.callFulfilled=function(h){l.resolve(this.promise,h)},v.prototype.otherCallFulfilled=function(h){d(this.promise,this.onFulfilled,h)},v.prototype.callRejected=function(h){l.reject(this.promise,h)},v.prototype.otherCallRejected=function(h){d(this.promise,this.onRejected,h)},l.resolve=function(h,p){var x=w(b,p);if(x.status==="error")return l.reject(h,x.value);var _=x.value;if(_)m(h,_);else{h.state=f,h.outcome=p;for(var k=-1,E=h.queue.length;++k<E;)h.queue[k].callFulfilled(p)}return h},l.reject=function(h,p){h.state=c,h.outcome=p;for(var x=-1,_=h.queue.length;++x<_;)h.queue[x].callRejected(p);return h},u.resolve=function(h){return h instanceof this?h:l.resolve(new this(o),h)},u.reject=function(h){var p=new this(o);return l.reject(p,h)},u.all=function(h){var p=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=h.length,_=!1;if(!x)return this.resolve([]);for(var k=new Array(x),E=0,$=-1,S=new this(o);++$<x;)R(h[$],$);return S;function R(V,me){p.resolve(V).then(function(T){k[me]=T,++E!==x||_||(_=!0,l.resolve(S,k))},function(T){_||(_=!0,l.reject(S,T))})}},u.race=function(h){var p=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=h.length,_=!1;if(!x)return this.resolve([]);for(var k=-1,E=new this(o);++k<x;)$=h[k],p.resolve($).then(function(S){_||(_=!0,l.resolve(E,S))},function(S){_||(_=!0,l.reject(E,S))});var $;return E}},{immediate:36}],38:[function(r,n,a){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,a){var i=r("./zlib/deflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/messages"),f=r("./zlib/zstream"),g=Object.prototype.toString,u=0,v=-1,d=0,b=8;function m(h){if(!(this instanceof m))return new m(h);this.options=o.assign({level:v,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},h||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var x=i.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(x!==u)throw new Error(c[x]);if(p.header&&i.deflateSetHeader(this.strm,p.header),p.dictionary){var _;if(_=typeof p.dictionary=="string"?l.string2buf(p.dictionary):g.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(x=i.deflateSetDictionary(this.strm,_))!==u)throw new Error(c[x]);this._dict_set=!0}}function w(h,p){var x=new m(p);if(x.push(h,!0),x.err)throw x.msg||c[x.err];return x.result}m.prototype.push=function(h,p){var x,_,k=this.strm,E=this.options.chunkSize;if(this.ended)return!1;_=p===~~p?p:p===!0?4:0,typeof h=="string"?k.input=l.string2buf(h):g.call(h)==="[object ArrayBuffer]"?k.input=new Uint8Array(h):k.input=h,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(E),k.next_out=0,k.avail_out=E),(x=i.deflate(k,_))!==1&&x!==u)return this.onEnd(x),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(k.output,k.next_out))):this.onData(o.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&x!==1);return _===4?(x=i.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===u):_!==2||(this.onEnd(u),!(k.avail_out=0))},m.prototype.onData=function(h){this.chunks.push(h)},m.prototype.onEnd=function(h){h===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},a.Deflate=m,a.deflate=w,a.deflateRaw=function(h,p){return(p=p||{}).raw=!0,w(h,p)},a.gzip=function(h,p){return(p=p||{}).gzip=!0,w(h,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,a){var i=r("./zlib/inflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/constants"),f=r("./zlib/messages"),g=r("./zlib/zstream"),u=r("./zlib/gzheader"),v=Object.prototype.toString;function d(m){if(!(this instanceof d))return new d(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||m&&m.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var h=i.inflateInit2(this.strm,w.windowBits);if(h!==c.Z_OK)throw new Error(f[h]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function b(m,w){var h=new d(w);if(h.push(m,!0),h.err)throw h.msg||f[h.err];return h.result}d.prototype.push=function(m,w){var h,p,x,_,k,E,$=this.strm,S=this.options.chunkSize,R=this.options.dictionary,V=!1;if(this.ended)return!1;p=w===~~w?w:w===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof m=="string"?$.input=l.binstring2buf(m):v.call(m)==="[object ArrayBuffer]"?$.input=new Uint8Array(m):$.input=m,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new o.Buf8(S),$.next_out=0,$.avail_out=S),(h=i.inflate($,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&R&&(E=typeof R=="string"?l.string2buf(R):v.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,h=i.inflateSetDictionary(this.strm,E)),h===c.Z_BUF_ERROR&&V===!0&&(h=c.Z_OK,V=!1),h!==c.Z_STREAM_END&&h!==c.Z_OK)return this.onEnd(h),!(this.ended=!0);$.next_out&&($.avail_out!==0&&h!==c.Z_STREAM_END&&($.avail_in!==0||p!==c.Z_FINISH&&p!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=l.utf8border($.output,$.next_out),_=$.next_out-x,k=l.buf2string($.output,x),$.next_out=_,$.avail_out=S-_,_&&o.arraySet($.output,$.output,x,_,0),this.onData(k)):this.onData(o.shrinkBuf($.output,$.next_out)))),$.avail_in===0&&$.avail_out===0&&(V=!0)}while((0<$.avail_in||$.avail_out===0)&&h!==c.Z_STREAM_END);return h===c.Z_STREAM_END&&(p=c.Z_FINISH),p===c.Z_FINISH?(h=i.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===c.Z_OK):p!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!($.avail_out=0))},d.prototype.onData=function(m){this.chunks.push(m)},d.prototype.onEnd=function(m){m===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},a.Inflate=d,a.inflate=b,a.inflateRaw=function(m,w){return(w=w||{}).raw=!0,b(m,w)},a.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var g=f.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var u in g)g.hasOwnProperty(u)&&(c[u]=g[u])}}return c},a.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var o={arraySet:function(c,f,g,u,v){if(f.subarray&&c.subarray)c.set(f.subarray(g,g+u),v);else for(var d=0;d<u;d++)c[v+d]=f[g+d]},flattenChunks:function(c){var f,g,u,v,d,b;for(f=u=0,g=c.length;f<g;f++)u+=c[f].length;for(b=new Uint8Array(u),f=v=0,g=c.length;f<g;f++)d=c[f],b.set(d,v),v+=d.length;return b}},l={arraySet:function(c,f,g,u,v){for(var d=0;d<u;d++)c[v+d]=f[g+d]},flattenChunks:function(c){return[].concat.apply([],c)}};a.setTyped=function(c){c?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(i)},{}],42:[function(r,n,a){var i=r("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new i.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function g(u,v){if(v<65537&&(u.subarray&&l||!u.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(u,v));for(var d="",b=0;b<v;b++)d+=String.fromCharCode(u[b]);return d}c[254]=c[254]=1,a.string2buf=function(u){var v,d,b,m,w,h=u.length,p=0;for(m=0;m<h;m++)(64512&(d=u.charCodeAt(m)))==55296&&m+1<h&&(64512&(b=u.charCodeAt(m+1)))==56320&&(d=65536+(d-55296<<10)+(b-56320),m++),p+=d<128?1:d<2048?2:d<65536?3:4;for(v=new i.Buf8(p),m=w=0;w<p;m++)(64512&(d=u.charCodeAt(m)))==55296&&m+1<h&&(64512&(b=u.charCodeAt(m+1)))==56320&&(d=65536+(d-55296<<10)+(b-56320),m++),d<128?v[w++]=d:(d<2048?v[w++]=192|d>>>6:(d<65536?v[w++]=224|d>>>12:(v[w++]=240|d>>>18,v[w++]=128|d>>>12&63),v[w++]=128|d>>>6&63),v[w++]=128|63&d);return v},a.buf2binstring=function(u){return g(u,u.length)},a.binstring2buf=function(u){for(var v=new i.Buf8(u.length),d=0,b=v.length;d<b;d++)v[d]=u.charCodeAt(d);return v},a.buf2string=function(u,v){var d,b,m,w,h=v||u.length,p=new Array(2*h);for(d=b=0;d<h;)if((m=u[d++])<128)p[b++]=m;else if(4<(w=c[m]))p[b++]=65533,d+=w-1;else{for(m&=w===2?31:w===3?15:7;1<w&&d<h;)m=m<<6|63&u[d++],w--;1<w?p[b++]=65533:m<65536?p[b++]=m:(m-=65536,p[b++]=55296|m>>10&1023,p[b++]=56320|1023&m)}return g(p,b)},a.utf8border=function(u,v){var d;for((v=v||u.length)>u.length&&(v=u.length),d=v-1;0<=d&&(192&u[d])==128;)d--;return d<0||d===0?v:d+c[u[d]]>v?d:v}},{"./common":41}],43:[function(r,n,a){n.exports=function(i,o,l,c){for(var f=65535&i|0,g=i>>>16&65535|0,u=0;l!==0;){for(l-=u=2e3<l?2e3:l;g=g+(f=f+o[c++]|0)|0,--u;);f%=65521,g%=65521}return f|g<<16|0}},{}],44:[function(r,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,a){var i=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l,c,f){var g=i,u=f+c;o^=-1;for(var v=f;v<u;v++)o=o>>>8^g[255&(o^l[v])];return-1^o}},{}],46:[function(r,n,a){var i,o=r("../utils/common"),l=r("./trees"),c=r("./adler32"),f=r("./crc32"),g=r("./messages"),u=0,v=4,d=0,b=-2,m=-1,w=4,h=2,p=8,x=9,_=286,k=30,E=19,$=2*_+1,S=15,R=3,V=258,me=V+R+1,T=42,U=113,N=1,Z=2,ve=3,G=4;function ee(y,J){return y.msg=g[J],J}function P(y){return(y<<1)-(4<y?9:0)}function F(y){for(var J=y.length;0<=--J;)y[J]=0}function O(y){var J=y.state,K=J.pending;K>y.avail_out&&(K=y.avail_out),K!==0&&(o.arraySet(y.output,J.pending_buf,J.pending_out,K,y.next_out),y.next_out+=K,J.pending_out+=K,y.total_out+=K,y.avail_out-=K,J.pending-=K,J.pending===0&&(J.pending_out=0))}function B(y,J){l._tr_flush_block(y,0<=y.block_start?y.block_start:-1,y.strstart-y.block_start,J),y.block_start=y.strstart,O(y.strm)}function he(y,J){y.pending_buf[y.pending++]=J}function ue(y,J){y.pending_buf[y.pending++]=J>>>8&255,y.pending_buf[y.pending++]=255&J}function ce(y,J){var K,I,D=y.max_chain_length,L=y.strstart,re=y.prev_length,Y=y.nice_match,W=y.strstart>y.w_size-me?y.strstart-(y.w_size-me):0,q=y.window,pe=y.w_mask,ae=y.prev,we=y.strstart+V,se=q[L+re-1],xe=q[L+re];y.prev_length>=y.good_match&&(D>>=2),Y>y.lookahead&&(Y=y.lookahead);do if(q[(K=J)+re]===xe&&q[K+re-1]===se&&q[K]===q[L]&&q[++K]===q[L+1]){L+=2,K++;do;while(q[++L]===q[++K]&&q[++L]===q[++K]&&q[++L]===q[++K]&&q[++L]===q[++K]&&q[++L]===q[++K]&&q[++L]===q[++K]&&q[++L]===q[++K]&&q[++L]===q[++K]&&L<we);if(I=V-(we-L),L=we-V,re<I){if(y.match_start=J,Y<=(re=I))break;se=q[L+re-1],xe=q[L+re]}}while((J=ae[J&pe])>W&&--D!=0);return re<=y.lookahead?re:y.lookahead}function z(y){var J,K,I,D,L,re,Y,W,q,pe,ae=y.w_size;do{if(D=y.window_size-y.lookahead-y.strstart,y.strstart>=ae+(ae-me)){for(o.arraySet(y.window,y.window,ae,ae,0),y.match_start-=ae,y.strstart-=ae,y.block_start-=ae,J=K=y.hash_size;I=y.head[--J],y.head[J]=ae<=I?I-ae:0,--K;);for(J=K=ae;I=y.prev[--J],y.prev[J]=ae<=I?I-ae:0,--K;);D+=ae}if(y.strm.avail_in===0)break;if(re=y.strm,Y=y.window,W=y.strstart+y.lookahead,q=D,pe=void 0,pe=re.avail_in,q<pe&&(pe=q),K=pe===0?0:(re.avail_in-=pe,o.arraySet(Y,re.input,re.next_in,pe,W),re.state.wrap===1?re.adler=c(re.adler,Y,pe,W):re.state.wrap===2&&(re.adler=f(re.adler,Y,pe,W)),re.next_in+=pe,re.total_in+=pe,pe),y.lookahead+=K,y.lookahead+y.insert>=R)for(L=y.strstart-y.insert,y.ins_h=y.window[L],y.ins_h=(y.ins_h<<y.hash_shift^y.window[L+1])&y.hash_mask;y.insert&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[L+R-1])&y.hash_mask,y.prev[L&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=L,L++,y.insert--,!(y.lookahead+y.insert<R)););}while(y.lookahead<me&&y.strm.avail_in!==0)}function ie(y,J){for(var K,I;;){if(y.lookahead<me){if(z(y),y.lookahead<me&&J===u)return N;if(y.lookahead===0)break}if(K=0,y.lookahead>=R&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+R-1])&y.hash_mask,K=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),K!==0&&y.strstart-K<=y.w_size-me&&(y.match_length=ce(y,K)),y.match_length>=R)if(I=l._tr_tally(y,y.strstart-y.match_start,y.match_length-R),y.lookahead-=y.match_length,y.match_length<=y.max_lazy_match&&y.lookahead>=R){for(y.match_length--;y.strstart++,y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+R-1])&y.hash_mask,K=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart,--y.match_length!=0;);y.strstart++}else y.strstart+=y.match_length,y.match_length=0,y.ins_h=y.window[y.strstart],y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+1])&y.hash_mask;else I=l._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++;if(I&&(B(y,!1),y.strm.avail_out===0))return N}return y.insert=y.strstart<R-1?y.strstart:R-1,J===v?(B(y,!0),y.strm.avail_out===0?ve:G):y.last_lit&&(B(y,!1),y.strm.avail_out===0)?N:Z}function te(y,J){for(var K,I,D;;){if(y.lookahead<me){if(z(y),y.lookahead<me&&J===u)return N;if(y.lookahead===0)break}if(K=0,y.lookahead>=R&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+R-1])&y.hash_mask,K=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),y.prev_length=y.match_length,y.prev_match=y.match_start,y.match_length=R-1,K!==0&&y.prev_length<y.max_lazy_match&&y.strstart-K<=y.w_size-me&&(y.match_length=ce(y,K),y.match_length<=5&&(y.strategy===1||y.match_length===R&&4096<y.strstart-y.match_start)&&(y.match_length=R-1)),y.prev_length>=R&&y.match_length<=y.prev_length){for(D=y.strstart+y.lookahead-R,I=l._tr_tally(y,y.strstart-1-y.prev_match,y.prev_length-R),y.lookahead-=y.prev_length-1,y.prev_length-=2;++y.strstart<=D&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+R-1])&y.hash_mask,K=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),--y.prev_length!=0;);if(y.match_available=0,y.match_length=R-1,y.strstart++,I&&(B(y,!1),y.strm.avail_out===0))return N}else if(y.match_available){if((I=l._tr_tally(y,0,y.window[y.strstart-1]))&&B(y,!1),y.strstart++,y.lookahead--,y.strm.avail_out===0)return N}else y.match_available=1,y.strstart++,y.lookahead--}return y.match_available&&(I=l._tr_tally(y,0,y.window[y.strstart-1]),y.match_available=0),y.insert=y.strstart<R-1?y.strstart:R-1,J===v?(B(y,!0),y.strm.avail_out===0?ve:G):y.last_lit&&(B(y,!1),y.strm.avail_out===0)?N:Z}function Q(y,J,K,I,D){this.good_length=y,this.max_lazy=J,this.nice_length=K,this.max_chain=I,this.func=D}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*$),this.dyn_dtree=new o.Buf16(2*(2*k+1)),this.bl_tree=new o.Buf16(2*(2*E+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(S+1),this.heap=new o.Buf16(2*_+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(y){var J;return y&&y.state?(y.total_in=y.total_out=0,y.data_type=h,(J=y.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?T:U,y.adler=J.wrap===2?0:1,J.last_flush=u,l._tr_init(J),d):ee(y,b)}function _e(y){var J=le(y);return J===d&&function(K){K.window_size=2*K.w_size,F(K.head),K.max_lazy_match=i[K.level].max_lazy,K.good_match=i[K.level].good_length,K.nice_match=i[K.level].nice_length,K.max_chain_length=i[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=R-1,K.match_available=0,K.ins_h=0}(y.state),J}function je(y,J,K,I,D,L){if(!y)return b;var re=1;if(J===m&&(J=6),I<0?(re=0,I=-I):15<I&&(re=2,I-=16),D<1||x<D||K!==p||I<8||15<I||J<0||9<J||L<0||w<L)return ee(y,b);I===8&&(I=9);var Y=new ye;return(y.state=Y).strm=y,Y.wrap=re,Y.gzhead=null,Y.w_bits=I,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=D+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+R-1)/R),Y.window=new o.Buf8(2*Y.w_size),Y.head=new o.Buf16(Y.hash_size),Y.prev=new o.Buf16(Y.w_size),Y.lit_bufsize=1<<D+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new o.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=J,Y.strategy=L,Y.method=K,_e(y)}i=[new Q(0,0,0,0,function(y,J){var K=65535;for(K>y.pending_buf_size-5&&(K=y.pending_buf_size-5);;){if(y.lookahead<=1){if(z(y),y.lookahead===0&&J===u)return N;if(y.lookahead===0)break}y.strstart+=y.lookahead,y.lookahead=0;var I=y.block_start+K;if((y.strstart===0||y.strstart>=I)&&(y.lookahead=y.strstart-I,y.strstart=I,B(y,!1),y.strm.avail_out===0)||y.strstart-y.block_start>=y.w_size-me&&(B(y,!1),y.strm.avail_out===0))return N}return y.insert=0,J===v?(B(y,!0),y.strm.avail_out===0?ve:G):(y.strstart>y.block_start&&(B(y,!1),y.strm.avail_out),N)}),new Q(4,4,8,4,ie),new Q(4,5,16,8,ie),new Q(4,6,32,32,ie),new Q(4,4,16,16,te),new Q(8,16,32,32,te),new Q(8,16,128,128,te),new Q(8,32,128,256,te),new Q(32,128,258,1024,te),new Q(32,258,258,4096,te)],a.deflateInit=function(y,J){return je(y,J,p,15,8,0)},a.deflateInit2=je,a.deflateReset=_e,a.deflateResetKeep=le,a.deflateSetHeader=function(y,J){return y&&y.state?y.state.wrap!==2?b:(y.state.gzhead=J,d):b},a.deflate=function(y,J){var K,I,D,L;if(!y||!y.state||5<J||J<0)return y?ee(y,b):b;if(I=y.state,!y.output||!y.input&&y.avail_in!==0||I.status===666&&J!==v)return ee(y,y.avail_out===0?-5:b);if(I.strm=y,K=I.last_flush,I.last_flush=J,I.status===T)if(I.wrap===2)y.adler=0,he(I,31),he(I,139),he(I,8),I.gzhead?(he(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),he(I,255&I.gzhead.time),he(I,I.gzhead.time>>8&255),he(I,I.gzhead.time>>16&255),he(I,I.gzhead.time>>24&255),he(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),he(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(he(I,255&I.gzhead.extra.length),he(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(y.adler=f(y.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(he(I,0),he(I,0),he(I,0),he(I,0),he(I,0),he(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),he(I,3),I.status=U);else{var re=p+(I.w_bits-8<<4)<<8;re|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(re|=32),re+=31-re%31,I.status=U,ue(I,re),I.strstart!==0&&(ue(I,y.adler>>>16),ue(I,65535&y.adler)),y.adler=1}if(I.status===69)if(I.gzhead.extra){for(D=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>D&&(y.adler=f(y.adler,I.pending_buf,I.pending-D,D)),O(y),D=I.pending,I.pending!==I.pending_buf_size));)he(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>D&&(y.adler=f(y.adler,I.pending_buf,I.pending-D,D)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){D=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>D&&(y.adler=f(y.adler,I.pending_buf,I.pending-D,D)),O(y),D=I.pending,I.pending===I.pending_buf_size)){L=1;break}L=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,he(I,L)}while(L!==0);I.gzhead.hcrc&&I.pending>D&&(y.adler=f(y.adler,I.pending_buf,I.pending-D,D)),L===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){D=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>D&&(y.adler=f(y.adler,I.pending_buf,I.pending-D,D)),O(y),D=I.pending,I.pending===I.pending_buf_size)){L=1;break}L=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,he(I,L)}while(L!==0);I.gzhead.hcrc&&I.pending>D&&(y.adler=f(y.adler,I.pending_buf,I.pending-D,D)),L===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&O(y),I.pending+2<=I.pending_buf_size&&(he(I,255&y.adler),he(I,y.adler>>8&255),y.adler=0,I.status=U)):I.status=U),I.pending!==0){if(O(y),y.avail_out===0)return I.last_flush=-1,d}else if(y.avail_in===0&&P(J)<=P(K)&&J!==v)return ee(y,-5);if(I.status===666&&y.avail_in!==0)return ee(y,-5);if(y.avail_in!==0||I.lookahead!==0||J!==u&&I.status!==666){var Y=I.strategy===2?function(W,q){for(var pe;;){if(W.lookahead===0&&(z(W),W.lookahead===0)){if(q===u)return N;break}if(W.match_length=0,pe=l._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,pe&&(B(W,!1),W.strm.avail_out===0))return N}return W.insert=0,q===v?(B(W,!0),W.strm.avail_out===0?ve:G):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?N:Z}(I,J):I.strategy===3?function(W,q){for(var pe,ae,we,se,xe=W.window;;){if(W.lookahead<=V){if(z(W),W.lookahead<=V&&q===u)return N;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=R&&0<W.strstart&&(ae=xe[we=W.strstart-1])===xe[++we]&&ae===xe[++we]&&ae===xe[++we]){se=W.strstart+V;do;while(ae===xe[++we]&&ae===xe[++we]&&ae===xe[++we]&&ae===xe[++we]&&ae===xe[++we]&&ae===xe[++we]&&ae===xe[++we]&&ae===xe[++we]&&we<se);W.match_length=V-(se-we),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=R?(pe=l._tr_tally(W,1,W.match_length-R),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(pe=l._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),pe&&(B(W,!1),W.strm.avail_out===0))return N}return W.insert=0,q===v?(B(W,!0),W.strm.avail_out===0?ve:G):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?N:Z}(I,J):i[I.level].func(I,J);if(Y!==ve&&Y!==G||(I.status=666),Y===N||Y===ve)return y.avail_out===0&&(I.last_flush=-1),d;if(Y===Z&&(J===1?l._tr_align(I):J!==5&&(l._tr_stored_block(I,0,0,!1),J===3&&(F(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),O(y),y.avail_out===0))return I.last_flush=-1,d}return J!==v?d:I.wrap<=0?1:(I.wrap===2?(he(I,255&y.adler),he(I,y.adler>>8&255),he(I,y.adler>>16&255),he(I,y.adler>>24&255),he(I,255&y.total_in),he(I,y.total_in>>8&255),he(I,y.total_in>>16&255),he(I,y.total_in>>24&255)):(ue(I,y.adler>>>16),ue(I,65535&y.adler)),O(y),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?d:1)},a.deflateEnd=function(y){var J;return y&&y.state?(J=y.state.status)!==T&&J!==69&&J!==73&&J!==91&&J!==103&&J!==U&&J!==666?ee(y,b):(y.state=null,J===U?ee(y,-3):d):b},a.deflateSetDictionary=function(y,J){var K,I,D,L,re,Y,W,q,pe=J.length;if(!y||!y.state||(L=(K=y.state).wrap)===2||L===1&&K.status!==T||K.lookahead)return b;for(L===1&&(y.adler=c(y.adler,J,pe,0)),K.wrap=0,pe>=K.w_size&&(L===0&&(F(K.head),K.strstart=0,K.block_start=0,K.insert=0),q=new o.Buf8(K.w_size),o.arraySet(q,J,pe-K.w_size,K.w_size,0),J=q,pe=K.w_size),re=y.avail_in,Y=y.next_in,W=y.input,y.avail_in=pe,y.next_in=0,y.input=J,z(K);K.lookahead>=R;){for(I=K.strstart,D=K.lookahead-(R-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[I+R-1])&K.hash_mask,K.prev[I&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=I,I++,--D;);K.strstart=I,K.lookahead=R-1,z(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=R-1,K.match_available=0,y.next_in=Y,y.input=W,y.avail_in=re,K.wrap=L,d},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,a){n.exports=function(i,o){var l,c,f,g,u,v,d,b,m,w,h,p,x,_,k,E,$,S,R,V,me,T,U,N,Z;l=i.state,c=i.next_in,N=i.input,f=c+(i.avail_in-5),g=i.next_out,Z=i.output,u=g-(o-i.avail_out),v=g+(i.avail_out-257),d=l.dmax,b=l.wsize,m=l.whave,w=l.wnext,h=l.window,p=l.hold,x=l.bits,_=l.lencode,k=l.distcode,E=(1<<l.lenbits)-1,$=(1<<l.distbits)-1;e:do{x<15&&(p+=N[c++]<<x,x+=8,p+=N[c++]<<x,x+=8),S=_[p&E];t:for(;;){if(p>>>=R=S>>>24,x-=R,(R=S>>>16&255)===0)Z[g++]=65535&S;else{if(!(16&R)){if(!(64&R)){S=_[(65535&S)+(p&(1<<R)-1)];continue t}if(32&R){l.mode=12;break e}i.msg="invalid literal/length code",l.mode=30;break e}V=65535&S,(R&=15)&&(x<R&&(p+=N[c++]<<x,x+=8),V+=p&(1<<R)-1,p>>>=R,x-=R),x<15&&(p+=N[c++]<<x,x+=8,p+=N[c++]<<x,x+=8),S=k[p&$];r:for(;;){if(p>>>=R=S>>>24,x-=R,!(16&(R=S>>>16&255))){if(!(64&R)){S=k[(65535&S)+(p&(1<<R)-1)];continue r}i.msg="invalid distance code",l.mode=30;break e}if(me=65535&S,x<(R&=15)&&(p+=N[c++]<<x,(x+=8)<R&&(p+=N[c++]<<x,x+=8)),d<(me+=p&(1<<R)-1)){i.msg="invalid distance too far back",l.mode=30;break e}if(p>>>=R,x-=R,(R=g-u)<me){if(m<(R=me-R)&&l.sane){i.msg="invalid distance too far back",l.mode=30;break e}if(U=h,(T=0)===w){if(T+=b-R,R<V){for(V-=R;Z[g++]=h[T++],--R;);T=g-me,U=Z}}else if(w<R){if(T+=b+w-R,(R-=w)<V){for(V-=R;Z[g++]=h[T++],--R;);if(T=0,w<V){for(V-=R=w;Z[g++]=h[T++],--R;);T=g-me,U=Z}}}else if(T+=w-R,R<V){for(V-=R;Z[g++]=h[T++],--R;);T=g-me,U=Z}for(;2<V;)Z[g++]=U[T++],Z[g++]=U[T++],Z[g++]=U[T++],V-=3;V&&(Z[g++]=U[T++],1<V&&(Z[g++]=U[T++]))}else{for(T=g-me;Z[g++]=Z[T++],Z[g++]=Z[T++],Z[g++]=Z[T++],2<(V-=3););V&&(Z[g++]=Z[T++],1<V&&(Z[g++]=Z[T++]))}break}}break}}while(c<f&&g<v);c-=V=x>>3,p&=(1<<(x-=V<<3))-1,i.next_in=c,i.next_out=g,i.avail_in=c<f?f-c+5:5-(c-f),i.avail_out=g<v?v-g+257:257-(g-v),l.hold=p,l.bits=x}},{}],49:[function(r,n,a){var i=r("../utils/common"),o=r("./adler32"),l=r("./crc32"),c=r("./inffast"),f=r("./inftrees"),g=1,u=2,v=0,d=-2,b=1,m=852,w=592;function h(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(T){var U;return T&&T.state?(U=T.state,T.total_in=T.total_out=U.total=0,T.msg="",U.wrap&&(T.adler=1&U.wrap),U.mode=b,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new i.Buf32(m),U.distcode=U.distdyn=new i.Buf32(w),U.sane=1,U.back=-1,v):d}function _(T){var U;return T&&T.state?((U=T.state).wsize=0,U.whave=0,U.wnext=0,x(T)):d}function k(T,U){var N,Z;return T&&T.state?(Z=T.state,U<0?(N=0,U=-U):(N=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?d:(Z.window!==null&&Z.wbits!==U&&(Z.window=null),Z.wrap=N,Z.wbits=U,_(T))):d}function E(T,U){var N,Z;return T?(Z=new p,(T.state=Z).window=null,(N=k(T,U))!==v&&(T.state=null),N):d}var $,S,R=!0;function V(T){if(R){var U;for($=new i.Buf32(512),S=new i.Buf32(32),U=0;U<144;)T.lens[U++]=8;for(;U<256;)T.lens[U++]=9;for(;U<280;)T.lens[U++]=7;for(;U<288;)T.lens[U++]=8;for(f(g,T.lens,0,288,$,0,T.work,{bits:9}),U=0;U<32;)T.lens[U++]=5;f(u,T.lens,0,32,S,0,T.work,{bits:5}),R=!1}T.lencode=$,T.lenbits=9,T.distcode=S,T.distbits=5}function me(T,U,N,Z){var ve,G=T.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new i.Buf8(G.wsize)),Z>=G.wsize?(i.arraySet(G.window,U,N-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(Z<(ve=G.wsize-G.wnext)&&(ve=Z),i.arraySet(G.window,U,N-Z,ve,G.wnext),(Z-=ve)?(i.arraySet(G.window,U,N-Z,Z,0),G.wnext=Z,G.whave=G.wsize):(G.wnext+=ve,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=ve))),0}a.inflateReset=_,a.inflateReset2=k,a.inflateResetKeep=x,a.inflateInit=function(T){return E(T,15)},a.inflateInit2=E,a.inflate=function(T,U){var N,Z,ve,G,ee,P,F,O,B,he,ue,ce,z,ie,te,Q,ye,le,_e,je,y,J,K,I,D=0,L=new i.Buf8(4),re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return d;(N=T.state).mode===12&&(N.mode=13),ee=T.next_out,ve=T.output,F=T.avail_out,G=T.next_in,Z=T.input,P=T.avail_in,O=N.hold,B=N.bits,he=P,ue=F,J=v;e:for(;;)switch(N.mode){case b:if(N.wrap===0){N.mode=13;break}for(;B<16;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if(2&N.wrap&&O===35615){L[N.check=0]=255&O,L[1]=O>>>8&255,N.check=l(N.check,L,2,0),B=O=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&O)<<8)+(O>>8))%31){T.msg="incorrect header check",N.mode=30;break}if((15&O)!=8){T.msg="unknown compression method",N.mode=30;break}if(B-=4,y=8+(15&(O>>>=4)),N.wbits===0)N.wbits=y;else if(y>N.wbits){T.msg="invalid window size",N.mode=30;break}N.dmax=1<<y,T.adler=N.check=1,N.mode=512&O?10:12,B=O=0;break;case 2:for(;B<16;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if(N.flags=O,(255&N.flags)!=8){T.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){T.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=O>>8&1),512&N.flags&&(L[0]=255&O,L[1]=O>>>8&255,N.check=l(N.check,L,2,0)),B=O=0,N.mode=3;case 3:for(;B<32;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}N.head&&(N.head.time=O),512&N.flags&&(L[0]=255&O,L[1]=O>>>8&255,L[2]=O>>>16&255,L[3]=O>>>24&255,N.check=l(N.check,L,4,0)),B=O=0,N.mode=4;case 4:for(;B<16;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}N.head&&(N.head.xflags=255&O,N.head.os=O>>8),512&N.flags&&(L[0]=255&O,L[1]=O>>>8&255,N.check=l(N.check,L,2,0)),B=O=0,N.mode=5;case 5:if(1024&N.flags){for(;B<16;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}N.length=O,N.head&&(N.head.extra_len=O),512&N.flags&&(L[0]=255&O,L[1]=O>>>8&255,N.check=l(N.check,L,2,0)),B=O=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(P<(ce=N.length)&&(ce=P),ce&&(N.head&&(y=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),i.arraySet(N.head.extra,Z,G,ce,y)),512&N.flags&&(N.check=l(N.check,Z,ce,G)),P-=ce,G+=ce,N.length-=ce),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(P===0)break e;for(ce=0;y=Z[G+ce++],N.head&&y&&N.length<65536&&(N.head.name+=String.fromCharCode(y)),y&&ce<P;);if(512&N.flags&&(N.check=l(N.check,Z,ce,G)),P-=ce,G+=ce,y)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(P===0)break e;for(ce=0;y=Z[G+ce++],N.head&&y&&N.length<65536&&(N.head.comment+=String.fromCharCode(y)),y&&ce<P;);if(512&N.flags&&(N.check=l(N.check,Z,ce,G)),P-=ce,G+=ce,y)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;B<16;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if(O!==(65535&N.check)){T.msg="header crc mismatch",N.mode=30;break}B=O=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),T.adler=N.check=0,N.mode=12;break;case 10:for(;B<32;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}T.adler=N.check=h(O),B=O=0,N.mode=11;case 11:if(N.havedict===0)return T.next_out=ee,T.avail_out=F,T.next_in=G,T.avail_in=P,N.hold=O,N.bits=B,2;T.adler=N.check=1,N.mode=12;case 12:if(U===5||U===6)break e;case 13:if(N.last){O>>>=7&B,B-=7&B,N.mode=27;break}for(;B<3;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}switch(N.last=1&O,B-=1,3&(O>>>=1)){case 0:N.mode=14;break;case 1:if(V(N),N.mode=20,U!==6)break;O>>>=2,B-=2;break e;case 2:N.mode=17;break;case 3:T.msg="invalid block type",N.mode=30}O>>>=2,B-=2;break;case 14:for(O>>>=7&B,B-=7&B;B<32;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if((65535&O)!=(O>>>16^65535)){T.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&O,B=O=0,N.mode=15,U===6)break e;case 15:N.mode=16;case 16:if(ce=N.length){if(P<ce&&(ce=P),F<ce&&(ce=F),ce===0)break e;i.arraySet(ve,Z,G,ce,ee),P-=ce,G+=ce,F-=ce,ee+=ce,N.length-=ce;break}N.mode=12;break;case 17:for(;B<14;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if(N.nlen=257+(31&O),O>>>=5,B-=5,N.ndist=1+(31&O),O>>>=5,B-=5,N.ncode=4+(15&O),O>>>=4,B-=4,286<N.nlen||30<N.ndist){T.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;B<3;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}N.lens[re[N.have++]]=7&O,O>>>=3,B-=3}for(;N.have<19;)N.lens[re[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,K={bits:N.lenbits},J=f(0,N.lens,0,19,N.lencode,0,N.work,K),N.lenbits=K.bits,J){T.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;Q=(D=N.lencode[O&(1<<N.lenbits)-1])>>>16&255,ye=65535&D,!((te=D>>>24)<=B);){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if(ye<16)O>>>=te,B-=te,N.lens[N.have++]=ye;else{if(ye===16){for(I=te+2;B<I;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if(O>>>=te,B-=te,N.have===0){T.msg="invalid bit length repeat",N.mode=30;break}y=N.lens[N.have-1],ce=3+(3&O),O>>>=2,B-=2}else if(ye===17){for(I=te+3;B<I;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}B-=te,y=0,ce=3+(7&(O>>>=te)),O>>>=3,B-=3}else{for(I=te+7;B<I;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}B-=te,y=0,ce=11+(127&(O>>>=te)),O>>>=7,B-=7}if(N.have+ce>N.nlen+N.ndist){T.msg="invalid bit length repeat",N.mode=30;break}for(;ce--;)N.lens[N.have++]=y}}if(N.mode===30)break;if(N.lens[256]===0){T.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,K={bits:N.lenbits},J=f(g,N.lens,0,N.nlen,N.lencode,0,N.work,K),N.lenbits=K.bits,J){T.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,K={bits:N.distbits},J=f(u,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,K),N.distbits=K.bits,J){T.msg="invalid distances set",N.mode=30;break}if(N.mode=20,U===6)break e;case 20:N.mode=21;case 21:if(6<=P&&258<=F){T.next_out=ee,T.avail_out=F,T.next_in=G,T.avail_in=P,N.hold=O,N.bits=B,c(T,ue),ee=T.next_out,ve=T.output,F=T.avail_out,G=T.next_in,Z=T.input,P=T.avail_in,O=N.hold,B=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;Q=(D=N.lencode[O&(1<<N.lenbits)-1])>>>16&255,ye=65535&D,!((te=D>>>24)<=B);){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if(Q&&!(240&Q)){for(le=te,_e=Q,je=ye;Q=(D=N.lencode[je+((O&(1<<le+_e)-1)>>le)])>>>16&255,ye=65535&D,!(le+(te=D>>>24)<=B);){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}O>>>=le,B-=le,N.back+=le}if(O>>>=te,B-=te,N.back+=te,N.length=ye,Q===0){N.mode=26;break}if(32&Q){N.back=-1,N.mode=12;break}if(64&Q){T.msg="invalid literal/length code",N.mode=30;break}N.extra=15&Q,N.mode=22;case 22:if(N.extra){for(I=N.extra;B<I;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}N.length+=O&(1<<N.extra)-1,O>>>=N.extra,B-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;Q=(D=N.distcode[O&(1<<N.distbits)-1])>>>16&255,ye=65535&D,!((te=D>>>24)<=B);){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if(!(240&Q)){for(le=te,_e=Q,je=ye;Q=(D=N.distcode[je+((O&(1<<le+_e)-1)>>le)])>>>16&255,ye=65535&D,!(le+(te=D>>>24)<=B);){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}O>>>=le,B-=le,N.back+=le}if(O>>>=te,B-=te,N.back+=te,64&Q){T.msg="invalid distance code",N.mode=30;break}N.offset=ye,N.extra=15&Q,N.mode=24;case 24:if(N.extra){for(I=N.extra;B<I;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}N.offset+=O&(1<<N.extra)-1,O>>>=N.extra,B-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){T.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(F===0)break e;if(ce=ue-F,N.offset>ce){if((ce=N.offset-ce)>N.whave&&N.sane){T.msg="invalid distance too far back",N.mode=30;break}z=ce>N.wnext?(ce-=N.wnext,N.wsize-ce):N.wnext-ce,ce>N.length&&(ce=N.length),ie=N.window}else ie=ve,z=ee-N.offset,ce=N.length;for(F<ce&&(ce=F),F-=ce,N.length-=ce;ve[ee++]=ie[z++],--ce;);N.length===0&&(N.mode=21);break;case 26:if(F===0)break e;ve[ee++]=N.length,F--,N.mode=21;break;case 27:if(N.wrap){for(;B<32;){if(P===0)break e;P--,O|=Z[G++]<<B,B+=8}if(ue-=F,T.total_out+=ue,N.total+=ue,ue&&(T.adler=N.check=N.flags?l(N.check,ve,ue,ee-ue):o(N.check,ve,ue,ee-ue)),ue=F,(N.flags?O:h(O))!==N.check){T.msg="incorrect data check",N.mode=30;break}B=O=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;B<32;){if(P===0)break e;P--,O+=Z[G++]<<B,B+=8}if(O!==(4294967295&N.total)){T.msg="incorrect length check",N.mode=30;break}B=O=0}N.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;case 32:default:return d}return T.next_out=ee,T.avail_out=F,T.next_in=G,T.avail_in=P,N.hold=O,N.bits=B,(N.wsize||ue!==T.avail_out&&N.mode<30&&(N.mode<27||U!==4))&&me(T,T.output,T.next_out,ue-T.avail_out)?(N.mode=31,-4):(he-=T.avail_in,ue-=T.avail_out,T.total_in+=he,T.total_out+=ue,N.total+=ue,N.wrap&&ue&&(T.adler=N.check=N.flags?l(N.check,ve,ue,T.next_out-ue):o(N.check,ve,ue,T.next_out-ue)),T.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(he==0&&ue===0||U===4)&&J===v&&(J=-5),J)},a.inflateEnd=function(T){if(!T||!T.state)return d;var U=T.state;return U.window&&(U.window=null),T.state=null,v},a.inflateGetHeader=function(T,U){var N;return T&&T.state&&2&(N=T.state).wrap?((N.head=U).done=!1,v):d},a.inflateSetDictionary=function(T,U){var N,Z=U.length;return T&&T.state?(N=T.state).wrap!==0&&N.mode!==11?d:N.mode===11&&o(1,U,Z,0)!==N.check?-3:me(T,U,Z,Z)?(N.mode=31,-4):(N.havedict=1,v):d},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,a){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(g,u,v,d,b,m,w,h){var p,x,_,k,E,$,S,R,V,me=h.bits,T=0,U=0,N=0,Z=0,ve=0,G=0,ee=0,P=0,F=0,O=0,B=null,he=0,ue=new i.Buf16(16),ce=new i.Buf16(16),z=null,ie=0;for(T=0;T<=15;T++)ue[T]=0;for(U=0;U<d;U++)ue[u[v+U]]++;for(ve=me,Z=15;1<=Z&&ue[Z]===0;Z--);if(Z<ve&&(ve=Z),Z===0)return b[m++]=20971520,b[m++]=20971520,h.bits=1,0;for(N=1;N<Z&&ue[N]===0;N++);for(ve<N&&(ve=N),T=P=1;T<=15;T++)if(P<<=1,(P-=ue[T])<0)return-1;if(0<P&&(g===0||Z!==1))return-1;for(ce[1]=0,T=1;T<15;T++)ce[T+1]=ce[T]+ue[T];for(U=0;U<d;U++)u[v+U]!==0&&(w[ce[u[v+U]]++]=U);if($=g===0?(B=z=w,19):g===1?(B=o,he-=257,z=l,ie-=257,256):(B=c,z=f,-1),T=N,E=m,ee=U=O=0,_=-1,k=(F=1<<(G=ve))-1,g===1&&852<F||g===2&&592<F)return 1;for(;;){for(S=T-ee,V=w[U]<$?(R=0,w[U]):w[U]>$?(R=z[ie+w[U]],B[he+w[U]]):(R=96,0),p=1<<T-ee,N=x=1<<G;b[E+(O>>ee)+(x-=p)]=S<<24|R<<16|V|0,x!==0;);for(p=1<<T-1;O&p;)p>>=1;if(p!==0?(O&=p-1,O+=p):O=0,U++,--ue[T]==0){if(T===Z)break;T=u[v+w[U]]}if(ve<T&&(O&k)!==_){for(ee===0&&(ee=ve),E+=N,P=1<<(G=T-ee);G+ee<Z&&!((P-=ue[G+ee])<=0);)G++,P<<=1;if(F+=1<<G,g===1&&852<F||g===2&&592<F)return 1;b[_=O&k]=ve<<24|G<<16|E-m|0}}return O!==0&&(b[E+O]=T-ee<<24|64<<16|0),h.bits=ve,0}},{"../utils/common":41}],51:[function(r,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,a){var i=r("../utils/common"),o=0,l=1;function c(D){for(var L=D.length;0<=--L;)D[L]=0}var f=0,g=29,u=256,v=u+1+g,d=30,b=19,m=2*v+1,w=15,h=16,p=7,x=256,_=16,k=17,E=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=new Array(2*(v+2));c(me);var T=new Array(2*d);c(T);var U=new Array(512);c(U);var N=new Array(256);c(N);var Z=new Array(g);c(Z);var ve,G,ee,P=new Array(d);function F(D,L,re,Y,W){this.static_tree=D,this.extra_bits=L,this.extra_base=re,this.elems=Y,this.max_length=W,this.has_stree=D&&D.length}function O(D,L){this.dyn_tree=D,this.max_code=0,this.stat_desc=L}function B(D){return D<256?U[D]:U[256+(D>>>7)]}function he(D,L){D.pending_buf[D.pending++]=255&L,D.pending_buf[D.pending++]=L>>>8&255}function ue(D,L,re){D.bi_valid>h-re?(D.bi_buf|=L<<D.bi_valid&65535,he(D,D.bi_buf),D.bi_buf=L>>h-D.bi_valid,D.bi_valid+=re-h):(D.bi_buf|=L<<D.bi_valid&65535,D.bi_valid+=re)}function ce(D,L,re){ue(D,re[2*L],re[2*L+1])}function z(D,L){for(var re=0;re|=1&D,D>>>=1,re<<=1,0<--L;);return re>>>1}function ie(D,L,re){var Y,W,q=new Array(w+1),pe=0;for(Y=1;Y<=w;Y++)q[Y]=pe=pe+re[Y-1]<<1;for(W=0;W<=L;W++){var ae=D[2*W+1];ae!==0&&(D[2*W]=z(q[ae]++,ae))}}function te(D){var L;for(L=0;L<v;L++)D.dyn_ltree[2*L]=0;for(L=0;L<d;L++)D.dyn_dtree[2*L]=0;for(L=0;L<b;L++)D.bl_tree[2*L]=0;D.dyn_ltree[2*x]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function Q(D){8<D.bi_valid?he(D,D.bi_buf):0<D.bi_valid&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function ye(D,L,re,Y){var W=2*L,q=2*re;return D[W]<D[q]||D[W]===D[q]&&Y[L]<=Y[re]}function le(D,L,re){for(var Y=D.heap[re],W=re<<1;W<=D.heap_len&&(W<D.heap_len&&ye(L,D.heap[W+1],D.heap[W],D.depth)&&W++,!ye(L,Y,D.heap[W],D.depth));)D.heap[re]=D.heap[W],re=W,W<<=1;D.heap[re]=Y}function _e(D,L,re){var Y,W,q,pe,ae=0;if(D.last_lit!==0)for(;Y=D.pending_buf[D.d_buf+2*ae]<<8|D.pending_buf[D.d_buf+2*ae+1],W=D.pending_buf[D.l_buf+ae],ae++,Y===0?ce(D,W,L):(ce(D,(q=N[W])+u+1,L),(pe=$[q])!==0&&ue(D,W-=Z[q],pe),ce(D,q=B(--Y),re),(pe=S[q])!==0&&ue(D,Y-=P[q],pe)),ae<D.last_lit;);ce(D,x,L)}function je(D,L){var re,Y,W,q=L.dyn_tree,pe=L.stat_desc.static_tree,ae=L.stat_desc.has_stree,we=L.stat_desc.elems,se=-1;for(D.heap_len=0,D.heap_max=m,re=0;re<we;re++)q[2*re]!==0?(D.heap[++D.heap_len]=se=re,D.depth[re]=0):q[2*re+1]=0;for(;D.heap_len<2;)q[2*(W=D.heap[++D.heap_len]=se<2?++se:0)]=1,D.depth[W]=0,D.opt_len--,ae&&(D.static_len-=pe[2*W+1]);for(L.max_code=se,re=D.heap_len>>1;1<=re;re--)le(D,q,re);for(W=we;re=D.heap[1],D.heap[1]=D.heap[D.heap_len--],le(D,q,1),Y=D.heap[1],D.heap[--D.heap_max]=re,D.heap[--D.heap_max]=Y,q[2*W]=q[2*re]+q[2*Y],D.depth[W]=(D.depth[re]>=D.depth[Y]?D.depth[re]:D.depth[Y])+1,q[2*re+1]=q[2*Y+1]=W,D.heap[1]=W++,le(D,q,1),2<=D.heap_len;);D.heap[--D.heap_max]=D.heap[1],function(xe,Ee){var pt,ct,Gt,Pe,Pt,qt,gt=Ee.dyn_tree,Vr=Ee.max_code,un=Ee.stat_desc.static_tree,sr=Ee.stat_desc.has_stree,dn=Ee.stat_desc.extra_bits,ri=Ee.stat_desc.extra_base,Wr=Ee.stat_desc.max_length,fn=0;for(Pe=0;Pe<=w;Pe++)xe.bl_count[Pe]=0;for(gt[2*xe.heap[xe.heap_max]+1]=0,pt=xe.heap_max+1;pt<m;pt++)Wr<(Pe=gt[2*gt[2*(ct=xe.heap[pt])+1]+1]+1)&&(Pe=Wr,fn++),gt[2*ct+1]=Pe,Vr<ct||(xe.bl_count[Pe]++,Pt=0,ri<=ct&&(Pt=dn[ct-ri]),qt=gt[2*ct],xe.opt_len+=qt*(Pe+Pt),sr&&(xe.static_len+=qt*(un[2*ct+1]+Pt)));if(fn!==0){do{for(Pe=Wr-1;xe.bl_count[Pe]===0;)Pe--;xe.bl_count[Pe]--,xe.bl_count[Pe+1]+=2,xe.bl_count[Wr]--,fn-=2}while(0<fn);for(Pe=Wr;Pe!==0;Pe--)for(ct=xe.bl_count[Pe];ct!==0;)Vr<(Gt=xe.heap[--pt])||(gt[2*Gt+1]!==Pe&&(xe.opt_len+=(Pe-gt[2*Gt+1])*gt[2*Gt],gt[2*Gt+1]=Pe),ct--)}}(D,L),ie(q,se,D.bl_count)}function y(D,L,re){var Y,W,q=-1,pe=L[1],ae=0,we=7,se=4;for(pe===0&&(we=138,se=3),L[2*(re+1)+1]=65535,Y=0;Y<=re;Y++)W=pe,pe=L[2*(Y+1)+1],++ae<we&&W===pe||(ae<se?D.bl_tree[2*W]+=ae:W!==0?(W!==q&&D.bl_tree[2*W]++,D.bl_tree[2*_]++):ae<=10?D.bl_tree[2*k]++:D.bl_tree[2*E]++,q=W,se=(ae=0)===pe?(we=138,3):W===pe?(we=6,3):(we=7,4))}function J(D,L,re){var Y,W,q=-1,pe=L[1],ae=0,we=7,se=4;for(pe===0&&(we=138,se=3),Y=0;Y<=re;Y++)if(W=pe,pe=L[2*(Y+1)+1],!(++ae<we&&W===pe)){if(ae<se)for(;ce(D,W,D.bl_tree),--ae!=0;);else W!==0?(W!==q&&(ce(D,W,D.bl_tree),ae--),ce(D,_,D.bl_tree),ue(D,ae-3,2)):ae<=10?(ce(D,k,D.bl_tree),ue(D,ae-3,3)):(ce(D,E,D.bl_tree),ue(D,ae-11,7));q=W,se=(ae=0)===pe?(we=138,3):W===pe?(we=6,3):(we=7,4)}}c(P);var K=!1;function I(D,L,re,Y){ue(D,(f<<1)+(Y?1:0),3),function(W,q,pe,ae){Q(W),he(W,pe),he(W,~pe),i.arraySet(W.pending_buf,W.window,q,pe,W.pending),W.pending+=pe}(D,L,re)}a._tr_init=function(D){K||(function(){var L,re,Y,W,q,pe=new Array(w+1);for(W=Y=0;W<g-1;W++)for(Z[W]=Y,L=0;L<1<<$[W];L++)N[Y++]=W;for(N[Y-1]=W,W=q=0;W<16;W++)for(P[W]=q,L=0;L<1<<S[W];L++)U[q++]=W;for(q>>=7;W<d;W++)for(P[W]=q<<7,L=0;L<1<<S[W]-7;L++)U[256+q++]=W;for(re=0;re<=w;re++)pe[re]=0;for(L=0;L<=143;)me[2*L+1]=8,L++,pe[8]++;for(;L<=255;)me[2*L+1]=9,L++,pe[9]++;for(;L<=279;)me[2*L+1]=7,L++,pe[7]++;for(;L<=287;)me[2*L+1]=8,L++,pe[8]++;for(ie(me,v+1,pe),L=0;L<d;L++)T[2*L+1]=5,T[2*L]=z(L,5);ve=new F(me,$,u+1,v,w),G=new F(T,S,0,d,w),ee=new F(new Array(0),R,0,b,p)}(),K=!0),D.l_desc=new O(D.dyn_ltree,ve),D.d_desc=new O(D.dyn_dtree,G),D.bl_desc=new O(D.bl_tree,ee),D.bi_buf=0,D.bi_valid=0,te(D)},a._tr_stored_block=I,a._tr_flush_block=function(D,L,re,Y){var W,q,pe=0;0<D.level?(D.strm.data_type===2&&(D.strm.data_type=function(ae){var we,se=4093624447;for(we=0;we<=31;we++,se>>>=1)if(1&se&&ae.dyn_ltree[2*we]!==0)return o;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return l;for(we=32;we<u;we++)if(ae.dyn_ltree[2*we]!==0)return l;return o}(D)),je(D,D.l_desc),je(D,D.d_desc),pe=function(ae){var we;for(y(ae,ae.dyn_ltree,ae.l_desc.max_code),y(ae,ae.dyn_dtree,ae.d_desc.max_code),je(ae,ae.bl_desc),we=b-1;3<=we&&ae.bl_tree[2*V[we]+1]===0;we--);return ae.opt_len+=3*(we+1)+5+5+4,we}(D),W=D.opt_len+3+7>>>3,(q=D.static_len+3+7>>>3)<=W&&(W=q)):W=q=re+5,re+4<=W&&L!==-1?I(D,L,re,Y):D.strategy===4||q===W?(ue(D,2+(Y?1:0),3),_e(D,me,T)):(ue(D,4+(Y?1:0),3),function(ae,we,se,xe){var Ee;for(ue(ae,we-257,5),ue(ae,se-1,5),ue(ae,xe-4,4),Ee=0;Ee<xe;Ee++)ue(ae,ae.bl_tree[2*V[Ee]+1],3);J(ae,ae.dyn_ltree,we-1),J(ae,ae.dyn_dtree,se-1)}(D,D.l_desc.max_code+1,D.d_desc.max_code+1,pe+1),_e(D,D.dyn_ltree,D.dyn_dtree)),te(D),Y&&Q(D)},a._tr_tally=function(D,L,re){return D.pending_buf[D.d_buf+2*D.last_lit]=L>>>8&255,D.pending_buf[D.d_buf+2*D.last_lit+1]=255&L,D.pending_buf[D.l_buf+D.last_lit]=255&re,D.last_lit++,L===0?D.dyn_ltree[2*re]++:(D.matches++,L--,D.dyn_ltree[2*(N[re]+u+1)]++,D.dyn_dtree[2*B(L)]++),D.last_lit===D.lit_bufsize-1},a._tr_align=function(D){ue(D,2,3),ce(D,x,me),function(L){L.bi_valid===16?(he(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(D)}},{"../utils/common":41}],53:[function(r,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,a){(function(i){(function(o,l){if(!o.setImmediate){var c,f,g,u,v=1,d={},b=!1,m=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,c={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){p(_)})}:function(){if(o.postMessage&&!o.importScripts){var _=!0,k=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=k,_}}()?(u="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(_){o.postMessage(u+_,"*")}):o.MessageChannel?((g=new MessageChannel).port1.onmessage=function(_){p(_.data)},function(_){g.port2.postMessage(_)}):m&&"onreadystatechange"in m.createElement("script")?(f=m.documentElement,function(_){var k=m.createElement("script");k.onreadystatechange=function(){p(_),k.onreadystatechange=null,f.removeChild(k),k=null},f.appendChild(k)}):function(_){setTimeout(p,0,_)},w.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var k=new Array(arguments.length-1),E=0;E<k.length;E++)k[E]=arguments[E+1];var $={callback:_,args:k};return d[v]=$,c(v),v++},w.clearImmediate=h}function h(_){delete d[_]}function p(_){if(b)setTimeout(p,0,_);else{var k=d[_];if(k){b=!0;try{(function(E){var $=E.callback,S=E.args;switch(S.length){case 0:$();break;case 1:$(S[0]);break;case 2:$(S[0],S[1]);break;case 3:$(S[0],S[1],S[2]);break;default:$.apply(l,S)}})(k)}finally{h(_),b=!1}}}}function x(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(u)===0&&p(+_.data.slice(u.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof ii<"u"?ii:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Rm);var ab=Rm.exports;const ob=Pd(ab),Dc=e=>{if(e<1){const t=e*1e3;return t>=100?`${t.toLocaleString("fr-FR").replace(/,/g," ")} MB`:`${t} MB`}return`${e} GB`},bd=(e,t)=>t==="Kbps"&&e>=1e3?e.toLocaleString("fr-FR").replace(/,/g," "):e.toString(),lb=e=>{var r,n;const t=(n=(r=import.meta)==null?void 0:r.env)==null?void 0:n.VITE_IMG_PROXY_BASE;return t&&typeof t=="string"&&t.length>0?`${t}${encodeURIComponent(e)}`:e},cb=async(e,t,r)=>{try{const n=await fetch(e,{headers:{Accept:"image/*"},mode:"cors"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await(await n.blob()).arrayBuffer(),o=r.folder("images");return o==null||o.file(t,i),`images/${t}`}catch(n){throw console.error("Image download failed:",e,n),n instanceof TypeError&&(n.message.includes("Failed to fetch")||n.message.includes("CORS")||n.message.includes("Access-Control-Allow-Origin"))?new Error("CORS_ERROR"):n}},ub=(e,t="")=>{const n=(e.split("/").pop()||"image.jpg").replace(/[^a-zA-Z0-9._-]/g,"_");return`${t}${n}`},$c=(e,t,r,n="remote",a)=>{var $;const i="title"in e,o=i?e.title:e.name,l=i?e.release_date:e.first_air_date,c=t.crew.find(S=>S.job==="Director"),f=t.crew.filter(S=>S.job==="Writer"||S.job==="Screenplay"),g=t.cast.slice(0,6),u=e.id,v=i?e.imdb_id:($=e.external_ids)==null?void 0:$.imdb_id,d=i?e.budget:void 0,b=i?e.revenue:void 0,m=u?i?`https://www.themoviedb.org/movie/${u}`:`https://www.themoviedb.org/tv/${u}`:void 0,w=S=>typeof S=="number"&&S>0?S.toLocaleString("fr-FR",{style:"currency",currency:"USD",maximumFractionDigits:0}):null,h=i?void 0:e.created_by,p=i?void 0:e.last_air_date,x=i?[]:e.episode_run_time||[],_=!i&&x.length?Math.round(x.reduce((S,R)=>S+R,0)/x.length):void 0,k=S=>typeof S=="number"&&S>0?`${Math.floor(S/60)}h${(S%60).toString().padStart(2,"0")}`:null,E=S=>n==="remote"?S:n==="embedded"?(a==null?void 0:a.get(S))||S:n==="local"&&(a==null?void 0:a.get(S))||S;return`<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #1e1b4b, #312e81, #3730a3); min-height: 100vh; color: white; }
        .container { max-width: 1200px; margin: 0 auto; background: linear-gradient(135deg, #1f2937, #374151, #1f2937); border-radius: 16px; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .header { position: relative; height: 420px; background-size: cover; }
        .header::before { content: ''; position: absolute; inset: 0; background: linear-gradient(to right, rgba(0,0,0,0.8), rgba(0,0,0,0.4), transparent); }
        .header::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to top, #1f2937, transparent); }
        .header-content { position: absolute; bottom: 0; left: 0; right: 0; padding: 32px; z-index: 10; }
        .header-flex { display: flex; align-items: end; gap: 24px; }
        .poster { width: 192px; height: 288px; border-radius: 12px; object-fit: cover; border: 4px solid rgba(255,255,255,0.2); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .title-info { flex: 1; padding-bottom: 16px; }
        .title { font-size: 48px; font-weight: bold; margin-bottom: 8px; }
        .original-title { font-size: 20px; color: #d1d5db; margin-bottom: 16px; }
        .meta-info { display: flex; align-items: center; gap: 24px; margin-bottom: 16px; }
        .rating { display: flex; align-items: center; color: #fbbf24; }
        .star { width: 20px; height: 20px; fill: currentColor; margin-right: 4px; }
        .genres { display: flex; flex-wrap: wrap; gap: 8px; }
        .genre { padding: 4px 12px; background: rgba(139, 92, 246, 0.3); color: #c4b5fd; border-radius: 9999px; font-size: 14px; border: 1px solid rgba(139, 92, 246, 0.3); }
        .content { padding: 32px; }
        .grid { display: grid; grid-template-columns: 2fr 1fr; gap: 32px; }
        .section { margin-bottom: 32px; }
        .section-title { font-size: 24px; font-weight: bold; margin-bottom: 16px; display: flex; align-items: center; }
        /*.icon { width: 24px; height: 24px; margin-right: 12px; color: #a78bfa; }*/
        .synopsis { font-size: 18px; line-height: 1.75; color: #d1d5db; }
        .tagline { color: #c4b5fd; font-style: italic; font-size: 18px; margin-top: 16px; border-left: 4px solid #8b5cf6; padding-left: 16px; }
        .cast-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .cast-member { background: rgba(31, 41, 55, 0.5); border-radius: 12px; padding: 16px; text-align: center; }
        .cast-photo { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin: 0 auto 12px; background: #374151; }
        .cast-name { font-weight: 600; font-size: 14px; }
        .cast-character { color: #9ca3af; font-size: 12px; margin-top: 4px; }
        .sidebar { display: flex; flex-direction: column; gap: 24px; }
        .icon { width: 24px; height: 24px; margin-right: 12px; color: #8b5cf6; padding: 0.25rem; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
        .info-card { background: rgba(31, 41, 55, 0.5); border-radius: 12px; padding: 0 24px 24px 24px; }
        .info-card h3 { font-size: 20px; font-weight: bold; margin-bottom: 16px; }
        .info-item { margin-bottom: 12px; }
        .info-label { color: #9ca3af; font-size: 14px; }
        .info-value { font-weight: 500; margin-top: 4px;}
        .info-value a { --tw-text-opacity: 1; color: rgb(96 165 250 / var(--tw-text-opacity, 1)); text-decoration: none; }
        .info-value a:hover { --tw-text-opacity: 1; color: rgb(147 197 253 / var(--tw-text-opacity, 1)); text-decoration: none; }
        .studio-item { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; }
        .studio-logo { width: 32px; height: 32px; object-fit: contain; background: white; border-radius: 4px; padding: 2px; }
        .info-note { color: #9ca3af; font-size: 14px; white-space: pre-line; }
        .specs-section { margin-bottom: 16px; }
        .specs-title { font-size: 18px; font-weight: 600; margin-bottom: 8px; }
        .video-title { color: #c4b5fd; }
        .audio-title { color: #86efac; }
        .subtitle-title { color: #fde047; }
        .spec-item { display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 8px; }
        .track { background: rgba(55, 65, 81, 0.5); border-radius: 8px; padding: 12px; margin-bottom: 8px; }
        .track-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
        .track-name { font-weight: 500; font-size: 14px; }
        .track-codec { color: #9ca3af; font-size: 12px; }
        .track-details { display: flex; justify-content: space-between; font-size: 12px; color: #9ca3af; }
        .text-gray-400 { --tw-text-opacity: 1; color: rgb(156 163 175 / var(--tw-text-opacity, 1));}
    </style>
</head>
<body>
    <div class="container">
        <div class="header" style="background-image: url('${E(`https://image.tmdb.org/t/p/w1280${e.backdrop_path}`)}')">
            <div class="header-content">
                <div class="header-flex">
                    <img
                        src="${E(`https://image.tmdb.org/t/p/original${e.poster_path}`)}"
                        alt="${o}"
                        class="poster"
                    />
                    <div class="title-info">
                        <h1 class="title">${o}</h1>
                        ${i&&e.original_title!==o||!i&&e.original_name!==o?`<h2 class="original-title">${i?e.original_title:e.original_name}</h2>`:""}
                        <div class="meta-info">
                            <div class="rating">
                                <svg class="star" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                                <span style="font-size: 18px; font-weight: 600;">${e.vote_average.toFixed(1)}</span>
                                <span style="color: #9ca3af; margin-left: 4px;">(${e.vote_count.toLocaleString()} votes)</span>
                            </div>
                            <div style="color: #d1d5db;"> <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 25 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar w-5 h-5 mr-2"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg> ${new Date(l).getFullYear()}</div>
                            ${i?`<div style="color: #d1d5db;"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 25 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock w-5 h-5 mr-2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> ${Math.floor(e.runtime/60)}h${(e.runtime%60).toString().padStart(2,"0")}</div>`:`<div style="color: #d1d5db;">${e.number_of_seasons} saison${e.number_of_seasons>1?"s":""}</div>`}
                        </div>
                        <div class="genres">
                            ${e.genres.map(S=>`<span class="genre">${S.name}</span>`).join("")}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content">
            <div class="grid">
                <div>
                    ${e.tagline?`
                    <div class="section" style="text-align: center; margin-bottom: 32px;">
                        <p style="color: #c4b5fd; font-style: italic; font-size: 24px; font-weight: 500; line-height: 1.75;">"${e.tagline}"</p>
                    </div>
                    `:""}
                    
                    <div class="section">
                        <h3 class="section-title">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M2 7h20v13H2z"/><path d="M17 2l-5 5-5-5"/></svg>
                             Synopsis
                        </h3>
                        <p class="synopsis">${e.overview||"Aucun synopsis disponible."}</p>
                    </div>
                    
                    ${g.length>0?`
                    <div class="section">
                        <h3 class="section-title">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                            Casting principal
                        </h3>
                        <div class="cast-grid">
                            ${g.map(S=>`
                                <div class="cast-member">
                                    ${S.profile_path?`<img src="${E(`https://image.tmdb.org/t/p/w185${S.profile_path}`)}" alt="${S.name}" class="cast-photo">`:'<div class="cast-photo"></div>'}
                                    <h4 class="cast-name">${S.name}</h4>
                                    <p class="cast-character">${S.character}</p>
                                </div>
                            `).join("")}
                        </div>
                    </div>
                    `:""}
                    ${r&&r.notes?`
                    <div class="section">
                      <h3 class="section-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/></svg>
                        Notes
                      </h3>
                      <p class="info-note">${r.notes}</p>
                    </div>
                    `:""}
                </div>
                
                <div class="sidebar">
                    ${r?`
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                           <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M7 3v18"/><path d="M3 7.5h4"/><path d="M3 12h18"/><path d="M3 16.5h4"/><path d="M17 3v18"/><path d="M17 7.5h4"/><path d="M17 16.5h4"/></svg>
                           Spcifications techniques
                        </h3>
                        
                        <div class="specs-section">
                            <h4 class="specs-title video-title">Vido</h4>
                            <div class="spec-item"><span class="text-gray-400">Qualit : </span><span>${r.video.quality}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Format : </span><span>${r.video.format}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Codec : </span><span>${r.video.codec}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Dbit : </span><span>${bd(r.video.bitrate,r.video.bitrateUnit)} ${r.video.bitrateUnit}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Taille : </span><span>${Dc(r.video.size)}</span></div>
                            ${r.source?`<div class="spec-item"><span class="text-gray-400">Source :</span><span>${r.source}</span></div>`:""}
                            
                        </div>
                        
                        <div class="specs-section">
                            <h4 class="specs-title audio-title">Audio</h4>
                            ${r.audio.map(S=>`
                                <div class="track">
                                    <div class="track-header">
                                        <span class="track-name">${S.language} ${S.isDefault?"(Dfaut)":""}</span>
                                        <span class="track-codec">${S.codec}</span>
                                    </div>
                                    <div class="track-details">
                                        <span>${S.channels}</span>
                                        <span>${bd(S.bitrate,S.bitrateUnit)} ${S.bitrateUnit}</span>
                                    </div>
                                </div>
                            `).join("")}
                        </div>
                        
                        ${r.subtitles.length>0?`
                        <div class="specs-section">
                            <h4 class="specs-title subtitle-title">Sous-titres</h4>
                            ${r.subtitles.map(S=>`
                                <div class="track">
                                    <div class="track-header">
                                        <span class="track-name">${S.language} ${S.isDefault?"(Dfaut)":""} ${S.isForced?"(Forc)":""}</span>
                                        <span class="track-codec">${S.format}</span>
                                    </div>
                                    <div class="track-details">
                                        <span>${S.type==="embedded"?"Intgr":"Externe"}</span>
                                    </div>
                                </div>
                            `).join("")}
                        </div>
                        `:""}
                        <div class="spec-item"><span class="text-gray-400">Nombre de fichiers:</span><span>${r.numberOfFiles||(i?1:e.number_of_episodes||1)}</span></br></div>
                        ${r.releaseGroup?`<div class="spec-item"><span class="text-gray-400">${r.releaseGroup}</span></div>`:""}
                    </div>
                    `:""}
                    
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                            Infos
                        </h3>
                        ${c?`<div class="info-item"><div class="info-label">Ralisateur</div><div class="info-value">${c.name}</div></div>`:""}
                        ${f.length>0?`<div class="info-item"><div class="info-label">Scnariste${f.length>1?"s":""}</div><div class="info-value">${f.map(S=>S.name).join(", ")}</div></div>`:""}
                        ${!i&&h&&h.length?`<div class="info-item"><div class="info-label">Crateurs</div><div class="info-value">${h.map(S=>S.name).join(", ")}</div></div>`:""}
                        <div class="info-item"><div class="info-label">${i?"Date de sortie":"Premire diffusion"}</div><div class="info-value">${new Date(l).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}</div></div>
                        ${!i&&p?`<div class="info-item"><div class="info-label">Dernire diffusion</div><div class="info-value">${new Date(p).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}</div></div>`:""}
                        ${i?`
    <div class="info-item"><div class="info-label">Dure</div><div class="info-value">${Math.floor(e.runtime/60)}h${(e.runtime%60).toString().padStart(2,"0")}</div></div>
  `:`
    <div class="info-item"><div class="info-label">Nombre de saisons</div><div class="info-value">${e.number_of_seasons}</div></div>
    <div class="info-item"><div class="info-label">Nombre d'pisodes</div><div class="info-value">${e.number_of_episodes}</div></div>
    ${_?`<div class="info-item"><div class="info-label">Dure moyenne</div><div class="info-value">${k(_)||_+" min"}</div></div>`:""}
  `}
                        ${i&&w(d)?`<div class="info-item"><div class="info-label">Budget</div><div class="info-value">${w(d)}</div></div>`:""}
                        ${i&&w(b)?`<div class="info-item"><div class="info-label">Recettes</div><div class="info-value">${w(b)}</div></div>`:""}
                        ${v?`<div class="info-item"><div class="info-label">IMDB ID</div><div class="info-value"><a href="https://www.imdb.com/title/${v}/" target="_blank" rel="noopener noreferrer">${v}</a></div></div>`:""}
                        ${u?`<div class="info-item"><div class="info-label">TMDB ID</div><div class="info-value"><a href="${m}" target="_blank" rel="noopener noreferrer">${u}</a></div></div>`:""}
                    </div>
                    
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><circle cx="12" cy="12" r="10"/> <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
                            Production
                        </h3>
                        ${e.production_companies&&e.production_companies.length>0?`
                        <div class="info-item">
                            <div class="info-label">Studios</div>
                            <div class="info-value">
                                ${e.production_companies.slice(0,3).map(S=>`
                                    <div class="studio-item">
                                        ${S.logo_path?`<img src="${E(`https://image.tmdb.org/t/p/w92${S.logo_path}`)}" alt="${S.name}" class="studio-logo">`:""}
                                        <span>${S.name}</span>
                                    </div>
                                `).join("")}
                            </div>
                        </div>
                        `:""}
                        ${e.production_countries&&e.production_countries.length>0?`
                        <div class="info-item">
                            <div class="info-label">Pays</div>
                            <div class="info-value">${e.production_countries.map(S=>S.name).join(", ")}</div>
                        </div>
                        `:""}
                        ${e.spoken_languages&&e.spoken_languages.length>0?`
                        <div class="info-item">
                            <div class="info-label">Langues</div>
                            <div class="info-value">${e.spoken_languages.map(S=>S.name).join(", ")}</div>
                        </div>
                        `:""}
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>`},Pm=async(e,t,r)=>{console.log("Starting HTML export with images...");const a="title"in e?e.title:e.name,i=new ob;i.folder("images");const o=new Map,l=[],c=(d,b)=>{if(!d)return;const m=ub(d,b);l.some(w=>w.url===d)||l.push({url:d,filename:m})};if(e.backdrop_path){const d=`https://image.tmdb.org/t/p/w1280${e.backdrop_path}`;c(d,"backdrop_")}if(e.poster_path){const d=`https://image.tmdb.org/t/p/original${e.poster_path}`;c(d,"poster_")}if(t.cast.slice(0,6).forEach((d,b)=>{if(d.profile_path){const m=`https://image.tmdb.org/t/p/w185${d.profile_path}`;c(m,`actor_${b+1}_`)}}),e.production_companies&&e.production_companies.slice(0,3).forEach((d,b)=>{if(d.logo_path){const m=`https://image.tmdb.org/t/p/w92${d.logo_path}`;c(m,`studio_${b+1}_`)}}),l.length>0){console.log("Testing CORS with first image...");try{if(!(await fetch(l[0].url,{method:"HEAD",mode:"cors"})).ok)throw new Error("Test fetch failed");console.log("CORS test passed, proceeding with download...")}catch(d){return console.log("CORS test failed:",d),{success:!1,error:"CORS_ERROR"}}}try{console.log(`Attempting to download ${l.length} images...`);for(const{url:d,filename:b}of l){console.log(`Downloading image: ${d}`);const m=lb(d),w=await cb(m,b,i);o.set(d,w)}console.log("All images downloaded successfully")}catch(d){return console.error("Error during image download:",d),d instanceof Error&&d.message==="CORS_ERROR"?(console.log("CORS error detected, returning error status"),{success:!1,error:"CORS_ERROR"}):{success:!1,error:"DOWNLOAD_ERROR"}}console.log("Generating HTML with local paths...");const f=$c(e,t,r,"local",o);i.file("index.html",f),console.log("Generating ZIP file...");const g=await i.generateAsync({type:"blob"}),u=URL.createObjectURL(g),v=document.createElement("a");return v.href=u,v.download=`${a.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_complete.zip`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(u),console.log("Export completed successfully"),{success:!0}},Mm=(e,t,r)=>{const n="title"in e,a=n?e.title:e.name,i=n?e.release_date:e.first_air_date;return`# ${a}

${e.poster_path?`![${a}](https://image.tmdb.org/t/p/w500${e.poster_path})`:""}

## Informations gnrales

- **Date de sortie:** ${i||"N/A"}
- **Note TMDB:** ${e.vote_average}/10
${n?`- **Dure:** ${e.runtime} min`:`- **Saisons:** ${e.number_of_seasons}`}
- **Genres:** ${e.genres.map(o=>o.name).join(", ")}

## Synopsis

${e.overview||"Aucun synopsis disponible."}

## Distribution

${t.cast.slice(0,10).map(o=>`- **${o.name}** - ${o.character}`).join(`
`)}

${r?`
## Spcifications Techniques

| Proprit | Valeur |
|-----------|--------|
| Qualit | ${r.video.quality} |
| Format | ${r.video.format} |
| Codec Vido | ${r.video.codec} |
| Taille | ${Dc(r.video.size)} |
| Audio | ${r.audio.map(o=>`${o.language} ${o.codec} ${o.channels}`).join(", ")} |
| Sous-titres | ${r.subtitles.map(o=>`${o.language} (${o.format})`).join(", ")} |
${r.releaseGroup?`| Release | ${r.releaseGroup} |`:""}
| Nb de fichiers | ${r.numberOfFiles||(n?1:e.number_of_episodes||1)} |
${r.notes?`| Notes | ${r.notes} |`:""}
`:""}`},zm=(e,t,r)=>{const n="title"in e,a=n?e.title:e.name,i=n?e.release_date:e.first_air_date;return`${a}
${"=".repeat(a.length)}

INFORMATIONS GNRALES
Date de sortie: ${i||"N/A"}
Note TMDB: ${e.vote_average}/10
${n?`Dure: ${e.runtime} min`:`Saisons: ${e.number_of_seasons}`}
Genres: ${e.genres.map(o=>o.name).join(", ")}

SYNOPSIS
${e.overview||"Aucun synopsis disponible."}

DISTRIBUTION
${t.cast.slice(0,10).map(o=>`${o.name} - ${o.character}`).join(`
`)}

${r?`
SPCIFICATIONS TECHNIQUES
Qualit: ${r.video.quality}
Format: ${r.video.format}
Codec Vido: ${r.video.codec}
Taille: ${Dc(r.video.size)}
Audio: ${r.audio.map(o=>`${o.language} ${o.codec} ${o.channels}`).join(", ")}
Sous-titres: ${r.subtitles.map(o=>`${o.language} (${o.format})`).join(", ")}
${r.releaseGroup?`Release: ${r.releaseGroup}`:""}
Nb de fichiers: ${r.numberOfFiles||(n?1:e.number_of_episodes||1)}
${r.notes?`Notes: ${r.notes}`:""}
`:""}`},Fn=(e,t,r)=>{const n=new Blob([e],{type:r}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)};function db({style:e,title:t,year:r,director:n,actors:a,genres:i,rating:o,runtime:l,quality:c="1080p",format:f="MKV",codec:g="H.264"}){const{t:u}=Ye(),v=d=>{const b=[],m=Math.floor(d),w=d-m>=.5;for(let p=0;p<m;p++)b.push(s.jsx(zn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},p));w&&b.push(s.jsx(zn,{className:"w-3 h-3 fill-yellow-400/50 text-yellow-400"},"half"));const h=5-m-(w?1:0);for(let p=0;p<h;p++)b.push(s.jsx(zn,{className:"w-3 h-3 text-gray-400"},`empty-${p}`));return b};switch(e){case 1:return s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-center text-xs",children:[s.jsx("div",{className:"text-red-400 font-bold text-lg mb-3",children:t}),s.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded mx-auto mb-3 flex items-center justify-center",children:s.jsx(er,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{className:"space-y-1 text-left text-gray-300",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-white font-semibold",children:[u("card.director"),":"]})," ",n]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-white font-semibold",children:[u("card.cast"),":"]})," ",a.slice(0,3).join(", ")]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-white font-semibold",children:[u("card.genres"),":"]})," ",i.slice(0,2).join(", ")]}),s.jsxs("div",{className:"flex items-center",children:[v(o)," ",s.jsx("span",{className:"ml-1",children:o.toFixed(1)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-white font-semibold",children:[u("specs.quality"),":"]})," ",c]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-white font-semibold",children:[u("specs.format"),":"]})," ",f]})]})]});case 2:return s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:[s.jsx("div",{className:"text-white font-bold text-lg mb-2 text-center",children:t}),s.jsxs("div",{className:"text-gray-400 text-center mb-3",children:["(",r,")"]}),s.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded mx-auto mb-3 flex items-center justify-center",children:s.jsx(er,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{className:"space-y-1 text-left text-gray-300",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"text-xs mr-1",children:""}),s.jsxs("span",{className:"text-white font-semibold text-xs",children:[u("card.director"),":"]}),s.jsx("span",{className:"ml-1 text-xs",children:n})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"text-xs mr-1",children:""}),s.jsxs("span",{className:"text-white font-semibold text-xs",children:[u("card.genres"),":"]}),s.jsx("span",{className:"ml-1 text-xs",children:i.slice(0,2).join(", ")})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"text-xs mr-1",children:""}),s.jsxs("span",{className:"text-white font-semibold text-xs",children:[u("card.cast"),":"]})]}),s.jsx("div",{className:"ml-3 space-y-0.5",children:a.slice(0,2).map((d,b)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"text-xs mr-1",children:""}),s.jsx("span",{className:"text-xs",children:d})]},b))})]})]});case 3:return s.jsx("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:s.jsx("div",{className:"border border-gray-700 rounded p-3",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-12 h-18 bg-gray-700 rounded flex items-center justify-center flex-shrink-0",children:s.jsx(er,{className:"w-4 h-4 text-gray-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-white font-bold text-lg",children:[t," ",s.jsxs("span",{className:"text-gray-400 text-sm",children:[" ",r]})]}),s.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:["(US)  ",i.slice(0,2).join(", "),"  ",l]}),s.jsx("div",{className:"border-t border-gray-700 my-2"}),s.jsx("div",{className:"italic text-gray-300 text-xs",children:"Un film  dcouvrir..."}),s.jsx("div",{className:"flex items-center mt-2",children:v(o)}),s.jsxs("div",{className:"mt-3 space-y-1 text-gray-300",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500",children:[u("card.director"),":"]})," ",n]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500",children:[u("card.cast"),":"]})," ",a.slice(0,2).join(", ")]})]})]})]})})});case 4:return s.jsx("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:s.jsxs("div",{className:"border border-gray-700 rounded p-2",children:[s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"w-10 h-14 bg-gray-700 rounded flex items-center justify-center",children:s.jsx(er,{className:"w-3 h-3 text-gray-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-white font-bold text-sm",children:t}),s.jsxs("div",{className:"text-gray-400 text-xs",children:[i.slice(0,2).join(", ")," - ",l]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"TMDB"}),v(o)]}),s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:u("card.director")}),s.jsx("span",{className:"text-white",children:n.split(" ")[0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:u("specs.quality")}),s.jsxs("span",{className:"text-white",children:[c," ",f]})]})]})]})]}),s.jsx("div",{className:"text-center text-gray-500 text-xs mt-2 border-t border-gray-700 pt-1",children:"Filmothque"})]})});default:return null}}function Tc({isOpen:e,onClose:t,bbcode:r,title:n,onStyleChange:a,movieData:i,tvShowData:o,ebookData:l,credits:c}){const{t:f}=Ye(),[g,u]=M.useState(!1),[v,d]=M.useState(1),[b,m]=M.useState(r);if(rt.useEffect(()=>{m(r)},[r]),rt.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const w=async()=>{try{await navigator.clipboard.writeText(b),u(!0),setTimeout(()=>u(!1),2e3)}catch(k){console.error("Erreur lors de la copie:",k)}},h=()=>{const k=new Blob([b],{type:"text/plain"}),E=URL.createObjectURL(k),$=document.createElement("a");$.href=E,$.download=`${n.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_bbcode.txt`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(E)},p=k=>{d(k),a&&a(k)},_=(()=>{if(i&&c){const k=c.crew.find($=>$.job==="Director"),E=c.cast.slice(0,6);return{title:i.title,year:new Date(i.release_date).getFullYear().toString(),director:(k==null?void 0:k.name)||"N/A",actors:E.map($=>$.name),genres:i.genres.map($=>$.name),rating:i.vote_average/2,runtime:i.runtime?`${Math.floor(i.runtime/60)}h${(i.runtime%60).toString().padStart(2,"0")}`:"N/A"}}else if(o&&c){const k=c.crew.filter(S=>S.job==="Creator"||S.job==="Executive Producer"),E=c.cast.slice(0,6),$=o.episode_run_time.length>0?Math.round(o.episode_run_time.reduce((S,R)=>S+R,0)/o.episode_run_time.length):0;return{title:o.name,year:new Date(o.first_air_date).getFullYear().toString(),director:k.slice(0,2).map(S=>S.name).join(", ")||"N/A",actors:E.map(S=>S.name),genres:o.genres.map(S=>S.name),rating:o.vote_average/2,runtime:$>0?`${$} min`:"N/A"}}else if(l){const k=l.volumeInfo.authors||[];return{title:l.volumeInfo.title,year:new Date(l.volumeInfo.publishedDate).getFullYear().toString(),director:k.join(", "),actors:[],genres:l.volumeInfo.categories||[],rating:l.volumeInfo.averageRating||0,runtime:l.volumeInfo.pageCount?`${l.volumeInfo.pageCount} pages`:"N/A"}}return null})();return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full min-h-[90vh] max-h-none shadow-2xl border border-gray-700 flex flex-col mt-20 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ma,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:f("export.title")})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 p-6 overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(ly,{className:"w-5 h-5 text-violet-400 mr-2"}),s.jsx("span",{className:"text-white font-medium",children:f("export.style")})]}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(k=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>p(k),className:`w-full p-3 rounded-lg border-2 transition-all ${v===k?"border-violet-500 bg-violet-500/20 text-white":"border-gray-600 bg-gray-700/50 text-gray-300 hover:border-gray-500"}`,children:[s.jsxs("div",{className:"text-sm font-medium",children:["Style ",k]}),s.jsx("div",{className:"text-xs mt-1 opacity-75",children:f(l?k===1?"export.modal.style.complete":k===2?"export.modal.style.minimalist":"export.modal.style.modern":k===1?"export.modal.style.classic":k===2?"export.modal.style.minimalist":"export.modal.style.modern.emux")})]}),_&&s.jsx("div",{className:`border-2 rounded-lg transition-all ${v===k?"border-violet-500/50":"border-gray-600/30"}`,children:s.jsx(db,{style:k,title:_.title,year:_.year,director:_.director,actors:_.actors,genres:_.genres,rating:_.rating,runtime:_.runtime})})]},k))})]}),s.jsxs("p",{className:"text-gray-300 mb-4",children:[f("export.modal.desc")," ",s.jsx("strong",{children:n}),".",f("export.modal.desc.suffix")]}),s.jsxs("div",{className:"flex space-x-3 mb-4",children:[s.jsxs("button",{onClick:w,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${g?"bg-green-600 text-white":"bg-violet-600 hover:bg-violet-500 text-white"}`,children:[g?s.jsx(Ws,{className:"w-4 h-4"}):s.jsx(wl,{className:"w-4 h-4"}),s.jsx("span",{children:f(g?"nfo.viewer.copied":"export.copy")})]}),s.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsx("span",{children:f("export.download")})]})]})]}),s.jsxs("div",{className:"flex-1 bg-gray-900 rounded-xl border border-gray-600 overflow-hidden",children:[s.jsx("div",{className:"bg-gray-700 px-4 py-2 border-b border-gray-600",children:s.jsx("span",{className:"text-gray-300 text-sm font-medium",children:f("export.modal.generated")})}),s.jsx("textarea",{value:b,onChange:k=>m(k.target.value),className:"w-full h-full p-4 bg-transparent text-gray-300 text-sm font-mono leading-relaxed resize-none border-none outline-none",style:{minHeight:"400px"},placeholder:f("export.modal.placeholder")})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-700",children:s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:s.jsxs("p",{className:"text-blue-300 text-sm",children:[s.jsx("strong",{children:f("export.modal.warning")})," ",f("export.modal.warning.desc")]})})})]})})}function Fm({isOpen:e,onClose:t,onSelect:r,movieId:n,tvShowId:a,currentPoster:i,mediaType:o}){const{t:l}=Ye(),[c,f]=M.useState([]),[g,u]=M.useState(!1),[v,d]=M.useState(i);M.useEffect(()=>{e&&(n||a)&&b()},[e,n,a]);const b=async()=>{u(!0);try{let h;if(o==="movie"&&n?h=await Te.getMovieImages(n):o==="tv"&&a&&(h=await Te.getTVImages(a)),console.log("TMDB Images Response:",h),h&&h.posters){const p=h.posters.sort((x,_)=>{const k=(x.vote_average||0)*(x.vote_count||0),E=(_.vote_average||0)*(_.vote_count||0);return E!==k?E-k:_.height-x.height});f(p),console.log("Sorted Posters:",p)}else console.log("No posters found in response")}catch(h){console.error("Erreur lors du chargement des affiches:",h)}u(!1)},m=()=>{v&&(r(v),t())},w=h=>{d(h)};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-6xl w-full max-h-[90vh] shadow-2xl border border-gray-700 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(an,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:l("poster.choose")})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 p-6 overflow-hidden",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:l("poster.description")}),g?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-500"}),s.jsx("span",{className:"text-white text-lg ml-4",children:l("poster.loading")})]}):s.jsxs("div",{className:"overflow-auto max-h-[60vh]",children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:c.map((h,p)=>s.jsxs("div",{className:`relative cursor-pointer rounded-lg overflow-hidden transition-all duration-200 hover:scale-105 ${v===h.file_path?"ring-4 ring-violet-500 shadow-lg shadow-violet-500/25":"hover:ring-2 hover:ring-gray-400"}`,onClick:()=>w(h.file_path),children:[s.jsx("div",{className:"aspect-[2/3] bg-gray-700",children:s.jsx("img",{src:Te.getImageUrl(h.file_path,"w342"),alt:`Affiche ${p+1}`,className:"w-full h-full object-cover",loading:"lazy"})}),v===h.file_path&&s.jsx("div",{className:"absolute inset-0 bg-violet-500/20 flex items-center justify-center",children:s.jsx("div",{className:"bg-violet-500 rounded-full p-2",children:s.jsx(Ws,{className:"w-6 h-6 text-white"})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:s.jsxs("div",{className:"text-white text-xs",children:[s.jsxs("div",{children:[h.width,"",h.height]}),h.vote_count>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("span",{className:"ml-1",children:h.vote_average.toFixed(1)})]})]})})]},h.file_path))}),c.length===0&&!g&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(an,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:l("poster.none")}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Vrifiez la console pour plus d'informations de dbogage"})]})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-700",children:s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:l("poster.close")}),s.jsx("button",{onClick:m,disabled:!v,className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:l("poster.use")})]})})]})}):null}function Om({isOpen:e,onClose:t,onExportSimple:r,onExportComplete:n,title:a}){const{t:i}=Ye(),[o,l]=M.useState(!1),[c,f]=M.useState(null),[g,u]=M.useState(!1),[v,d]=M.useState(""),[b,m]=M.useState("");if(M.useEffect(()=>(e?(document.body.style.overflow="hidden",u(!1),d(""),m(""),l(!1),f(null)):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),!e)return null;const w=async x=>{l(!0),f(x),u(!1),d(""),console.log(`Starting ${x} export...`);try{if(x==="simple")console.log("Performing simple export..."),r(),l(!1),f(null),t();else{console.log("Performing complete export...");const _=await n();console.log("Export result:",_),(!_||!_.success)&&(console.log("Export failed, showing error modal"),(_==null?void 0:_.error)==="CORS_ERROR"?(d(i("html.export.error.cors")),m(i("html.export.error.cors.details"))):(d(i("html.export.error.generic")),m(i("html.export.error.generic.details").replace("{error}",(_==null?void 0:_.error)||"Erreur inconnue"))),u(!0)),l(!1),f(null),_!=null&&_.success&&(console.log("Export successful, closing modal"),t())}}catch(_){console.error("Erreur lors de l'export:",_),d(i("html.export.error.unexpected")),m(i("html.export.error.unexpected.details").replace("{error}",_ instanceof Error?_.message:"Erreur inconnue")),l(!1),f(null),u(!0)}},h=()=>{u(!1),d(""),m("")},p=g?s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-lg w-full shadow-2xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xv,{className:"w-6 h-6 text-red-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:v})]}),s.jsx("button",{onClick:h,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-red-300 text-sm leading-relaxed whitespace-pre-line",children:b})}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:h,className:"px-6 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:i("html.export.close")}),s.jsx("button",{onClick:()=>{h(),w("simple")},className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:i("html.export.try.simple")})]})]})]})}):null;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(yr,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:i("html.export.title")})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",disabled:o,children:s.jsx(Wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("p",{className:"text-gray-300 mb-6",children:[i("html.export.choose")," ",s.jsx("strong",{children:a})," :"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:()=>w("simple"),disabled:o,className:"w-full p-4 bg-gray-700/50 hover:bg-gray-600/50 disabled:bg-gray-700/30 border border-gray-600 hover:border-gray-500 disabled:border-gray-600 rounded-xl transition-all text-left group",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg group-hover:bg-blue-500/30 transition-colors",children:s.jsx(qn,{className:"w-6 h-6 text-blue-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:i("html.export.simple.title")}),s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:i("html.export.simple.desc")}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Ws,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:i("html.export.simple.check1")})]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[s.jsx(qn,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:i("html.export.simple.check2")})]})]}),o&&c==="simple"&&s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})]})}),s.jsx("button",{onClick:()=>w("complete"),disabled:o,className:"w-full p-4 bg-gray-700/50 hover:bg-gray-600/50 disabled:bg-gray-700/30 border border-gray-600 hover:border-gray-500 disabled:border-gray-600 rounded-xl transition-all text-left group",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg group-hover:bg-green-500/30 transition-colors",children:s.jsx(qs,{className:"w-6 h-6 text-green-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:i("html.export.complete.title")}),s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:i("html.export.complete.desc")}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(an,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:i("html.export.complete.check1")})]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[s.jsx(qs,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:i("html.export.complete.check2")})]})]}),o&&c==="complete"&&s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-500"})]})})]}),o&&s.jsx("div",{className:"mt-6 p-4 bg-violet-500/10 border border-violet-500/30 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-violet-500 mr-3"}),s.jsx("span",{className:"text-violet-300 text-sm",children:i(c==="simple"?"html.export.generating":"html.export.downloading")})]})})]})]})}),p]})}function Bm({nfoContent:e,mediaTitle:t}){const{t:r}=Ye(),[n,a]=M.useState(!1),[i,o]=M.useState(!1),l=()=>{const g=e.match(/Complete name\s*:\s*(.+?)\.(mkv|mp4|avi|m2ts|iso)/i);return g&&g[1]?g[1].trim():t||"media"},c=()=>{navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)},f=()=>{const g=new Blob([e],{type:"text/plain"}),u=URL.createObjectURL(g),v=document.createElement("a");v.href=u,v.download=`${l()}.nfo`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(u)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-600/10 backdrop-blur-sm border border-blue-400/20 rounded-2xl p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:s.jsx(nr,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:r("nfo.viewer.title")}),s.jsx("p",{className:"text-gray-400 text-sm",children:r("nfo.viewer.subtitle")})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-xl text-blue-300 hover:text-blue-200 transition-all",children:[s.jsx(bm,{className:"w-4 h-4"}),s.jsx("span",{children:r("nfo.viewer.show")})]}),s.jsxs("button",{onClick:c,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600/20 hover:bg-green-600/30 border border-green-500/30 rounded-xl text-green-300 hover:text-green-200 transition-all",children:[i?s.jsx(Ws,{className:"w-4 h-4"}):s.jsx(wl,{className:"w-4 h-4"}),s.jsx("span",{children:r(i?"nfo.viewer.copied":"nfo.viewer.copy")})]}),s.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-violet-600/20 hover:bg-violet-600/30 border border-violet-500/30 rounded-xl text-violet-300 hover:text-violet-200 transition-all",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsx("span",{children:r("nfo.viewer.download")})]})]})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[80vh] shadow-2xl border border-gray-700 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nr,{className:"w-6 h-6 text-blue-400"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:r("nfo.viewer.title")})]}),s.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Wt,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:s.jsx("pre",{className:"bg-gray-900 border border-gray-700 rounded-lg p-4 text-gray-300 font-mono text-sm whitespace-pre-wrap break-words",children:e})}),s.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-700",children:[s.jsxs("button",{onClick:c,className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors flex items-center space-x-2",children:[i?s.jsx(Ws,{className:"w-4 h-4"}):s.jsx(wl,{className:"w-4 h-4"}),s.jsx("span",{children:r(i?"nfo.viewer.copied":"nfo.viewer.copy")})]}),s.jsxs("button",{onClick:f,className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsx("span",{children:r("nfo.viewer.download")})]})]})]})})]})}function wd({movie:e,credits:t,torrentSpecs:r,isPreview:n=!1,selectedPoster:a,onPosterChange:i,generatedNFO:o}){const{t:l}=Ye(),[c,f]=rt.useState(!1),[g,u]=rt.useState(1),[v,d]=rt.useState(!1),[b,m]=rt.useState(e.poster_path),[w,h]=rt.useState(null),[p,x]=rt.useState(!1),_=a!==void 0?a:b,k=t.crew.find(P=>P.job==="Director"),E=t.crew.filter(P=>P.job==="Writer"||P.job==="Screenplay"),$=t.cast.slice(0,6),S=P=>{if(!P)return"N/A";const F=Math.floor(P/60),O=P%60;return`${F}h${O.toString().padStart(2,"0")}`},R=P=>P===0?"N/A":P>=1e6?`$${(P/1e6).toFixed(0)}M`:`$${P.toLocaleString()}`,V=()=>{f(!0)},me=()=>{const P=$c(G,t,r);Fn(P,`${e.title}.html`,"text/html")},T=async()=>{try{console.log("MovieCard: Starting complete export...");const P=await Pm(G,t,r);return console.log("MovieCard: Export result:",P),P}catch(P){return console.error("MovieCard: Erreur dans exportHTMLComplete:",P),{success:!1,error:"UNEXPECTED_ERROR"}}},U=()=>{const P=Mm(G,t,r);Fn(P,`${e.title}.md`,"text/markdown")},N=()=>{const P=zm(G,t,r);Fn(P,`${e.title}.txt`,"text/plain")},Z=P=>{u(P)},ve=P=>{i?i(P):m(P)},G={...e,poster_path:_},ee=rb(G,t,r,g,w);return rt.useEffect(()=>{(async()=>{try{const F=await Te.getTrailerUrl(e.id,"movie");h(F)}catch(F){console.error("Erreur lors de la rcupration de la bande-annonce:",F)}})()},[e.id]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"max-w-6xl mx-auto bg-gradient-to-br from-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"relative h-96 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover",style:{backgroundImage:`url(${Te.getBackdropUrl(e.backdrop_path,"w1280")})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 pt-12",children:s.jsxs("div",{className:"flex items-end space-x-6",children:[s.jsx("div",{className:"flex-shrink-0 w-48 h-72 rounded-xl overflow-hidden shadow-2xl border-4 border-white/20",children:s.jsx("img",{src:Te.getImageUrl(_,"w500"),alt:e.title,className:"w-full h-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>!n&&d(!0)})}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:e.title}),e.original_title!==e.title&&s.jsx("h2",{className:"text-xl text-gray-300 mb-4",children:e.original_title}),s.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[s.jsxs("div",{className:"flex items-center text-yellow-400",children:[s.jsx(zn,{className:"w-5 h-5 mr-1 fill-current"}),s.jsx("span",{className:"text-lg font-semibold",children:e.vote_average.toFixed(1)}),s.jsxs("span",{className:"text-gray-400 ml-1",children:["(",e.vote_count.toLocaleString()," ",l("card.votes"),")"]})]}),s.jsxs("div",{className:"flex items-center text-gray-300",children:[s.jsx(es,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:new Date(e.release_date).getFullYear()})]}),s.jsxs("div",{className:"flex items-center text-gray-300",children:[s.jsx(ym,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:S(e.runtime)})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map(P=>s.jsx("span",{className:"px-3 py-1 bg-violet-600/30 text-violet-300 rounded-full text-sm border border-violet-500/30",children:P.name},P.id))})]})]})}),!n&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:l("card.export.actions")}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:l("card.change.poster")})]}),s.jsxs("div",{className:"border-t border-white/10 pt-3",children:[s.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:l("card.export.formats")}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>x(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Ma,{className:"w-3 h-3"}),s.jsx("span",{children:"HTML"})]}),s.jsxs("button",{onClick:U,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(nr,{className:"w-3 h-3"}),s.jsx("span",{children:"MD"})]}),s.jsxs("button",{onClick:N,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Nc,{className:"w-3 h-3"}),s.jsx("span",{children:"TXT"})]}),s.jsxs("button",{onClick:V,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(yr,{className:"w-3 h-3"}),s.jsx("span",{children:"BB"})]})]})]})]})})})]}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_404px] gap-8",children:[s.jsxs("div",{className:"space-y-8",children:[e.tagline&&e.tagline.trim()&&s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-violet-300 italic text-2xl font-medium leading-relaxed",children:['"',e.tagline,'"']})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(Jv,{className:"w-6 h-6 mr-3 text-violet-400"}),l("card.synopsis")]}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:e.overview||"Aucun synopsis disponible."})]}),$.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(on,{className:"w-6 h-6 mr-3 text-violet-400"}),l("card.main.cast")]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:$.map(P=>s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gray-700",children:P.profile_path?s.jsx("img",{src:Te.getImageUrl(P.profile_path,"w185"),alt:P.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(on,{className:"w-8 h-8 text-gray-500"})})}),s.jsx("h4",{className:"text-white font-semibold text-sm",children:P.name}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:P.character})]},P.id))})]}),r&&r.notes&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(jm,{className:"w-6 h-6 mr-3 text-violet-400"}),l("specs.notes")]}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-line",children:r.notes})]})]}),s.jsxs("div",{className:"space-y-6",children:[o&&!n&&s.jsx(Bm,{nfoContent:o,mediaTitle:e.title}),r&&!n&&s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(qs,{className:"w-5 h-5 mr-2"}),l("card.torrent.specs")]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-violet-300 mb-2",children:l("specs.video")}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[l("specs.quality"),":"]}),s.jsx("span",{className:"text-white font-medium",children:r.video.quality})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[l("specs.format"),":"]}),s.jsx("span",{className:"text-white font-medium",children:r.video.format})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[l("specs.codec"),":"]}),s.jsx("span",{className:"text-white font-medium",children:r.video.codec})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[l("specs.bitrate.label"),":"]}),s.jsxs("span",{className:"text-white font-medium",children:[r.video.bitrate," ",r.video.bitrateUnit]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[l("specs.size"),":"]}),s.jsxs("span",{className:"text-white font-medium",children:[r.video.size," GB"]})]}),r.source&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[l("ebook.source"),":"]}),s.jsx("span",{className:"text-white font-medium",children:r.source})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-300 mb-2",children:l("specs.audio")}),s.jsx("div",{className:"space-y-2",children:r.audio.map((P,F)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-white font-medium text-sm",children:[P.language," ",P.isDefault&&`(${l("specs.default")})`]}),s.jsx("span",{className:"text-gray-400 text-xs",children:P.codec})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[s.jsx("span",{children:P.channels}),s.jsxs("span",{children:[P.bitrate," ",P.bitrateUnit]})]})]},P.id))})]}),r.subtitles.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-yellow-300 mb-2",children:l("specs.subtitles")}),s.jsx("div",{className:"space-y-2",children:r.subtitles.map((P,F)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-white font-medium text-sm",children:[P.language," ",P.isDefault&&`(${l("specs.default")})`," ",P.isForced&&`(${l("specs.forced")})`]}),s.jsx("span",{className:"text-gray-400 text-xs",children:P.format})]}),s.jsx("div",{className:"text-xs text-gray-400",children:P.isForced?l("specs.forced"):P.isSDH?"SDH":"Complet"})]},P.id))})]}),r.releaseGroup&&s.jsx("div",{children:s.jsx("div",{className:"flex justify-between mb-2",children:s.jsx("span",{className:"text-gray-400  font-medium text-sm",children:r.releaseGroup})})})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(qn,{className:"w-5 h-5 mr-2"}),l("card.production")]}),s.jsxs("div",{className:"space-y-3",children:[e.production_companies.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:l("card.company")}),s.jsx("div",{className:"mt-2 space-y-2",children:e.production_companies.slice(0,3).map(P=>s.jsxs("div",{className:"flex items-center space-x-2",children:[P.logo_path&&s.jsx("img",{src:Te.getImageUrl(P.logo_path,"w92"),alt:P.name,className:"w-8 h-8 object-contain bg-white rounded p-1"}),s.jsx("span",{className:"text-white text-sm",children:P.name})]},P.id))})]}),e.production_countries.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:l("card.country")}),s.jsx("p",{className:"text-white font-medium",children:e.production_countries.map(P=>P.name).join(", ")})]}),e.spoken_languages.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:l("ebook.language")}),s.jsx("p",{className:"text-white font-medium",children:e.spoken_languages.map(P=>P.name).join(", ")})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(_m,{className:"w-5 h-5 mr-2"}),l("card.technical")]}),s.jsxs("div",{className:"space-y-3",children:[k&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:l("card.director")}),s.jsx("p",{className:"text-white font-medium",children:k.name})]}),E.length>0&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400 text-sm",children:[l("card.writer"),E.length>1?"s":""]}),s.jsx("p",{className:"text-white font-medium",children:E.map(P=>P.name).join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:l("card.release")}),s.jsx("p",{className:"text-white font-medium",children:new Date(e.release_date).toLocaleDateString(l("lang.french")==="Franais"?"fr-FR":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:l("card.runtime")}),s.jsx("p",{className:"text-white font-medium",children:S(e.runtime)})]}),e.budget>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:l("card.budget")}),s.jsx("p",{className:"text-white font-medium",children:R(e.budget)})]}),e.revenue>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:l("card.revenue")}),s.jsx("p",{className:"text-white font-medium",children:R(e.revenue)})]}),e.imdb_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"IMDB ID"}),s.jsx("p",{className:"text-white font-medium",children:s.jsx("a",{href:`https://www.imdb.com/title/${e.imdb_id}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.imdb_id})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"TMDB ID"}),s.jsx("p",{className:"text-white font-medium",children:s.jsx("a",{href:`https://www.themoviedb.org/movie/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.id})})]})]})]})]})]})}),s.jsx("div",{className:"px-8 pb-6",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 pt-4 border-t border-gray-700/50",children:[s.jsx("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"TMDB Logo",className:"w-6 h-6"}),s.jsxs("p",{className:"text-gray-400 text-xs",children:[l("card.data.provided")," ",s.jsx("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"TMDB"})]})]})})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsx(Tc,{isOpen:c,onClose:()=>f(!1),bbcode:ee,title:e.title,onStyleChange:Z,movieData:G,credits:t}),s.jsx(Fm,{isOpen:v,onClose:()=>d(!1),onSelect:ve,movieId:e.id,currentPoster:_,mediaType:"movie"}),s.jsx(Om,{isOpen:p,onClose:()=>x(!1),onExportSimple:me,onExportComplete:T,title:e.title})]})]})}function _d({tvShow:e,credits:t,torrentSpecs:r,isPreview:n=!1,selectedPoster:a,onPosterChange:i,onSeasonSelect:o,generatedNFO:l}){const{t:c}=Ye(),[f,g]=rt.useState(!1),[u,v]=rt.useState(1),[d,b]=rt.useState(!1),[m,w]=rt.useState(e.poster_path),[h,p]=rt.useState(null),[x,_]=rt.useState(!1),k=a!==void 0?a:m,E=t.crew.filter(F=>F.job==="Creator"||F.job==="Executive Producer"),$=t.cast.slice(0,6),S=F=>!F||F.length===0?"N/A":`${Math.round(F.reduce((B,he)=>B+he,0)/F.length)} min`,R=F=>({"Returning Series":{text:"En cours",color:"text-green-400"},Ended:{text:"Termine",color:"text-red-400"},Canceled:{text:"Annule",color:"text-red-400"},"In Production":{text:"En production",color:"text-blue-400"},Planned:{text:"Planifie",color:"text-yellow-400"}})[F]||{text:F,color:"text-gray-400"},V=()=>{g(!0)},me=()=>{const F=$c(G,t,r);Fn(F,`${e.name}.html`,"text/html")},T=async()=>{try{console.log("TVShowCard: Starting complete export...");const F=await Pm(G,t,r);return console.log("TVShowCard: Export result:",F),F}catch(F){return console.error("TVShowCard: Erreur dans exportHTMLComplete:",F),{success:!1,error:"UNEXPECTED_ERROR"}}},U=()=>{const F=Mm(G,t,r);Fn(F,`${e.name}.md`,"text/markdown")},N=()=>{const F=zm(G,t,r);Fn(F,`${e.name}.txt`,"text/plain")},Z=F=>{v(F)},ve=F=>{i?i(F):w(F)},G={...e,poster_path:k},ee=nb(G,t,r,u,h);rt.useEffect(()=>{(async()=>{try{const O=await Te.getTrailerUrl(e.id,"tv");p(O)}catch(O){console.error("Erreur lors de la rcupration de la bande-annonce:",O)}})()},[e.id]);const P=R(e.status);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"max-w-6xl mx-auto bg-gradient-to-br from-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"relative h-96 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover",style:{backgroundImage:`url(${Te.getBackdropUrl(e.backdrop_path,"w1280")})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 pt-12",children:s.jsxs("div",{className:"flex items-end space-x-6",children:[s.jsx("div",{className:"flex-shrink-0 w-48 h-72 rounded-xl overflow-hidden shadow-2xl border-4 border-white/20",children:s.jsx("img",{src:Te.getImageUrl(k,"w500"),alt:e.name,className:"w-full h-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>!n&&b(!0)})}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:e.name}),e.original_name!==e.name&&s.jsx("h2",{className:"text-xl text-gray-300 mb-4",children:e.original_name}),s.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[s.jsxs("div",{className:"flex items-center text-yellow-400",children:[s.jsx(zn,{className:"w-5 h-5 mr-1 fill-current"}),s.jsx("span",{className:"text-lg font-semibold",children:e.vote_average.toFixed(1)}),s.jsxs("span",{className:"text-gray-400 ml-1",children:["(",e.vote_count.toLocaleString()," votes)"]})]}),s.jsxs("div",{className:"flex items-center text-gray-300",children:[s.jsx(es,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:new Date(e.first_air_date).getFullYear()}),e.last_air_date&&e.status==="Ended"&&s.jsxs("span",{children:[" - ",new Date(e.last_air_date).getFullYear()]})]}),s.jsxs("div",{className:"flex items-center text-gray-300",children:[s.jsx(ym,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:S(e.episode_run_time)})]}),s.jsxs("div",{className:`flex items-center ${P.color}`,children:[s.jsx(hr,{className:"w-5 h-5 mr-2"}),s.jsx("span",{children:P.text})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map(F=>s.jsx("span",{className:"px-3 py-1 bg-violet-600/30 text-violet-300 rounded-full text-sm border border-violet-500/30",children:F.name},F.id))})]})]})}),!n&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:c("card.export.actions")}),s.jsxs("button",{onClick:()=>b(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:c("card.change.poster")})]}),s.jsxs("div",{className:"border-t border-white/10 pt-3",children:[s.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:c("card.export.formats")}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>_(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Ma,{className:"w-3 h-3"}),s.jsx("span",{children:"HTML"})]}),s.jsxs("button",{onClick:U,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(nr,{className:"w-3 h-3"}),s.jsx("span",{children:"MD"})]}),s.jsxs("button",{onClick:N,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Nc,{className:"w-3 h-3"}),s.jsx("span",{children:"TXT"})]}),s.jsxs("button",{onClick:V,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(yr,{className:"w-3 h-3"}),s.jsx("span",{children:"BB"})]})]})]})]})})})]}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_404px] gap-8",children:[s.jsxs("div",{className:"space-y-8",children:[e.tagline&&e.tagline.trim()&&s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-violet-300 italic text-2xl font-medium leading-relaxed",children:['"',e.tagline,'"']})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(hr,{className:"w-6 h-6 mr-3 text-violet-400"}),"Synopsis"]}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:e.overview||"Aucun synopsis disponible."})]}),$.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(on,{className:"w-6 h-6 mr-3 text-violet-400"}),"Casting principal"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:$.map(F=>s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gray-700",children:F.profile_path?s.jsx("img",{src:Te.getImageUrl(F.profile_path,"w185"),alt:F.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(on,{className:"w-8 h-8 text-gray-500"})})}),s.jsx("h4",{className:"text-white font-semibold text-sm",children:F.name}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:F.character})]},F.id))})]}),e.seasons&&e.seasons.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["Saisons",n&&o&&s.jsx("span",{className:"text-sm text-violet-400 ml-2 font-normal",children:"(Cliquez pour slectionner)"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.seasons.filter(F=>F.season_number>0).map(F=>s.jsxs("div",{className:`bg-gray-800/50 rounded-xl p-4 flex space-x-4 ${n&&o?"cursor-pointer hover:bg-gray-700/50 hover:border-violet-500 border border-transparent transition-all duration-200":""}`,onClick:()=>n&&o&&o(F.season_number),children:[s.jsx("div",{className:"w-16 h-24 flex-shrink-0 rounded overflow-hidden bg-gray-700",children:F.poster_path?s.jsx("img",{src:Te.getImageUrl(F.poster_path,"w154"),alt:F.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(hr,{className:"w-6 h-6 text-gray-500"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-white font-semibold",children:F.name}),s.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[F.episode_count," pisode",F.episode_count>1?"s":""]}),F.air_date&&s.jsx("p",{className:"text-gray-400 text-sm",children:new Date(F.air_date).getFullYear()})]})]},F.id))})]}),r&&r.notes&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(jm,{className:"w-6 h-6 mr-3 text-violet-400"}),"Notes"]}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-line",children:r.notes})]})]}),s.jsxs("div",{className:"space-y-6",children:[l&&!n&&s.jsx(Bm,{nfoContent:l,mediaTitle:e.name}),r&&!n&&s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(qs,{className:"w-5 h-5 mr-2"}),c("card.torrent.specs")]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-violet-300 mb-2",children:"Vido"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Qualit:"}),s.jsx("span",{className:"text-white font-medium",children:r.video.quality})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Format:"}),s.jsx("span",{className:"text-white font-medium",children:r.video.format})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Codec:"}),s.jsx("span",{className:"text-white font-medium",children:r.video.codec})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Dbit:"}),s.jsxs("span",{className:"text-white font-medium",children:[r.video.bitrate," ",r.video.bitrateUnit]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Taille:"}),s.jsxs("span",{className:"text-white font-medium",children:[r.video.size," GB"]})]}),r.source&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Source:"}),s.jsx("span",{className:"text-white font-medium",children:r.source})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-300 mb-2",children:"Audio"}),s.jsx("div",{className:"space-y-2",children:r.audio.map((F,O)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-white font-medium text-sm",children:[F.language," ",F.isDefault&&"(Dfaut)"]}),s.jsx("span",{className:"text-gray-400 text-xs",children:F.codec})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[s.jsx("span",{children:F.channels}),s.jsxs("span",{children:[F.bitrate," ",F.bitrateUnit]})]})]},F.id))})]}),r.subtitles.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-yellow-300 mb-2",children:"Sous-titres"}),s.jsx("div",{className:"space-y-2",children:r.subtitles.map((F,O)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-white font-medium text-sm",children:[F.language," ",F.isDefault&&"(Dfaut)"," ",F.isForced&&"(Forc)"]}),s.jsx("span",{className:"text-gray-400 text-xs",children:F.format})]}),s.jsx("div",{className:"text-xs text-gray-400",children:F.type==="embedded"?"Intgr":"Externe"})]},F.id))})]}),(r.releaseGroup||r.notes)&&s.jsx("div",{children:r.releaseGroup&&s.jsx("div",{className:"flex justify-between mb-2",children:s.jsx("span",{className:"text-gray-400  font-medium text-sm",children:r.releaseGroup})})})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(_m,{className:"w-5 h-5 mr-2"}),"Informations"]}),s.jsxs("div",{className:"space-y-3",children:[E.length>0&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400 text-sm",children:["Crateur",E.length>1?"s":""]}),s.jsx("p",{className:"text-white font-medium",children:E.slice(0,2).map(F=>F.name).join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Premire diffusion"}),s.jsx("p",{className:"text-white font-medium",children:new Date(e.first_air_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),e.last_air_date&&e.status==="Ended"&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Dernire diffusion"}),s.jsx("p",{className:"text-white font-medium",children:new Date(e.last_air_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Statut"}),s.jsx("p",{className:`font-medium ${P.color}`,children:P.text})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Nombre de saisons"}),s.jsx("p",{className:"text-white font-medium",children:e.number_of_seasons})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Nombre d'pisodes"}),s.jsx("p",{className:"text-white font-medium",children:e.number_of_episodes})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Dure moyenne"}),s.jsx("p",{className:"text-white font-medium",children:S(e.episode_run_time)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"TMDB ID"}),s.jsx("p",{className:"text-white font-medium",children:s.jsx("a",{href:`https://www.themoviedb.org/tv/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.id})})]})]})]}),e.networks.length>0&&s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Diffuseurs"}),s.jsx("div",{className:"space-y-3",children:e.networks.map(F=>s.jsxs("div",{className:"flex items-center space-x-3",children:[F.logo_path&&s.jsx("img",{src:Te.getImageUrl(F.logo_path,"w92"),alt:F.name,className:"w-12 h-8 object-contain bg-white rounded p-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:F.name}),s.jsx("p",{className:"text-gray-400 text-sm",children:F.origin_country})]})]},F.id))})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[s.jsx(qn,{className:"w-5 h-5 mr-2"}),"Production"]}),s.jsxs("div",{className:"space-y-3",children:[e.production_companies.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Studios"}),s.jsx("div",{className:"mt-2 space-y-2",children:e.production_companies.slice(0,3).map(F=>s.jsxs("div",{className:"flex items-center space-x-2",children:[F.logo_path&&s.jsx("img",{src:Te.getImageUrl(F.logo_path,"w92"),alt:F.name,className:"w-8 h-8 object-contain bg-white rounded p-1"}),s.jsx("span",{className:"text-white text-sm",children:F.name})]},F.id))})]}),e.production_countries.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Pays"}),s.jsx("p",{className:"text-white font-medium",children:e.production_countries.map(F=>F.name).join(", ")})]}),e.spoken_languages.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Langues"}),s.jsx("p",{className:"text-white font-medium",children:e.spoken_languages.map(F=>F.name).join(", ")})]})]})]})]})]})}),s.jsx("div",{className:"px-8 pb-6",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 pt-4 border-t border-gray-700/50",children:[s.jsx("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"TMDB Logo",className:"w-6 h-6"}),s.jsxs("p",{className:"text-gray-400 text-xs",children:["Donnes fournies par"," ",s.jsx("a",{href:"https://www.themoviedb.org//",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"TMDB"})]})]})})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsx(Tc,{isOpen:f,onClose:()=>g(!1),bbcode:ee,title:e.name,onStyleChange:Z,tvShowData:G,credits:t}),s.jsx(Fm,{isOpen:d,onClose:()=>b(!1),onSelect:ve,tvShowId:e.id,currentPoster:k,mediaType:"tv"}),s.jsx(Om,{isOpen:x,onClose:()=>_(!1),onExportSimple:me,onExportComplete:T,title:e.name})]})]})}const Nd=["UHD Full BluRay","UHD-Remux","Full BluRay","BluRay-Remux","2160p","1080p/i","720p/i","SD"],jd=["MKV","MP4","AVI","M2TS","ISO","Autre"],kd=["H.264","H.265","x264","x265","HEVC","VC-1","AV1","VP9","VP8","DivX","XviD","XVID","MPEG-2","MPEG-4","Autre"],Cd=["Dolby Digital / AC3","Dolby Digital Plus / E-AC3","Dolby Digital Plus / E-AC3 Atmos","Dolby TrueHD","Dolby TrueHD Atmos","DTS","DTS-ES","DTS-HD HRA","DTS-HD MA","AAC","PCM","FLAC","Opus","Autre"],fb=["Mono","Stro","5.1","5.1.x","6.1","7.1","7.1.x"],hb=["SRT","ASS","SSA","PGS","VobSub","SUP"],Sd=["BluRay","UHD BluRay","WEB","WEBRip","HDTV","DVDRip","BDRip","REMUX","CAM","TS","R5"];function mb({onSave:e,onCancel:t,initialSpecs:r}){var P,F,O,B,he,ue,ce;const{t:n}=Ye(),a=[{code:"fr",name:n("lang.french")},{code:"fr-ad",name:"Franais AD"},{code:"fr-ca",name:n("lang.quebecois")},{code:"en",name:n("lang.english")},{code:"es",name:n("lang.spanish")},{code:"de",name:n("lang.german")},{code:"it",name:n("lang.italian")},{code:"pt",name:n("lang.portuguese")},{code:"ru",name:n("lang.russian")},{code:"ja",name:n("lang.japanese")},{code:"ko",name:n("lang.korean")},{code:"zh",name:n("lang.chinese")},{code:"nl",name:n("lang.dutch")},{code:"sv",name:n("lang.swedish")},{code:"no",name:n("lang.norwegian")},{code:"da",name:n("lang.danish")},{code:"fi",name:n("lang.finnish")},{code:"pl",name:n("lang.polish")},{code:"cs",name:n("lang.czech")},{code:"hu",name:n("lang.hungarian")},{code:"tr",name:n("lang.turkish")},{code:"ar",name:n("lang.arabic")},{code:"he",name:n("lang.hebrew")},{code:"th",name:n("lang.thai")},{code:"vi",name:n("lang.vietnamese")},{code:"hi",name:n("lang.hindi")},{code:"other",name:n("lang.other")}],i=(z,ie)=>{const te=(ie||"").toLowerCase();let Q=(z||"").toLowerCase();if(Q){const _e=Je(Q);if(_e.flag)return{code:_e.code,name:_e.name}}if(te){const _e=Je(te);if(_e.flag)return{code:_e.code,name:_e.name}}if(new Set(a.map(_e=>_e.code)).has(Q)){const _e=Je(Q);return Q==="other"?{code:"other",name:ie||n("lang.other")}:{code:_e.code,name:_e.name}}const le=_e=>{const je=Je(_e);return{code:je.code,name:je.name}};return/\b(french\s*\(ca\)|french ca|vfq|canadian)\b/i.test(ie||"")?le("fr-ca"):/\b(french|franais)\b/i.test(ie||"")?le("fr"):/\b(english|anglais)\b/i.test(ie||"")?le("en"):/\b(german|deutsch|\(de\))\b/i.test(ie||"")?le("de"):/\b(spanish|espaol|\(es\))\b/i.test(ie||"")?le("es"):/\b(portuguese|portugus|\(pt\)|\(br\))\b/i.test(ie||"")?le("pt"):/\b(italian|italiano|\(it\))\b/i.test(ie||"")?le("it"):/\b(finnish|suomi|\(fi\))\b/i.test(ie||"")?le("fi"):/\b(japanese||\(jp\))\b/i.test(ie||"")?le("ja"):/\b(dutch|nederlands|\(nl\))\b/i.test(ie||"")?le("nl"):/\b(polish|polski|\(pl\))\b/i.test(ie||"")?le("pl"):/\b(swedish|svenska|\(se\)|\(sv\))\b/i.test(ie||"")?le("sv"):/\b(hindi|\(in\))\b/i.test(ie||"")?le("hi"):{code:"other",name:ie||n("lang.other")}},l=(z=>{var ie,te,Q,ye,le,_e,je,y,J,K,I,D,L,re;return console.log("convertInitialSpecs received:",z),console.log("specs.video:",z==null?void 0:z.video),console.log("specs.video.quality:",(ie=z==null?void 0:z.video)==null?void 0:ie.quality),z?{video:{quality:((te=z.video)==null?void 0:te.quality)==="1080p"?"1080p/i":((Q=z.video)==null?void 0:Q.quality)==="720p"?"720p/i":((ye=z.video)==null?void 0:ye.quality)==="480p"?"SD":Nd.includes((le=z.video)==null?void 0:le.quality)?(_e=z.video)==null?void 0:_e.quality:((je=z.video)==null?void 0:je.quality)||"1080p/i",format:jd.includes((y=z.video)==null?void 0:y.format)?(J=z.video)==null?void 0:J.format:(K=z.video)!=null&&K.format?"Autre":"MKV",codec:(()=>{var ae,we,se;const Y=((ae=z.video)==null?void 0:ae.codec)||"",W=((we=z.video)==null?void 0:we.writingLibrary)||"",q=((se=z.video)==null?void 0:se.encodingSettings)||"",pe=`${W} ${q}`.toLowerCase();return console.log("Codec detection - Original codec:",Y),console.log("Codec detection - Writing library:",W),console.log("Codec detection - Encoding settings:",q),console.log("Codec detection - Combined info:",pe),pe.includes("x265")?(console.log("Detected x265 in Writing library/Encoding settings"),"x265"):pe.includes("x264")?(console.log("Detected x264 in Writing library/Encoding settings"),"x264"):Y==="MPEG Video"?"MPEG-2":Y==="XVID"||Y==="XviD"?"XVID":kd.includes(Y)?Y:Y?"Autre":"H.264"})(),bitrate:(()=>{var pe,ae;const Y=((pe=z.video)==null?void 0:pe.bitrate)||5;let q=(((ae=z.video)==null?void 0:ae.bitrateUnit)||"Mbps")==="Mbps"?Y*1e3:Y;return q<=9999?q:q/1e3})(),bitrateUnit:(()=>{var pe,ae;const Y=((pe=z.video)==null?void 0:pe.bitrate)||5;return((((ae=z.video)==null?void 0:ae.bitrateUnit)||"Mbps")==="Mbps"?Y*1e3:Y)<=9999?"Kbps":"Mbps"})(),size:((I=z.video)==null?void 0:I.size)||8,duration:(D=z.video)==null?void 0:D.duration},audio:((L=z.audio)==null?void 0:L.map((Y,W)=>({id:Y.id||(W+1).toString(),...(()=>{const q=i(Y.languageCode,Y.language);return{language:q.name,languageCode:q.code}})(),codec:(()=>{const q=Y.codec||"";return console.log(`Processing audio track ${W+1}, original codec:`,q),q.includes("Dolby Digital Plus with Dolby Atmos")?(console.log("Detected Dolby Digital Plus with Dolby Atmos, mapping to Dolby Digital Plus / E-AC3 Atmos"),"Dolby Digital Plus / E-AC3 Atmos"):q.includes("Dolby Digital Plus with Atmos")?(console.log("Detected Dolby Digital Plus with Atmos, mapping to Dolby Digital Plus / E-AC3 Atmos"),"Dolby Digital Plus / E-AC3 Atmos"):q.includes("DTS-HD High Resolution Audio")||q==="DTS-HD HRA"?(console.log("Detected DTS-HD High Resolution Audio, mapping to DTS-HD"),"DTS-HD HRA"):q.includes("MLP FBA 16-ch")?(console.log("Detected MLP FBA 16-ch, mapping to Dolby TrueHD Atmos"),"Dolby TrueHD Atmos"):q.includes("MLP FBA")?(console.log("Detected MLP FBA, mapping to Dolby TrueHD Atmos"),"Dolby TrueHD Atmos"):q.includes("DTS-HD Master Audio")||q==="DTS-HD MA"?"DTS-HD MA":q.includes("Dolby TrueHD with Dolby Atmos")||q.includes("TrueHD Atmos")?"Dolby TrueHD Atmos":q.includes("Dolby TrueHD")||q==="TrueHD"?"Dolby TrueHD":q.includes("DTS-HD High Resolution Audio")||q==="DTS-HD HRA"?"DTS-HD HRA":q.includes("DTS-ES")||q==="DTS-ES"?"DTS-ES":q==="E-AC-3"||q.includes("E-AC-3")?"Dolby Digital Plus / E-AC3":q==="AC-3"||q.includes("AC-3")?"Dolby Digital / AC3":q==="DTS"||q.includes("DTS")?"DTS":q==="AAC"||q.includes("AAC")?"AAC":q==="PCM"||q.includes("PCM")?"PCM":Cd.includes(q)?q:(console.log(`No specific mapping found for codec: ${q}, using default or "Autre"`),q?"Autre":"Dolby Digital Plus / E-AC3")})(),channels:Y.channels||"5.1",bitrate:Y.bitrate||640,bitrateUnit:Y.bitrateUnit||"Kbps",isDefault:Y.isDefault||W===0})))||[],subtitles:((re=z.subtitles)==null?void 0:re.map((Y,W)=>({id:Y.id||(W+1).toString(),...(()=>{const q=i(Y.languageCode,Y.language);return{language:q.name,languageCode:q.code}})(),type:Y.type||"embedded",format:Y.format||"SRT",isForced:Y.isForced===!0,isComplete:Y.isComplete!==!1&&Y.isForced!==!0&&Y.isSDH!==!0?!0:Y.isComplete===!0,isSDH:Y.isSDH===!0,isDefault:Y.isDefault===!0})))||[],source:z.source,releaseGroup:z.releaseGroup,notes:z.notes}:null})(r);console.log("convertedSpecs result:",l);const[c,f]=M.useState({quality:((P=l==null?void 0:l.video)==null?void 0:P.quality)||"1080p/i",format:((F=l==null?void 0:l.video)==null?void 0:F.format)||"MKV",codec:((O=l==null?void 0:l.video)==null?void 0:O.codec)||"H.264",bitrate:((B=l==null?void 0:l.video)==null?void 0:B.bitrate)||2.3,bitrateUnit:((he=l==null?void 0:l.video)==null?void 0:he.bitrateUnit)||"Mbps",size:((ue=l==null?void 0:l.video)==null?void 0:ue.size)||8.5,duration:(ce=l==null?void 0:l.video)==null?void 0:ce.duration}),[g,u]=M.useState(()=>{var ie;return(((ie=l==null?void 0:l.video)==null?void 0:ie.size)||8.5)<1?"MB":"GB"}),[v,d]=M.useState(()=>{var ie;return(((ie=l==null?void 0:l.video)==null?void 0:ie.bitrate)||2.3).toString()}),[b,m]=M.useState(()=>{var te;const z=((te=l==null?void 0:l.video)==null?void 0:te.size)||8.5;return(z<1?"MB":"GB")==="MB"?(z*1e3).toString():z.toString()}),[w,h]=M.useState(()=>l!=null&&l.audio&&l.audio.length>0?l.audio.map(z=>({...z,bitrateUnit:z.bitrateUnit||"Kbps"})):[{id:"1",language:"Franais",languageCode:"fr",codec:"Dolby Digital Plus / E-AC3",channels:"5.1",bitrate:640,bitrateUnit:"Kbps",isDefault:!0}]),[p,x]=M.useState(()=>l!=null&&l.subtitles&&l.subtitles.length>0?l.subtitles.map(z=>({...z,type:z.type,isForced:z.isForced===!0,isComplete:z.isComplete===!0,isSDH:z.isSDH===!0})):[]),[_,k]=M.useState((l==null?void 0:l.releaseGroup)||""),[E,$]=M.useState((r==null?void 0:r.numberOfFiles)||1),[S,R]=M.useState(()=>{var z;if(l!=null&&l.source){const ie={Bluray:"BluRay",BluRay:"BluRay","blu-ray":"BluRay",bluray:"BluRay","UHD BluRay":"UHD BluRay","uhd bluray":"UHD BluRay","4k bluray":"UHD BluRay",WEB:"WEB",WEBRip:"WEBRip","WEB-DL":"WEB",WEBDL:"WEB","web-dl":"WEB",webrip:"WEBRip",web:"WEB",HDTV:"HDTV",DVDRip:"DVDRip",BDRip:"BDRip",REMUX:"REMUX",remux:"REMUX"},te=(l.source||"").toString(),Q=ie[te]||ie[te.toLowerCase()]||te;return Sd.includes(Q)?Q:"WEB"}return((z=l==null?void 0:l.video)==null?void 0:z.format)==="ISO"?"DVDRip":"BluRay"}),[V,me]=M.useState((l==null?void 0:l.notes)||(r==null?void 0:r.notes)||""),T=()=>{const z={id:Date.now().toString(),language:"Anglais",languageCode:"en",codec:"Dolby Digital Plus / E-AC3",channels:"5.1",bitrate:640,bitrateUnit:"Kbps",isDefault:!1};h([...w,z])},U=z=>{w.length>1&&h(w.filter(ie=>ie.id!==z))},N=(z,ie)=>{h(w.map(te=>te.id===z?{...te,...ie}:ie.isDefault===!0&&te.isDefault?{...te,isDefault:!1}:te))},Z=()=>{const z={id:Date.now().toString(),language:"Anglais",languageCode:"en",type:"embedded",format:"SRT",isForced:!1,isComplete:!0,isSDH:!1,isDefault:!1};x([...p,z])},ve=z=>{x(p.filter(ie=>ie.id!==z))},G=(z,ie)=>{x(p.map(te=>te.id===z?{...te,...ie}:ie.isDefault===!0&&te.isDefault?{...te,isDefault:!1}:te))},ee=()=>{e({video:c,audio:w,subtitles:p,releaseGroup:_||void 0,source:S||void 0,notes:V||void 0,numberOfFiles:E})};return s.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800/60 backdrop-blur-sm rounded-2xl p-8 border border-gray-700/50",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors mr-4",children:[s.jsx(vm,{className:"w-4 h-4"}),s.jsx("span",{children:n("specs.back")})]}),s.jsx(qs,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:n("specs.title")})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(uy,{className:"w-5 h-5 mr-2 text-blue-400"}),n("specs.video.title")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.quality")}),s.jsx("select",{value:c.quality,onChange:z=>f({...c,quality:z.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:Nd.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.format")}),s.jsx("select",{value:c.format,onChange:z=>f({...c,format:z.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:jd.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.codec")}),s.jsx("select",{value:c.codec,onChange:z=>f({...c,codec:z.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:kd.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("ebook.source")}),s.jsx("select",{value:S,onChange:z=>R(z.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:Sd.map(z=>s.jsx("option",{value:z,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.bitrate.label")}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:v,onChange:z=>{const ie=z.target.value;if(ie===""||/^[0-9.,\s]*$/.test(ie)){d(ie);const te=ie.replace(/\s/g,"").replace(/,/g,"."),Q=parseFloat(te);!isNaN(Q)&&Q>0&&f({...c,bitrate:Q})}},onBlur:()=>{const z=v.replace(/\s/g,"").replace(/,/g,"."),ie=parseFloat(z);!isNaN(ie)&&ie>0?d(ie.toString()):d(c.bitrate.toString())},className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"}),s.jsxs("select",{value:c.bitrateUnit,onChange:z=>{const ie=z.target.value,te=c.bitrate,Q=c.bitrateUnit;let ye=te;Q==="Mbps"&&ie==="Kbps"?ye=te*1e3:Q==="Kbps"&&ie==="Mbps"&&(ye=te/1e3),f({...c,bitrateUnit:ie,bitrate:ye}),d(ye.toString())},className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-2 py-2 text-white focus:outline-none focus:border-violet-500",children:[s.jsx("option",{value:"Mbps",children:"Mbps"}),s.jsx("option",{value:"Kbps",children:"Kbps"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.size")}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:b,onChange:z=>{const ie=z.target.value;if(ie===""||/^[0-9.,\s]*$/.test(ie)){m(ie);const te=ie.replace(/\s/g,"").replace(/,/g,"."),Q=parseFloat(te);if(!isNaN(Q)&&Q>0){const ye=g==="MB"?Q/1e3:Q;f({...c,size:ye})}}},onBlur:()=>{const z=b.replace(/\s/g,"").replace(/,/g,"."),ie=parseFloat(z);if(!isNaN(ie)&&ie>0)m(ie.toString());else{const te=g==="MB"?c.size*1e3:c.size;m(te.toString())}},className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"}),s.jsxs("select",{value:g,onChange:z=>{const ie=z.target.value,te=c.size;u(ie);const Q=ie==="MB"?te*1e3:te;m(Q.toString())},className:"w-16 bg-gray-700 border border-gray-600 rounded-lg px-2 py-2 text-white focus:outline-none focus:border-violet-500",children:[s.jsx("option",{value:"MB",children:"MB"}),s.jsx("option",{value:"GB",children:"GB"})]})]})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[s.jsx(dy,{className:"w-5 h-5 mr-2 text-green-400"}),n("specs.audio.tracks")]}),s.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[s.jsx(fd,{className:"w-4 h-4"}),s.jsx("span",{children:n("specs.add")})]})]}),s.jsx("div",{className:"space-y-4",children:w.map((z,ie)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"text-white font-medium",children:[n("specs.track.audio")," #",ie+1]}),w.length>1&&s.jsx("button",{onClick:()=>U(z.id),className:"text-red-400 hover:text-red-300 transition-colors",children:s.jsx(ga,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_1fr_auto_auto] lg:grid-cols-[1fr_1fr_auto_auto] gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("ebook.language")}),z.languageCode==="other"?s.jsx("input",{type:"text",value:z.language,onChange:te=>N(z.id,{language:te.target.value,languageCode:"other"}),placeholder:"Nom de la langue",className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"}):s.jsx("select",{value:z.languageCode,onChange:te=>{const Q=te.target.value;if(Q==="other")N(z.id,{language:"",languageCode:"other"});else{const ye=a.find(_e=>_e.code===Q),le=Je(Q);N(z.id,{language:(ye==null?void 0:ye.name)||le.name,languageCode:le.code})}},className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:a.map(te=>s.jsx("option",{value:te.code,children:te.name},te.code))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.codec")}),s.jsx("select",{value:z.codec,onChange:te=>N(z.id,{codec:te.target.value}),className:"w-55 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:Cd.map(te=>s.jsx("option",{value:te,children:te},te))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.channels")}),s.jsx("select",{value:z.channels,onChange:te=>N(z.id,{channels:te.target.value}),className:"w-25 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:fb.map(te=>s.jsx("option",{value:te,children:te},te))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[n("specs.bitrate.label")," (Kbps)"]}),s.jsx("input",{value:z.bitrate,onChange:te=>N(z.id,{bitrate:parseInt(te.target.value)}),className:"w-20 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsx("div",{className:"col-span-full mt-4 flex items-center space-x-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:z.isDefault,onChange:te=>N(z.id,{isDefault:te.target.checked}),className:"mr-2 rounded border-gray-500 bg-gray-600 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:n("specs.track.default")})]})})]})]},z.id))})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[s.jsx(ry,{className:"w-5 h-5 mr-2 text-yellow-400"}),n("specs.subtitles")]}),s.jsxs("button",{onClick:Z,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg transition-colors",children:[s.jsx(fd,{className:"w-4 h-4"}),s.jsx("span",{children:n("specs.add")})]})]}),s.jsx("div",{className:"space-y-4",children:p.map((z,ie)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"text-white font-medium",children:[n("specs.track.subtitle")," #",ie+1]}),s.jsx("button",{onClick:()=>ve(z.id),className:"text-red-400 hover:text-red-300 transition-colors",children:s.jsx(ga,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("ebook.language")}),z.languageCode==="other"?s.jsx("input",{type:"text",value:z.language,onChange:te=>G(z.id,{language:te.target.value,languageCode:"other"}),placeholder:"Nom de la langue",className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"}):s.jsx("select",{value:z.languageCode,onChange:te=>{const Q=te.target.value;if(Q==="other")G(z.id,{language:"",languageCode:"other"});else{const ye=a.find(_e=>_e.code===Q),le=Je(Q);G(z.id,{language:(ye==null?void 0:ye.name)||le.name,languageCode:le.code})}},className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:a.map(te=>s.jsx("option",{value:te.code,children:te.name},te.code))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.format")}),s.jsx("select",{value:z.format,onChange:te=>G(z.id,{format:te.target.value}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:hb.map(te=>s.jsx("option",{value:te,children:te},te))})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:z.isDefault,onChange:te=>G(z.id,{isDefault:te.target.checked}),className:"mr-2 rounded border-gray-500 bg-gray-600 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:n("specs.track.default")})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-gray-300 text-sm",children:[n("specs.type")," :"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`subtitle-type-${z.id}`,checked:z.isForced===!0,onChange:()=>G(z.id,{isForced:!0,isComplete:!1,isSDH:!1}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:n("specs.forced")})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`subtitle-type-${z.id}`,checked:z.isComplete===!0,onChange:()=>G(z.id,{isForced:!1,isComplete:!0,isSDH:!1}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:"Complet"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`subtitle-type-${z.id}`,checked:z.isSDH===!0,onChange:()=>G(z.id,{isForced:!1,isComplete:!1,isSDH:!0}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),s.jsx("span",{className:"text-gray-300 text-sm",children:"SDH"})]})]})]})]},z.id))})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:n("specs.additional")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.release.group")}),s.jsx("input",{type:"text",value:_,onChange:z=>k(z.target.value),placeholder:n("specs.release.placeholder"),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.files.count")}),s.jsx("input",{type:"number",value:E,onChange:z=>$(parseInt(z.target.value)||1),min:"1",className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.notes")}),s.jsx("textarea",{value:V,onChange:z=>me(z.target.value),placeholder:n("specs.notes.placeholder"),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:t,className:"px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:n("nfo.cancel")}),s.jsxs("button",{onClick:ee,className:"flex items-center space-x-2 px-6 py-3 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:[s.jsx(Nm,{className:"w-4 h-4"}),s.jsx("span",{children:n("specs.generate")})]})]})]})]})}function pb({isOpen:e,onClose:t,onSave:r,currentApiKey:n}){const{t:a}=Ye(),[i,o]=M.useState(n),[l,c]=M.useState(!1);if(!e)return null;const f=()=>{r(i),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ay,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:a("api.title")})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:a("api.description")}),s.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/30 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-violet-300 text-sm",children:s.jsx("strong",{children:"Comment obtenir votre cl API :"})}),s.jsxs("ol",{className:"list-decimal list-inside text-violet-200 text-sm mt-2 space-y-1",children:[s.jsxs("li",{children:["Crez un compte sur ",s.jsx("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 hover:underline",children:"TMDB"})]}),s.jsx("li",{children:"Allez dans les paramtres de votre compte"}),s.jsx("li",{children:'Cliquez sur "API"'}),s.jsx("li",{children:"Demandez une cl API (gratuite)"}),s.jsx("li",{children:"Copiez votre cl API v3"})]}),s.jsxs("a",{href:"https://www.themoviedb.org/settings/api",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-violet-400 hover:text-violet-300 text-sm mt-3 transition-colors",children:[a("api.get.key")," ",s.jsx(ma,{className:"w-4 h-4 ml-1"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-300 mb-2",children:a("api.key.label")}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:l?"text":"password",id:"apiKey",value:i,onChange:g=>o(g.target.value),placeholder:a("api.key.placeholder"),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500 pr-12"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:l?s.jsx(iy,{className:"w-5 h-5"}):s.jsx(bm,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:t,className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:a("nfo.cancel")}),s.jsx("button",{onClick:f,disabled:!i.trim(),className:"flex-1 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium py-3 px-4 rounded-lg transition-colors",children:a("api.save")})]})]})})}const gb=()=>{const{language:e,setLanguage:t}=Ye();return s.jsx("button",{onClick:()=>t(e==="fr"?"en":"fr"),className:"group p-2 rounded-lg hover:bg-white/10 transition-colors",title:e==="fr"?"Switch to English":"Passer en franais",children:s.jsx("div",{className:"text-lg transition-transform duration-200 group-hover:scale-110",children:e==="fr"?"":""})})},Ci="fichegen_history",Ed=50,ur={addItem(e){const t=this.getHistory(),r={...e,id:Date.now().toString(),createdAt:Date.now()};t.unshift(r),t.length>Ed&&t.splice(Ed),localStorage.setItem(Ci,JSON.stringify(t))},getHistory(){try{const e=localStorage.getItem(Ci);return e?JSON.parse(e):[]}catch{return[]}},removeItem(e){const t=this.getHistory().filter(r=>r.id!==e);localStorage.setItem(Ci,JSON.stringify(t))},clearHistory(){localStorage.removeItem(Ci)},getItem(e){return this.getHistory().find(t=>t.id===e)||null}};function xb({isOpen:e,onClose:t,onSelectItem:r,currentMode:n}){const{t:a}=Ye(),[i,o]=M.useState([]);M.useEffect(()=>{e&&o(ur.getHistory())},[e]);const l=g=>{ur.removeItem(g),o(ur.getHistory())},c=()=>{ur.clearHistory(),o([])},f=g=>new Date(g).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] shadow-2xl border border-gray-700 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(pa,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:a("history.title")})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[i.length>0&&s.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors text-sm",children:[s.jsx(ga,{className:"w-4 h-4"}),s.jsx("span",{children:a("history.clear.all")})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Wt,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex-1 p-6 overflow-auto",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pa,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:a("history.empty")}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:a("history.empty.description")})]}):s.jsx("div",{className:"space-y-4",children:i.map(g=>n==="movies"&&(g.type==="movie"||g.type==="tv")||n==="books"&&g.type==="book"||n==="nfo"&&g.type==="nfo"?s.jsx("div",{className:"bg-gray-700/50 rounded-xl p-4 hover:bg-gray-700/70 transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0 w-16 h-24 rounded overflow-hidden bg-gray-600",children:g.poster?s.jsx("img",{src:g.type==="book"?g.poster:Te.getImageUrl(g.poster,"w92"),alt:g.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.type==="movie"?s.jsx(er,{className:"w-6 h-6 text-gray-400"}):g.type==="tv"?s.jsx(hr,{className:"w-6 h-6 text-gray-400"}):g.type==="book"?s.jsx(Bt,{className:"w-6 h-6 text-gray-400"}):s.jsx(nr,{className:"w-6 h-6 text-gray-400"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[g.type==="movie"?s.jsx(er,{className:"w-4 h-4 text-emerald-400"}):g.type==="tv"?s.jsx(hr,{className:"w-4 h-4 text-emerald-400"}):g.type==="book"?s.jsx(Bt,{className:"w-4 h-4 text-emerald-400"}):s.jsx(nr,{className:"w-4 h-4 text-emerald-400"}),s.jsx("h3",{className:"text-white font-semibold",children:g.title}),g.type!=="nfo"&&s.jsxs("span",{className:"text-gray-400",children:["(",g.year,")"]})]}),s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(es,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:f(g.createdAt)})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>{r(g),t()},className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-sm font-medium",children:a("history.load")}),s.jsx("button",{onClick:()=>l(g.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:s.jsx(ga,{className:"w-4 h-4"})})]})]})},g.id):null)})})]})}):null}class vb{constructor(){xn(this,"baseUrl","https://www.googleapis.com/books/v1");xn(this,"maxResults",40)}async searchBooks(t,r=0){const n=`${this.baseUrl}/volumes?q=${encodeURIComponent(t)}&startIndex=${r}&maxResults=${this.maxResults}&printType=books&orderBy=relevance`,a=await fetch(n);if(!a.ok)throw new Error(`Google Books API error: ${a.status}`);const i=await a.json();return i.items&&(i.items=i.items.filter(o=>{var l;return(l=o.volumeInfo)==null?void 0:l.title}).map(o=>({...o,volumeInfo:{...o.volumeInfo,imageLinks:o.volumeInfo.imageLinks?{...o.volumeInfo.imageLinks,thumbnail:this.getBestImageUrl(o.volumeInfo.imageLinks)||o.volumeInfo.imageLinks.thumbnail}:void 0}}))),i}async getVolumeDetails(t){var i;const r=`${this.baseUrl}/volumes/${t}`,n=await fetch(r);if(!n.ok)throw new Error(`Google Books API error: ${n.status}`);const a=await n.json();if((i=a.volumeInfo)!=null&&i.imageLinks){const o=this.getBestImageUrl(a.volumeInfo.imageLinks);o&&(a.volumeInfo.imageLinks.thumbnail=o)}return a}getHighQualityImage(t){if(!t)return null;const r=["extraLarge","large","medium","small","thumbnail","smallThumbnail"];for(const n of r)if(t[n])return this.normalizeImageUrl(t[n]);return null}getBestImageUrl(t){const r=["extraLarge","large","medium","small","thumbnail","smallThumbnail"];for(const n of r){const a=t[n];if(a)return this.normalizeImageUrl(a)}return null}normalizeImageUrl(t){let r=t.replace("http://","https://");return r.includes("books.google.com")&&(r=r.replace(/[&?]zoom=\d+/,""),r.includes("&w=")||r.includes("?w=")?r=r.replace(/[&?]w=\d+/,"&w=500"):r+=r.includes("?")?"&w=500":"?w=500",r+="&zoom=0.jpg"),r}extractISBN(t){if(!t)return null;const r=t.find(i=>i.type==="ISBN_13"),n=t.find(i=>i.type==="ISBN_10"),a=t.find(i=>i.type==="OTHER");return(r==null?void 0:r.identifier)||(n==null?void 0:n.identifier)||(a==null?void 0:a.identifier)||null}formatISBN(t){return t?t.filter(r=>r.type==="ISBN_10"||r.type==="ISBN_13").map(r=>r.identifier):[]}}const On=new vb,yb=({onBookSelect:e,onResultSelect:t})=>{const{t:r}=(Ye==null?void 0:Ye())??{t:R=>R},[n,a]=M.useState(""),[i,o]=M.useState([]),[l,c]=M.useState(!1),[f,g]=M.useState(0),[u,v]=M.useState(0),[d,b]=M.useState(!1),[m,w]=M.useState(!1),h=M.useRef(null),p=M.useCallback(async(R,V=0,me=!1)=>{if(!R.trim()){o([]),w(!1),g(0),b(!1);return}c(!0);try{const T=await On.searchBooks(R,V),U=T.items||[];o(N=>me?[...N,...U]:U),g(T.totalItems||0),v(V),b(V+U.length<(T.totalItems||0)),w(!0)}catch(T){console.error("Erreur lors de la recherche:",T),o([]),g(0),b(!1),w(!1)}finally{c(!1)}},[]),x=R=>{a(R),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{p(R)},500)},_=()=>{const R=u+40;p(n,R,!0)},k=R=>{e==null||e(R),t==null||t(R),w(!1),a(""),o([])},E=R=>!R||R.length===0?r("ebook.unknown.author")||"Auteur inconnu":R.length===1?R[0]:R.length===2?`${R[0]} & ${R[1]}`:`${R[0]} ${r("ebook.more",{count:R.length-1})||`+${R.length-1}`}`,$=(R,V)=>R?R.length<=V?R:R.substring(0,V)+"...":"",S=R=>{if(!R)return null;if(On.getHighQualityImage){const V=On.getHighQualityImage(R);if(V)return V}return R.thumbnail||R.smallThumbnail||null};return M.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),s.jsxs("div",{className:"relative w-full max-w-2xl mx-auto search-container",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:s.jsx(km,{className:"w-5 h-5 text-gray-400 group-focus-within:text-emerald-300"})}),s.jsx("input",{type:"text",value:n,onChange:R=>x(R.target.value),placeholder:r("ebook.search.placeholder")||"Rechercher un livre par titre, auteur ou ISBN...",className:"w-full pl-12 pr-10 py-4 text-lg bg-gray-800/60 backdrop-blur-sm border-2 border-gray-700/50 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-emerald-500/70 focus:bg-gray-800/80 transition-all duration-300"}),l&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx(oy,{className:"w-5 h-5 text-emerald-400 animate-spin"})})]}),m&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-md border border-gray-700/50 rounded-2xl shadow-2xl z-50 max-h-[50vh] overflow-y-auto",children:[f>0&&s.jsxs("div",{className:"px-4 py-3 border-b border-gray-700/50 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-emerald-300",children:[s.jsx("strong",{children:f.toLocaleString()})," ",r("ebook.search.results")||"rsultats"]}),s.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Fermer les rsultats",children:s.jsx(ny,{className:"w-4 h-4"})})]}),i.length===0&&!l&&n&&s.jsxs("div",{className:"px-4 py-8 text-center",children:[s.jsx(Bt,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400",children:r("search.no.results")||"Aucun rsultat"})]}),l&&i.length===0&&s.jsxs("div",{className:"px-4 py-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-emerald-500 border-t-transparent mx-auto mb-3"}),s.jsx("p",{className:"text-emerald-300",children:r("ebook.search.loading")||"Chargement..."})]}),i.map(R=>s.jsx("div",{onClick:()=>k(R),className:"px-4 py-4 border-b border-gray-700/30 hover:bg-gray-700/30 cursor-pointer transition-colors group last:border-b-0",children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:S(R.volumeInfo.imageLinks)?s.jsx("img",{src:S(R.volumeInfo.imageLinks),alt:R.volumeInfo.title,className:"w-16 h-24 object-cover rounded-lg shadow-lg group-hover:shadow-xl transition-shadow",loading:"lazy"}):s.jsx("div",{className:"w-16 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 rounded-lg flex items-center justify-center border border-emerald-400/20",children:s.jsx(Bt,{className:"w-6 h-6 text-emerald-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-white font-semibold text-lg leading-tight mb-1 group-hover:text-emerald-300 transition-colors",children:$(R.volumeInfo.title||"",60)}),R.volumeInfo.subtitle&&s.jsx("p",{className:"text-gray-400 text-sm mb-2 leading-tight",children:$(R.volumeInfo.subtitle,80)}),s.jsxs("div",{className:"space-y-1",children:[R.volumeInfo.authors&&s.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[s.jsx(on,{className:"w-3 h-3 mr-2 text-emerald-400 flex-shrink-0"}),s.jsx("span",{children:E(R.volumeInfo.authors)})]}),R.volumeInfo.publishedDate&&s.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[s.jsx(es,{className:"w-3 h-3 mr-2 text-emerald-400 flex-shrink-0"}),s.jsx("span",{children:new Date(R.volumeInfo.publishedDate).getFullYear()})]}),R.volumeInfo.categories&&R.volumeInfo.categories.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[R.volumeInfo.categories.slice(0,2).map((V,me)=>s.jsx("span",{className:"px-2 py-1 bg-emerald-500/10 text-emerald-300 text-xs rounded-full border border-emerald-400/20",children:V},me)),R.volumeInfo.categories.length>2&&s.jsxs("span",{className:"text-gray-400 text-xs px-1 py-1",children:["+",R.volumeInfo.categories.length-2," ",r("ebook.showMore")||"de plus"]})]})]})]})]})},R.id)),d&&!l&&i.length>0&&s.jsx("div",{className:"px-4 py-4 text-center border-t border-gray-700/50",children:s.jsx("button",{onClick:_,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors",children:r("ebook.search.loadMore")||"Charger plus"})}),d&&l&&i.length>0&&s.jsx("div",{className:"px-4 py-4 text-center border-t border-gray-700/50",children:s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-emerald-500 border-t-transparent mx-auto"})})]})]})},jo={Fiction:"Fiction","Literary Fiction":"Fiction littraire","Historical Fiction":"Fiction historique","Science Fiction":"Science-fiction",Fantasy:"Fantasy",Mystery:"Mystre",Thriller:"Thriller",Romance:"Romance",Horror:"Horreur",Adventure:"Aventure",Crime:"Policier",Detective:"Policier",Suspense:"Suspense",Western:"Western","Young Adult Fiction":"Fiction jeune adulte","Children's Fiction":"Fiction pour enfants",Biography:"Biographie",Autobiography:"Autobiographie",Memoir:"Mmoires",History:"Histoire",Philosophy:"Philosophie",Psychology:"Psychologie",Religion:"Religion",Spirituality:"Spiritualit","Self-Help":"Dveloppement personnel",Health:"Sant",Fitness:"Fitness",Cooking:"Cuisine",Travel:"Voyage",Nature:"Nature",Science:"Science",Technology:"Technologie",Medicine:"Mdecine",Law:"Droit",Politics:"Politique",Economics:"conomie",Business:"Business",Management:"Management",Education:"ducation",Art:"Art",Music:"Musique",Photography:"Photographie",Sports:"Sport",Games:"Jeux",Humor:"Humour",Comics:"Bande dessine","Graphic Novels":"Roman graphique",Poetry:"Posie",Drama:"Thtre",Essays:"Essais",Reference:"Rfrence",Dictionary:"Dictionnaire",Encyclopedia:"Encyclopdie",Textbook:"Manuel scolaire","Study Guide":"Guide d'tude","Language Arts":"Arts du langage",Literature:"Littrature",Classics:"Classiques","Computer Science":"Informatique",Programming:"Programmation","Web Development":"Dveloppement web",Database:"Base de donnes",Networking:"Rseaux",Security:"Scurit","Artificial Intelligence":"Intelligence artificielle","Machine Learning":"Apprentissage automatique","Juvenile Fiction":"Fiction jeunesse","Juvenile Nonfiction":"Documentaire jeunesse","Children's Books":"Livres pour enfants","Picture Books":"Albums illustrs","Early Readers":"Premiers lecteurs","True Crime":"Faits divers","Current Events":"Actualits","Social Science":"Sciences sociales",Anthropology:"Anthropologie",Sociology:"Sociologie",Geography:"Gographie","Environmental Science":"Sciences environnementales",Mathematics:"Mathmatiques",Physics:"Physique",Chemistry:"Chimie",Biology:"Biologie",Astronomy:"Astronomie",Geology:"Gologie",Architecture:"Architecture",Design:"Design",Fashion:"Mode",Gardening:"Jardinage",Crafts:"Artisanat",Hobbies:"Loisirs",Pets:"Animaux de compagnie",Family:"Famille",Parenting:"Parentalit",Relationships:"Relations","Personal Growth":"Dveloppement personnel",Meditation:"Mditation",Yoga:"Yoga","Alternative Medicine":"Mdecine alternative",Diet:"Rgime",Nutrition:"Nutrition",Wine:"Vin",Beer:"Bire",Cocktails:"Cocktails"};function xa(e){const t=e.trim();if(jo[t])return jo[t];for(const[r,n]of Object.entries(jo))if(t.toLowerCase().includes(r.toLowerCase())||r.toLowerCase().includes(t.toLowerCase()))return n;return t}const Dd=e=>e?e.split(",").map(t=>{const r=t.trim();return`[url=https://www.sharewood.tv/torrents?tags=${encodeURIComponent(r)}]${r}[/url]`}).join(", "):"";class bb{generateBBCode(t,r=1){return r===1?this.generateBBCodeStyle1(t):r===2?this.generateBBCodeStyle2(t):this.generateBBCodeStyle3(t)}generateBBCodeStyle1(t){var E,$;const{book:r,specs:n,coverImage:a}=t,i=n.title||r.volumeInfo.title||"Titre inconnu",o=n.subtitle||r.volumeInfo.subtitle||"",l=this.formatAuthors(n.authors||r.volumeInfo.authors),c=n.publisher||r.volumeInfo.publisher||"",f=n.publishedDate||r.volumeInfo.publishedDate||"",g=n.year||(f?new Date(f).getFullYear():""),u=this.stripHtml(n.description||r.volumeInfo.description||""),v=n.mainCategory||xa(((E=r.volumeInfo.categories)==null?void 0:E[0])||"")||"",d=n.isbn||this.getISBN(n.industryIdentifiers||r.volumeInfo.industryIdentifiers)||"",b=n.pageCount||r.volumeInfo.pageCount||"",m=r.volumeInfo.infoLink||"",w=n.bookDisplayNumber||(($=r.volumeInfo.seriesInfo)==null?void 0:$.bookDisplayNumber)||"",h=n.edition||"",p=n.source||"",x=n.fileName||"",_=n.notes||"";let k=`[center][b][font=Verdana][color=#3d85c6][size=29]${i}

[/size][size=18](${g})[/size][/color][/font][/b]

[img]${a}[/img][color=#ea9999][i]

[/i][/color][color=#ea9999][i][b][font=Verdana][size=29]
${o}[/size][/font][/b][/i][/color]

[img]https://i.imgur.com/zNnPX3V.png[/img]

[font=Verdana][size=13][b][color=#3d85c6]Auteurs :[/color][/b] [i]${l}[/i]`;return c&&(k+=`
[b][color=#3d85c6]Editeur :[/color][/b] [i]${c}[/i]`),k+=`
[b][color=#3d85c6]Genres :[/color][/b] ${Dd(v)}
[b][color=#3d85c6]Anne :[/color][/b] [i]${g}[/i]`,f&&(k+=`
[b][color=#3d85c6]Date de sortie :[/color][/b] [i]${f}[/i]`),k+=`
[b][color=#3d85c6]Pages :[/color][/b] [i]${b}[/i]`,w&&(k+=`
[b][color=#3d85c6]Tome n  :[/color][/b] [i]${w}[/i]`),h&&(k+=`
[color=#3d85c6][b]dition :[/b] [/color][i]${h}[/i]`),k+=`
[color=#3d85c6][b]ISBN :[/b] [/color][i]${d}[/i]

[size=13][url=${m}][b][color=#1e84cc]Plus d'info  >> Google Book[/color][/b][/url][/size]

[img]https://i.imgur.com/ATVsdeo.png[/img]

[font=Verdana][size=13]${u}[/size][/font]


[img]https://i.imgur.com/Ji92VqD.png[/img]`,p&&(k+=`
[b][color=#3d85c6]Source :[/color][/b] [i]${p}[/i]`),k+=`
[color=#3d85c6][b]Format :[/b] [/color][i]${n.format}[/i]
[b][color=#3d85c6]Qualit :[/color][/b] [i]${n.quality}[/i]

[b][color=#3d85c6]Langue :[/color][/b][i]${(n.language||r.volumeInfo.language).toUpperCase()}[/i]


[img]https://i.imgur.com/ZutFbjb.png[/img]`,x&&(k+=`
[b][color=#3d85c6]Release :[/color][/b] [i]${x}[/i]`),_&&(k+=`
[b][color=#3d85c6]Notes :[/color][/b] [i]${_}[/i]`),k+=`
[b][color=#3d85c6]Taille totale :[/color][/b] ${n.fileSize.value} ${n.fileSize.unit}
[color=#3d85c6][b]Nombre de fichier [/b][/color]: ${n.numberOfFiles||"1"}[/size][/font][/center]`,k}generateBBCodeStyle2(t){var x;const{book:r,specs:n,coverImage:a}=t,i=n.title||r.volumeInfo.title||"Titre inconnu",o=n.subtitle||r.volumeInfo.subtitle||"",l=this.formatAuthors(n.authors||r.volumeInfo.authors),c=n.publisher||r.volumeInfo.publisher||"",f=n.publishedDate||r.volumeInfo.publishedDate||"",g=n.year||(f?new Date(f).getFullYear():""),u=this.stripHtml(n.description||r.volumeInfo.description||""),v=n.isbn||this.getISBN(n.industryIdentifiers||r.volumeInfo.industryIdentifiers)||"",d=n.pageCount||r.volumeInfo.pageCount||"",b=r.volumeInfo.infoLink||"",m=n.bookDisplayNumber||((x=r.volumeInfo.seriesInfo)==null?void 0:x.bookDisplayNumber)||"",w=n.fileName||"",h=n.notes||"";let p=`[center][color=#10b981][size=29][b]${i}[/b][/size][/color]

[color=#10b981][size=29][b]${o}[/b][/size][/color]

[size=10] [/size]

[size=29][b][img]${a}[/img][/b][/size]

[color=#10b981][b][size=16]    [/size][/b][/color]

[size=16][color=#10b981][b]Auteur :[/b] ${l}
[b]Anne :[/b] ${g}`;return m&&(p+=`
[b]Tome n [/b]:  ${m}`),c&&(p+=`
[b]Editeur :[/b] ${c}`),p+=`
[b]Nombres de pages [/b]:  ${d}
[b]ISBN [/b]:  ${v}

[size=13][url=${b}][b][color=#1e84cc]Voir >> [img]https://i.imgur.com/vCfx0LD.png[/img][/color][/b][/url][/size]

[b]Synopsis[/b][b] :[/b] [/color]

${u}

[/size]

[size=16]
[color=#10b981][b]Format :[/b][/color] ${n.format}
[color=#10b981][b]Qualit :[/b][/color] ${n.quality}

[color=#10b981][b]Langue :[/b][/color] ${(n.language||r.volumeInfo.language).toUpperCase()}`,w&&(p+=`
[color=#10b981][b]Nom de la release :[/b][/color] ${w}`),h&&(p+=`

[color=#10b981][b]Notes :[/b][/color] [i]${h}[/i]`),n.numberOfFiles&&(p+=`

[color=#10b981][b]Nombre de fichiers :[/b][/color] ${n.numberOfFiles}`),p+=`
[color=#10b981][b]Poids Total :[/b][/color] ${n.fileSize.value} ${n.fileSize.unit}

[/size]
[/center]`,p}generateBBCodeStyle3(t){var $,S;const{book:r,specs:n,coverImage:a}=t,i=n.title||r.volumeInfo.title||"Titre inconnu",o=n.subtitle||r.volumeInfo.subtitle||"",l=this.formatAuthors(n.authors||r.volumeInfo.authors),c=n.publisher||r.volumeInfo.publisher||"",f=n.publishedDate||r.volumeInfo.publishedDate||"",g=n.year||(r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():""),u=this.stripHtml(n.description||r.volumeInfo.description||""),v=n.mainCategory||xa((($=r.volumeInfo.categories)==null?void 0:$[0])||"")||"",d=n.isbn||this.getISBN(n.industryIdentifiers||r.volumeInfo.industryIdentifiers)||"",b=n.pageCount||r.volumeInfo.pageCount||"",m=r.volumeInfo.infoLink||"",w=n.bookDisplayNumber||((S=r.volumeInfo.seriesInfo)==null?void 0:S.bookDisplayNumber)||"",h=n.edition||"",p=n.source||"",x=n.fileName||"",_=n.notes||"",k=(n.language||r.volumeInfo.language).toUpperCase();let E=`[table][tr][td] [/td][td][table][tr][td][table][tr][td][table][tr][td]
&nbsp; &nbsp; &nbsp; [img width=550]${a}[/img] &nbsp; &nbsp; &nbsp; [/td][td] [/td][/tr][/table][/td][td][table][tr][td]
  [/td][td]   [/td][/tr][/table][/td][td][table][tr][td][table][tr][td][table][tr][td][color=#3d85c6][size=29] ${i}[/size][/color][/td][/tr][tr][td][table][tr][td]  ${g} - ${Dd(v)} - ${b} pages  [/td][td][size=10]   [/size][/td][td] &nbsp; - [url=${m}][img]https://i.imgur.com/vCfx0LD.png[/img][/url] &nbsp; &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][i][color=#c27ba0][size=18][center][b]"${o}"[/b][/center][/size][/color][/i]
[/td][/tr][tr][td] 
[/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Auteurs : &nbsp;[/color][/b] ${l}[/td][/tr][tr][td][b][color=#3d85c6]Editeur : &nbsp;[/color][/b] ${c}[/td][/tr]`;return h&&f?E+=`[tr][td][b][color=#3d85c6]Edition : &nbsp;[/color][/b] ${h}  [b][color=#3d85c6]  Parution : &nbsp;[/color][/b] ${f}[/td][/tr]`:h&&!f?E+=`[tr][td][b][color=#3d85c6]Edition : &nbsp;[/color][/b] ${h}[/td][/tr]`:!h&&f&&(E+=`[tr][td][b][color=#3d85c6]Parution : &nbsp;[/color][/b] ${f}[/td][/tr]`),E+=`[tr][td][b][color=#3d85c6][/color][/b][/td][td] [/td][/tr][/table][/td][/tr][tr][td]  [br] [/br][b][color=#3d85c6]Synopsis &nbsp;[br] [/br] [br] [/br][/color][/b][/td][/tr][tr][td]  &nbsp; ${u}[br] [/br][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Format :  &nbsp;[/color][/b][/td][td]${n.format}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Qualit :  &nbsp;[/right][/color][/b][/td][td]${n.quality}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Tome n : &nbsp;[/color][/b][/td][td]${w}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Source  : &nbsp;[/right][/color][/b][/td][td]&nbsp;${p}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td] [b][color=#3d85c6]Taille totale : &nbsp;[/color][/b][/td][td]${n.fileSize.value} ${n.fileSize.unit}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Nb de fichiers : &nbsp;[/right][/color][/b][/td][td]&nbsp;${n.numberOfFiles||"1"}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6] Langue : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${k}[/size][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][b][color=#3d85c6]ISBN : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${d}[/size][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][/table][/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr]`,x&&(E+=`[tr][td][b][color=#3d85c6]Nom release : &nbsp; [/color][/b] [br] [/br] ${x}[/td][/tr]`),_&&(E+=`[tr][td][b][color=#3d85c6][br] [/br]Notes:  [/color][/b] [br] [/br] ${_}[/td][/tr]`),E+="[/table][/td][/tr][/table]",E}generateHTML(t){var d;const{book:r,specs:n,coverImage:a}=t,i=r.volumeInfo.title||"Titre inconnu",o=this.formatAuthors(r.volumeInfo.authors),l=r.volumeInfo.publisher||"diteur inconnu",c=r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():"Anne inconnue",f=r.volumeInfo.description||"Aucun synopsis disponible.",g=((d=r.volumeInfo.categories)==null?void 0:d.join(", "))||"Non spcifi",u=this.getISBN(r.volumeInfo.industryIdentifiers),v=r.volumeInfo.pageCount||"Non spcifi";return`<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${i} - Fiche eBook</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #ffffff;
            background: linear-gradient(135deg, #064e3b, #065f46, #047857);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(17, 24, 39, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #10b981;
        }
        h1 {
            color: #10b981;
            font-size: 2.5em;
            margin: 0 0 10px 0;
            font-weight: 700;
        }
        .subtitle {
            color: #9ca3af;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        .cover {
            text-align: center;
            margin: 20px 0;
        }
        .cover img {
            max-width: 200px;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        .section {
            margin: 30px 0;
        }
        .section-title {
            color: #059669;
            font-size: 1.5em;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .info-item {
            background: rgba(31, 41, 55, 0.6);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
        .label {
            color: #10b981;
            font-weight: 600;
            margin-bottom: 5px;
        }
        .value {
            color: #f3f4f6;
        }
        .synopsis {
            background: rgba(31, 41, 55, 0.6);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #10b981;
            margin: 20px 0;
        }
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(75, 85, 99, 0.3);
            color: #9ca3af;
            font-size: 0.9em;
        }
        .notes {
            background: rgba(31, 41, 55, 0.6);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #10b981;
            margin: 20px 0;
            font-style: italic;
        }
        @media print {
            body { background: white; color: black; }
            .container { box-shadow: none; background: white; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>${i}</h1>
            ${r.volumeInfo.subtitle?`<div class="subtitle">${r.volumeInfo.subtitle}</div>`:""}
        </div>

        ${a?`<div class="cover"><img src="${a}" alt="${i}"></div>`:""}

        <div class="section">
            <h2 class="section-title"> Informations gnrales</h2>
            <div class="info-grid">
                <div class="info-item">
                    <div class="label">Auteur(s)</div>
                    <div class="value">${o}</div>
                </div>
                <div class="info-item">
                    <div class="label">diteur</div>
                    <div class="value">${l}</div>
                </div>
                <div class="info-item">
                    <div class="label">Anne</div>
                    <div class="value">${c}</div>
                </div>
                <div class="info-item">
                    <div class="label">Pages</div>
                    <div class="value">${v}</div>
                </div>
                <div class="info-item">
                    <div class="label">Langue</div>
                    <div class="value">${(r.volumeInfo.language||n.language).toUpperCase()}</div>
                </div>
                <div class="info-item">
                    <div class="label">Catgories</div>
                    <div class="value">${g}</div>
                </div>
                ${u?`<div class="info-item"><div class="label">ISBN</div><div class="value">${u}</div></div>`:""}
            </div>
        </div>

        <div class="section">
            <h2 class="section-title"> Synopsis</h2>
            <div class="synopsis">${f}</div>
        </div>

        <div class="section">
            <h2 class="section-title"> Spcifications techniques</h2>
            <div class="specs-grid">
${n.fileName?`<div class="info-item"><div class="label">Nom du fichier</div><div class="value">${n.fileName}</div></div>`:""}
                <div class="info-item">
                    <div class="label">Format</div>
                    <div class="value">${n.format}</div>
                </div>
                <div class="info-item">
                    <div class="label">Taille</div>
                    <div class="value">${n.fileSize.value} ${n.fileSize.unit}</div>
                </div>
                <div class="info-item">
                    <div class="label">Qualit</div>
                    <div class="value">${n.quality}</div>
                </div>

${n.source?`<div class="info-item"><div class="label">Source</div><div class="value">${n.source}</div></div>`:""}
                ${n.edition?`<div class="info-item"><div class="label">dition</div><div class="value">${n.edition}</div></div>`:""}
                ${n.numberOfFiles?`<div class="info-item"><div class="label">Nombre de fichiers</div><div class="value">${n.numberOfFiles}</div></div>`:""}
                ${n.uploadedBy?`<div class="info-item"><div class="label">Upload par</div><div class="value">${n.uploadedBy}</div></div>`:""}
            </div>
        </div>

        ${n.notes?`
        <div class="section">
            <h2 class="section-title"> Notes</h2>
            <div class="notes">${n.notes}</div>
        </div>`:""}

        <div class="footer">
            Fiche gnre avec <strong>FicheGen</strong>
        </div>
    </div>
</body>
</html>`}generateMarkdown(t){var d;const{book:r,specs:n,coverImage:a}=t,i=r.volumeInfo.title||"Titre inconnu",o=this.formatAuthors(r.volumeInfo.authors),l=r.volumeInfo.publisher||"diteur inconnu",c=r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():"Anne inconnue",f=this.stripHtml(r.volumeInfo.description||""),g=((d=r.volumeInfo.categories)==null?void 0:d.join(", "))||"Non spcifi",u=this.getISBN(r.volumeInfo.industryIdentifiers),v=r.volumeInfo.pageCount||"Non spcifi";return`# ${i}
${r.volumeInfo.subtitle?`## ${r.volumeInfo.subtitle}`:""}

${a?`![${i}](${a})`:""}

##  Informations gnrales

- **Auteur(s) :** ${o}
- **diteur :** ${l}
- **Anne de publication :** ${c}
- **Pages :** ${v}
- **Langue :** ${(r.volumeInfo.language||n.language).toUpperCase()}
- **Catgories :** ${g}
${u?`- **ISBN :** ${u}`:""}

##  Synopsis

> ${f||"Aucun synopsis disponible."}

##  Spcifications techniques

${n.fileName?`- **Nom du fichier :** ${n.fileName}
`:""}- **Format :** ${n.format}
- **Taille :** ${n.fileSize.value} ${n.fileSize.unit}
- **Qualit :** ${n.quality}
${n.source?`- **Source :** ${n.source}`:""}
${n.edition?`- **dition :** ${n.edition}`:""}
${n.numberOfFiles?`- **Nombre de fichiers :** ${n.numberOfFiles}`:""}
${n.uploadedBy?`- **Upload par :** ${n.uploadedBy}`:""}

${n.notes?`##  Notes

> ${n.notes}`:""}

---
*Fiche gnre avec FicheGen*`}generateText(t){var v;const{book:r,specs:n}=t,a=r.volumeInfo.title||"Titre inconnu",i=this.formatAuthors(r.volumeInfo.authors),o=r.volumeInfo.publisher||"diteur inconnu",l=r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():"Anne inconnue",c=this.stripHtml(r.volumeInfo.description||""),f=((v=r.volumeInfo.categories)==null?void 0:v.join(", "))||"Non spcifi",g=this.getISBN(r.volumeInfo.industryIdentifiers),u=r.volumeInfo.pageCount||"Non spcifi";return`${a.toUpperCase()}
${r.volumeInfo.subtitle?r.volumeInfo.subtitle:""}


INFORMATIONS GNRALES


Auteur(s): ${i}
diteur: ${o}
Anne de publication: ${l}
Pages: ${u}
Langue: ${(r.volumeInfo.language||n.language).toUpperCase()}
Catgories: ${f}
${g?`ISBN: ${g}`:""}


SYNOPSIS


${c||"Aucun synopsis disponible."}


SPCIFICATIONS TECHNIQUES


${n.fileName?`Nom du fichier: ${n.fileName}
`:""}Format: ${n.format}
Taille: ${n.fileSize.value} ${n.fileSize.unit}
Qualit: ${n.quality}
${n.source?`Source: ${n.source}`:""}
${n.edition?`dition: ${n.edition}`:""}
${n.numberOfFiles?`Nombre de fichiers: ${n.numberOfFiles}`:""}
${n.uploadedBy?`Upload par: ${n.uploadedBy}`:""}

${n.notes?`
NOTES


${n.notes}

`:""}
Fiche gnre avec FicheGen
`}formatAuthors(t){return!t||t.length===0?"Auteur inconnu":t.length===1?t[0]:t.length===2?`${t[0]} & ${t[1]}`:t.join(", ")}stripHtml(t){const r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}getISBN(t){if(!t)return null;const r=t.find(i=>i.type==="ISBN_13"),n=t.find(i=>i.type==="ISBN_10"),a=t.find(i=>i.type==="OTHER");return(r==null?void 0:r.identifier)||(n==null?void 0:n.identifier)||(a==null?void 0:a.identifier)||null}}const Si=new bb;function wb({isOpen:e,onClose:t,onCoverChange:r,currentCover:n}){const{t:a}=Ye(),[i,o]=M.useState(""),[l,c]=M.useState(!1);if(!e)return null;const f=u=>{u.preventDefault(),i.trim()&&(r(i.trim()),t(),o(""),c(!1))},g=()=>{t(),o(""),c(!1)};return s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl max-w-md w-full shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[s.jsx(an,{className:"w-5 h-5 mr-2 text-emerald-400"}),a("modal.cover.title")]}),s.jsx("button",{onClick:g,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Wt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[n&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:a("modal.cover.current")}),s.jsx("img",{src:n,alt:"Cover actuelle",className:"w-20 h-28 object-cover rounded-lg mx-auto border border-gray-600",onError:u=>{u.currentTarget.src=getPlaceholderSvg()}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("modal.cover.url")}),s.jsx("input",{type:"url",value:i,onChange:u=>{o(u.target.value),c(!1)},placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",required:!0})]}),i&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:a("modal.cover.preview")}),l?s.jsx("div",{className:"w-20 h-28 bg-gray-800 border border-red-500 rounded-lg mx-auto flex items-center justify-center",children:s.jsx("span",{className:"text-red-400 text-xs text-center px-2",children:a("modal.cover.error")})}):s.jsx("img",{src:i,alt:"Aperu",className:"w-20 h-28 object-cover rounded-lg mx-auto border border-gray-600",onError:()=>c(!0)})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(ma,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-300",children:[s.jsx("p",{className:"font-medium mb-1",children:a("modal.cover.help.title")}),s.jsx("p",{className:"text-blue-300/80",children:a("modal.cover.help.description")})]})]})}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:g,className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:a("modal.cover.cancel")}),s.jsx("button",{type:"submit",disabled:!i.trim()||l,className:"flex-1 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:a("modal.cover.confirm")})]})]})]})})}function $d({book:e,ebookSpecs:t,isPreview:r=!1,selectedCover:n,onCoverChange:a}){var R,V,me,T;const{t:i}=Ye(),[o,l]=M.useState(!1),[c,f]=M.useState(!1),[g,u]=M.useState(!1),v=()=>`data:image/svg+xml;base64,${btoa(`
          <svg width="128" height="192" viewBox="0 0 128 192" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="128" height="192" fill="#374151"/>
                <path d="M32 48h64v8H32v-8zm0 16h64v8H32v-8zm0 16h48v8H32v-8z" fill="#6B7280"/>
                <rect x="48" y="96" width="32" height="32" rx="4" fill="#6B7280"/>
            </svg>

        `)}`,d=()=>{if(n)return n;const U=e.volumeInfo.imageLinks||{};return U.extraLarge||U.large||U.medium||U.small||U.thumbnail||U.smallThumbnail||v()},[b,m]=M.useState(1),w={book:e,specs:t,coverImage:d()},h=t?Si.generateBBCode(w,b):"",p=U=>{m(U)},x=e.volumeInfo.authors||[];x.length>3&&x.slice(0,3),x.length>3;const _=((V=(R=e.volumeInfo.industryIdentifiers)==null?void 0:R.find(U=>U.type==="ISBN_13"))==null?void 0:V.identifier)||((T=(me=e.volumeInfo.industryIdentifiers)==null?void 0:me.find(U=>U.type==="ISBN_10"))==null?void 0:T.identifier)||"",k=e.volumeInfo.description||"",E=k.length>300?k.slice(0,300)+"...":k,$=U=>`${U.fileSize.value} ${U.fileSize.unit}`,S=U=>{if(!t)return;const N={book:e,specs:t,coverImage:d()};let Z="",ve=`${e.volumeInfo.title.replace(/[^a-z0-9]/gi,"_")}`,G="text/plain";switch(U){case"html":Z=Si.generateHTML(N),ve+=".html",G="text/html";break;case"markdown":Z=Si.generateMarkdown(N),ve+=".md",G="text/markdown";break;case"text":Z=Si.generateText(N),ve+=".txt",G="text/plain";break}const ee=new Blob([Z],{type:G}),P=URL.createObjectURL(ee),F=document.createElement("a");F.href=P,F.download=ve,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(P)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-md border border-gray-700/50 rounded-2xl overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-600/20 to-teal-600/20 p-6 border-b border-gray-700/50",children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:d(),alt:e.volumeInfo.title,className:"w-32 h-48 object-cover rounded-lg border border-gray-600/50 shadow-lg group-hover:scale-105 transition-transform duration-300",onError:U=>{U.currentTarget.src=v()}}),a&&!r&&s.jsx("button",{onClick:()=>u(!0),className:"absolute inset-0 bg-black/60 backdrop-blur-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium px-3 py-1 bg-emerald-600 rounded-md",children:i("card.change.poster")})})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2 leading-tight",children:(t==null?void 0:t.title)||e.volumeInfo.title}),((t==null?void 0:t.subtitle)||e.volumeInfo.subtitle)&&s.jsx("h3",{className:"text-xl text-gray-300 mb-3",children:(t==null?void 0:t.subtitle)||e.volumeInfo.subtitle}),((t==null?void 0:t.authors)||x).length>0&&s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(on,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),s.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[((t==null?void 0:t.authors)||x).slice(0,3).map((U,N)=>s.jsxs("span",{className:"text-emerald-400 font-medium",children:[U,N<Math.min(3,((t==null?void 0:t.authors)||x).length)-1&&", "]},N)),((t==null?void 0:t.authors)||x).length>3&&s.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["+",((t==null?void 0:t.authors)||x).length-3," ",i("ebook.more")]})]})]}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.volumeInfo.averageRating!==void 0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zn,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsxs("span",{className:"text-white font-medium",children:[e.volumeInfo.averageRating,"/5"]}),e.volumeInfo.ratingsCount&&s.jsxs("span",{className:"text-gray-400 text-sm",children:["(",e.volumeInfo.ratingsCount," ",i("ebook.ratings"),")"]})]}),e.volumeInfo.seriesInfo&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bl,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:e.volumeInfo.seriesInfo.bookDisplayNumber})]}),e.volumeInfo.infoLink&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ma,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),s.jsx("a",{href:`https://books.google.fr/books?id=${e.id}&printsec=frontcover&hl=fr&source=gbs_ge_summary_r&cad=0`,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 truncate",children:"Google Book"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[((t==null?void 0:t.year)||(t==null?void 0:t.publishedDate)||e.volumeInfo.publishedDate)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:(t==null?void 0:t.year)||(t!=null&&t.publishedDate?new Date(t.publishedDate).getFullYear():new Date(e.volumeInfo.publishedDate).getFullYear())})]}),((t==null?void 0:t.publisher)||e.volumeInfo.publisher)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ty,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300 truncate",children:(t==null?void 0:t.publisher)||e.volumeInfo.publisher})]}),((t==null?void 0:t.pageCount)||e.volumeInfo.pageCount)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bl,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-300",children:[(t==null?void 0:t.pageCount)||e.volumeInfo.pageCount," pages"]})]}),((t==null?void 0:t.language)||e.volumeInfo.language)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qn,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300",children:((t==null?void 0:t.language)||e.volumeInfo.language).toUpperCase()})]})]}),_&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(wm,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-300",children:["ISBN: ",_]})]})]})]}),!r&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:i("card.export.actions")}),s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{children:i("card.change.poster")})]}),s.jsxs("div",{className:"border-t border-white/10 pt-3",children:[s.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:i("card.export.formats")}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>S("html"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Ma,{className:"w-3 h-3"}),s.jsx("span",{children:"HTML"})]}),s.jsxs("button",{onClick:()=>S("markdown"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(nr,{className:"w-3 h-3"}),s.jsx("span",{children:"MD"})]}),s.jsxs("button",{onClick:()=>S("text"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(Nc,{className:"w-3 h-3"}),s.jsx("span",{children:"TXT"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[s.jsx(yr,{className:"w-3 h-3"}),s.jsx("span",{children:"BB"})]})]})]})]})})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[k&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center",children:[s.jsx(Bt,{className:"w-5 h-5 mr-2 text-emerald-400"}),i("card.synopsis")]}),s.jsxs("div",{className:"bg-gray-800/60 border border-gray-700/50 rounded-xl p-4",children:[s.jsx("div",{className:`text-gray-300 leading-relaxed ${!o&&k.length>300?"line-clamp-4":""}`,dangerouslySetInnerHTML:{__html:o?k:E}}),k.length>300&&s.jsx("button",{onClick:()=>l(!o),className:"text-emerald-400 hover:text-emerald-300 text-sm font-medium mt-2 transition-colors",children:i(o?"ebook.showLess":"ebook.showMore")})]})]}),e.volumeInfo.categories&&e.volumeInfo.categories.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[s.jsx(_l,{className:"w-5 h-5 mr-2 text-emerald-400"}),i("ebook.categories")]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.volumeInfo.categories.map((U,N)=>s.jsx("span",{className:"px-3 py-1 bg-emerald-600/20 text-emerald-300 rounded-full text-sm border border-emerald-600/30",children:xa(U)},N))})]}),t&&!r&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-6 items-start",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[s.jsx(yr,{className:"w-5 h-5 mr-2 text-emerald-400"}),i("ebook.technical.specs")]}),s.jsxs("div",{className:"bg-gray-800/60 border border-gray-700/50 rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[i("ebook.format")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.format})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[i("ebook.quality")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.quality})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[i("ebook.size")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:$(t)})]}),t.year&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Anne :"}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.year})]}),t.edition&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"dition :"}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.edition})]}),t.numberOfFiles&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Nb fichiers :"}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.numberOfFiles})]}),t.fileName&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Nom fichier :"}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.fileName})]}),t.source&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[i("ebook.source")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.source})]}),(t.language||e.volumeInfo.language)&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-400",children:[i("ebook.language")," :"]}),s.jsx("span",{className:"text-white ml-2 font-medium",children:t.language||e.volumeInfo.language})]})]}),t.notes&&s.jsxs("div",{className:"pt-3 border-t border-gray-700/30",children:[s.jsxs("span",{className:"text-gray-400",children:[i("ebook.notes")," :"]}),s.jsx("p",{className:"text-white mt-1 text-sm",children:t.notes})]})]})]})}),s.jsxs("div",{className:"text-center pt-4 border-t border-gray-700/30",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-400",children:[s.jsx("span",{children:i("card.data.provided")}),s.jsxs("a",{href:e.volumeInfo.canonicalVolumeLink||`https://books.google.com/books?id=${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-emerald-400 hover:text-emerald-300 transition-colors",children:[s.jsx("span",{children:"Google Books"}),s.jsx(ma,{className:"w-3 h-3"})]})]}),_&&s.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["ISBN: ",_]})]})]})]}),s.jsx(Tc,{isOpen:c,onClose:()=>f(!1),bbcode:h,title:e.volumeInfo.title,ebookData:e,onStyleChange:p}),s.jsx(wb,{isOpen:g,onClose:()=>u(!1),onCoverChange:U=>{a&&a(U),u(!1)},currentCover:d()})]})}const Td=["ePUB","CBR","CBZ","PDF","MOBI","AZW3","FB2","TXT","DJVU","Autre"],Id=["MP3","FLAC","Autre"],Ad=["Original","3200x4307","2560x3361","2100 x 2700","1650x2169","1622x2200","1325x1721","760 x 1060","Autre"],Rd=["320 kbps","160 kbps","128 kbps","64 kbps","Autre"],_b=["Ko","Mo","Go"];function Nb({onSave:e,onCancel:t,initialSpecs:r,bookData:n}){var g;const{t:a}=Ye(),[i,o]=M.useState(()=>{var v,d,b,m;const u={isAudiobook:(r==null?void 0:r.isAudiobook)||!1,fileName:(r==null?void 0:r.fileName)||"",fileSize:(r==null?void 0:r.fileSize)||{value:1,unit:"Mo"},format:(r==null?void 0:r.format)||"ePub",quality:(r==null?void 0:r.quality)||"Original",source:(r==null?void 0:r.source)||"",edition:(r==null?void 0:r.edition)||void 0,language:(r==null?void 0:r.language)||"fr",notes:(r==null?void 0:r.notes)||void 0,publisher:(r==null?void 0:r.publisher)||void 0,year:(r==null?void 0:r.year)||new Date().getFullYear(),isbn:(r==null?void 0:r.isbn)||void 0,title:r==null?void 0:r.title,subtitle:r==null?void 0:r.subtitle,authors:r==null?void 0:r.authors,pageCount:r==null?void 0:r.pageCount,description:r==null?void 0:r.description,mainCategory:r==null?void 0:r.mainCategory,bookDisplayNumber:r==null?void 0:r.bookDisplayNumber,numberOfFiles:r==null?void 0:r.numberOfFiles};if(n!=null&&n.volumeInfo){const{volumeInfo:w}=n;if(u.title=w.title,u.subtitle=w.subtitle,u.authors=w.authors,u.publisher=w.publisher,u.publishedDate=w.publishedDate,w.publishedDate&&(u.year=new Date(w.publishedDate).getFullYear()),u.description=w.description,w.industryIdentifiers){u.industryIdentifiers=w.industryIdentifiers.map(x=>({type:x.type,identifier:x.identifier}));const h=(v=w.industryIdentifiers.find(x=>x.type==="ISBN_13"))==null?void 0:v.identifier,p=(d=w.industryIdentifiers.find(x=>x.type==="ISBN_10"))==null?void 0:d.identifier;u.isbn=h||p||((b=w.industryIdentifiers[0])==null?void 0:b.identifier)}u.pageCount=w.pageCount,u.language=w.language||"fr",w.categories&&w.categories.length>0&&(u.mainCategory=xa(w.categories[0])),(m=w.seriesInfo)!=null&&m.bookDisplayNumber&&(u.bookDisplayNumber=w.seriesInfo.bookDisplayNumber)}return u});M.useEffect(()=>{r&&o(u=>({...u,...r,fileSize:r.fileSize||u.fileSize}))},[r]),M.useEffect(()=>{o(u=>{if(u.isAudiobook){const v=Id.includes(u.format)?u.format:"MP3",d=Rd.includes(u.quality)?u.quality:"320 kbps";return{...u,format:v,quality:d}}else{const v=Td.includes(u.format)?u.format:"ePub",d=Ad.includes(u.quality)?u.quality:"Original";return{...u,format:v,quality:d}}})},[i.isAudiobook]);const l=(u,v)=>{o(d=>({...d,[u]:v}))},c=(u,v)=>{o(d=>({...d,fileSize:{...d.fileSize,[u]:v}}))},f=u=>{var v,d,b,m,w,h;u.preventDefault(),e({...i,fileName:((v=i.fileName)==null?void 0:v.trim())||"",source:((d=i.source)==null?void 0:d.trim())||"",edition:((b=i.edition)==null?void 0:b.trim())||void 0,notes:((m=i.notes)==null?void 0:m.trim())||void 0,publisher:((w=i.publisher)==null?void 0:w.trim())||void 0,isbn:((h=i.isbn)==null?void 0:h.trim())||void 0})};return s.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800/60 backdrop-blur-sm rounded-2xl p-8 border border-gray-700/50",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors mr-4",children:[s.jsx(vm,{className:"w-4 h-4"}),s.jsx("span",{children:a("specs.back")})]}),s.jsx(Bt,{className:"w-6 h-6 text-violet-400 mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:a("ebook.specs.title")})]})}),s.jsxs("form",{onSubmit:f,className:"space-y-8",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(nr,{className:"w-5 h-5 mr-2 text-blue-400"}),"Informations sur le fichier"]}),s.jsxs("div",{className:"mb-6 flex items-center justify-end space-x-3",children:[s.jsx("span",{className:"text-white font-medium",children:"Livre audio"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.isAudiobook,onChange:u=>l("isAudiobook",u.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.filename")}),s.jsx("input",{type:"text",value:i.fileName,onChange:u=>l("fileName",u.target.value),placeholder:"MonLivre.epub",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.size")}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"number",value:i.fileSize.value,onChange:u=>c("value",parseFloat(u.target.value)||0),min:"0",step:"0.1",className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"}),s.jsx("select",{value:i.fileSize.unit,onChange:u=>c("unit",u.target.value),className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-2 py-2 text-white focus:outline-none focus:border-violet-500",children:_b.map(u=>s.jsx("option",{value:u,children:u},u))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.format")}),s.jsx("select",{value:i.format,onChange:u=>l("format",u.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:i.isAudiobook?Id.map(u=>s.jsx("option",{value:u,children:u},u)):Td.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.quality")}),s.jsx("select",{value:i.quality,onChange:u=>l("quality",u.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:i.isAudiobook?Rd.map(u=>s.jsx("option",{value:u,children:u},u)):Ad.map(u=>s.jsx("option",{value:u,children:u},u))})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(bl,{className:"w-5 h-5 mr-2 text-green-400"}),"Mtadonnes du livre"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Titre"}),s.jsx("input",{type:"text",value:i.title||"",onChange:u=>l("title",u.target.value),placeholder:"Titre du livre",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sous-titre"}),s.jsx("input",{type:"text",value:i.subtitle||"",onChange:u=>l("subtitle",u.target.value),placeholder:"Sous-titre (optionnel)",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[s.jsx(on,{className:"w-4 h-4"}),s.jsx("span",{children:"Auteurs"})]}),s.jsx("input",{type:"text",value:((g=i.authors)==null?void 0:g.join(", "))||"",onChange:u=>l("authors",u.target.value.split(",").map(v=>v.trim())),placeholder:"Spars par des virgules",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.publisher")}),s.jsx("input",{type:"text",value:i.publisher||"",onChange:u=>l("publisher",u.target.value),placeholder:"Nom de l'diteur",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[s.jsx(es,{className:"w-4 h-4"}),s.jsx("span",{children:a("ebook.year")})]}),s.jsx("input",{type:"number",value:i.year||"",onChange:u=>l("year",u.target.value?parseInt(u.target.value):void 0),placeholder:"2023",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ISBN"}),s.jsx("input",{type:"text",value:i.isbn||"",onChange:u=>l("isbn",u.target.value),placeholder:"978-2-123456-78-9",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Numro du tome"}),s.jsx("input",{type:"text",value:i.bookDisplayNumber||"",onChange:u=>l("bookDisplayNumber",u.target.value),placeholder:"Tome 1, Volume 2...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.edition")}),s.jsx("input",{type:"text",value:i.edition||"",onChange:u=>l("edition",u.target.value),placeholder:"dition spciale, rvise...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(qn,{className:"w-4 h-4 inline-block mr-1"}),a("ebook.language")]}),s.jsx("input",{type:"text",value:i.language,onChange:u=>l("language",u.target.value),placeholder:"fr, en, es...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[s.jsx(wm,{className:"w-4 h-4"}),s.jsx("span",{children:"Pages"})]}),s.jsx("input",{type:"number",value:i.pageCount||"",onChange:u=>l("pageCount",u.target.value?parseInt(u.target.value):void 0),placeholder:"Nombre de pages",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[s.jsx(_l,{className:"w-4 h-4"}),s.jsx("span",{children:"Catgorie principale"})]}),s.jsx("input",{type:"text",value:i.mainCategory||"",onChange:u=>l("mainCategory",u.target.value),placeholder:"Genre, catgorie...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date de publication"}),s.jsx("input",{type:"text",value:i.publishedDate||"",onChange:u=>l("publishedDate",u.target.value),placeholder:"YYYY-MM-DD ou YYYY",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(ey,{className:"w-4 h-4 inline-block mr-1"}),"Description"]}),s.jsx("textarea",{value:i.description||"",onChange:u=>l("description",u.target.value),placeholder:"Rsum ou description du livre",rows:5,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(_l,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Informations de la release"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.source")}),s.jsx("input",{type:"text",value:i.source||"",onChange:u=>l("source",u.target.value),placeholder:"Source du fichier",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre de fichiers"}),s.jsx("input",{type:"number",value:i.numberOfFiles||"",onChange:u=>l("numberOfFiles",u.target.value?parseInt(u.target.value):void 0),placeholder:"1",min:"1",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(cy,{className:"w-4 h-4 inline-block mr-1"}),a("specs.notes")]}),s.jsx("textarea",{value:i.notes||"",onChange:u=>l("notes",u.target.value),placeholder:a("specs.notes.placeholder"),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:a("ebook.cancel")}),s.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:[s.jsx(Nm,{className:"w-4 h-4"}),s.jsx("span",{children:a("ebook.generate.sheet")})]})]})]})]})}function jb({generatedNFO:e}={}){const{t}=Ye(),[r,n]=M.useState(!1),[a,i]=M.useState(!1),[o,l]=M.useState(e||null),[c,f]=M.useState(null);rt.useEffect(()=>{if(e!==void 0&&(l(e),e)){const _=ur.getHistory().find(k=>k.type==="nfo"&&k.generatedNFO===e);_!=null&&_.fileName&&f(_.fileName)}},[e]);const g=M.useRef(null),u=x=>{x.preventDefault(),n(!0)},v=x=>{x.preventDefault(),n(!1)},d=async x=>{x.preventDefault(),n(!1);const k=Array.from(x.dataTransfer.files)[0];k&&(k.type.startsWith("video/")||k.name.match(/\.(mkv|avi|mp4|mov|wmv|flv|webm|m4v|3gp|ogv|iso|ts|m2ts)$/i))&&await m(k)},b=async x=>{var k;const _=(k=x.target.files)==null?void 0:k[0];_&&await m(_),x.target.value=""},m=async x=>{i(!0),f(x.name);try{const _=await Sm.analyzeFile(x);l(_),ur.addItem({type:"nfo",title:x.name,year:new Date().getFullYear(),poster:null,generatedNFO:_,fileName:x.name})}catch(_){console.error("Erreur lors de la gnration du NFO:",_),alert(t("nfo.generator.error"))}finally{i(!1)}},w=()=>{if(!o)return;const x=new Blob([o],{type:"text/plain"}),_=URL.createObjectURL(x),k=document.createElement("a");k.href=_,k.download=c?`${c.replace(/\.[^/.]+$/,"")}.nfo`:"mediainfo.nfo",document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(_)},h=()=>{o&&(navigator.clipboard.writeText(o),alert(t("nfo.generator.copy.success")))},p=()=>{l(null),f(null)};return s.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold bg-clip-text text-transparent mb-6 leading-tight bg-gradient-to-r from-blue-400 via-cyan-400 to-sky-400",children:[t("nfo.generator.title"),s.jsx("br",{}),s.jsx("span",{className:"text-4xl md:text-5xl",children:t("nfo.generator.subtitle")})]}),s.jsx("div",{className:"w-24 h-1 mx-auto mb-6 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500"})]}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:t("nfo.generator.description")})]}),o?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gs,{className:"w-5 h-5 text-blue-400"}),s.jsx("div",{children:s.jsx("p",{className:"text-white font-medium",children:t("nfo.generator.success")})})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:h,className:"px-4 py-2 bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white transition-colors rounded-lg border border-gray-600/50 hover:border-gray-500 flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),s.jsx("span",{children:t("nfo.generator.copy")})]}),s.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white transition-colors rounded-lg flex items-center space-x-2",children:[s.jsx(yr,{className:"w-4 h-4"}),s.jsx("span",{children:t("nfo.generator.download")})]}),s.jsxs("button",{onClick:p,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white transition-colors rounded-lg flex items-center space-x-2",children:[s.jsx(Wt,{className:"w-4 h-4"}),s.jsx("span",{children:t("nfo.generator.new")})]})]})]}),s.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-700/50 px-4 py-3 border-b border-gray-600/50",children:[s.jsx("h3",{className:"text-white font-medium",children:t("nfo.generator.content.title")})," ",s.jsx("p",{className:"text-gray-400 text-sm",children:c})]}),s.jsx("div",{className:"p-4 max-h-[600px] overflow-y-auto",children:s.jsx("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap break-words",children:o})})]})]}):s.jsx("div",{onDragOver:u,onDragLeave:v,onDrop:d,className:"relative transition-all duration-300",children:s.jsx("div",{className:`relative bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm border-2 border-dashed rounded-2xl px-48 py-12 transition-all duration-300 ${r?"border-blue-400 bg-blue-500/10 shadow-lg shadow-blue-500/20":"border-gray-600/50 hover:border-gray-500/70"}`,children:a?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-500/20 rounded-full mb-4",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-500 border-t-transparent"})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t("nfo.generator.analyzing.title")}),s.jsx("p",{className:"text-gray-400",children:t("nfo.generator.analyzing.desc")})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-full mb-6",children:s.jsx(Gs,{className:"w-10 h-10 text-blue-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:t(r?"nfo.generator.drop.title":"nfo.generator.drop.subtitle")}),s.jsx("p",{className:"text-gray-400 mb-6",children:t(r?"nfo.generator.drop.analyzing":"nfo.generator.drop.desc")}),s.jsx("div",{className:"flex items-center justify-center space-x-4",children:s.jsxs("button",{onClick:()=>{var x;return(x=g.current)==null?void 0:x.click()},className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-blue-500/25 flex items-center space-x-2",children:[s.jsx(Nl,{className:"w-5 h-5"}),s.jsx("span",{children:t("nfo.generator.select.button")})]})}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MKV"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"ISO"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MP4"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"AVI"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MOV"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"TS"}),s.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"M2TS"})]})]})})}),s.jsx("input",{ref:g,type:"file",accept:"video/*,.mkv,.avi,.mp4,.mov,.wmv,.flv,.webm,.m4v,.3gp,.ogv,.iso,.ts,.m2ts",onChange:b,className:"hidden"})]})}function ko(){const{t:e,language:t}=Ye(),r=cm(),n=Hr(),i=n.pathname.includes("/nfo")?"nfo":n.pathname.includes("/books")?"books":"movies",[o,l]=M.useState(""),[c,f]=M.useState(!1),[g,u]=M.useState(!1),[v,d]=M.useState(!1),[b,m]=M.useState(!1),[w,h]=M.useState(!1),[p,x]=M.useState(!1),[_,k]=M.useState(null),[E,$]=M.useState(null),[S,R]=M.useState(null),[V,me]=M.useState(null),[T,U]=M.useState(null),[N,Z]=M.useState(null),[ve,G]=M.useState(null),[ee,P]=M.useState(null),[F,O]=M.useState(null),[B,he]=M.useState(null),[ue,ce]=M.useState(null),[z,ie]=M.useState(null);M.useEffect(()=>{const se=localStorage.getItem("tmdb_api_key");se&&(l(se),Te.setApiKey(se))},[]);const te=se=>{l(se),localStorage.setItem("tmdb_api_key",se),Te.setApiKey(se)},Q=se=>{Z(se)},ye=se=>{P(se)},le=async se=>{k(se),$(null),R(null),me(null),G(se.poster_path),u(!0);try{if(se.media_type==="movie"){const[xe,Ee]=await Promise.all([Te.getMovie(se.id,t),Te.getMovieCredits(se.id,t)]);$(xe),me(Ee)}else if(se.media_type==="tv"){const[xe,Ee]=await Promise.all([Te.getTVShow(se.id,t),Te.getTVCredits(se.id,t)]);R(xe),me(Ee)}d(!0)}catch(xe){console.error("Erreur lors du chargement des dtails:",xe)}u(!1)},_e=()=>{d(!1),m(!0)},je=()=>{d(!1),i==="movies"?I():we()},y=M.useCallback((se,xe)=>!_||!E&&!S||!V?null:{type:_.media_type,title:(E==null?void 0:E.title)||(S==null?void 0:S.name)||"",year:E?new Date(E.release_date).getFullYear():S?new Date(S.first_air_date).getFullYear():0,poster:xe,movieData:E?{...E,poster_path:xe}:void 0,tvShowData:S?{...S,poster_path:xe}:void 0,credits:V,torrentSpecs:se,generatedNFO:ee||void 0},[_,E,S,V,ee]),J=se=>{U(se),m(!1),Z(null),["temp_media_data","temp_nfo_content"].forEach(Ee=>localStorage.removeItem(Ee));const xe=y(se,ve);xe&&ur.addItem(xe),window.scrollTo({top:0,behavior:"smooth"})},K=()=>{m(!1),d(!0)},I=M.useCallback(()=>{k(null),$(null),R(null),me(null),U(null),m(!1),d(!1),Z(null),G(null),["temp_media_data","temp_nfo_content","temp_movie_data","temp_tv_data"].forEach(se=>localStorage.removeItem(se))},[]),D=se=>{var xe,Ee,pt,ct,Gt,Pe,Pt,qt,gt,Vr,un,sr;if(se.type==="nfo")P(se.generatedNFO||null);else if(se.type==="book")ae("books"),O(se.bookData||null),he(se.bookData||null),ce(se.ebookSpecs||null),ie(se.poster),d(!1),m(!1),Z(null),P(null);else{const dn={id:((xe=se.movieData)==null?void 0:xe.id)||((Ee=se.tvShowData)==null?void 0:Ee.id)||0,title:(pt=se.movieData)==null?void 0:pt.title,name:(ct=se.tvShowData)==null?void 0:ct.name,media_type:se.type,poster_path:se.poster,backdrop_path:((Gt=se.movieData)==null?void 0:Gt.backdrop_path)||((Pe=se.tvShowData)==null?void 0:Pe.backdrop_path)||null,release_date:(Pt=se.movieData)==null?void 0:Pt.release_date,first_air_date:(qt=se.tvShowData)==null?void 0:qt.first_air_date,vote_average:((gt=se.movieData)==null?void 0:gt.vote_average)||((Vr=se.tvShowData)==null?void 0:Vr.vote_average)||0,overview:((un=se.movieData)==null?void 0:un.overview)||((sr=se.tvShowData)==null?void 0:sr.overview)||""};i==="nfo"&&ae("movies"),k(dn),$(se.movieData||null),R(se.tvShowData||null),me(se.credits||null),U(se.torrentSpecs||null),G(se.poster),P(se.generatedNFO||null),m(!1),d(!1),Z(null)}},L=se=>{if(G(se),_&&k({..._,poster_path:se}),T){const xe=y(T,se);xe&&ur.addItem(xe)}};M.useCallback(()=>{d(!0)},[]);const re=se=>{if(S){const xe=S.seasons.find(Ee=>Ee.season_number===se);if(xe){const Ee={...S,name:`${S.name} - ${xe.name}`,overview:xe.overview||S.overview,poster_path:xe.poster_path||S.poster_path,first_air_date:xe.air_date||S.first_air_date,number_of_episodes:xe.episode_count,selectedSeason:xe};R(Ee),G(xe.poster_path||S.poster_path),d(!1),m(!0)}}},Y=async se=>{O(se),u(!0);try{const xe=await On.getVolumeDetails(se.id);he(xe),ie(On.getHighQualityImage(xe.volumeInfo.imageLinks));const Ee=localStorage.getItem(`ebook_specs_${xe.id}`);if(Ee)try{ce(JSON.parse(Ee))}catch(pt){console.error("Error parsing saved specs:",pt)}else ce(null);d(!0)}catch(xe){console.error("Error fetching book details:",xe),he(se),ie(On.getHighQualityImage(se.volumeInfo.imageLinks));const Ee=localStorage.getItem(`ebook_specs_${se.id}`);if(Ee)try{ce(JSON.parse(Ee))}catch(pt){console.error("Error parsing saved specs:",pt)}else ce(null);d(!0)}u(!1)},W=se=>{if(ce(se),m(!1),B&&localStorage.setItem(`ebook_specs_${B.id}`,JSON.stringify(se)),B){const xe={type:"book",title:B.volumeInfo.title,year:B.volumeInfo.publishedDate?new Date(B.volumeInfo.publishedDate).getFullYear():0,poster:z,bookData:B,ebookSpecs:se};ur.addItem(xe)}window.scrollTo({top:0,behavior:"smooth"})},q=()=>{m(!1),d(!0)},pe=se=>{ie(se)},ae=se=>{we(),se==="nfo"?(P(null),r("/nfo")):r(se==="books"?"/books":"/")},we=()=>{k(null),$(null),R(null),me(null),U(null),G(null),Z(null),O(null),he(null),ce(null),ie(null),d(!1),m(!1),u(!1),P(null)};return s.jsxs("div",{className:`min-h-screen relative overflow-hidden flex flex-col transition-all duration-500 ${i==="nfo"?"bg-gradient-to-br from-blue-900 via-cyan-900 to-sky-900":i==="books"?"bg-gradient-to-br from-emerald-900 via-green-900 to-teal-900":"bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900"}`,children:[s.jsx("div",{className:`absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] via-transparent to-transparent pointer-events-none transition-colors duration-500 ${i==="nfo"?"from-blue-400/20":i==="books"?"from-emerald-400/20":"from-purple-400/20"}`}),s.jsx("div",{className:`absolute top-1/4 left-1/4 w-96 h-96 rounded-full blur-3xl animate-pulse pointer-events-none transition-colors duration-500 ${i==="nfo"?"bg-blue-500/10":i==="books"?"bg-emerald-500/10":"bg-violet-500/10"}`}),s.jsx("div",{className:`absolute bottom-1/4 right-1/4 w-80 h-80 rounded-full blur-3xl animate-pulse delay-1000 pointer-events-none transition-colors duration-500 ${i==="nfo"?"bg-cyan-500/10":i==="books"?"bg-green-500/10":"bg-blue-500/10"}`}),s.jsx("header",{className:"border-b border-white/10 bg-black/30 backdrop-blur-md sticky top-0 z-40",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer",onClick:()=>r("/"),children:[s.jsx("div",{className:"p-2 bg-violet-600 rounded-xl",children:s.jsx(wo,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:e("header.title")}),s.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:e("header.subtitle")})]})]}),s.jsx("div",{className:"hidden lg:flex absolute left-1/2 transform -translate-x-1/2",children:s.jsxs("div",{className:"flex items-center bg-gray-800/60 border border-gray-700/50 rounded-xl p-1",children:[s.jsxs("button",{onClick:()=>ae("movies"),className:`flex items-center space-x-2 px-3 md:px-4 py-2 rounded-lg transition-all duration-200 ${i==="movies"?"bg-violet-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[s.jsx(wo,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e("nav.movies")})]}),s.jsxs("button",{onClick:()=>ae("books"),className:`flex items-center space-x-2 px-3 md:px-4 py-2 rounded-lg transition-all duration-200 ${i==="books"?"bg-emerald-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e("nav.books")})]}),s.jsxs("button",{onClick:()=>window.open("https://jukop22.github.io/ziknfo/","_blank"),className:"flex items-center space-x-2 px-3 md:px-4 py-2 rounded-lg transition-all duration-200 text-gray-300 hover:text-white hover:bg-gray-700/60",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 feather feather-music",children:[s.jsx("path",{d:"M9 18V5l12-2v13"}),s.jsx("circle",{cx:"6",cy:"18",r:"3"}),s.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),s.jsx("span",{className:"text-sm",children:"Audio"})]})]})}),s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[s.jsx(gb,{}),s.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-3 md:px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors",children:[s.jsx(pa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e("history.button")})]}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-3 md:px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors",children:[s.jsx(hd,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"API"})]}),s.jsxs("button",{onClick:()=>ae("nfo"),className:`flex items-center space-x-2 px-3 md:px-4 py-2 rounded-xl transition-colors ${i==="nfo"?"bg-blue-600 text-white shadow-lg":"bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 text-gray-300 hover:text-white"}`,children:[s.jsx(Gs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"NFO"})]})]}),s.jsx("button",{className:"md:hidden p-2 text-white hover:bg-white/10 rounded-lg transition-colors",onClick:()=>x(!p),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[s.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),s.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),s.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})]}),s.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-white/10",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsxs("div",{className:"flex items-center bg-gray-800/60 border border-gray-700/50 rounded-xl p-1",children:[s.jsxs("button",{onClick:()=>ae("movies"),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${i==="movies"?"bg-violet-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[s.jsx(wo,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e("nav.movies")})]}),s.jsxs("button",{onClick:()=>ae("books"),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${i==="books"?"bg-emerald-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e("nav.books")})]}),s.jsxs("button",{onClick:()=>window.open("https://jukop22.github.io/ziknfo/","_blank"),className:"flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 text-gray-300 hover:text-white hover:bg-gray-700/60",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 feather feather-music",children:[s.jsx("path",{d:"M9 18V5l12-2v13"}),s.jsx("circle",{cx:"6",cy:"18",r:"3"}),s.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),s.jsx("span",{className:"text-sm",children:"Audio"})]})]})}),p&&s.jsxs("div",{className:"grid grid-cols-3 gap-2 md:hidden",children:[s.jsxs("button",{onClick:()=>{h(!0),x(!1)},className:"flex flex-col items-center px-2 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors text-xs",children:[s.jsx(pa,{className:"w-4 h-4 mb-1"}),s.jsx("span",{children:e("history.button")})]}),s.jsxs("button",{onClick:()=>{f(!0),x(!1)},className:"flex flex-col items-center px-2 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors text-xs",children:[s.jsx(hd,{className:"w-4 h-4 mb-1"}),s.jsx("span",{children:"API"})]}),s.jsxs("button",{onClick:()=>{ae("nfo"),x(!1)},className:"flex flex-col items-center px-2 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors text-xs",children:[s.jsx(Gs,{className:"w-4 h-4 mb-1"}),s.jsx("span",{children:"NFO"})]})]})]})]})}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 relative z-10 flex-1",children:[i==="nfo"&&s.jsx("div",{className:"mb-12",children:s.jsx(jb,{generatedNFO:ee})}),i!=="nfo"&&!v&&!b&&!_&&!F&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:`text-5xl md:text-6xl font-bold bg-clip-text text-transparent mb-6 leading-tight ${i==="books"?"bg-gradient-to-r from-emerald-400 via-green-400 to-teal-400":"bg-gradient-to-r from-violet-400 via-purple-400 to-blue-400"}`,children:[e(i==="books"?"ebook.create":"app.create"),s.jsx("br",{}),s.jsx("span",{className:"text-4xl md:text-5xl",children:e(i==="books"?"ebook.professional":"app.professional")})]}),s.jsx("div",{className:`w-24 h-1 mx-auto mb-6 rounded-full ${i==="books"?"bg-gradient-to-r from-emerald-500 to-teal-500":"bg-gradient-to-r from-violet-500 to-blue-500"}`})]}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:e(i==="books"?"ebook.description":"app.description")})]}),i==="movies"?s.jsx(Qy,{onResultSelect:le,onTechnicalSpecsFound:Q,onNFOGenerated:ye,apiKey:o,language:t}):s.jsx(yb,{onBookSelect:Y,language:t})]}),g&&i!=="nfo"&&s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"inline-flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-500"}),s.jsx("span",{className:"text-white text-lg",children:e("app.loading")})]})}),b&&(_||F)&&!v&&i!=="nfo"&&s.jsxs("div",{className:"mb-8",children:[N&&i==="movies"&&s.jsx("div",{className:"mb-6 bg-green-500/10 border border-green-500/30 rounded-xl p-4",children:s.jsxs("p",{className:"text-green-300",children:[s.jsx("strong",{children:e("app.specs.detected")})," ",e("app.specs.message")]})}),i==="movies"?s.jsx(mb,{onSave:J,onCancel:K,initialSpecs:N||(T?{video:T.video,audio:T.audio,subtitles:T.subtitles,source:T.source,releaseGroup:T.releaseGroup,notes:T.notes,numberOfFiles:T.numberOfFiles}:void 0)}):s.jsx(Nb,{onSave:W,onCancel:q,bookData:B,initialSpecs:ue})]}),v&&(_||F)&&!g&&!b&&i!=="nfo"&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[i==="books"?s.jsx(Bt,{className:"w-6 h-6 text-emerald-400"}):(_==null?void 0:_.media_type)==="movie"?s.jsx(er,{className:"w-6 h-6 text-violet-400"}):s.jsx(hr,{className:"w-6 h-6 text-violet-400"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:e("app.preview.title")})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:je,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.preview.change")}),s.jsx("button",{onClick:_e,className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:e("app.preview.continue")})]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 mb-6",children:s.jsxs("p",{className:"text-blue-300",children:[s.jsx("strong",{children:e("app.preview.check")})," ",e("app.preview.verify")]})}),E&&V&&s.jsx(wd,{movie:E,credits:V,isPreview:!0,selectedPoster:ve,onPosterChange:L}),S&&V&&i==="movies"&&s.jsx(_d,{tvShow:S,credits:V,isPreview:!0,selectedPoster:ve,onPosterChange:L,onSeasonSelect:re}),i==="books"&&F&&B&&s.jsx($d,{book:B,isPreview:!0,selectedCover:z,onCoverChange:pe})]}),_&&!g&&!b&&!v&&T&&i==="movies"&&i!=="nfo"&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[_.media_type==="movie"?s.jsx(er,{className:"w-6 h-6 text-violet-400"}):s.jsx(hr,{className:"w-6 h-6 text-violet-400"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:e("app.sheet.generated")})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors",children:e("app.sheet.edit.specs")}),s.jsx("button",{onClick:I,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.sheet.new")})]})]}),E&&V&&s.jsx(wd,{movie:E,credits:V,torrentSpecs:T,selectedPoster:ve,onPosterChange:L,generatedNFO:ee}),S&&V&&s.jsx(_d,{tvShow:S,credits:V,torrentSpecs:T,selectedPoster:ve,onPosterChange:L,generatedNFO:ee})]}),B&&!g&&!b&&!v&&ue&&i==="books"&&i!=="nfo"&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Bt,{className:"w-6 h-6 text-emerald-400"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:e("ebook.sheet.generated")})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors",children:e("app.sheet.edit.specs")}),s.jsx("button",{onClick:we,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.sheet.new")})]})]}),s.jsx($d,{book:B,ebookSpecs:ue,selectedCover:z,onCoverChange:pe})]}),!_&&!B&&!g&&!b&&!v&&i!=="nfo"&&s.jsxs("div",{className:"text-center py-20",children:[s.jsxs("div",{className:"mb-12",children:[i==="movies"?s.jsxs("div",{className:"flex justify-center space-x-6 mb-8",children:[s.jsx("div",{className:"p-6 bg-gradient-to-br from-violet-500/20 to-purple-600/20 rounded-3xl backdrop-blur-sm border border-violet-400/20 shadow-2xl",children:s.jsx(er,{className:"w-16 h-16 text-violet-400"})}),s.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-500/20 to-cyan-600/20 rounded-3xl backdrop-blur-sm border border-blue-400/20 shadow-2xl",children:s.jsx(hr,{className:"w-16 h-16 text-blue-400"})})]}):s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("div",{className:"p-6 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 rounded-3xl backdrop-blur-sm border border-emerald-400/20 shadow-2xl",children:s.jsx(Bt,{className:"w-16 h-16 text-emerald-400"})})}),s.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-4",children:e(i==="books"?"ebook.ready.title":"app.ready.title")}),s.jsx("p",{className:"text-gray-300 text-lg max-w-lg mx-auto",children:e(i==="books"?"ebook.ready.description":"app.ready.description")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:i==="movies"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 backdrop-blur-sm border border-green-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-green-400/30",children:s.jsx("span",{className:"text-green-400 text-3xl font-bold",children:"1"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step1")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step1.desc")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-600/10 backdrop-blur-sm border border-blue-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400/20 to-cyan-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-blue-400/30",children:s.jsx("span",{className:"text-blue-400 text-3xl font-bold",children:"2"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step2")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step2.desc")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-violet-500/10 to-purple-600/10 backdrop-blur-sm border border-violet-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-400/20 to-purple-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-violet-400/30",children:s.jsx("span",{className:"text-violet-400 text-3xl font-bold",children:"3"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step3")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step3.desc")})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-green-600/10 backdrop-blur-sm border border-emerald-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-400/20 to-green-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-emerald-400/30",children:s.jsx("span",{className:"text-emerald-400 text-3xl font-bold",children:"1"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("ebook.step1")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("ebook.step1.desc")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-teal-500/10 to-cyan-600/10 backdrop-blur-sm border border-teal-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-400/20 to-cyan-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-teal-400/30",children:s.jsx("span",{className:"text-teal-400 text-3xl font-bold",children:"2"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("ebook.step2")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("ebook.step2.desc")})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 backdrop-blur-sm border border-green-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-green-400/30",children:s.jsx("span",{className:"text-green-400 text-3xl font-bold",children:"3"})}),s.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("ebook.step3")}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("ebook.step3.desc")})]})]})})]})]}),s.jsx("footer",{className:"border-t border-white/10 bg-black/30 backdrop-blur-md mt-auto relative",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-300 text-sm font-medium",children:e("footer.version")})})})}),s.jsx(pb,{isOpen:c,onClose:()=>f(!1),onSave:te,currentApiKey:o}),s.jsx(xb,{isOpen:w,onClose:()=>h(!1),currentMode:i,onSelectItem:D})]})}function kb(){return s.jsx(Zy,{children:s.jsx(Bv,{basename:"/fichegen",children:s.jsxs(gv,{children:[s.jsx(Bi,{path:"/",element:s.jsx(ko,{})}),s.jsx(Bi,{path:"/books",element:s.jsx(ko,{})}),s.jsx(Bi,{path:"/nfo",element:s.jsx(ko,{})})]})})})}Yh(document.getElementById("root")).render(s.jsx(M.StrictMode,{children:s.jsx(kb,{})}));
