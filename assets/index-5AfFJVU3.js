var p0=Object.defineProperty;var g0=(e,t,r)=>t in e?p0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _n=(e,t,r)=>g0(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tm={exports:{}},Fl={},rm={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),v0=Symbol.for("react.portal"),x0=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),b0=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),_0=Symbol.for("react.context"),j0=Symbol.for("react.forward_ref"),N0=Symbol.for("react.suspense"),k0=Symbol.for("react.memo"),C0=Symbol.for("react.lazy"),gf=Symbol.iterator;function S0(e){return e===null||typeof e!="object"?null:(e=gf&&e[gf]||e["@@iterator"],typeof e=="function"?e:null)}var nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},im=Object.assign,sm={};function Ls(e,t,r){this.props=e,this.context=t,this.refs=sm,this.updater=r||nm}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function am(){}am.prototype=Ls.prototype;function Xc(e,t,r){this.props=e,this.context=t,this.refs=sm,this.updater=r||nm}var Jc=Xc.prototype=new am;Jc.constructor=Xc;im(Jc,Ls.prototype);Jc.isPureReactComponent=!0;var vf=Array.isArray,om=Object.prototype.hasOwnProperty,ed={current:null},lm={key:!0,ref:!0,__self:!0,__source:!0};function um(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)om.call(t,n)&&!lm.hasOwnProperty(n)&&(a[n]=t[n]);var u=arguments.length-2;if(u===1)a.children=r;else if(1<u){for(var d=Array(u),p=0;p<u;p++)d[p]=arguments[p+2];a.children=d}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)a[n]===void 0&&(a[n]=u[n]);return{$$typeof:Xa,type:e,key:s,ref:o,props:a,_owner:ed.current}}function E0(e,t){return{$$typeof:Xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function td(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xa}function D0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xf=/\/+/g;function xu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D0(""+e.key):t.toString(36)}function Ko(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xa:case v0:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+xu(o,0):n,vf(a)?(r="",e!=null&&(r=e.replace(xf,"$&/")+"/"),Ko(a,t,r,"",function(p){return p})):a!=null&&(td(a)&&(a=E0(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(xf,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",vf(e))for(var u=0;u<e.length;u++){s=e[u];var d=n+xu(s,u);o+=Ko(s,t,r,d,a)}else if(d=S0(e),typeof d=="function")for(e=d.call(e),u=0;!(s=e.next()).done;)s=s.value,d=n+xu(s,u++),o+=Ko(s,t,r,d,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ko(e,t,r){if(e==null)return e;var n=[],a=0;return Ko(e,n,"","",function(s){return t.call(r,s,a++)}),n}function T0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dr={current:null},qo={transition:null},I0={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:qo,ReactCurrentOwner:ed};function cm(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:ko,forEach:function(e,t,r){ko(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ko(e,function(){t++}),t},toArray:function(e){return ko(e,function(t){return t})||[]},only:function(e){if(!td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=Ls;ct.Fragment=x0;ct.Profiler=b0;ct.PureComponent=Xc;ct.StrictMode=y0;ct.Suspense=N0;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I0;ct.act=cm;ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=im({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ed.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)om.call(t,d)&&!lm.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){u=Array(d);for(var p=0;p<d;p++)u[p]=arguments[p+2];n.children=u}return{$$typeof:Xa,type:e.type,key:a,ref:s,props:n,_owner:o}};ct.createContext=function(e){return e={$$typeof:_0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w0,_context:e},e.Consumer=e};ct.createElement=um;ct.createFactory=function(e){var t=um.bind(null,e);return t.type=e,t};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:j0,render:e}};ct.isValidElement=td;ct.lazy=function(e){return{$$typeof:C0,_payload:{_status:-1,_result:e},_init:T0}};ct.memo=function(e,t){return{$$typeof:k0,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=qo.transition;qo.transition={};try{e()}finally{qo.transition=t}};ct.unstable_act=cm;ct.useCallback=function(e,t){return dr.current.useCallback(e,t)};ct.useContext=function(e){return dr.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return dr.current.useDeferredValue(e)};ct.useEffect=function(e,t){return dr.current.useEffect(e,t)};ct.useId=function(){return dr.current.useId()};ct.useImperativeHandle=function(e,t,r){return dr.current.useImperativeHandle(e,t,r)};ct.useInsertionEffect=function(e,t){return dr.current.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return dr.current.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return dr.current.useMemo(e,t)};ct.useReducer=function(e,t,r){return dr.current.useReducer(e,t,r)};ct.useRef=function(e){return dr.current.useRef(e)};ct.useState=function(e){return dr.current.useState(e)};ct.useSyncExternalStore=function(e,t,r){return dr.current.useSyncExternalStore(e,t,r)};ct.useTransition=function(){return dr.current.useTransition()};ct.version="18.3.1";rm.exports=ct;var V=rm.exports;const rr=Zc(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=V,P0=Symbol.for("react.element"),$0=Symbol.for("react.fragment"),R0=Object.prototype.hasOwnProperty,M0=A0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F0={key:!0,ref:!0,__self:!0,__source:!0};function dm(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)R0.call(t,n)&&!F0.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:P0,type:e,key:s,ref:o,props:a,_owner:M0.current}}Fl.Fragment=$0;Fl.jsx=dm;Fl.jsxs=dm;tm.exports=Fl;var i=tm.exports,fm={exports:{}},Tr={},hm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(xe,H){var K=xe.length;xe.push(H);e:for(;0<K;){var Z=K-1>>>1,X=xe[Z];if(0<a(X,H))xe[Z]=H,xe[K]=X,K=Z;else break e}}function r(xe){return xe.length===0?null:xe[0]}function n(xe){if(xe.length===0)return null;var H=xe[0],K=xe.pop();if(K!==H){xe[0]=K;e:for(var Z=0,X=xe.length,Ie=X>>>1;Z<Ie;){var Ae=2*(Z+1)-1,De=xe[Ae],q=Ae+1,Se=xe[q];if(0>a(De,K))q<X&&0>a(Se,De)?(xe[Z]=Se,xe[q]=K,Z=q):(xe[Z]=De,xe[Ae]=K,Z=Ae);else if(q<X&&0>a(Se,K))xe[Z]=Se,xe[q]=K,Z=q;else break e}}return H}function a(xe,H){var K=xe.sortIndex-H.sortIndex;return K!==0?K:xe.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var d=[],p=[],_=1,f=null,b=3,h=!1,j=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(xe){for(var H=r(p);H!==null;){if(H.callback===null)n(p);else if(H.startTime<=xe)n(p),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(p)}}function S(xe){if(v=!1,w(xe),!j)if(r(d)!==null)j=!0,qe(I);else{var H=r(p);H!==null&&me(S,H.startTime-xe)}}function I(xe,H){j=!1,v&&(v=!1,g(P),P=-1),h=!0;var K=b;try{for(w(H),f=r(d);f!==null&&(!(f.expirationTime>H)||xe&&!Re());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,b=f.priorityLevel;var X=Z(f.expirationTime<=H);H=e.unstable_now(),typeof X=="function"?f.callback=X:f===r(d)&&n(d),w(H)}else n(d);f=r(d)}if(f!==null)var Ie=!0;else{var Ae=r(p);Ae!==null&&me(S,Ae.startTime-H),Ie=!1}return Ie}finally{f=null,b=K,h=!1}}var $=!1,M=null,P=-1,L=5,le=-1;function Re(){return!(e.unstable_now()-le<L)}function O(){if(M!==null){var xe=e.unstable_now();le=xe;var H=!0;try{H=M(!0,xe)}finally{H?ne():($=!1,M=null)}}else $=!1}var ne;if(typeof x=="function")ne=function(){x(O)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,ge=E.port2;E.port1.onmessage=O,ne=function(){ge.postMessage(null)}}else ne=function(){C(O,0)};function qe(xe){M=xe,$||($=!0,ne())}function me(xe,H){P=C(function(){xe(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(xe){xe.callback=null},e.unstable_continueExecution=function(){j||h||(j=!0,qe(I))},e.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<xe?Math.floor(1e3/xe):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(xe){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var K=b;b=H;try{return xe()}finally{b=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(xe,H){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var K=b;b=xe;try{return H()}finally{b=K}},e.unstable_scheduleCallback=function(xe,H,K){var Z=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Z+K:Z):K=Z,xe){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,xe={id:_++,callback:H,priorityLevel:xe,startTime:K,expirationTime:X,sortIndex:-1},K>Z?(xe.sortIndex=K,t(p,xe),r(d)===null&&xe===r(p)&&(v?(g(P),P=-1):v=!0,me(S,K-Z))):(xe.sortIndex=X,t(d,xe),j||h||(j=!0,qe(I))),xe},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(xe){var H=b;return function(){var K=b;b=H;try{return xe.apply(this,arguments)}finally{b=K}}}})(mm);hm.exports=mm;var O0=hm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0=V,Dr=O0;function $e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pm=new Set,Ia={};function qi(e,t){As(e,t),As(e+"Capture",t)}function As(e,t){for(Ia[e]=t,e=0;e<t.length;e++)pm.add(t[e])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=Object.prototype.hasOwnProperty,B0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yf={},bf={};function L0(e){return Xu.call(bf,e)?!0:Xu.call(yf,e)?!1:B0.test(e)?bf[e]=!0:(yf[e]=!0,!1)}function U0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H0(e,t,r,n){if(t===null||typeof t>"u"||U0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var rd=/[\-:]([a-z])/g;function nd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rd,nd);Qt[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rd,nd);Qt[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rd,nd);Qt[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function id(e,t,r,n){var a=Qt.hasOwnProperty(t)?Qt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(H0(t,r,a,n)&&(r=null),n||a===null?L0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mn=z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),ds=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),sd=Symbol.for("react.strict_mode"),Ju=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),vm=Symbol.for("react.context"),ad=Symbol.for("react.forward_ref"),ec=Symbol.for("react.suspense"),tc=Symbol.for("react.suspense_list"),od=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),xm=Symbol.for("react.offscreen"),wf=Symbol.iterator;function oa(e){return e===null||typeof e!="object"?null:(e=wf&&e[wf]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,yu;function va(e){if(yu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);yu=t&&t[1]||""}return`
`+yu+e}var bu=!1;function wu(e,t){if(!e||bu)return"";bu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var a=p.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,u=s.length-1;1<=o&&0<=u&&a[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(a[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||a[o]!==s[u]){var d=`
`+a[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=u);break}}}finally{bu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?va(e):""}function V0(e){switch(e.tag){case 5:return va(e.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return e=wu(e.type,!1),e;case 11:return e=wu(e.type.render,!1),e;case 1:return e=wu(e.type,!0),e;default:return""}}function rc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fs:return"Fragment";case ds:return"Portal";case Ju:return"Profiler";case sd:return"StrictMode";case ec:return"Suspense";case tc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vm:return(e.displayName||"Context")+".Consumer";case gm:return(e._context.displayName||"Context")+".Provider";case ad:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case od:return t=e.displayName||null,t!==null?t:rc(e.type)||"Memo";case Zn:t=e._payload,e=e._init;try{return rc(e(t))}catch{}}return null}function W0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rc(t);case 8:return t===sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ym(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function K0(e){var t=ym(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function So(e){e._valueTracker||(e._valueTracker=K0(e))}function bm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ym(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nc(e,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _f(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=fi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wm(e,t){t=t.checked,t!=null&&id(e,"checked",t,!1)}function ic(e,t){wm(e,t);var r=fi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sc(e,t.type,r):t.hasOwnProperty("defaultValue")&&sc(e,t.type,fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sc(e,t,r){(t!=="number"||ol(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xa=Array.isArray;function js(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+fi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ac(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($e(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($e(92));if(xa(r)){if(1<r.length)throw Error($e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fi(r)}}function _m(e,t){var r=fi(t.value),n=fi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eo,Nm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Aa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q0=["Webkit","ms","Moz","O"];Object.keys(wa).forEach(function(e){q0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wa[t]=wa[e]})});function km(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wa.hasOwnProperty(e)&&wa[e]?(""+t).trim():t+"px"}function Cm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=km(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var G0=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lc(e,t){if(t){if(G0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($e(61))}if(t.style!=null&&typeof t.style!="object")throw Error($e(62))}}function uc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=null;function ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dc=null,Ns=null,ks=null;function Cf(e){if(e=to(e)){if(typeof dc!="function")throw Error($e(280));var t=e.stateNode;t&&(t=Ul(t),dc(e.stateNode,e.type,t))}}function Sm(e){Ns?ks?ks.push(e):ks=[e]:Ns=e}function Em(){if(Ns){var e=Ns,t=ks;if(ks=Ns=null,Cf(e),t)for(e=0;e<t.length;e++)Cf(t[e])}}function Dm(e,t){return e(t)}function Tm(){}var _u=!1;function Im(e,t,r){if(_u)return e(t,r);_u=!0;try{return Dm(e,t,r)}finally{_u=!1,(Ns!==null||ks!==null)&&(Tm(),Em())}}function Pa(e,t){var r=e.stateNode;if(r===null)return null;var n=Ul(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($e(231,t,typeof r));return r}var fc=!1;if(Tn)try{var la={};Object.defineProperty(la,"passive",{get:function(){fc=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{fc=!1}function Y0(e,t,r,n,a,s,o,u,d){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(_){this.onError(_)}}var _a=!1,ll=null,ul=!1,hc=null,Q0={onError:function(e){_a=!0,ll=e}};function Z0(e,t,r,n,a,s,o,u,d){_a=!1,ll=null,Y0.apply(Q0,arguments)}function X0(e,t,r,n,a,s,o,u,d){if(Z0.apply(this,arguments),_a){if(_a){var p=ll;_a=!1,ll=null}else throw Error($e(198));ul||(ul=!0,hc=p)}}function Gi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Am(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sf(e){if(Gi(e)!==e)throw Error($e(188))}function J0(e){var t=e.alternate;if(!t){if(t=Gi(e),t===null)throw Error($e(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Sf(a),e;if(s===n)return Sf(a),t;s=s.sibling}throw Error($e(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,u=a.child;u;){if(u===r){o=!0,r=a,n=s;break}if(u===n){o=!0,n=a,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=a;break}if(u===n){o=!0,n=s,r=a;break}u=u.sibling}if(!o)throw Error($e(189))}}if(r.alternate!==n)throw Error($e(190))}if(r.tag!==3)throw Error($e(188));return r.stateNode.current===r?e:t}function Pm(e){return e=J0(e),e!==null?$m(e):null}function $m(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$m(e);if(t!==null)return t;e=e.sibling}return null}var Rm=Dr.unstable_scheduleCallback,Ef=Dr.unstable_cancelCallback,ev=Dr.unstable_shouldYield,tv=Dr.unstable_requestPaint,Rt=Dr.unstable_now,rv=Dr.unstable_getCurrentPriorityLevel,ud=Dr.unstable_ImmediatePriority,Mm=Dr.unstable_UserBlockingPriority,cl=Dr.unstable_NormalPriority,nv=Dr.unstable_LowPriority,Fm=Dr.unstable_IdlePriority,Ol=null,mn=null;function iv(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:ov,sv=Math.log,av=Math.LN2;function ov(e){return e>>>=0,e===0?32:31-(sv(e)/av|0)|0}var Do=64,To=4194304;function ya(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var u=o&~a;u!==0?n=ya(u):(s&=o,s!==0&&(n=ya(s)))}else o=r&~a,o!==0?n=ya(o):s!==0&&(n=ya(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xr(t),a=1<<r,n|=e[r],t&=~a;return n}function lv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Xr(s),u=1<<o,d=a[o];d===-1?(!(u&r)||u&n)&&(a[o]=lv(u,t)):d<=t&&(e.expiredLanes|=u),s&=~u}}function mc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Om(){var e=Do;return Do<<=1,!(Do&4194240)&&(Do=64),e}function ju(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ja(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xr(t),e[t]=r}function cv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Xr(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function cd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var xt=0;function zm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bm,dd,Lm,Um,Hm,pc=!1,Io=[],ni=null,ii=null,si=null,$a=new Map,Ra=new Map,Jn=[],dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Df(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":$a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(t.pointerId)}}function ua(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=to(t),t!==null&&dd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function fv(e,t,r,n,a){switch(t){case"focusin":return ni=ua(ni,e,t,r,n,a),!0;case"dragenter":return ii=ua(ii,e,t,r,n,a),!0;case"mouseover":return si=ua(si,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return $a.set(s,ua($a.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ra.set(s,ua(Ra.get(s)||null,e,t,r,n,a)),!0}return!1}function Vm(e){var t=Ri(e.target);if(t!==null){var r=Gi(t);if(r!==null){if(t=r.tag,t===13){if(t=Am(r),t!==null){e.blockedOn=t,Hm(e.priority,function(){Lm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Go(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);cc=n,r.target.dispatchEvent(n),cc=null}else return t=to(r),t!==null&&dd(t),e.blockedOn=r,!1;t.shift()}return!0}function Tf(e,t,r){Go(e)&&r.delete(t)}function hv(){pc=!1,ni!==null&&Go(ni)&&(ni=null),ii!==null&&Go(ii)&&(ii=null),si!==null&&Go(si)&&(si=null),$a.forEach(Tf),Ra.forEach(Tf)}function ca(e,t){e.blockedOn===t&&(e.blockedOn=null,pc||(pc=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,hv)))}function Ma(e){function t(a){return ca(a,e)}if(0<Io.length){ca(Io[0],e);for(var r=1;r<Io.length;r++){var n=Io[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ni!==null&&ca(ni,e),ii!==null&&ca(ii,e),si!==null&&ca(si,e),$a.forEach(t),Ra.forEach(t),r=0;r<Jn.length;r++)n=Jn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jn.length&&(r=Jn[0],r.blockedOn===null);)Vm(r),r.blockedOn===null&&Jn.shift()}var Cs=Mn.ReactCurrentBatchConfig,fl=!0;function mv(e,t,r,n){var a=xt,s=Cs.transition;Cs.transition=null;try{xt=1,fd(e,t,r,n)}finally{xt=a,Cs.transition=s}}function pv(e,t,r,n){var a=xt,s=Cs.transition;Cs.transition=null;try{xt=4,fd(e,t,r,n)}finally{xt=a,Cs.transition=s}}function fd(e,t,r,n){if(fl){var a=gc(e,t,r,n);if(a===null)Pu(e,t,n,hl,r),Df(e,n);else if(fv(a,e,t,r,n))n.stopPropagation();else if(Df(e,n),t&4&&-1<dv.indexOf(e)){for(;a!==null;){var s=to(a);if(s!==null&&Bm(s),s=gc(e,t,r,n),s===null&&Pu(e,t,n,hl,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Pu(e,t,n,null,r)}}var hl=null;function gc(e,t,r,n){if(hl=null,e=ld(n),e=Ri(e),e!==null)if(t=Gi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Am(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hl=e,null}function Wm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rv()){case ud:return 1;case Mm:return 4;case cl:case nv:return 16;case Fm:return 536870912;default:return 16}default:return 16}}var ti=null,hd=null,Yo=null;function Km(){if(Yo)return Yo;var e,t=hd,r=t.length,n,a="value"in ti?ti.value:ti.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Yo=a.slice(e,1<n?1-n:void 0)}function Qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ao(){return!0}function If(){return!1}function Ir(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ao:If,this.isPropagationStopped=If,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},md=Ir(Us),eo=Tt({},Us,{view:0,detail:0}),gv=Ir(eo),Nu,ku,da,zl=Tt({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(Nu=e.screenX-da.screenX,ku=e.screenY-da.screenY):ku=Nu=0,da=e),Nu)},movementY:function(e){return"movementY"in e?e.movementY:ku}}),Af=Ir(zl),vv=Tt({},zl,{dataTransfer:0}),xv=Ir(vv),yv=Tt({},eo,{relatedTarget:0}),Cu=Ir(yv),bv=Tt({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),wv=Ir(bv),_v=Tt({},Us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jv=Ir(_v),Nv=Tt({},Us,{data:0}),Pf=Ir(Nv),kv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ev(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sv[e])?!!t[e]:!1}function pd(){return Ev}var Dv=Tt({},eo,{key:function(e){if(e.key){var t=kv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pd,charCode:function(e){return e.type==="keypress"?Qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tv=Ir(Dv),Iv=Tt({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$f=Ir(Iv),Av=Tt({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pd}),Pv=Ir(Av),$v=Tt({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=Ir($v),Mv=Tt({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fv=Ir(Mv),Ov=[9,13,27,32],gd=Tn&&"CompositionEvent"in window,ja=null;Tn&&"documentMode"in document&&(ja=document.documentMode);var zv=Tn&&"TextEvent"in window&&!ja,qm=Tn&&(!gd||ja&&8<ja&&11>=ja),Rf=" ",Mf=!1;function Gm(e,t){switch(e){case"keyup":return Ov.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hs=!1;function Bv(e,t){switch(e){case"compositionend":return Ym(t);case"keypress":return t.which!==32?null:(Mf=!0,Rf);case"textInput":return e=t.data,e===Rf&&Mf?null:e;default:return null}}function Lv(e,t){if(hs)return e==="compositionend"||!gd&&Gm(e,t)?(e=Km(),Yo=hd=ti=null,hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qm&&t.locale!=="ko"?null:t.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ff(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uv[e.type]:t==="textarea"}function Qm(e,t,r,n){Sm(n),t=ml(t,"onChange"),0<t.length&&(r=new md("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Na=null,Fa=null;function Hv(e){op(e,0)}function Bl(e){var t=gs(e);if(bm(t))return e}function Vv(e,t){if(e==="change")return t}var Zm=!1;if(Tn){var Su;if(Tn){var Eu="oninput"in document;if(!Eu){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),Eu=typeof Of.oninput=="function"}Su=Eu}else Su=!1;Zm=Su&&(!document.documentMode||9<document.documentMode)}function zf(){Na&&(Na.detachEvent("onpropertychange",Xm),Fa=Na=null)}function Xm(e){if(e.propertyName==="value"&&Bl(Fa)){var t=[];Qm(t,Fa,e,ld(e)),Im(Hv,t)}}function Wv(e,t,r){e==="focusin"?(zf(),Na=t,Fa=r,Na.attachEvent("onpropertychange",Xm)):e==="focusout"&&zf()}function Kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bl(Fa)}function qv(e,t){if(e==="click")return Bl(t)}function Gv(e,t){if(e==="input"||e==="change")return Bl(t)}function Yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:Yv;function Oa(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Xu.call(t,a)||!en(e[a],t[a]))return!1}return!0}function Bf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lf(e,t){var r=Bf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bf(r)}}function Jm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ep(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ol(e.document)}return t}function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qv(e){var t=ep(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jm(r.ownerDocument.documentElement,r)){if(n!==null&&vd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Lf(r,s);var o=Lf(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zv=Tn&&"documentMode"in document&&11>=document.documentMode,ms=null,vc=null,ka=null,xc=!1;function Uf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xc||ms==null||ms!==ol(n)||(n=ms,"selectionStart"in n&&vd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ka&&Oa(ka,n)||(ka=n,n=ml(vc,"onSelect"),0<n.length&&(t=new md("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ms)))}function Po(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ps={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},Du={},tp={};Tn&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Ll(e){if(Du[e])return Du[e];if(!ps[e])return e;var t=ps[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in tp)return Du[e]=t[r];return e}var rp=Ll("animationend"),np=Ll("animationiteration"),ip=Ll("animationstart"),sp=Ll("transitionend"),ap=new Map,Hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(e,t){ap.set(e,t),qi(t,[e])}for(var Tu=0;Tu<Hf.length;Tu++){var Iu=Hf[Tu],Xv=Iu.toLowerCase(),Jv=Iu[0].toUpperCase()+Iu.slice(1);mi(Xv,"on"+Jv)}mi(rp,"onAnimationEnd");mi(np,"onAnimationIteration");mi(ip,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(sp,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ex=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function Vf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,X0(n,t,void 0,e),e.currentTarget=null}function op(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],d=u.instance,p=u.currentTarget;if(u=u.listener,d!==s&&a.isPropagationStopped())break e;Vf(a,u,p),s=d}else for(o=0;o<n.length;o++){if(u=n[o],d=u.instance,p=u.currentTarget,u=u.listener,d!==s&&a.isPropagationStopped())break e;Vf(a,u,p),s=d}}}if(ul)throw e=hc,ul=!1,hc=null,e}function Nt(e,t){var r=t[jc];r===void 0&&(r=t[jc]=new Set);var n=e+"__bubble";r.has(n)||(lp(t,e,2,!1),r.add(n))}function Au(e,t,r){var n=0;t&&(n|=4),lp(r,e,n,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function za(e){if(!e[$o]){e[$o]=!0,pm.forEach(function(r){r!=="selectionchange"&&(ex.has(r)||Au(r,!1,e),Au(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$o]||(t[$o]=!0,Au("selectionchange",!1,t))}}function lp(e,t,r,n){switch(Wm(t)){case 1:var a=mv;break;case 4:a=pv;break;default:a=fd}r=a.bind(null,t,r,e),a=void 0,!fc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Pu(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;u!==null;){if(o=Ri(u),o===null)return;if(d=o.tag,d===5||d===6){n=s=o;continue e}u=u.parentNode}}n=n.return}Im(function(){var p=s,_=ld(r),f=[];e:{var b=ap.get(e);if(b!==void 0){var h=md,j=e;switch(e){case"keypress":if(Qo(r)===0)break e;case"keydown":case"keyup":h=Tv;break;case"focusin":j="focus",h=Cu;break;case"focusout":j="blur",h=Cu;break;case"beforeblur":case"afterblur":h=Cu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=xv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Pv;break;case rp:case np:case ip:h=wv;break;case sp:h=Rv;break;case"scroll":h=gv;break;case"wheel":h=Fv;break;case"copy":case"cut":case"paste":h=jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=$f}var v=(t&4)!==0,C=!v&&e==="scroll",g=v?b!==null?b+"Capture":null:b;v=[];for(var x=p,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=Pa(x,g),S!=null&&v.push(Ba(x,S,w)))),C)break;x=x.return}0<v.length&&(b=new h(b,j,null,r,_),f.push({event:b,listeners:v}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",b&&r!==cc&&(j=r.relatedTarget||r.fromElement)&&(Ri(j)||j[In]))break e;if((h||b)&&(b=_.window===_?_:(b=_.ownerDocument)?b.defaultView||b.parentWindow:window,h?(j=r.relatedTarget||r.toElement,h=p,j=j?Ri(j):null,j!==null&&(C=Gi(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(h=null,j=p),h!==j)){if(v=Af,S="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=$f,S="onPointerLeave",g="onPointerEnter",x="pointer"),C=h==null?b:gs(h),w=j==null?b:gs(j),b=new v(S,x+"leave",h,r,_),b.target=C,b.relatedTarget=w,S=null,Ri(_)===p&&(v=new v(g,x+"enter",j,r,_),v.target=w,v.relatedTarget=C,S=v),C=S,h&&j)t:{for(v=h,g=j,x=0,w=v;w;w=us(w))x++;for(w=0,S=g;S;S=us(S))w++;for(;0<x-w;)v=us(v),x--;for(;0<w-x;)g=us(g),w--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=us(v),g=us(g)}v=null}else v=null;h!==null&&Wf(f,b,h,v,!1),j!==null&&C!==null&&Wf(f,C,j,v,!0)}}e:{if(b=p?gs(p):window,h=b.nodeName&&b.nodeName.toLowerCase(),h==="select"||h==="input"&&b.type==="file")var I=Vv;else if(Ff(b))if(Zm)I=Gv;else{I=Kv;var $=Wv}else(h=b.nodeName)&&h.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(I=qv);if(I&&(I=I(e,p))){Qm(f,I,r,_);break e}$&&$(e,b,p),e==="focusout"&&($=b._wrapperState)&&$.controlled&&b.type==="number"&&sc(b,"number",b.value)}switch($=p?gs(p):window,e){case"focusin":(Ff($)||$.contentEditable==="true")&&(ms=$,vc=p,ka=null);break;case"focusout":ka=vc=ms=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,Uf(f,r,_);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":Uf(f,r,_)}var M;if(gd)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else hs?Gm(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(qm&&r.locale!=="ko"&&(hs||P!=="onCompositionStart"?P==="onCompositionEnd"&&hs&&(M=Km()):(ti=_,hd="value"in ti?ti.value:ti.textContent,hs=!0)),$=ml(p,P),0<$.length&&(P=new Pf(P,e,null,r,_),f.push({event:P,listeners:$}),M?P.data=M:(M=Ym(r),M!==null&&(P.data=M)))),(M=zv?Bv(e,r):Lv(e,r))&&(p=ml(p,"onBeforeInput"),0<p.length&&(_=new Pf("onBeforeInput","beforeinput",null,r,_),f.push({event:_,listeners:p}),_.data=M))}op(f,t)})}function Ba(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ml(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Pa(e,r),s!=null&&n.unshift(Ba(e,s,a)),s=Pa(e,t),s!=null&&n.push(Ba(e,s,a))),e=e.return}return n}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wf(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var u=r,d=u.alternate,p=u.stateNode;if(d!==null&&d===n)break;u.tag===5&&p!==null&&(u=p,a?(d=Pa(r,s),d!=null&&o.unshift(Ba(r,d,u))):a||(d=Pa(r,s),d!=null&&o.push(Ba(r,d,u)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var tx=/\r\n?/g,rx=/\u0000|\uFFFD/g;function Kf(e){return(typeof e=="string"?e:""+e).replace(tx,`
`).replace(rx,"")}function Ro(e,t,r){if(t=Kf(t),Kf(e)!==t&&r)throw Error($e(425))}function pl(){}var yc=null,bc=null;function wc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,nx=typeof clearTimeout=="function"?clearTimeout:void 0,qf=typeof Promise=="function"?Promise:void 0,ix=typeof queueMicrotask=="function"?queueMicrotask:typeof qf<"u"?function(e){return qf.resolve(null).then(e).catch(sx)}:_c;function sx(e){setTimeout(function(){throw e})}function $u(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ma(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ma(t)}function ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),fn="__reactFiber$"+Hs,La="__reactProps$"+Hs,In="__reactContainer$"+Hs,jc="__reactEvents$"+Hs,ax="__reactListeners$"+Hs,ox="__reactHandles$"+Hs;function Ri(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[In]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gf(e);e!==null;){if(r=e[fn])return r;e=Gf(e)}return t}e=r,r=e.parentNode}return null}function to(e){return e=e[fn]||e[In],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function Ul(e){return e[La]||null}var Nc=[],vs=-1;function pi(e){return{current:e}}function kt(e){0>vs||(e.current=Nc[vs],Nc[vs]=null,vs--)}function jt(e,t){vs++,Nc[vs]=e.current,e.current=t}var hi={},ir=pi(hi),yr=pi(!1),Bi=hi;function Ps(e,t){var r=e.type.contextTypes;if(!r)return hi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function br(e){return e=e.childContextTypes,e!=null}function gl(){kt(yr),kt(ir)}function Yf(e,t,r){if(ir.current!==hi)throw Error($e(168));jt(ir,t),jt(yr,r)}function up(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error($e(108,W0(e)||"Unknown",a));return Tt({},r,n)}function vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,Bi=ir.current,jt(ir,e),jt(yr,yr.current),!0}function Qf(e,t,r){var n=e.stateNode;if(!n)throw Error($e(169));r?(e=up(e,t,Bi),n.__reactInternalMemoizedMergedChildContext=e,kt(yr),kt(ir),jt(ir,e)):kt(yr),jt(yr,r)}var Nn=null,Hl=!1,Ru=!1;function cp(e){Nn===null?Nn=[e]:Nn.push(e)}function lx(e){Hl=!0,cp(e)}function gi(){if(!Ru&&Nn!==null){Ru=!0;var e=0,t=xt;try{var r=Nn;for(xt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nn=null,Hl=!1}catch(a){throw Nn!==null&&(Nn=Nn.slice(e+1)),Rm(ud,gi),a}finally{xt=t,Ru=!1}}return null}var xs=[],ys=0,xl=null,yl=0,Fr=[],Or=0,Li=null,kn=1,Cn="";function Pi(e,t){xs[ys++]=yl,xs[ys++]=xl,xl=e,yl=t}function dp(e,t,r){Fr[Or++]=kn,Fr[Or++]=Cn,Fr[Or++]=Li,Li=e;var n=kn;e=Cn;var a=32-Xr(n)-1;n&=~(1<<a),r+=1;var s=32-Xr(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,kn=1<<32-Xr(t)+a|r<<a|n,Cn=s+e}else kn=1<<s|r<<a|n,Cn=e}function xd(e){e.return!==null&&(Pi(e,1),dp(e,1,0))}function yd(e){for(;e===xl;)xl=xs[--ys],xs[ys]=null,yl=xs[--ys],xs[ys]=null;for(;e===Li;)Li=Fr[--Or],Fr[Or]=null,Cn=Fr[--Or],Fr[Or]=null,kn=Fr[--Or],Fr[Or]=null}var Er=null,Sr=null,Ct=!1,Qr=null;function fp(e,t){var r=zr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Er=e,Sr=ai(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Er=e,Sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Li!==null?{id:kn,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Er=e,Sr=null,!0):!1;default:return!1}}function kc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cc(e){if(Ct){var t=Sr;if(t){var r=t;if(!Zf(e,t)){if(kc(e))throw Error($e(418));t=ai(r.nextSibling);var n=Er;t&&Zf(e,t)?fp(n,r):(e.flags=e.flags&-4097|2,Ct=!1,Er=e)}}else{if(kc(e))throw Error($e(418));e.flags=e.flags&-4097|2,Ct=!1,Er=e}}}function Xf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Er=e}function Mo(e){if(e!==Er)return!1;if(!Ct)return Xf(e),Ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wc(e.type,e.memoizedProps)),t&&(t=Sr)){if(kc(e))throw hp(),Error($e(418));for(;t;)fp(e,t),t=ai(t.nextSibling)}if(Xf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sr=ai(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sr=null}}else Sr=Er?ai(e.stateNode.nextSibling):null;return!0}function hp(){for(var e=Sr;e;)e=ai(e.nextSibling)}function $s(){Sr=Er=null,Ct=!1}function bd(e){Qr===null?Qr=[e]:Qr.push(e)}var ux=Mn.ReactCurrentBatchConfig;function fa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($e(309));var n=r.stateNode}if(!n)throw Error($e(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=a.refs;o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error($e(284));if(!r._owner)throw Error($e(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jf(e){var t=e._init;return t(e._payload)}function mp(e){function t(g,x){if(e){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=ci(g,x),g.index=0,g.sibling=null,g}function s(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function u(g,x,w,S){return x===null||x.tag!==6?(x=Uu(w,g.mode,S),x.return=g,x):(x=a(x,w),x.return=g,x)}function d(g,x,w,S){var I=w.type;return I===fs?_(g,x,w.props.children,S,w.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Zn&&Jf(I)===x.type)?(S=a(x,w.props),S.ref=fa(g,x,w),S.return=g,S):(S=nl(w.type,w.key,w.props,null,g.mode,S),S.ref=fa(g,x,w),S.return=g,S)}function p(g,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Hu(w,g.mode,S),x.return=g,x):(x=a(x,w.children||[]),x.return=g,x)}function _(g,x,w,S,I){return x===null||x.tag!==7?(x=zi(w,g.mode,S,I),x.return=g,x):(x=a(x,w),x.return=g,x)}function f(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Uu(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:return w=nl(x.type,x.key,x.props,null,g.mode,w),w.ref=fa(g,null,x),w.return=g,w;case ds:return x=Hu(x,g.mode,w),x.return=g,x;case Zn:var S=x._init;return f(g,S(x._payload),w)}if(xa(x)||oa(x))return x=zi(x,g.mode,w,null),x.return=g,x;Fo(g,x)}return null}function b(g,x,w,S){var I=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:u(g,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Co:return w.key===I?d(g,x,w,S):null;case ds:return w.key===I?p(g,x,w,S):null;case Zn:return I=w._init,b(g,x,I(w._payload),S)}if(xa(w)||oa(w))return I!==null?null:_(g,x,w,S,null);Fo(g,w)}return null}function h(g,x,w,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,u(x,g,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Co:return g=g.get(S.key===null?w:S.key)||null,d(x,g,S,I);case ds:return g=g.get(S.key===null?w:S.key)||null,p(x,g,S,I);case Zn:var $=S._init;return h(g,x,w,$(S._payload),I)}if(xa(S)||oa(S))return g=g.get(w)||null,_(x,g,S,I,null);Fo(x,S)}return null}function j(g,x,w,S){for(var I=null,$=null,M=x,P=x=0,L=null;M!==null&&P<w.length;P++){M.index>P?(L=M,M=null):L=M.sibling;var le=b(g,M,w[P],S);if(le===null){M===null&&(M=L);break}e&&M&&le.alternate===null&&t(g,M),x=s(le,x,P),$===null?I=le:$.sibling=le,$=le,M=L}if(P===w.length)return r(g,M),Ct&&Pi(g,P),I;if(M===null){for(;P<w.length;P++)M=f(g,w[P],S),M!==null&&(x=s(M,x,P),$===null?I=M:$.sibling=M,$=M);return Ct&&Pi(g,P),I}for(M=n(g,M);P<w.length;P++)L=h(M,g,P,w[P],S),L!==null&&(e&&L.alternate!==null&&M.delete(L.key===null?P:L.key),x=s(L,x,P),$===null?I=L:$.sibling=L,$=L);return e&&M.forEach(function(Re){return t(g,Re)}),Ct&&Pi(g,P),I}function v(g,x,w,S){var I=oa(w);if(typeof I!="function")throw Error($e(150));if(w=I.call(w),w==null)throw Error($e(151));for(var $=I=null,M=x,P=x=0,L=null,le=w.next();M!==null&&!le.done;P++,le=w.next()){M.index>P?(L=M,M=null):L=M.sibling;var Re=b(g,M,le.value,S);if(Re===null){M===null&&(M=L);break}e&&M&&Re.alternate===null&&t(g,M),x=s(Re,x,P),$===null?I=Re:$.sibling=Re,$=Re,M=L}if(le.done)return r(g,M),Ct&&Pi(g,P),I;if(M===null){for(;!le.done;P++,le=w.next())le=f(g,le.value,S),le!==null&&(x=s(le,x,P),$===null?I=le:$.sibling=le,$=le);return Ct&&Pi(g,P),I}for(M=n(g,M);!le.done;P++,le=w.next())le=h(M,g,P,le.value,S),le!==null&&(e&&le.alternate!==null&&M.delete(le.key===null?P:le.key),x=s(le,x,P),$===null?I=le:$.sibling=le,$=le);return e&&M.forEach(function(O){return t(g,O)}),Ct&&Pi(g,P),I}function C(g,x,w,S){if(typeof w=="object"&&w!==null&&w.type===fs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Co:e:{for(var I=w.key,$=x;$!==null;){if($.key===I){if(I=w.type,I===fs){if($.tag===7){r(g,$.sibling),x=a($,w.props.children),x.return=g,g=x;break e}}else if($.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Zn&&Jf(I)===$.type){r(g,$.sibling),x=a($,w.props),x.ref=fa(g,$,w),x.return=g,g=x;break e}r(g,$);break}else t(g,$);$=$.sibling}w.type===fs?(x=zi(w.props.children,g.mode,S,w.key),x.return=g,g=x):(S=nl(w.type,w.key,w.props,null,g.mode,S),S.ref=fa(g,x,w),S.return=g,g=S)}return o(g);case ds:e:{for($=w.key;x!==null;){if(x.key===$)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(g,x.sibling),x=a(x,w.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=Hu(w,g.mode,S),x.return=g,g=x}return o(g);case Zn:return $=w._init,C(g,x,$(w._payload),S)}if(xa(w))return j(g,x,w,S);if(oa(w))return v(g,x,w,S);Fo(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,w),x.return=g,g=x):(r(g,x),x=Uu(w,g.mode,S),x.return=g,g=x),o(g)):r(g,x)}return C}var Rs=mp(!0),pp=mp(!1),bl=pi(null),wl=null,bs=null,wd=null;function _d(){wd=bs=wl=null}function jd(e){var t=bl.current;kt(bl),e._currentValue=t}function Sc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ss(e,t){wl=e,wd=bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function Lr(e){var t=e._currentValue;if(wd!==e)if(e={context:e,memoizedValue:t,next:null},bs===null){if(wl===null)throw Error($e(308));bs=e,wl.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Mi=null;function Nd(e){Mi===null?Mi=[e]:Mi.push(e)}function gp(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Nd(t)):(r.next=a.next,a.next=r),t.interleaved=r,An(e,n)}function An(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xn=!1;function kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ft&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,An(e,r)}return a=n.interleaved,a===null?(t.next=t,Nd(n)):(t.next=a.next,a.next=t),n.interleaved=t,An(e,r)}function Zo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cd(e,r)}}function eh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _l(e,t,r,n){var a=e.updateQueue;Xn=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var d=u,p=d.next;d.next=null,o===null?s=p:o.next=p,o=d;var _=e.alternate;_!==null&&(_=_.updateQueue,u=_.lastBaseUpdate,u!==o&&(u===null?_.firstBaseUpdate=p:u.next=p,_.lastBaseUpdate=d))}if(s!==null){var f=a.baseState;o=0,_=p=d=null,u=s;do{var b=u.lane,h=u.eventTime;if((n&b)===b){_!==null&&(_=_.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var j=e,v=u;switch(b=t,h=r,v.tag){case 1:if(j=v.payload,typeof j=="function"){f=j.call(h,f,b);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,b=typeof j=="function"?j.call(h,f,b):j,b==null)break e;f=Tt({},f,b);break e;case 2:Xn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,b=a.effects,b===null?a.effects=[u]:b.push(u))}else h={eventTime:h,lane:b,tag:u.tag,payload:u.payload,callback:u.callback,next:null},_===null?(p=_=h,d=f):_=_.next=h,o|=b;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;b=u,u=b.next,b.next=null,a.lastBaseUpdate=b,a.shared.pending=null}}while(!0);if(_===null&&(d=f),a.baseState=d,a.firstBaseUpdate=p,a.lastBaseUpdate=_,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Hi|=o,e.lanes=o,e.memoizedState=f}}function th(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error($e(191,a));a.call(n)}}}var ro={},pn=pi(ro),Ua=pi(ro),Ha=pi(ro);function Fi(e){if(e===ro)throw Error($e(174));return e}function Cd(e,t){switch(jt(Ha,t),jt(Ua,e),jt(pn,ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oc(t,e)}kt(pn),jt(pn,t)}function Ms(){kt(pn),kt(Ua),kt(Ha)}function xp(e){Fi(Ha.current);var t=Fi(pn.current),r=oc(t,e.type);t!==r&&(jt(Ua,e),jt(pn,r))}function Sd(e){Ua.current===e&&(kt(pn),kt(Ua))}var St=pi(0);function jl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mu=[];function Ed(){for(var e=0;e<Mu.length;e++)Mu[e]._workInProgressVersionPrimary=null;Mu.length=0}var Xo=Mn.ReactCurrentDispatcher,Fu=Mn.ReactCurrentBatchConfig,Ui=0,Et=null,Ut=null,Wt=null,Nl=!1,Ca=!1,Va=0,cx=0;function er(){throw Error($e(321))}function Dd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!en(e[r],t[r]))return!1;return!0}function Td(e,t,r,n,a,s){if(Ui=s,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=e===null||e.memoizedState===null?mx:px,e=r(n,a),Ca){s=0;do{if(Ca=!1,Va=0,25<=s)throw Error($e(301));s+=1,Wt=Ut=null,t.updateQueue=null,Xo.current=gx,e=r(n,a)}while(Ca)}if(Xo.current=kl,t=Ut!==null&&Ut.next!==null,Ui=0,Wt=Ut=Et=null,Nl=!1,t)throw Error($e(300));return e}function Id(){var e=Va!==0;return Va=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Et.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function Ur(){if(Ut===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var t=Wt===null?Et.memoizedState:Wt.next;if(t!==null)Wt=t,Ut=e;else{if(e===null)throw Error($e(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Wt===null?Et.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function Wa(e,t){return typeof t=="function"?t(e):t}function Ou(e){var t=Ur(),r=t.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=e;var n=Ut,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var u=o=null,d=null,p=s;do{var _=p.lane;if((Ui&_)===_)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var f={lane:_,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(u=d=f,o=n):d=d.next=f,Et.lanes|=_,Hi|=_}p=p.next}while(p!==null&&p!==s);d===null?o=n:d.next=u,en(n,t.memoizedState)||(xr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Et.lanes|=s,Hi|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zu(e){var t=Ur(),r=t.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);en(s,t.memoizedState)||(xr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function yp(){}function bp(e,t){var r=Et,n=Ur(),a=t(),s=!en(n.memoizedState,a);if(s&&(n.memoizedState=a,xr=!0),n=n.queue,Ad(jp.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,Ka(9,_p.bind(null,r,n,a,t),void 0,null),qt===null)throw Error($e(349));Ui&30||wp(r,t,a)}return a}function wp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _p(e,t,r,n){t.value=r,t.getSnapshot=n,Np(t)&&kp(e)}function jp(e,t,r){return r(function(){Np(t)&&kp(e)})}function Np(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!en(e,r)}catch{return!0}}function kp(e){var t=An(e,1);t!==null&&Jr(t,e,1,-1)}function rh(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t.queue=e,e=e.dispatch=hx.bind(null,Et,e),[t.memoizedState,e]}function Ka(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cp(){return Ur().memoizedState}function Jo(e,t,r,n){var a=dn();Et.flags|=e,a.memoizedState=Ka(1|t,r,void 0,n===void 0?null:n)}function Vl(e,t,r,n){var a=Ur();n=n===void 0?null:n;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,n!==null&&Dd(n,o.deps)){a.memoizedState=Ka(t,r,s,n);return}}Et.flags|=e,a.memoizedState=Ka(1|t,r,s,n)}function nh(e,t){return Jo(8390656,8,e,t)}function Ad(e,t){return Vl(2048,8,e,t)}function Sp(e,t){return Vl(4,2,e,t)}function Ep(e,t){return Vl(4,4,e,t)}function Dp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tp(e,t,r){return r=r!=null?r.concat([e]):null,Vl(4,4,Dp.bind(null,t,e),r)}function Pd(){}function Ip(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ap(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Pp(e,t,r){return Ui&21?(en(r,t)||(r=Om(),Et.lanes|=r,Hi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=r)}function dx(e,t){var r=xt;xt=r!==0&&4>r?r:4,e(!0);var n=Fu.transition;Fu.transition={};try{e(!1),t()}finally{xt=r,Fu.transition=n}}function $p(){return Ur().memoizedState}function fx(e,t,r){var n=ui(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rp(e))Mp(t,r);else if(r=gp(e,t,r,n),r!==null){var a=cr();Jr(r,e,n,a),Fp(r,t,n)}}function hx(e,t,r){var n=ui(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rp(e))Mp(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,r);if(a.hasEagerState=!0,a.eagerState=u,en(u,o)){var d=t.interleaved;d===null?(a.next=a,Nd(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}r=gp(e,t,a,n),r!==null&&(a=cr(),Jr(r,e,n,a),Fp(r,t,n))}}function Rp(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function Mp(e,t){Ca=Nl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cd(e,r)}}var kl={readContext:Lr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},mx={readContext:Lr,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Lr,useEffect:nh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jo(4194308,4,Dp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jo(4,2,e,t)},useMemo:function(e,t){var r=dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fx.bind(null,Et,e),[n.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:rh,useDebugValue:Pd,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=rh(!1),t=e[0];return e=dx.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Et,a=dn();if(Ct){if(r===void 0)throw Error($e(407));r=r()}else{if(r=t(),qt===null)throw Error($e(349));Ui&30||wp(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,nh(jp.bind(null,n,s,e),[e]),n.flags|=2048,Ka(9,_p.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=dn(),t=qt.identifierPrefix;if(Ct){var r=Cn,n=kn;r=(n&~(1<<32-Xr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Va++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},px={readContext:Lr,useCallback:Ip,useContext:Lr,useEffect:Ad,useImperativeHandle:Tp,useInsertionEffect:Sp,useLayoutEffect:Ep,useMemo:Ap,useReducer:Ou,useRef:Cp,useState:function(){return Ou(Wa)},useDebugValue:Pd,useDeferredValue:function(e){var t=Ur();return Pp(t,Ut.memoizedState,e)},useTransition:function(){var e=Ou(Wa)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:yp,useSyncExternalStore:bp,useId:$p,unstable_isNewReconciler:!1},gx={readContext:Lr,useCallback:Ip,useContext:Lr,useEffect:Ad,useImperativeHandle:Tp,useInsertionEffect:Sp,useLayoutEffect:Ep,useMemo:Ap,useReducer:zu,useRef:Cp,useState:function(){return zu(Wa)},useDebugValue:Pd,useDeferredValue:function(e){var t=Ur();return Ut===null?t.memoizedState=e:Pp(t,Ut.memoizedState,e)},useTransition:function(){var e=zu(Wa)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:yp,useSyncExternalStore:bp,useId:$p,unstable_isNewReconciler:!1};function Gr(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ec(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wl={isMounted:function(e){return(e=e._reactInternals)?Gi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cr(),a=ui(e),s=Sn(n,a);s.payload=t,r!=null&&(s.callback=r),t=oi(e,s,a),t!==null&&(Jr(t,e,a,n),Zo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cr(),a=ui(e),s=Sn(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=oi(e,s,a),t!==null&&(Jr(t,e,a,n),Zo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cr(),n=ui(e),a=Sn(r,n);a.tag=2,t!=null&&(a.callback=t),t=oi(e,a,n),t!==null&&(Jr(t,e,n,r),Zo(t,e,n))}};function ih(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Oa(r,n)||!Oa(a,s):!0}function Op(e,t,r){var n=!1,a=hi,s=t.contextType;return typeof s=="object"&&s!==null?s=Lr(s):(a=br(t)?Bi:ir.current,n=t.contextTypes,s=(n=n!=null)?Ps(e,a):hi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function sh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function Dc(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},kd(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Lr(s):(s=br(t)?Bi:ir.current,a.context=Ps(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ec(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Wl.enqueueReplaceState(a,a.state,null),_l(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var r="",n=t;do r+=V0(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Bu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Tc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vx=typeof WeakMap=="function"?WeakMap:Map;function zp(e,t,r){r=Sn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Sl||(Sl=!0,Bc=n),Tc(e,t)},r}function Bp(e,t,r){r=Sn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Tc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Tc(e,t),typeof n!="function"&&(li===null?li=new Set([this]):li.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ah(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vx;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Ix.bind(null,e,t,r),t.then(e,e))}function oh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lh(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sn(-1,1),t.tag=2,oi(r,t,1))),r.lanes|=1),e)}var xx=Mn.ReactCurrentOwner,xr=!1;function ur(e,t,r,n){t.child=e===null?pp(t,null,r,n):Rs(t,e.child,r,n)}function uh(e,t,r,n,a){r=r.render;var s=t.ref;return Ss(t,a),n=Td(e,t,r,n,s,a),r=Id(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pn(e,t,a)):(Ct&&r&&xd(t),t.flags|=1,ur(e,t,n,a),t.child)}function ch(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!Ld(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Lp(e,t,s,n,a)):(e=nl(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Oa,r(o,n)&&e.ref===t.ref)return Pn(e,t,a)}return t.flags|=1,e=ci(s,n),e.ref=t.ref,e.return=t,t.child=e}function Lp(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Oa(s,n)&&e.ref===t.ref)if(xr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,Pn(e,t,a)}return Ic(e,t,r,n,a)}function Up(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(_s,Cr),Cr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jt(_s,Cr),Cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,jt(_s,Cr),Cr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,jt(_s,Cr),Cr|=n;return ur(e,t,a,r),t.child}function Hp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ic(e,t,r,n,a){var s=br(r)?Bi:ir.current;return s=Ps(t,s),Ss(t,a),r=Td(e,t,r,n,s,a),n=Id(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pn(e,t,a)):(Ct&&n&&xd(t),t.flags|=1,ur(e,t,r,a),t.child)}function dh(e,t,r,n,a){if(br(r)){var s=!0;vl(t)}else s=!1;if(Ss(t,a),t.stateNode===null)el(e,t),Op(t,r,n),Dc(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var d=o.context,p=r.contextType;typeof p=="object"&&p!==null?p=Lr(p):(p=br(r)?Bi:ir.current,p=Ps(t,p));var _=r.getDerivedStateFromProps,f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||d!==p)&&sh(t,o,n,p),Xn=!1;var b=t.memoizedState;o.state=b,_l(t,n,o,a),d=t.memoizedState,u!==n||b!==d||yr.current||Xn?(typeof _=="function"&&(Ec(t,r,_,n),d=t.memoizedState),(u=Xn||ih(t,r,u,n,b,d,p))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=p,n=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,vp(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:Gr(t.type,u),o.props=p,f=t.pendingProps,b=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=Lr(d):(d=br(r)?Bi:ir.current,d=Ps(t,d));var h=r.getDerivedStateFromProps;(_=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==f||b!==d)&&sh(t,o,n,d),Xn=!1,b=t.memoizedState,o.state=b,_l(t,n,o,a);var j=t.memoizedState;u!==f||b!==j||yr.current||Xn?(typeof h=="function"&&(Ec(t,r,h,n),j=t.memoizedState),(p=Xn||ih(t,r,p,n,b,j,d)||!1)?(_||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,j,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,j,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=j),o.props=n,o.state=j,o.context=d,n=p):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),n=!1)}return Ac(e,t,r,n,s,a)}function Ac(e,t,r,n,a,s){Hp(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Qf(t,r,!1),Pn(e,t,s);n=t.stateNode,xx.current=t;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Rs(t,e.child,null,s),t.child=Rs(t,null,u,s)):ur(e,t,u,s),t.memoizedState=n.state,a&&Qf(t,r,!0),t.child}function Vp(e){var t=e.stateNode;t.pendingContext?Yf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yf(e,t.context,!1),Cd(e,t.containerInfo)}function fh(e,t,r,n,a){return $s(),bd(a),t.flags|=256,ur(e,t,r,n),t.child}var Pc={dehydrated:null,treeContext:null,retryLane:0};function $c(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wp(e,t,r){var n=t.pendingProps,a=St.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(a&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),jt(St,a&1),e===null)return Cc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gl(o,n,0,null),e=zi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$c(r),t.memoizedState=Pc,e):$d(t,o));if(a=e.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return yx(e,t,o,n,u,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,u=a.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=ci(a,d),n.subtreeFlags=a.subtreeFlags&14680064),u!==null?s=ci(u,s):(s=zi(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?$c(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Pc,n}return s=e.child,e=s.sibling,n=ci(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $d(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oo(e,t,r,n){return n!==null&&bd(n),Rs(t,e.child,null,r),e=$d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yx(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Bu(Error($e(422))),Oo(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Gl({mode:"visible",children:n.children},a,0,null),s=zi(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Rs(t,e.child,null,o),t.child.memoizedState=$c(o),t.memoizedState=Pc,s);if(!(t.mode&1))return Oo(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error($e(419)),n=Bu(s,n,void 0),Oo(e,t,o,n)}if(u=(o&e.childLanes)!==0,xr||u){if(n=qt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,An(e,a),Jr(n,e,a,-1))}return Bd(),n=Bu(Error($e(421))),Oo(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Ax.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Sr=ai(a.nextSibling),Er=t,Ct=!0,Qr=null,e!==null&&(Fr[Or++]=kn,Fr[Or++]=Cn,Fr[Or++]=Li,kn=e.id,Cn=e.overflow,Li=t),t=$d(t,n.children),t.flags|=4096,t)}function hh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sc(e.return,t,r)}function Lu(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Kp(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(ur(e,t,n.children,r),n=St.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hh(e,r,t);else if(e.tag===19)hh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(jt(St,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&jl(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Lu(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&jl(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Lu(t,!0,r,null,s);break;case"together":Lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,r=ci(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ci(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bx(e,t,r){switch(t.tag){case 3:Vp(t),$s();break;case 5:xp(t);break;case 1:br(t.type)&&vl(t);break;case 4:Cd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;jt(bl,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(jt(St,St.current&1),t.flags|=128,null):r&t.child.childLanes?Wp(e,t,r):(jt(St,St.current&1),e=Pn(e,t,r),e!==null?e.sibling:null);jt(St,St.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Kp(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),jt(St,St.current),n)break;return null;case 22:case 23:return t.lanes=0,Up(e,t,r)}return Pn(e,t,r)}var qp,Rc,Gp,Yp;qp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rc=function(){};Gp=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Fi(pn.current);var s=null;switch(r){case"input":a=nc(e,a),n=nc(e,n),s=[];break;case"select":a=Tt({},a,{value:void 0}),n=Tt({},n,{value:void 0}),s=[];break;case"textarea":a=ac(e,a),n=ac(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pl)}lc(r,n);var o;r=null;for(p in a)if(!n.hasOwnProperty(p)&&a.hasOwnProperty(p)&&a[p]!=null)if(p==="style"){var u=a[p];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Ia.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in n){var d=n[p];if(u=a!=null?a[p]:void 0,n.hasOwnProperty(p)&&d!==u&&(d!=null||u!=null))if(p==="style")if(u){for(o in u)!u.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&u[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(s||(s=[]),s.push(p,r)),r=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(s=s||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Ia.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&Nt("scroll",e),s||u===d||(s=[])):(s=s||[]).push(p,d))}r&&(s=s||[]).push("style",r);var p=s;(t.updateQueue=p)&&(t.flags|=4)}};Yp=function(e,t,r,n){r!==n&&(t.flags|=4)};function ha(e,t){if(!Ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wx(e,t,r){var n=t.pendingProps;switch(yd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return br(t.type)&&gl(),tr(t),null;case 3:return n=t.stateNode,Ms(),kt(yr),kt(ir),Ed(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qr!==null&&(Hc(Qr),Qr=null))),Rc(e,t),tr(t),null;case 5:Sd(t);var a=Fi(Ha.current);if(r=t.type,e!==null&&t.stateNode!=null)Gp(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($e(166));return tr(t),null}if(e=Fi(pn.current),Mo(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[fn]=t,n[La]=s,e=(t.mode&1)!==0,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<ba.length;a++)Nt(ba[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":_f(n,s),Nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Nt("invalid",n);break;case"textarea":Nf(n,s),Nt("invalid",n)}lc(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&Ro(n.textContent,u,e),a=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Ro(n.textContent,u,e),a=["children",""+u]):Ia.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Nt("scroll",n)}switch(r){case"input":So(n),jf(n,s,!0);break;case"textarea":So(n),kf(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=pl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fn]=t,e[La]=n,qp(e,t,!1,!1),t.stateNode=e;e:{switch(o=uc(r,n),r){case"dialog":Nt("cancel",e),Nt("close",e),a=n;break;case"iframe":case"object":case"embed":Nt("load",e),a=n;break;case"video":case"audio":for(a=0;a<ba.length;a++)Nt(ba[a],e);a=n;break;case"source":Nt("error",e),a=n;break;case"img":case"image":case"link":Nt("error",e),Nt("load",e),a=n;break;case"details":Nt("toggle",e),a=n;break;case"input":_f(e,n),a=nc(e,n),Nt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Tt({},n,{value:void 0}),Nt("invalid",e);break;case"textarea":Nf(e,n),a=ac(e,n),Nt("invalid",e);break;default:a=n}lc(r,a),u=a;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];s==="style"?Cm(e,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Nm(e,d)):s==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Aa(e,d):typeof d=="number"&&Aa(e,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ia.hasOwnProperty(s)?d!=null&&s==="onScroll"&&Nt("scroll",e):d!=null&&id(e,s,d,o))}switch(r){case"input":So(e),jf(e,n,!1);break;case"textarea":So(e),kf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+fi(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?js(e,!!n.multiple,s,!1):n.defaultValue!=null&&js(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)Yp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($e(166));if(r=Fi(Ha.current),Fi(pn.current),Mo(t)){if(n=t.stateNode,r=t.memoizedProps,n[fn]=t,(s=n.nodeValue!==r)&&(e=Er,e!==null))switch(e.tag){case 3:Ro(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ro(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fn]=t,t.stateNode=n}return tr(t),null;case 13:if(kt(St),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ct&&Sr!==null&&t.mode&1&&!(t.flags&128))hp(),$s(),t.flags|=98560,s=!1;else if(s=Mo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error($e(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($e(317));s[fn]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tr(t),s=!1}else Qr!==null&&(Hc(Qr),Qr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Ht===0&&(Ht=3):Bd())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return Ms(),Rc(e,t),e===null&&za(t.stateNode.containerInfo),tr(t),null;case 10:return jd(t.type._context),tr(t),null;case 17:return br(t.type)&&gl(),tr(t),null;case 19:if(kt(St),s=t.memoizedState,s===null)return tr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)ha(s,!1);else{if(Ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jl(e),o!==null){for(t.flags|=128,ha(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return jt(St,St.current&1|2),t.child}e=e.sibling}s.tail!==null&&Rt()>Os&&(t.flags|=128,n=!0,ha(s,!1),t.lanes=4194304)}else{if(!n)if(e=jl(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ha(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ct)return tr(t),null}else 2*Rt()-s.renderingStartTime>Os&&r!==1073741824&&(t.flags|=128,n=!0,ha(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Rt(),t.sibling=null,r=St.current,jt(St,n?r&1|2:r&1),t):(tr(t),null);case 22:case 23:return zd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Cr&1073741824&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error($e(156,t.tag))}function _x(e,t){switch(yd(t),t.tag){case 1:return br(t.type)&&gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),kt(yr),kt(ir),Ed(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sd(t),null;case 13:if(kt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kt(St),null;case 4:return Ms(),null;case 10:return jd(t.type._context),null;case 22:case 23:return zd(),null;case 24:return null;default:return null}}var zo=!1,nr=!1,jx=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function ws(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(e,t,n)}else r.current=null}function Mc(e,t,r){try{r()}catch(n){It(e,t,n)}}var mh=!1;function Nx(e,t){if(yc=fl,e=ep(),vd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,d=-1,p=0,_=0,f=e,b=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(u=o+a),f!==s||n!==0&&f.nodeType!==3||(d=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)b=f,f=h;for(;;){if(f===e)break t;if(b===r&&++p===a&&(u=o),b===s&&++_===n&&(d=o),(h=f.nextSibling)!==null)break;f=b,b=f.parentNode}f=h}r=u===-1||d===-1?null:{start:u,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(bc={focusedElem:e,selectionRange:r},fl=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){t=Xe;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,C=j.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Gr(t.type,v),C);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(S){It(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}return j=mh,mh=!1,j}function Sa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Mc(t,r,s)}a=a.next}while(a!==n)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Fc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Qp(e){var t=e.alternate;t!==null&&(e.alternate=null,Qp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[La],delete t[jc],delete t[ax],delete t[ox])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zp(e){return e.tag===5||e.tag===3||e.tag===4}function ph(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pl));else if(n!==4&&(e=e.child,e!==null))for(Oc(e,t,r),e=e.sibling;e!==null;)Oc(e,t,r),e=e.sibling}function zc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zc(e,t,r),e=e.sibling;e!==null;)zc(e,t,r),e=e.sibling}var Gt=null,Yr=!1;function Qn(e,t,r){for(r=r.child;r!==null;)Xp(e,t,r),r=r.sibling}function Xp(e,t,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ol,r)}catch{}switch(r.tag){case 5:nr||ws(r,t);case 6:var n=Gt,a=Yr;Gt=null,Qn(e,t,r),Gt=n,Yr=a,Gt!==null&&(Yr?(e=Gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Gt.removeChild(r.stateNode));break;case 18:Gt!==null&&(Yr?(e=Gt,r=r.stateNode,e.nodeType===8?$u(e.parentNode,r):e.nodeType===1&&$u(e,r),Ma(e)):$u(Gt,r.stateNode));break;case 4:n=Gt,a=Yr,Gt=r.stateNode.containerInfo,Yr=!0,Qn(e,t,r),Gt=n,Yr=a;break;case 0:case 11:case 14:case 15:if(!nr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mc(r,t,o),a=a.next}while(a!==n)}Qn(e,t,r);break;case 1:if(!nr&&(ws(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){It(r,t,u)}Qn(e,t,r);break;case 21:Qn(e,t,r);break;case 22:r.mode&1?(nr=(n=nr)||r.memoizedState!==null,Qn(e,t,r),nr=n):Qn(e,t,r);break;default:Qn(e,t,r)}}function gh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jx),t.forEach(function(n){var a=Px.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function qr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:Gt=u.stateNode,Yr=!1;break e;case 3:Gt=u.stateNode.containerInfo,Yr=!0;break e;case 4:Gt=u.stateNode.containerInfo,Yr=!0;break e}u=u.return}if(Gt===null)throw Error($e(160));Xp(s,o,a),Gt=null,Yr=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(p){It(a,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jp(t,e),t=t.sibling}function Jp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qr(t,e),cn(e),n&4){try{Sa(3,e,e.return),Kl(3,e)}catch(v){It(e,e.return,v)}try{Sa(5,e,e.return)}catch(v){It(e,e.return,v)}}break;case 1:qr(t,e),cn(e),n&512&&r!==null&&ws(r,r.return);break;case 5:if(qr(t,e),cn(e),n&512&&r!==null&&ws(r,r.return),e.flags&32){var a=e.stateNode;try{Aa(a,"")}catch(v){It(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&wm(a,s),uc(u,o);var p=uc(u,s);for(o=0;o<d.length;o+=2){var _=d[o],f=d[o+1];_==="style"?Cm(a,f):_==="dangerouslySetInnerHTML"?Nm(a,f):_==="children"?Aa(a,f):id(a,_,f,p)}switch(u){case"input":ic(a,s);break;case"textarea":_m(a,s);break;case"select":var b=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?js(a,!!s.multiple,h,!1):b!==!!s.multiple&&(s.defaultValue!=null?js(a,!!s.multiple,s.defaultValue,!0):js(a,!!s.multiple,s.multiple?[]:"",!1))}a[La]=s}catch(v){It(e,e.return,v)}}break;case 6:if(qr(t,e),cn(e),n&4){if(e.stateNode===null)throw Error($e(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){It(e,e.return,v)}}break;case 3:if(qr(t,e),cn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(t.containerInfo)}catch(v){It(e,e.return,v)}break;case 4:qr(t,e),cn(e);break;case 13:qr(t,e),cn(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Fd=Rt())),n&4&&gh(e);break;case 22:if(_=r!==null&&r.memoizedState!==null,e.mode&1?(nr=(p=nr)||_,qr(t,e),nr=p):qr(t,e),cn(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!_&&e.mode&1)for(Xe=e,_=e.child;_!==null;){for(f=Xe=_;Xe!==null;){switch(b=Xe,h=b.child,b.tag){case 0:case 11:case 14:case 15:Sa(4,b,b.return);break;case 1:ws(b,b.return);var j=b.stateNode;if(typeof j.componentWillUnmount=="function"){n=b,r=b.return;try{t=n,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){It(n,r,v)}}break;case 5:ws(b,b.return);break;case 22:if(b.memoizedState!==null){xh(f);continue}}h!==null?(h.return=b,Xe=h):xh(f)}_=_.sibling}e:for(_=null,f=e;;){if(f.tag===5){if(_===null){_=f;try{a=f.stateNode,p?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=f.stateNode,d=f.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=km("display",o))}catch(v){It(e,e.return,v)}}}else if(f.tag===6){if(_===null)try{f.stateNode.nodeValue=p?"":f.memoizedProps}catch(v){It(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;_===f&&(_=null),f=f.return}_===f&&(_=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qr(t,e),cn(e),n&4&&gh(e);break;case 21:break;default:qr(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zp(r)){var n=r;break e}r=r.return}throw Error($e(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Aa(a,""),n.flags&=-33);var s=ph(e);zc(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,u=ph(e);Oc(e,u,o);break;default:throw Error($e(161))}}catch(d){It(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kx(e,t,r){Xe=e,eg(e)}function eg(e,t,r){for(var n=(e.mode&1)!==0;Xe!==null;){var a=Xe,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||zo;if(!o){var u=a.alternate,d=u!==null&&u.memoizedState!==null||nr;u=zo;var p=nr;if(zo=o,(nr=d)&&!p)for(Xe=a;Xe!==null;)o=Xe,d=o.child,o.tag===22&&o.memoizedState!==null?yh(a):d!==null?(d.return=o,Xe=d):yh(a);for(;s!==null;)Xe=s,eg(s),s=s.sibling;Xe=a,zo=u,nr=p}vh(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Xe=s):vh(e)}}function vh(e){for(;Xe!==null;){var t=Xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nr||Kl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Gr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&th(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}th(t,o,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var _=p.memoizedState;if(_!==null){var f=_.dehydrated;f!==null&&Ma(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}nr||t.flags&512&&Fc(t)}catch(b){It(t,t.return,b)}}if(t===e){Xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Xe=r;break}Xe=t.return}}function xh(e){for(;Xe!==null;){var t=Xe;if(t===e){Xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Xe=r;break}Xe=t.return}}function yh(e){for(;Xe!==null;){var t=Xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Kl(4,t)}catch(d){It(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(d){It(t,a,d)}}var s=t.return;try{Fc(t)}catch(d){It(t,s,d)}break;case 5:var o=t.return;try{Fc(t)}catch(d){It(t,o,d)}}}catch(d){It(t,t.return,d)}if(t===e){Xe=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Xe=u;break}Xe=t.return}}var Cx=Math.ceil,Cl=Mn.ReactCurrentDispatcher,Rd=Mn.ReactCurrentOwner,Br=Mn.ReactCurrentBatchConfig,ft=0,qt=null,zt=null,Yt=0,Cr=0,_s=pi(0),Ht=0,qa=null,Hi=0,ql=0,Md=0,Ea=null,vr=null,Fd=0,Os=1/0,jn=null,Sl=!1,Bc=null,li=null,Bo=!1,ri=null,El=0,Da=0,Lc=null,tl=-1,rl=0;function cr(){return ft&6?Rt():tl!==-1?tl:tl=Rt()}function ui(e){return e.mode&1?ft&2&&Yt!==0?Yt&-Yt:ux.transition!==null?(rl===0&&(rl=Om()),rl):(e=xt,e!==0||(e=window.event,e=e===void 0?16:Wm(e.type)),e):1}function Jr(e,t,r,n){if(50<Da)throw Da=0,Lc=null,Error($e(185));Ja(e,r,n),(!(ft&2)||e!==qt)&&(e===qt&&(!(ft&2)&&(ql|=r),Ht===4&&ei(e,Yt)),wr(e,n),r===1&&ft===0&&!(t.mode&1)&&(Os=Rt()+500,Hl&&gi()))}function wr(e,t){var r=e.callbackNode;uv(e,t);var n=dl(e,e===qt?Yt:0);if(n===0)r!==null&&Ef(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ef(r),t===1)e.tag===0?lx(bh.bind(null,e)):cp(bh.bind(null,e)),ix(function(){!(ft&6)&&gi()}),r=null;else{switch(zm(n)){case 1:r=ud;break;case 4:r=Mm;break;case 16:r=cl;break;case 536870912:r=Fm;break;default:r=cl}r=lg(r,tg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function tg(e,t){if(tl=-1,rl=0,ft&6)throw Error($e(327));var r=e.callbackNode;if(Es()&&e.callbackNode!==r)return null;var n=dl(e,e===qt?Yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Dl(e,n);else{t=n;var a=ft;ft|=2;var s=ng();(qt!==e||Yt!==t)&&(jn=null,Os=Rt()+500,Oi(e,t));do try{Dx();break}catch(u){rg(e,u)}while(!0);_d(),Cl.current=s,ft=a,zt!==null?t=0:(qt=null,Yt=0,t=Ht)}if(t!==0){if(t===2&&(a=mc(e),a!==0&&(n=a,t=Uc(e,a))),t===1)throw r=qa,Oi(e,0),ei(e,n),wr(e,Rt()),r;if(t===6)ei(e,n);else{if(a=e.current.alternate,!(n&30)&&!Sx(a)&&(t=Dl(e,n),t===2&&(s=mc(e),s!==0&&(n=s,t=Uc(e,s))),t===1))throw r=qa,Oi(e,0),ei(e,n),wr(e,Rt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error($e(345));case 2:$i(e,vr,jn);break;case 3:if(ei(e,n),(n&130023424)===n&&(t=Fd+500-Rt(),10<t)){if(dl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){cr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_c($i.bind(null,e,vr,jn),t);break}$i(e,vr,jn);break;case 4:if(ei(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Xr(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cx(n/1960))-n,10<n){e.timeoutHandle=_c($i.bind(null,e,vr,jn),n);break}$i(e,vr,jn);break;case 5:$i(e,vr,jn);break;default:throw Error($e(329))}}}return wr(e,Rt()),e.callbackNode===r?tg.bind(null,e):null}function Uc(e,t){var r=Ea;return e.current.memoizedState.isDehydrated&&(Oi(e,t).flags|=256),e=Dl(e,t),e!==2&&(t=vr,vr=r,t!==null&&Hc(t)),e}function Hc(e){vr===null?vr=e:vr.push.apply(vr,e)}function Sx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!en(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ei(e,t){for(t&=~Md,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xr(t),n=1<<r;e[r]=-1,t&=~n}}function bh(e){if(ft&6)throw Error($e(327));Es();var t=dl(e,0);if(!(t&1))return wr(e,Rt()),null;var r=Dl(e,t);if(e.tag!==0&&r===2){var n=mc(e);n!==0&&(t=n,r=Uc(e,n))}if(r===1)throw r=qa,Oi(e,0),ei(e,t),wr(e,Rt()),r;if(r===6)throw Error($e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$i(e,vr,jn),wr(e,Rt()),null}function Od(e,t){var r=ft;ft|=1;try{return e(t)}finally{ft=r,ft===0&&(Os=Rt()+500,Hl&&gi())}}function Vi(e){ri!==null&&ri.tag===0&&!(ft&6)&&Es();var t=ft;ft|=1;var r=Br.transition,n=xt;try{if(Br.transition=null,xt=1,e)return e()}finally{xt=n,Br.transition=r,ft=t,!(ft&6)&&gi()}}function zd(){Cr=_s.current,kt(_s)}function Oi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nx(r)),zt!==null)for(r=zt.return;r!==null;){var n=r;switch(yd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gl();break;case 3:Ms(),kt(yr),kt(ir),Ed();break;case 5:Sd(n);break;case 4:Ms();break;case 13:kt(St);break;case 19:kt(St);break;case 10:jd(n.type._context);break;case 22:case 23:zd()}r=r.return}if(qt=e,zt=e=ci(e.current,null),Yt=Cr=t,Ht=0,qa=null,Md=ql=Hi=0,vr=Ea=null,Mi!==null){for(t=0;t<Mi.length;t++)if(r=Mi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Mi=null}return e}function rg(e,t){do{var r=zt;try{if(_d(),Xo.current=kl,Nl){for(var n=Et.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Nl=!1}if(Ui=0,Wt=Ut=Et=null,Ca=!1,Va=0,Rd.current=null,r===null||r.return===null){Ht=1,qa=t,zt=null;break}e:{var s=e,o=r.return,u=r,d=t;if(t=Yt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,_=u,f=_.tag;if(!(_.mode&1)&&(f===0||f===11||f===15)){var b=_.alternate;b?(_.updateQueue=b.updateQueue,_.memoizedState=b.memoizedState,_.lanes=b.lanes):(_.updateQueue=null,_.memoizedState=null)}var h=oh(o);if(h!==null){h.flags&=-257,lh(h,o,u,s,t),h.mode&1&&ah(s,p,t),t=h,d=p;var j=t.updateQueue;if(j===null){var v=new Set;v.add(d),t.updateQueue=v}else j.add(d);break e}else{if(!(t&1)){ah(s,p,t),Bd();break e}d=Error($e(426))}}else if(Ct&&u.mode&1){var C=oh(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),lh(C,o,u,s,t),bd(Fs(d,u));break e}}s=d=Fs(d,u),Ht!==4&&(Ht=2),Ea===null?Ea=[s]:Ea.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=zp(s,d,t);eh(s,g);break e;case 1:u=d;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(li===null||!li.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=Bp(s,u,t);eh(s,S);break e}}s=s.return}while(s!==null)}sg(r)}catch(I){t=I,zt===r&&r!==null&&(zt=r=r.return);continue}break}while(!0)}function ng(){var e=Cl.current;return Cl.current=kl,e===null?kl:e}function Bd(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),qt===null||!(Hi&268435455)&&!(ql&268435455)||ei(qt,Yt)}function Dl(e,t){var r=ft;ft|=2;var n=ng();(qt!==e||Yt!==t)&&(jn=null,Oi(e,t));do try{Ex();break}catch(a){rg(e,a)}while(!0);if(_d(),ft=r,Cl.current=n,zt!==null)throw Error($e(261));return qt=null,Yt=0,Ht}function Ex(){for(;zt!==null;)ig(zt)}function Dx(){for(;zt!==null&&!ev();)ig(zt)}function ig(e){var t=og(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,t===null?sg(e):zt=t,Rd.current=null}function sg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_x(r,t),r!==null){r.flags&=32767,zt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,zt=null;return}}else if(r=wx(r,t,Cr),r!==null){zt=r;return}if(t=t.sibling,t!==null){zt=t;return}zt=t=e}while(t!==null);Ht===0&&(Ht=5)}function $i(e,t,r){var n=xt,a=Br.transition;try{Br.transition=null,xt=1,Tx(e,t,r,n)}finally{Br.transition=a,xt=n}return null}function Tx(e,t,r,n){do Es();while(ri!==null);if(ft&6)throw Error($e(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($e(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(cv(e,s),e===qt&&(zt=qt=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bo||(Bo=!0,lg(cl,function(){return Es(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Br.transition,Br.transition=null;var o=xt;xt=1;var u=ft;ft|=4,Rd.current=null,Nx(e,r),Jp(r,e),Qv(bc),fl=!!yc,bc=yc=null,e.current=r,kx(r),tv(),ft=u,xt=o,Br.transition=s}else e.current=r;if(Bo&&(Bo=!1,ri=e,El=a),s=e.pendingLanes,s===0&&(li=null),iv(r.stateNode),wr(e,Rt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Sl)throw Sl=!1,e=Bc,Bc=null,e;return El&1&&e.tag!==0&&Es(),s=e.pendingLanes,s&1?e===Lc?Da++:(Da=0,Lc=e):Da=0,gi(),null}function Es(){if(ri!==null){var e=zm(El),t=Br.transition,r=xt;try{if(Br.transition=null,xt=16>e?16:e,ri===null)var n=!1;else{if(e=ri,ri=null,El=0,ft&6)throw Error($e(331));var a=ft;for(ft|=4,Xe=e.current;Xe!==null;){var s=Xe,o=s.child;if(Xe.flags&16){var u=s.deletions;if(u!==null){for(var d=0;d<u.length;d++){var p=u[d];for(Xe=p;Xe!==null;){var _=Xe;switch(_.tag){case 0:case 11:case 15:Sa(8,_,s)}var f=_.child;if(f!==null)f.return=_,Xe=f;else for(;Xe!==null;){_=Xe;var b=_.sibling,h=_.return;if(Qp(_),_===p){Xe=null;break}if(b!==null){b.return=h,Xe=b;break}Xe=h}}}var j=s.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}Xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Xe=o;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sa(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Xe=g;break e}Xe=s.return}}var x=e.current;for(Xe=x;Xe!==null;){o=Xe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Xe=w;else e:for(o=x;Xe!==null;){if(u=Xe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Kl(9,u)}}catch(I){It(u,u.return,I)}if(u===o){Xe=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,Xe=S;break e}Xe=u.return}}if(ft=a,gi(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ol,e)}catch{}n=!0}return n}finally{xt=r,Br.transition=t}}return!1}function wh(e,t,r){t=Fs(r,t),t=zp(e,t,1),e=oi(e,t,1),t=cr(),e!==null&&(Ja(e,1,t),wr(e,t))}function It(e,t,r){if(e.tag===3)wh(e,e,r);else for(;t!==null;){if(t.tag===3){wh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(li===null||!li.has(n))){e=Fs(r,e),e=Bp(t,e,1),t=oi(t,e,1),e=cr(),t!==null&&(Ja(t,1,e),wr(t,e));break}}t=t.return}}function Ix(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cr(),e.pingedLanes|=e.suspendedLanes&r,qt===e&&(Yt&r)===r&&(Ht===4||Ht===3&&(Yt&130023424)===Yt&&500>Rt()-Fd?Oi(e,0):Md|=r),wr(e,t)}function ag(e,t){t===0&&(e.mode&1?(t=To,To<<=1,!(To&130023424)&&(To=4194304)):t=1);var r=cr();e=An(e,t),e!==null&&(Ja(e,t,r),wr(e,r))}function Ax(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ag(e,r)}function Px(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($e(314))}n!==null&&n.delete(t),ag(e,r)}var og;og=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||yr.current)xr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xr=!1,bx(e,t,r);xr=!!(e.flags&131072)}else xr=!1,Ct&&t.flags&1048576&&dp(t,yl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;el(e,t),e=t.pendingProps;var a=Ps(t,ir.current);Ss(t,r),a=Td(null,t,n,e,a,r);var s=Id();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(n)?(s=!0,vl(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kd(t),a.updater=Wl,t.stateNode=a,a._reactInternals=t,Dc(t,n,e,r),t=Ac(null,t,n,!0,s,r)):(t.tag=0,Ct&&s&&xd(t),ur(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(el(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Rx(n),e=Gr(n,e),a){case 0:t=Ic(null,t,n,e,r);break e;case 1:t=dh(null,t,n,e,r);break e;case 11:t=uh(null,t,n,e,r);break e;case 14:t=ch(null,t,n,Gr(n.type,e),r);break e}throw Error($e(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),Ic(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),dh(e,t,n,a,r);case 3:e:{if(Vp(t),e===null)throw Error($e(387));n=t.pendingProps,s=t.memoizedState,a=s.element,vp(e,t),_l(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Fs(Error($e(423)),t),t=fh(e,t,n,r,a);break e}else if(n!==a){a=Fs(Error($e(424)),t),t=fh(e,t,n,r,a);break e}else for(Sr=ai(t.stateNode.containerInfo.firstChild),Er=t,Ct=!0,Qr=null,r=pp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),n===a){t=Pn(e,t,r);break e}ur(e,t,n,r)}t=t.child}return t;case 5:return xp(t),e===null&&Cc(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,wc(n,a)?o=null:s!==null&&wc(n,s)&&(t.flags|=32),Hp(e,t),ur(e,t,o,r),t.child;case 6:return e===null&&Cc(t),null;case 13:return Wp(e,t,r);case 4:return Cd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rs(t,null,n,r):ur(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),uh(e,t,n,a,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,jt(bl,n._currentValue),n._currentValue=o,s!==null)if(en(s.value,o)){if(s.children===a.children&&!yr.current){t=Pn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var d=u.firstContext;d!==null;){if(d.context===n){if(s.tag===1){d=Sn(-1,r&-r),d.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var _=p.pending;_===null?d.next=d:(d.next=_.next,_.next=d),p.pending=d}}s.lanes|=r,d=s.alternate,d!==null&&(d.lanes|=r),Sc(s.return,r,t),u.lanes|=r;break}d=d.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($e(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),Sc(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ur(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ss(t,r),a=Lr(a),n=n(a),t.flags|=1,ur(e,t,n,r),t.child;case 14:return n=t.type,a=Gr(n,t.pendingProps),a=Gr(n.type,a),ch(e,t,n,a,r);case 15:return Lp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),el(e,t),t.tag=1,br(n)?(e=!0,vl(t)):e=!1,Ss(t,r),Op(t,n,a),Dc(t,n,a,r),Ac(null,t,n,!0,e,r);case 19:return Kp(e,t,r);case 22:return Up(e,t,r)}throw Error($e(156,t.tag))};function lg(e,t){return Rm(e,t)}function $x(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,r,n){return new $x(e,t,r,n)}function Ld(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rx(e){if(typeof e=="function")return Ld(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ad)return 11;if(e===od)return 14}return 2}function ci(e,t){var r=e.alternate;return r===null?(r=zr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function nl(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")Ld(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fs:return zi(r.children,a,s,t);case sd:o=8,a|=8;break;case Ju:return e=zr(12,r,t,a|2),e.elementType=Ju,e.lanes=s,e;case ec:return e=zr(13,r,t,a),e.elementType=ec,e.lanes=s,e;case tc:return e=zr(19,r,t,a),e.elementType=tc,e.lanes=s,e;case xm:return Gl(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gm:o=10;break e;case vm:o=9;break e;case ad:o=11;break e;case od:o=14;break e;case Zn:o=16,n=null;break e}throw Error($e(130,e==null?e:typeof e,""))}return t=zr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function zi(e,t,r,n){return e=zr(7,e,n,t),e.lanes=r,e}function Gl(e,t,r,n){return e=zr(22,e,n,t),e.elementType=xm,e.lanes=r,e.stateNode={isHidden:!1},e}function Uu(e,t,r){return e=zr(6,e,null,t),e.lanes=r,e}function Hu(e,t,r){return t=zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mx(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ju(0),this.expirationTimes=ju(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ud(e,t,r,n,a,s,o,u,d){return e=new Mx(e,t,r,u,d),t===1?(t=1,s===!0&&(t|=8)):t=0,s=zr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kd(s),e}function Fx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ds,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ug(e){if(!e)return hi;e=e._reactInternals;e:{if(Gi(e)!==e||e.tag!==1)throw Error($e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($e(171))}if(e.tag===1){var r=e.type;if(br(r))return up(e,r,t)}return t}function cg(e,t,r,n,a,s,o,u,d){return e=Ud(r,n,!0,e,a,s,o,u,d),e.context=ug(null),r=e.current,n=cr(),a=ui(r),s=Sn(n,a),s.callback=t??null,oi(r,s,a),e.current.lanes=a,Ja(e,a,n),wr(e,n),e}function Yl(e,t,r,n){var a=t.current,s=cr(),o=ui(a);return r=ug(r),t.context===null?t.context=r:t.pendingContext=r,t=Sn(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=oi(a,t,o),e!==null&&(Jr(e,a,o,s),Zo(e,a,o)),o}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hd(e,t){_h(e,t),(e=e.alternate)&&_h(e,t)}function Ox(){return null}var dg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vd(e){this._internalRoot=e}Ql.prototype.render=Vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));Yl(e,t,null,null)};Ql.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vi(function(){Yl(null,e,null,null)}),t[In]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Um();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jn.length&&t!==0&&t<Jn[r].priority;r++);Jn.splice(r,0,e),r===0&&Vm(e)}};function Wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jh(){}function zx(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var p=Tl(o);s.call(p)}}var o=cg(t,n,e,0,null,!1,!1,"",jh);return e._reactRootContainer=o,e[In]=o.current,za(e.nodeType===8?e.parentNode:e),Vi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var u=n;n=function(){var p=Tl(d);u.call(p)}}var d=Ud(e,0,!1,null,null,!1,!1,"",jh);return e._reactRootContainer=d,e[In]=d.current,za(e.nodeType===8?e.parentNode:e),Vi(function(){Yl(t,d,r,n)}),d}function Xl(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var u=a;a=function(){var d=Tl(o);u.call(d)}}Yl(t,o,e,a)}else o=zx(r,t,e,a,n);return Tl(o)}Bm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ya(t.pendingLanes);r!==0&&(cd(t,r|1),wr(t,Rt()),!(ft&6)&&(Os=Rt()+500,gi()))}break;case 13:Vi(function(){var n=An(e,1);if(n!==null){var a=cr();Jr(n,e,1,a)}}),Hd(e,1)}};dd=function(e){if(e.tag===13){var t=An(e,134217728);if(t!==null){var r=cr();Jr(t,e,134217728,r)}Hd(e,134217728)}};Lm=function(e){if(e.tag===13){var t=ui(e),r=An(e,t);if(r!==null){var n=cr();Jr(r,e,t,n)}Hd(e,t)}};Um=function(){return xt};Hm=function(e,t){var r=xt;try{return xt=e,t()}finally{xt=r}};dc=function(e,t,r){switch(t){case"input":if(ic(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ul(n);if(!a)throw Error($e(90));bm(n),ic(n,a)}}}break;case"textarea":_m(e,r);break;case"select":t=r.value,t!=null&&js(e,!!r.multiple,t,!1)}};Dm=Od;Tm=Vi;var Bx={usingClientEntryPoint:!1,Events:[to,gs,Ul,Sm,Em,Od]},ma={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lx={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pm(e),e===null?null:e.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||Ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{Ol=Lo.inject(Lx),mn=Lo}catch{}}Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bx;Tr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wd(t))throw Error($e(200));return Fx(e,t,null,r)};Tr.createRoot=function(e,t){if(!Wd(e))throw Error($e(299));var r=!1,n="",a=dg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ud(e,1,!1,null,null,r,!1,n,a),e[In]=t.current,za(e.nodeType===8?e.parentNode:e),new Vd(t)};Tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=Pm(t),e=e===null?null:e.stateNode,e};Tr.flushSync=function(e){return Vi(e)};Tr.hydrate=function(e,t,r){if(!Zl(t))throw Error($e(200));return Xl(null,e,t,!0,r)};Tr.hydrateRoot=function(e,t,r){if(!Wd(e))throw Error($e(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=dg;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=cg(t,null,e,1,r??null,a,!1,s,o),e[In]=t.current,za(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ql(t)};Tr.render=function(e,t,r){if(!Zl(t))throw Error($e(200));return Xl(null,e,t,!1,r)};Tr.unmountComponentAtNode=function(e){if(!Zl(e))throw Error($e(40));return e._reactRootContainer?(Vi(function(){Xl(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0):!1};Tr.unstable_batchedUpdates=Od;Tr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zl(r))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return Xl(e,t,r,!1,n)};Tr.version="18.3.1-next-f1338f8080-20240426";function fg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fg)}catch(e){console.error(e)}}fg(),fm.exports=Tr;var Ux=fm.exports,hg,Nh=Ux;hg=Nh.createRoot,Nh.hydrateRoot;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kh="popstate";function Hx(e={}){function t(n,a){let{pathname:s,search:o,hash:u}=n.location;return Vc("",{pathname:s,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ga(a)}return Wx(t,r,null,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vx(){return Math.random().toString(36).substring(2,10)}function Ch(e,t){return{usr:e.state,key:e.key,idx:t}}function Vc(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vs(t):t,state:r,key:t&&t.key||n||Vx()}}function Ga({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Wx(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,u="POP",d=null,p=_();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function _(){return(o.state||{idx:null}).idx}function f(){u="POP";let C=_(),g=C==null?null:C-p;p=C,d&&d({action:u,location:v.location,delta:g})}function b(C,g){u="PUSH";let x=Vc(v.location,C,g);p=_()+1;let w=Ch(x,p),S=v.createHref(x);try{o.pushState(w,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(S)}s&&d&&d({action:u,location:v.location,delta:1})}function h(C,g){u="REPLACE";let x=Vc(v.location,C,g);p=_();let w=Ch(x,p),S=v.createHref(x);o.replaceState(w,"",S),s&&d&&d({action:u,location:v.location,delta:0})}function j(C){return Kx(C)}let v={get action(){return u},get location(){return e(a,o)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(kh,f),d=C,()=>{a.removeEventListener(kh,f),d=null}},createHref(C){return t(a,C)},createURL:j,encodeLocation(C){let g=j(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:b,replace:h,go(C){return o.go(C)}};return v}function Kx(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ga(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function mg(e,t,r="/"){return qx(e,t,r,!1)}function qx(e,t,r,n){let a=typeof t=="string"?Vs(t):t,s=$n(a.pathname||"/",r);if(s==null)return null;let o=pg(e);Gx(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let p=sy(s);u=ny(o[d],p,n)}return u}function pg(e,t=[],r=[],n="",a=!1){let s=(o,u,d=a,p)=>{let _={relativePath:p===void 0?o.path||"":p,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(n)&&d)return;Dt(_.relativePath.startsWith(n),`Absolute route path "${_.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(n.length)}let f=En([n,_.relativePath]),b=r.concat(_);o.children&&o.children.length>0&&(Dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),pg(o.children,t,b,f,d)),!(o.path==null&&!o.index)&&t.push({path:f,score:ty(f,o.index),routesMeta:b})};return e.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,u);else for(let p of gg(o.path))s(o,u,!0,p)}),t}function gg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=gg(n.join("/")),u=[];return u.push(...o.map(d=>d===""?s:[s,d].join("/"))),a&&u.push(...o),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function Gx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ry(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Yx=/^:[\w-]+$/,Qx=3,Zx=2,Xx=1,Jx=10,ey=-2,Sh=e=>e==="*";function ty(e,t){let r=e.split("/"),n=r.length;return r.some(Sh)&&(n+=ey),t&&(n+=Zx),r.filter(a=>!Sh(a)).reduce((a,s)=>a+(Yx.test(s)?Qx:s===""?Xx:Jx),n)}function ry(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ny(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],p=u===n.length-1,_=s==="/"?t:t.slice(s.length)||"/",f=Il({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_),b=d.route;if(!f&&p&&r&&!n[n.length-1].route.index&&(f=Il({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:En([s,f.pathname]),pathnameBase:uy(En([s,f.pathnameBase])),route:b}),f.pathnameBase!=="/"&&(s=En([s,f.pathnameBase]))}return o}function Il(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=iy(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((p,{paramName:_,isOptional:f},b)=>{if(_==="*"){let j=u[b]||"";o=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const h=u[b];return f&&!h?p[_]=void 0:p[_]=(h||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:o,pattern:e}}function iy(e,t=!1,r=!0){tn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function sy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $n(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var vg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ay=e=>vg.test(e);function oy(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Vs(e):e,s;if(r)if(ay(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),tn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?s=Eh(r.substring(1),"/"):s=Eh(r,t)}else s=t;return{pathname:s,search:cy(n),hash:dy(a)}}function Eh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Vu(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ly(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xg(e){let t=ly(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function yg(e,t,r,n=!1){let a;typeof e=="string"?a=Vs(e):(a={...e},Dt(!a.pathname||!a.pathname.includes("?"),Vu("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),Vu("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),Vu("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,u;if(o==null)u=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),f-=1;a.pathname=b.join("/")}u=f>=0?t[f]:"/"}let d=oy(a,u),p=o&&o!=="/"&&o.endsWith("/"),_=(s||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(p||_)&&(d.pathname+="/"),d}var En=e=>e.join("/").replace(/\/\/+/g,"/"),uy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,fy=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function hy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function my(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wg(e,t){let r=e;if(typeof r!="string"||!vg.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(bg)try{let s=new URL(window.location.href),o=r.startsWith("//")?new URL(s.protocol+r):new URL(r),u=$n(o.pathname,t);o.origin===s.origin&&u!=null?r=u+o.search+o.hash:a=!0}catch{tn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _g=["POST","PUT","PATCH","DELETE"];new Set(_g);var py=["GET",..._g];new Set(py);var Ws=V.createContext(null);Ws.displayName="DataRouter";var Jl=V.createContext(null);Jl.displayName="DataRouterState";var gy=V.createContext(!1),jg=V.createContext({isTransitioning:!1});jg.displayName="ViewTransition";var vy=V.createContext(new Map);vy.displayName="Fetchers";var xy=V.createContext(null);xy.displayName="Await";var Hr=V.createContext(null);Hr.displayName="Navigation";var no=V.createContext(null);no.displayName="Location";var Fn=V.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var Kd=V.createContext(null);Kd.displayName="RouteError";var Ng="REACT_ROUTER_ERROR",yy="REDIRECT",by="ROUTE_ERROR_RESPONSE";function wy(e){if(e.startsWith(`${Ng}:${yy}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _y(e){if(e.startsWith(`${Ng}:${by}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new fy(t.status,t.statusText,t.data)}catch{}}function jy(e,{relative:t}={}){Dt(io(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=V.useContext(Hr),{hash:a,pathname:s,search:o}=so(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:En([r,s])),n.createHref({pathname:u,search:o,hash:a})}function io(){return V.useContext(no)!=null}function vi(){return Dt(io(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(no).location}var kg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cg(e){V.useContext(Hr).static||V.useLayoutEffect(e)}function Sg(){let{isDataRoute:e}=V.useContext(Fn);return e?My():Ny()}function Ny(){Dt(io(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Ws),{basename:t,navigator:r}=V.useContext(Hr),{matches:n}=V.useContext(Fn),{pathname:a}=vi(),s=JSON.stringify(xg(n)),o=V.useRef(!1);return Cg(()=>{o.current=!0}),V.useCallback((d,p={})=>{if(tn(o.current,kg),!o.current)return;if(typeof d=="number"){r.go(d);return}let _=yg(d,JSON.parse(s),a,p.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:En([t,_.pathname])),(p.replace?r.replace:r.push)(_,p.state,p)},[t,r,s,a,e])}V.createContext(null);function so(e,{relative:t}={}){let{matches:r}=V.useContext(Fn),{pathname:n}=vi(),a=JSON.stringify(xg(r));return V.useMemo(()=>yg(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function ky(e,t){return Eg(e,t)}function Eg(e,t,r,n,a){var x;Dt(io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(Hr),{matches:o}=V.useContext(Fn),u=o[o.length-1],d=u?u.params:{},p=u?u.pathname:"/",_=u?u.pathnameBase:"/",f=u&&u.route;{let w=f&&f.path||"";Tg(p,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let b=vi(),h;if(t){let w=typeof t=="string"?Vs(t):t;Dt(_==="/"||((x=w.pathname)==null?void 0:x.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=b;let j=h.pathname||"/",v=j;if(_!=="/"){let w=_.replace(/^\//,"").split("/");v="/"+j.replace(/^\//,"").split("/").slice(w.length).join("/")}let C=mg(e,{pathname:v});tn(f||C!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),tn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=Ty(C&&C.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:En([_,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?_:En([_,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,n,a);return t&&g?V.createElement(no.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},g):g}function Cy(){let e=Ry(),t=hy(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:s},"ErrorBoundary")," or"," ",V.createElement("code",{style:s},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),r?V.createElement("pre",{style:a},r):null,o)}var Sy=V.createElement(Cy,null),Dg=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=_y(e.digest);r&&(e=r)}let t=e!==void 0?V.createElement(Fn.Provider,{value:this.props.routeContext},V.createElement(Kd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?V.createElement(Ey,{error:e},t):t}};Dg.contextType=gy;var Wu=new WeakMap;function Ey({children:e,error:t}){let{basename:r}=V.useContext(Hr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=wy(t.digest);if(n){let a=Wu.get(t);if(a)throw a;let s=wg(n.location,r);if(bg&&!Wu.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Wu.set(t,o),o}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function Dy({routeContext:e,match:t,children:r}){let n=V.useContext(Ws);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(Fn.Provider,{value:e},r)}function Ty(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let _=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Dt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,_+1))}let u=!1,d=-1;if(r)for(let _=0;_<s.length;_++){let f=s[_];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=_),f.route.id){let{loaderData:b,errors:h}=r,j=f.route.loader&&!b.hasOwnProperty(f.route.id)&&(!h||h[f.route.id]===void 0);if(f.route.lazy||j){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let p=r&&n?(_,f)=>{var b,h;n(_,{location:r.location,params:((h=(b=r.matches)==null?void 0:b[0])==null?void 0:h.params)??{},unstable_pattern:my(r.matches),errorInfo:f})}:void 0;return s.reduceRight((_,f,b)=>{let h,j=!1,v=null,C=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||Sy,u&&(d<0&&b===0?(Tg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,C=null):d===b&&(j=!0,C=f.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,b+1)),x=()=>{let w;return h?w=v:j?w=C:f.route.Component?w=V.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=_,V.createElement(Dy,{match:f,routeContext:{outlet:_,matches:g,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||b===0)?V.createElement(Dg,{location:r.location,revalidation:r.revalidation,component:v,error:h,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:p}):x()},null)}function qd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iy(e){let t=V.useContext(Ws);return Dt(t,qd(e)),t}function Ay(e){let t=V.useContext(Jl);return Dt(t,qd(e)),t}function Py(e){let t=V.useContext(Fn);return Dt(t,qd(e)),t}function Gd(e){let t=Py(e),r=t.matches[t.matches.length-1];return Dt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function $y(){return Gd("useRouteId")}function Ry(){var n;let e=V.useContext(Kd),t=Ay("useRouteError"),r=Gd("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function My(){let{router:e}=Iy("useNavigate"),t=Gd("useNavigate"),r=V.useRef(!1);return Cg(()=>{r.current=!0}),V.useCallback(async(a,s={})=>{tn(r.current,kg),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var Dh={};function Tg(e,t,r){!t&&!Dh[e]&&(Dh[e]=!0,tn(!1,r))}V.memo(Fy);function Fy({routes:e,future:t,state:r,onError:n}){return Eg(e,void 0,r,n,t)}function il(e){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oy({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:o}){Dt(!io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:o,future:{}}),[u,a,s,o]);typeof r=="string"&&(r=Vs(r));let{pathname:p="/",search:_="",hash:f="",state:b=null,key:h="default"}=r,j=V.useMemo(()=>{let v=$n(p,u);return v==null?null:{location:{pathname:v,search:_,hash:f,state:b,key:h},navigationType:n}},[u,p,_,f,b,h,n]);return tn(j!=null,`<Router basename="${u}"> is not able to match the URL "${p}${_}${f}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:V.createElement(Hr.Provider,{value:d},V.createElement(no.Provider,{children:t,value:j}))}function zy({children:e,location:t}){return ky(Wc(e),t)}function Wc(e,t=[]){let r=[];return V.Children.forEach(e,(n,a)=>{if(!V.isValidElement(n))return;let s=[...t,a];if(n.type===V.Fragment){r.push.apply(r,Wc(n.props.children,s));return}Dt(n.type===il,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Wc(n.props.children,s)),r.push(o)}),r}var sl="get",al="application/x-www-form-urlencoded";function eu(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function By(e){return eu(e)&&e.tagName.toLowerCase()==="button"}function Ly(e){return eu(e)&&e.tagName.toLowerCase()==="form"}function Uy(e){return eu(e)&&e.tagName.toLowerCase()==="input"}function Hy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vy(e,t){return e.button===0&&(!t||t==="_self")&&!Hy(e)}var Uo=null;function Wy(){if(Uo===null)try{new FormData(document.createElement("form"),0),Uo=!1}catch{Uo=!0}return Uo}var Ky=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ku(e){return e!=null&&!Ky.has(e)?(tn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${al}"`),null):e}function qy(e,t){let r,n,a,s,o;if(Ly(e)){let u=e.getAttribute("action");n=u?$n(u,t):null,r=e.getAttribute("method")||sl,a=Ku(e.getAttribute("enctype"))||al,s=new FormData(e)}else if(By(e)||Uy(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?$n(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||sl,a=Ku(e.getAttribute("formenctype"))||Ku(u.getAttribute("enctype"))||al,s=new FormData(u,e),!Wy()){let{name:p,type:_,value:f}=e;if(_==="image"){let b=p?`${p}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else p&&s.append(p,f)}}else{if(eu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sl,n=null,a=al,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gy(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&$n(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Yy(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Zy(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await Yy(s,r);return o.links?o.links():[]}return[]}));return tb(n.flat(1).filter(Qy).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Th(e,t,r,n,a,s){let o=(d,p)=>r[p]?d.route.id!==r[p].route.id:!0,u=(d,p)=>{var _;return r[p].pathname!==d.pathname||((_=r[p].route.path)==null?void 0:_.endsWith("*"))&&r[p].params["*"]!==d.params["*"]};return s==="assets"?t.filter((d,p)=>o(d,p)||u(d,p)):s==="data"?t.filter((d,p)=>{var f;let _=n.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(o(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Xy(e,t,{includeHydrateFallback:r}={}){return Jy(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Jy(e){return[...new Set(e)]}function eb(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function tb(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(eb(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function Ig(){let e=V.useContext(Ws);return Yd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rb(){let e=V.useContext(Jl);return Yd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Qd=V.createContext(void 0);Qd.displayName="FrameworkContext";function Ag(){let e=V.useContext(Qd);return Yd(e,"You must render this element inside a <HydratedRouter> element"),e}function nb(e,t){let r=V.useContext(Qd),[n,a]=V.useState(!1),[s,o]=V.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:_,onTouchStart:f}=t,b=V.useRef(null);V.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=g=>{g.forEach(x=>{o(x.isIntersecting)})},C=new IntersectionObserver(v,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[e]),V.useEffect(()=>{if(n){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[n]);let h=()=>{a(!0)},j=()=>{a(!1),o(!1)};return r?e!=="intent"?[s,b,{}]:[s,b,{onFocus:pa(u,h),onBlur:pa(d,j),onMouseEnter:pa(p,h),onMouseLeave:pa(_,j),onTouchStart:pa(f,h)}]:[!1,b,{}]}function pa(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function ib({page:e,...t}){let{router:r}=Ig(),n=V.useMemo(()=>mg(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?V.createElement(ab,{page:e,matches:n,...t}):null}function sb(e){let{manifest:t,routeModules:r}=Ag(),[n,a]=V.useState([]);return V.useEffect(()=>{let s=!1;return Zy(e,t,r).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,r]),n}function ab({page:e,matches:t,...r}){let n=vi(),{manifest:a,routeModules:s}=Ag(),{basename:o}=Ig(),{loaderData:u,matches:d}=rb(),p=V.useMemo(()=>Th(e,t,d,a,n,"data"),[e,t,d,a,n]),_=V.useMemo(()=>Th(e,t,d,a,n,"assets"),[e,t,d,a,n]),f=V.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let j=new Set,v=!1;if(t.forEach(g=>{var w;let x=a.routes[g.route.id];!x||!x.hasLoader||(!p.some(S=>S.route.id===g.route.id)&&g.route.id in u&&((w=s[g.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?v=!0:j.add(g.route.id))}),j.size===0)return[];let C=Gy(e,o,"data");return v&&j.size>0&&C.searchParams.set("_routes",t.filter(g=>j.has(g.route.id)).map(g=>g.route.id).join(",")),[C.pathname+C.search]},[o,u,n,a,p,t,e,s]),b=V.useMemo(()=>Xy(_,a),[_,a]),h=sb(_);return V.createElement(V.Fragment,null,f.map(j=>V.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),b.map(j=>V.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),h.map(({key:j,link:v})=>V.createElement("link",{key:j,nonce:r.nonce,...v})))}function ob(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lb&&(window.__reactRouterVersion="7.11.0")}catch{}function ub({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=V.useRef();a.current==null&&(a.current=Hx({window:n,v5Compat:!0}));let s=a.current,[o,u]=V.useState({action:s.action,location:s.location}),d=V.useCallback(p=>{r===!1?u(p):V.startTransition(()=>u(p))},[r]);return V.useLayoutEffect(()=>s.listen(d),[s,d]),V.createElement(Oy,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:r})}var Pg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$g=V.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:u,target:d,to:p,preventScrollReset:_,viewTransition:f,unstable_defaultShouldRevalidate:b,...h},j){let{basename:v,unstable_useTransitions:C}=V.useContext(Hr),g=typeof p=="string"&&Pg.test(p),x=wg(p,v);p=x.to;let w=jy(p,{relative:a}),[S,I,$]=nb(n,h),M=hb(p,{replace:o,state:u,target:d,preventScrollReset:_,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:b,unstable_useTransitions:C});function P(le){t&&t(le),le.defaultPrevented||M(le)}let L=V.createElement("a",{...h,...$,href:x.absoluteURL||w,onClick:x.isExternal||s?t:P,ref:ob(j,I),target:d,"data-discover":!g&&r==="render"?"true":void 0});return S&&!g?V.createElement(V.Fragment,null,L,V.createElement(ib,{page:w})):L});$g.displayName="Link";var cb=V.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:u,children:d,...p},_){let f=so(o,{relative:p.relative}),b=vi(),h=V.useContext(Jl),{navigator:j,basename:v}=V.useContext(Hr),C=h!=null&&xb(f)&&u===!0,g=j.encodeLocation?j.encodeLocation(f).pathname:f.pathname,x=b.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&v&&(w=$n(w,v)||w);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let I=x===g||!a&&x.startsWith(g)&&x.charAt(S)==="/",$=w!=null&&(w===g||!a&&w.startsWith(g)&&w.charAt(g.length)==="/"),M={isActive:I,isPending:$,isTransitioning:C},P=I?t:void 0,L;typeof n=="function"?L=n(M):L=[n,I?"active":null,$?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let le=typeof s=="function"?s(M):s;return V.createElement($g,{...p,"aria-current":P,className:L,ref:_,style:le,to:o,viewTransition:u},typeof d=="function"?d(M):d)});cb.displayName="NavLink";var db=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:o=sl,action:u,onSubmit:d,relative:p,preventScrollReset:_,viewTransition:f,unstable_defaultShouldRevalidate:b,...h},j)=>{let{unstable_useTransitions:v}=V.useContext(Hr),C=gb(),g=vb(u,{relative:p}),x=o.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&Pg.test(u),S=I=>{if(d&&d(I),I.defaultPrevented)return;I.preventDefault();let $=I.nativeEvent.submitter,M=($==null?void 0:$.getAttribute("formmethod"))||o,P=()=>C($||I.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:a,state:s,relative:p,preventScrollReset:_,viewTransition:f,unstable_defaultShouldRevalidate:b});v&&r!==!1?V.startTransition(()=>P()):P()};return V.createElement("form",{ref:j,method:x,action:g,onSubmit:n?d:S,...h,"data-discover":!w&&e==="render"?"true":void 0})});db.displayName="Form";function fb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rg(e){let t=V.useContext(Ws);return Dt(t,fb(e)),t}function hb(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let p=Sg(),_=vi(),f=so(e,{relative:s});return V.useCallback(b=>{if(Vy(b,t)){b.preventDefault();let h=r!==void 0?r:Ga(_)===Ga(f),j=()=>p(e,{replace:h,state:n,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:u});d?V.startTransition(()=>j()):j()}},[_,p,f,r,n,t,e,a,s,o,u,d])}var mb=0,pb=()=>`__${String(++mb)}__`;function gb(){let{router:e}=Rg("useSubmit"),{basename:t}=V.useContext(Hr),r=$y(),n=e.fetch,a=e.navigate;return V.useCallback(async(s,o={})=>{let{action:u,method:d,encType:p,formData:_,body:f}=qy(s,t);if(o.navigate===!1){let b=o.fetcherKey||pb();await n(b,r,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:_,body:f,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await a(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:_,body:f,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function vb(e,{relative:t}={}){let{basename:r}=V.useContext(Hr),n=V.useContext(Fn);Dt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...so(e||".",{relative:t})},o=vi();if(e==null){s.search=o.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(_=>_==="")){u.delete("index"),d.filter(f=>f).forEach(f=>u.append("index",f));let _=u.toString();s.search=_?`?${_}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:En([r,s.pathname])),Ga(s)}function xb(e,{relative:t}={}){let r=V.useContext(jg);Dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Rg("useViewTransitionState"),a=so(e,{relative:t});if(!r.isTransitioning)return!1;let s=$n(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=$n(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Il(a.pathname,o)!=null||Il(a.pathname,s)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),tt=(e,t)=>{const r=V.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:u="",children:d,...p},_)=>V.createElement("svg",{ref:_,...yb,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${bb(e)}`,u].join(" "),...p},[...t.map(([f,b])=>V.createElement(f,b)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=tt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=tt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=tt("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h11V6H11a2 2 0 0 0-2 2v12",key:"1owzki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=tt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=tt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=tt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=tt("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=tt("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=tt("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=tt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=tt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=tt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=tt("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=tt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=tt("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=tt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=tt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=tt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=tt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=tt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=tt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=tt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=tt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=tt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=tt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=tt("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=tt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=tt("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=tt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=tt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ph="72b4987f77607964f64d1fd5a4935f81",Mb="https://api.themoviedb.org/3",Gu="https://image.tmdb.org/t/p/";class Fb{constructor(t=Ph){_n(this,"apiKey");this.apiKey=t}setApiKey(t){this.apiKey=t}async makeRequest(t,r={},n="fr"){const a=this.apiKey||Ph;if(a.length<32)throw new Error("Cl API TMDB invalide - vrifiez que vous avez saisi la bonne cl");const s=new URL(`${Mb}${t}`);s.searchParams.append("api_key",a),s.searchParams.append("language",n==="fr"?"fr-FR":"en-US"),Object.entries(r).forEach(([u,d])=>{s.searchParams.append(u,d)});const o=await fetch(s.toString());if(!o.ok)throw o.status===401?new Error("Cl API TMDB invalide ou expire - vrifiez votre cl dans les paramtres"):o.status===400?new Error("Requte invalide - vrifiez votre cl API TMDB dans les paramtres"):new Error(`Erreur TMDB: ${o.status} ${o.statusText}`);return o.json()}async searchMulti(t,r=1,n="fr",a){if(t.match(/^\d+$/)){const o=parseInt(t);try{const u=await this.getMovie(o,n);return{results:[{id:u.id,title:u.title,name:void 0,media_type:"movie",poster_path:u.poster_path,release_date:u.release_date,first_air_date:void 0,vote_average:u.vote_average,overview:u.overview}],total_pages:1}}catch{}try{const u=await this.getTVShow(o,n);return{results:[{id:u.id,title:void 0,name:u.name,media_type:"tv",poster_path:u.poster_path,release_date:void 0,first_air_date:u.first_air_date,vote_average:u.vote_average,overview:u.overview}],total_pages:1}}catch{return{results:[],total_pages:0}}}if(a){const[o,u]=await Promise.all([this.searchMovies(t,r,n,a).catch(()=>({results:[],total_pages:0})),this.searchTV(t,r,n,a).catch(()=>({results:[],total_pages:0}))]);return{results:[...o.results.map(p=>({...p,media_type:"movie"})),...u.results.map(p=>({...p,media_type:"tv"}))],total_pages:Math.max(o.total_pages,u.total_pages)}}return this.makeRequest("/search/multi",{query:encodeURIComponent(t),page:r.toString()},n)}async searchMovies(t,r=1,n="fr",a){const s={query:encodeURIComponent(t),page:r.toString()};return a&&(s.year=a.toString()),this.makeRequest("/search/movie",s,n)}async searchTV(t,r=1,n="fr",a){const s={query:encodeURIComponent(t),page:r.toString()};return a&&(s.first_air_date_year=a.toString()),this.makeRequest("/search/tv",s,n)}async getMovie(t,r="fr"){return this.makeRequest(`/movie/${t}`,{append_to_response:"videos"},r)}async getTVShow(t,r="fr"){return this.makeRequest(`/tv/${t}`,{append_to_response:"videos"},r)}async getMovieCredits(t,r="fr"){return this.makeRequest(`/movie/${t}/credits`,{},r)}async getTVCredits(t,r="fr"){return this.makeRequest(`/tv/${t}/credits`,{},r)}getImageUrl(t,r="w500"){return t?`${Gu}${r}${t}`:"/placeholder-poster.jpg"}getActorImageUrl(t){return t?`${Gu}w138_and_h175_face${t}`:"/placeholder-actor.jpg"}getBackdropUrl(t,r="w1280"){return t?`${Gu}${r}${t}`:"/placeholder-backdrop.jpg"}async getMovieVideos(t){return this.makeRequest(`/movie/${t}/videos`)}async getTVVideos(t){return this.makeRequest(`/tv/${t}/videos`)}async getMovieImages(t){return this.makeRequest(`/movie/${t}/images`,{include_image_language:"en,fr,null"})}async getTVImages(t){return this.makeRequest(`/tv/${t}/images`,{include_image_language:"en,fr,null"})}async getTrailerUrl(t,r){var n,a,s;try{const o=r==="movie"?await this.getMovieVideos(t):await this.getTVVideos(t);let u=(n=o.results)==null?void 0:n.find(d=>d.type==="Trailer"&&d.site==="YouTube"&&d.iso_639_1==="fr");return u||(u=(a=o.results)==null?void 0:a.find(d=>d.type==="Trailer"&&d.site==="YouTube"&&d.iso_639_1==="en")),u||(u=(s=o.results)==null?void 0:s.find(d=>d.site==="YouTube")),u?`https://www.youtube.com/watch?v=${u.key}`:null}catch(o){return console.error("Erreur lors de la rcupration de la bande-annonce:",o),null}}}const pt=new Fb;function Ob(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"message")}function Ho(e){return Ob(e)?e:new Error(typeof e=="string"?e:"Unknown error")}const zb=["Active_Height","Active_Width","AudioCount","Audio_Channels_Total","BitDepth_Detected","BitDepth","BitDepth_Stored","Channels","Channels_Original","Chapters_Pos_Begin","Chapters_Pos_End","Comic_Position_Total","Count","DataSize","ElementCount","EPG_Positions_Begin","EPG_Positions_End","FirstPacketOrder","FooterSize","Format_Settings_GMC","Format_Settings_RefFrames","Format_Settings_SliceCount","FrameCount","FrameRate_Den","FrameRate_Num","GeneralCount","HeaderSize","Height_CleanAperture","Height","Height_Offset","Height_Original","ImageCount","Lines_MaxCharacterCount","Lines_MaxCountPerEvent","Matrix_Channels","MenuCount","OtherCount","Part_Position","Part_Position_Total","Played_Count","Reel_Position","Reel_Position_Total","Resolution","Sampled_Height","Sampled_Width","SamplingCount","Season_Position","Season_Position_Total","Source_FrameCount","Source_SamplingCount","Source_StreamSize_Encoded","Source_StreamSize","Status","Stored_Height","Stored_Width","StreamCount","StreamKindID","StreamKindPos","StreamSize_Demuxed","StreamSize_Encoded","StreamSize","TextCount","Track_Position","Track_Position_Total","Video0_Delay","VideoCount","Width_CleanAperture","Width","Width_Offset","Width_Original"],Bb=["Active_DisplayAspectRatio","BitRate_Encoded","BitRate_Maximum","BitRate_Minimum","BitRate","BitRate_Nominal","Bits-Pixel_Frame","BitsPixel_Frame","Compression_Ratio","Delay","Delay_Original","DisplayAspectRatio_CleanAperture","DisplayAspectRatio","DisplayAspectRatio_Original","Duration_End_Command","Duration_End","Duration_FirstFrame","Duration_LastFrame","Duration","Duration_Start2End","Duration_Start_Command","Duration_Start","Events_MinDuration","FrameRate_Maximum","FrameRate_Minimum","FrameRate","FrameRate_Nominal","FrameRate_Original_Den","FrameRate_Original","FrameRate_Original_Num","FrameRate_Real","Interleave_Duration","Interleave_Preload","Interleave_VideoFrames","OverallBitRate_Maximum","OverallBitRate_Minimum","OverallBitRate","OverallBitRate_Nominal","PixelAspectRatio_CleanAperture","PixelAspectRatio","PixelAspectRatio_Original","SamplesPerFrame","SamplingRate","Source_Duration_FirstFrame","Source_Duration_LastFrame","Source_Duration","TimeStamp_FirstFrame","Video_Delay"],Yu=2**32,$h={coverData:!1,chunkSize:256*1024,format:"object",full:!1};class Lb{constructor(t,r){_n(this,"isAnalyzing",!1);this.mediainfoModule=t,this.options=r,this.mediainfoModuleInstance=this.instantiateModuleInstance()}analyzeData(t,r,n){if(n===void 0)return new Promise((d,p)=>{const _=(f,b)=>{this.isAnalyzing=!1,b||!f?p(Ho(b)):d(f)};this.analyzeData(t,r,_)});if(this.isAnalyzing){n("",new Error("cannot start a new analysis while another is in progress"));return}this.reset(),this.isAnalyzing=!0;const a=()=>{try{this.openBufferFinalize();const d=this.inform();this.options.format==="object"?n(this.parseResultJson(d)):n(d)}finally{this.isAnalyzing=!1}};let s=0;const o=d=>{const p=b=>{f(b)?_():a()},_=()=>{let b;try{const h=Math.min(this.options.chunkSize,d-s);b=r(h,s)}catch(h){this.isAnalyzing=!1,n("",Ho(h));return}b instanceof Promise?b.then(p).catch(h=>{this.isAnalyzing=!1,n("",Ho(h))}):p(b)},f=b=>{if(b.length===0||this.openBufferContinue(b,b.length))return!1;const h=this.openBufferContinueGotoGet();return h===-1?s+=b.length:(s=h,this.openBufferInit(d,h)),!0};this.openBufferInit(d,s),_()},u=typeof t=="function"?t():t;u instanceof Promise?u.then(o).catch(d=>{n(null,Ho(d))}):o(u)}close(){typeof this.mediainfoModuleInstance.close=="function"&&this.mediainfoModuleInstance.close()}reset(){this.mediainfoModuleInstance.delete(),this.mediainfoModuleInstance=this.instantiateModuleInstance()}inform(){return this.mediainfoModuleInstance.inform()}openBufferContinue(t,r){return!!(this.mediainfoModuleInstance.open_buffer_continue(t,r)&8)}openBufferContinueGotoGet(){let t=-1;const r=this.mediainfoModuleInstance.open_buffer_continue_goto_get_lower(),n=this.mediainfoModuleInstance.open_buffer_continue_goto_get_upper();return r==-1&&n==-1?t=-1:r<0?t=r+Yu+n*Yu:t=r+n*Yu,t}openBufferFinalize(){this.mediainfoModuleInstance.open_buffer_finalize()}openBufferInit(t,r){this.mediainfoModuleInstance.open_buffer_init(t,r)}parseResultJson(t){const r=zb,n=Bb,a=JSON.parse(t);if(a.media){const s={...a.media,track:[]};if(Array.isArray(a.media.track))for(const o of a.media.track){let u={"@type":o["@type"]};for(const[d,p]of Object.entries(o))d!=="@type"&&(typeof p=="string"&&r.includes(d)?u={...u,[d]:Number.parseInt(p,10)}:typeof p=="string"&&n.includes(d)?u={...u,[d]:Number.parseFloat(p)}:u={...u,[d]:p});s.track.push(u)}return{...a,media:s}}return a}instantiateModuleInstance(){return new this.mediainfoModule.MediaInfo(this.options.format==="object"?"JSON":this.options.format,this.options.coverData,this.options.full)}}async function Ub(e={}){var t,r=e,n="./this.program",a=import.meta.url,s="";function o(A){return r.locateFile?r.locateFile(A,s):s+A}var u;{try{s=new URL(".",a).href}catch{}u=async A=>{var D=await fetch(A,{credentials:"same-origin"});if(D.ok)return D.arrayBuffer();throw new Error(D.status+" : "+D.url)}}var d=console.log.bind(console),p=console.error.bind(console),_,f=!1,b,h,j,v,C,g,x,w,S,I,$,M,P,L=!1;function le(){var A=j.buffer;v=new Int8Array(A),g=new Int16Array(A),C=new Uint8Array(A),x=new Uint16Array(A),w=new Int32Array(A),S=new Uint32Array(A),I=new Float32Array(A),$=new Float64Array(A),M=new BigInt64Array(A),P=new BigUint64Array(A)}function Re(){L=!0,Gn.__wasm_call_ctors()}var O=0,ne=null;function E(A){O++}function ge(A){if(O--,O==0&&ne){var D=ne;ne=null,D()}}function qe(A){A="Aborted("+A+")",p(A),f=!0,A+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(A);throw h==null||h(D),D}var me;function xe(){return r.locateFile?o("MediaInfoModule.wasm"):new URL("MediaInfoModule.wasm",import.meta.url).href}function H(A){throw"both async and sync fetching of the wasm failed"}async function K(A){try{var D=await u(A);return new Uint8Array(D)}catch{}return H()}async function Z(A,D){try{var B=await K(A),se=await WebAssembly.instantiate(B,D);return se}catch(ye){p(`failed to asynchronously prepare wasm: ${ye}`),qe(ye)}}async function X(A,D,B){try{var se=fetch(D,{credentials:"same-origin"}),ye=await WebAssembly.instantiateStreaming(se,B);return ye}catch(_e){p(`wasm streaming compile failed: ${_e}`),p("falling back to ArrayBuffer instantiation")}return Z(D,B)}function Ie(){return{env:bo,wasi_snapshot_preview1:bo}}async function Ae(){function A(_e,Pe){return Gn=_e.exports,j=Gn.memory,le(),wt=Gn.__indirect_function_table,sa(Gn),ge(),Gn}E();function D(_e){return A(_e.instance)}var B=Ie();me??(me=xe());var se=await X(_,me,B),ye=D(se);return ye}var De=()=>qe(""),q=A=>{for(var D="";;){var B=C[A++];if(!B)return D;D+=String.fromCharCode(B)}},Se={},we={},re={},Ye=class extends Error{constructor(D){super(D),this.name="BindingError"}},Ee=A=>{throw new Ye(A)};function Ue(A,D,B={}){var se=D.name;if(A||Ee(`type "${se}" must have a positive integer typeid pointer`),we.hasOwnProperty(A)){if(B.ignoreDuplicateRegistrations)return;Ee(`Cannot register type '${se}' twice`)}if(we[A]=D,delete re[A],Se.hasOwnProperty(A)){var ye=Se[A];delete Se[A],ye.forEach(_e=>_e())}}function Je(A,D,B={}){return Ue(A,D,B)}var k=(A,D,B)=>{switch(D){case 1:return B?se=>v[se]:se=>C[se];case 2:return B?se=>g[se>>1]:se=>x[se>>1];case 4:return B?se=>w[se>>2]:se=>S[se>>2];case 8:return B?se=>M[se>>3]:se=>P[se>>3];default:throw new TypeError(`invalid integer width (${D}): ${A}`)}},ve=(A,D,B,se,ye)=>{D=q(D);const _e=se===0n;let Pe=Te=>Te;if(_e){const Te=B*8;Pe=Oe=>BigInt.asUintN(Te,Oe),ye=Pe(ye)}Je(A,{name:D,fromWireType:Pe,toWireType:(Te,Oe)=>(typeof Oe=="number"&&(Oe=BigInt(Oe)),Oe),readValueFromPointer:k(D,B,!_e),destructorFunction:null})},pe=(A,D,B,se)=>{D=q(D),Je(A,{name:D,fromWireType:function(ye){return!!ye},toWireType:function(ye,_e){return _e?B:se},readValueFromPointer:function(ye){return this.fromWireType(C[ye])},destructorFunction:null})},z=A=>({count:A.count,deleteScheduled:A.deleteScheduled,preservePointerOnDelete:A.preservePointerOnDelete,ptr:A.ptr,ptrType:A.ptrType,smartPtr:A.smartPtr,smartPtrType:A.smartPtrType}),F=A=>{function D(B){return B.$$.ptrType.registeredClass.name}Ee(D(A)+" instance already deleted")},J=!1,je=A=>{},de=A=>{A.smartPtr?A.smartPtrType.rawDestructor(A.smartPtr):A.ptrType.registeredClass.rawDestructor(A.ptr)},ue=A=>{A.count.value-=1;var D=A.count.value===0;D&&de(A)},he=A=>typeof FinalizationRegistry>"u"?(he=D=>D,A):(J=new FinalizationRegistry(D=>{ue(D.$$)}),he=D=>{var B=D.$$,se=!!B.smartPtr;if(se){var ye={$$:B};J.register(D,ye,D)}return D},je=D=>J.unregister(D),he(A)),ze=()=>{let A=ke.prototype;Object.assign(A,{isAliasOf(B){if(!(this instanceof ke)||!(B instanceof ke))return!1;var se=this.$$.ptrType.registeredClass,ye=this.$$.ptr;B.$$=B.$$;for(var _e=B.$$.ptrType.registeredClass,Pe=B.$$.ptr;se.baseClass;)ye=se.upcast(ye),se=se.baseClass;for(;_e.baseClass;)Pe=_e.upcast(Pe),_e=_e.baseClass;return se===_e&&ye===Pe},clone(){if(this.$$.ptr||F(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var B=he(Object.create(Object.getPrototypeOf(this),{$$:{value:z(this.$$)}}));return B.$$.count.value+=1,B.$$.deleteScheduled=!1,B},delete(){this.$$.ptr||F(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ee("Object already scheduled for deletion"),je(this),ue(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||F(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ee("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const D=Symbol.dispose;D&&(A[D]=A.delete)};function ke(){}var Qe=(A,D)=>Object.defineProperty(D,"name",{value:A}),Ce={},He=(A,D,B)=>{if(A[D].overloadTable===void 0){var se=A[D];A[D]=function(...ye){return A[D].overloadTable.hasOwnProperty(ye.length)||Ee(`Function '${B}' called with an invalid number of arguments (${ye.length}) - expects one of (${A[D].overloadTable})!`),A[D].overloadTable[ye.length].apply(this,ye)},A[D].overloadTable=[],A[D].overloadTable[se.argCount]=se}},ut=(A,D,B)=>{r.hasOwnProperty(A)?(Ee(`Cannot register public name '${A}' twice`),He(r,A,A),r[A].overloadTable.hasOwnProperty(B)&&Ee(`Cannot register multiple overloads of a function with the same number of arguments (${B})!`),r[A].overloadTable[B]=D):(r[A]=D,r[A].argCount=B)},hr=48,Mt=57,Vt=A=>{A=A.replace(/[^a-zA-Z0-9_]/g,"$");var D=A.charCodeAt(0);return D>=hr&&D<=Mt?`_${A}`:A};function mt(A,D,B,se,ye,_e,Pe,Te){this.name=A,this.constructor=D,this.instancePrototype=B,this.rawDestructor=se,this.baseClass=ye,this.getActualType=_e,this.upcast=Pe,this.downcast=Te,this.pureVirtualFunctions=[]}var sr=(A,D,B)=>{for(;D!==B;)D.upcast||Ee(`Expected null or instance of ${B.name}, got an instance of ${D.name}`),A=D.upcast(A),D=D.baseClass;return A},Lt=A=>{if(A===null)return"null";var D=typeof A;return D==="object"||D==="array"||D==="function"?A.toString():""+A};function Ge(A,D){if(D===null)return this.isReference&&Ee(`null is not a valid ${this.name}`),0;D.$$||Ee(`Cannot pass "${Lt(D)}" as a ${this.name}`),D.$$.ptr||Ee(`Cannot pass deleted object as a pointer of type ${this.name}`);var B=D.$$.ptrType.registeredClass,se=sr(D.$$.ptr,B,this.registeredClass);return se}function _r(A,D){var B;if(D===null)return this.isReference&&Ee(`null is not a valid ${this.name}`),this.isSmartPointer?(B=this.rawConstructor(),A!==null&&A.push(this.rawDestructor,B),B):0;(!D||!D.$$)&&Ee(`Cannot pass "${Lt(D)}" as a ${this.name}`),D.$$.ptr||Ee(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&D.$$.ptrType.isConst&&Ee(`Cannot convert argument of type ${D.$$.smartPtrType?D.$$.smartPtrType.name:D.$$.ptrType.name} to parameter type ${this.name}`);var se=D.$$.ptrType.registeredClass;if(B=sr(D.$$.ptr,se,this.registeredClass),this.isSmartPointer)switch(D.$$.smartPtr===void 0&&Ee("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:D.$$.smartPtrType===this?B=D.$$.smartPtr:Ee(`Cannot convert argument of type ${D.$$.smartPtrType?D.$$.smartPtrType.name:D.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:B=D.$$.smartPtr;break;case 2:if(D.$$.smartPtrType===this)B=D.$$.smartPtr;else{var ye=D.clone();B=this.rawShare(B,Zt.toHandle(()=>ye.delete())),A!==null&&A.push(this.rawDestructor,B)}break;default:Ee("Unsupporting sharing policy")}return B}function mr(A,D){if(D===null)return this.isReference&&Ee(`null is not a valid ${this.name}`),0;D.$$||Ee(`Cannot pass "${Lt(D)}" as a ${this.name}`),D.$$.ptr||Ee(`Cannot pass deleted object as a pointer of type ${this.name}`),D.$$.ptrType.isConst&&Ee(`Cannot convert argument of type ${D.$$.ptrType.name} to parameter type ${this.name}`);var B=D.$$.ptrType.registeredClass,se=sr(D.$$.ptr,B,this.registeredClass);return se}function pr(A){return this.fromWireType(S[A>>2])}var Ve=(A,D,B)=>{if(D===B)return A;if(B.baseClass===void 0)return null;var se=Ve(A,D,B.baseClass);return se===null?null:B.downcast(se)},On={},nn=(A,D)=>{for(D===void 0&&Ee("ptr should not be undefined");A.baseClass;)D=A.upcast(D),A=A.baseClass;return D},sn=(A,D)=>(D=nn(A,D),On[D]),ao=class extends Error{constructor(D){super(D),this.name="InternalError"}},zn=A=>{throw new ao(A)},Yi=(A,D)=>{(!D.ptrType||!D.ptr)&&zn("makeClassHandle requires ptr and ptrType");var B=!!D.smartPtrType,se=!!D.smartPtr;return B!==se&&zn("Both smartPtrType and smartPtr must be specified"),D.count={value:1},he(Object.create(A,{$$:{value:D,writable:!0}}))};function ru(A){var D=this.getPointee(A);if(!D)return this.destructor(A),null;var B=sn(this.registeredClass,D);if(B!==void 0){if(B.$$.count.value===0)return B.$$.ptr=D,B.$$.smartPtr=A,B.clone();var se=B.clone();return this.destructor(A),se}function ye(){return this.isSmartPointer?Yi(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:D,smartPtrType:this,smartPtr:A}):Yi(this.registeredClass.instancePrototype,{ptrType:this,ptr:A})}var _e=this.registeredClass.getActualType(D),Pe=Ce[_e];if(!Pe)return ye.call(this);var Te;this.isConst?Te=Pe.constPointerType:Te=Pe.pointerType;var Oe=Ve(D,this.registeredClass,Te.registeredClass);return Oe===null?ye.call(this):this.isSmartPointer?Yi(Te.registeredClass.instancePrototype,{ptrType:Te,ptr:Oe,smartPtrType:this,smartPtr:A}):Yi(Te.registeredClass.instancePrototype,{ptrType:Te,ptr:Oe})}var Bn=()=>{Object.assign(Ar.prototype,{getPointee(A){return this.rawGetPointee&&(A=this.rawGetPointee(A)),A},destructor(A){var D;(D=this.rawDestructor)==null||D.call(this,A)},readValueFromPointer:pr,fromWireType:ru})};function Ar(A,D,B,se,ye,_e,Pe,Te,Oe,rt,nt){this.name=A,this.registeredClass=D,this.isReference=B,this.isConst=se,this.isSmartPointer=ye,this.pointeeType=_e,this.sharingPolicy=Pe,this.rawGetPointee=Te,this.rawConstructor=Oe,this.rawShare=rt,this.rawDestructor=nt,!ye&&D.baseClass===void 0?se?(this.toWireType=Ge,this.destructorFunction=null):(this.toWireType=mr,this.destructorFunction=null):this.toWireType=_r}var qs=(A,D,B)=>{r.hasOwnProperty(A)||zn("Replacing nonexistent public symbol"),r[A].overloadTable!==void 0&&B!==void 0||(r[A]=D,r[A].argCount=B)},xi=[],wt,Ft=A=>{var D=xi[A];return D||(xi[A]=D=wt.get(A)),D},Pr=(A,D,B=!1)=>{A=q(A);function se(){var _e=Ft(D);return _e}var ye=se();return typeof ye!="function"&&Ee(`unknown function pointer with signature ${A}: ${D}`),ye};class Qi extends Error{}var yi=A=>{var D=yo(A),B=q(D);return jr(D),B},Ln=(A,D)=>{var B=[],se={};function ye(_e){if(!se[_e]&&!we[_e]){if(re[_e]){re[_e].forEach(ye);return}B.push(_e),se[_e]=!0}}throw D.forEach(ye),new Qi(`${A}: `+B.map(yi).join([", "]))},Un=(A,D,B)=>{A.forEach(Te=>re[Te]=D);function se(Te){var Oe=B(Te);Oe.length!==A.length&&zn("Mismatched type converter count");for(var rt=0;rt<A.length;++rt)Je(A[rt],Oe[rt])}var ye=new Array(D.length),_e=[],Pe=0;D.forEach((Te,Oe)=>{we.hasOwnProperty(Te)?ye[Oe]=we[Te]:(_e.push(Te),Se.hasOwnProperty(Te)||(Se[Te]=[]),Se[Te].push(()=>{ye[Oe]=we[Te],++Pe,Pe===_e.length&&se(ye)}))}),_e.length===0&&se(ye)},an=(A,D,B,se,ye,_e,Pe,Te,Oe,rt,nt,ht,bt)=>{nt=q(nt),_e=Pr(ye,_e),Te&&(Te=Pr(Pe,Te)),rt&&(rt=Pr(Oe,rt)),bt=Pr(ht,bt);var et=Vt(nt);ut(et,function(){Ln(`Cannot construct ${nt} due to unbound types`,[se])}),Un([A,D,B],se?[se]:[],_t=>{var os;_t=_t[0];var At,Rr;se?(At=_t.registeredClass,Rr=At.instancePrototype):Rr=ke.prototype;var or=Qe(nt,function(...Di){if(Object.getPrototypeOf(this)!==is)throw new Ye(`Use 'new' to construct ${nt}`);if(Nr.constructor_body===void 0)throw new Ye(`${nt} has no accessible constructor`);var Ti=Nr.constructor_body[Di.length];if(Ti===void 0)throw new Ye(`Tried to invoke ctor of ${nt} with invalid number of parameters (${Di.length}) - expected (${Object.keys(Nr.constructor_body).toString()}) parameters instead!`);return Ti.apply(this,Di)}),is=Object.create(Rr,{constructor:{value:or}});or.prototype=is;var Nr=new mt(nt,or,is,bt,At,_e,Te,rt);Nr.baseClass&&((os=Nr.baseClass).__derivedClasses??(os.__derivedClasses=[]),Nr.baseClass.__derivedClasses.push(Nr));var ss=new Ar(nt,Nr,!0,!1,!1),as=new Ar(nt+"*",Nr,!1,!1,!1),un=new Ar(nt+" const*",Nr,!1,!0,!1);return Ce[A]={pointerType:as,constPointerType:un},qs(et,or),[ss,as,un]})},vn=(A,D)=>{for(var B=[],se=0;se<A;se++)B.push(S[D+se*4>>2]);return B},Vr=A=>{for(;A.length;){var D=A.pop(),B=A.pop();B(D)}};function bi(A){for(var D=1;D<A.length;++D)if(A[D]!==null&&A[D].destructorFunction===void 0)return!0;return!1}function nu(A,D,B,se){var ye=bi(A),_e=A.length-2,Pe=[],Te=["fn"];D&&Te.push("thisWired");for(var Oe=0;Oe<_e;++Oe)Pe.push(`arg${Oe}`),Te.push(`arg${Oe}Wired`);Pe=Pe.join(","),Te=Te.join(",");var rt=`return function (${Pe}) {
`;ye&&(rt+=`var destructors = [];
`);var nt=ye?"destructors":"null",ht=["humanName","throwBindingError","invoker","fn","runDestructors","fromRetWire","toClassParamWire"];D&&(rt+=`var thisWired = toClassParamWire(${nt}, this);
`);for(var Oe=0;Oe<_e;++Oe){var bt=`toArg${Oe}Wire`;rt+=`var arg${Oe}Wired = ${bt}(${nt}, arg${Oe});
`,ht.push(bt)}if(rt+=(B||se?"var rv = ":"")+`invoker(${Te});
`,ye)rt+=`runDestructors(destructors);
`;else for(var Oe=D?1:2;Oe<A.length;++Oe){var et=Oe===1?"thisWired":"arg"+(Oe-2)+"Wired";A[Oe].destructorFunction!==null&&(rt+=`${et}_dtor(${et});
`,ht.push(`${et}_dtor`))}return B&&(rt+=`var ret = fromRetWire(rv);
return ret;
`),rt+=`}
`,new Function(ht,rt)}function Wr(A,D,B,se,ye,_e){var Pe=D.length;Pe<2&&Ee("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var Te=D[1]!==null&&B!==null,Oe=bi(D),rt=!D[0].isVoid,nt=D[0],ht=D[1],bt=[A,Ee,se,ye,Vr,nt.fromWireType.bind(nt),ht==null?void 0:ht.toWireType.bind(ht)],et=2;et<Pe;++et){var _t=D[et];bt.push(_t.toWireType.bind(_t))}if(!Oe)for(var et=Te?1:2;et<D.length;++et)D[et].destructorFunction!==null&&bt.push(D[et].destructorFunction);var Rr=nu(D,Te,rt,_e)(...bt);return Qe(A,Rr)}var oo=(A,D,B,se,ye,_e)=>{var Pe=vn(D,B);ye=Pr(se,ye),Un([],[A],Te=>{Te=Te[0];var Oe=`constructor ${Te.name}`;if(Te.registeredClass.constructor_body===void 0&&(Te.registeredClass.constructor_body=[]),Te.registeredClass.constructor_body[D-1]!==void 0)throw new Ye(`Cannot register multiple constructors with identical number of parameters (${D-1}) for class '${Te.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Te.registeredClass.constructor_body[D-1]=()=>{Ln(`Cannot construct ${Te.name} due to unbound types`,Pe)},Un([],Pe,rt=>(rt.splice(1,0,null),Te.registeredClass.constructor_body[D-1]=Wr(Oe,rt,null,ye,_e),[])),[]})},xn=A=>{A=A.trim();const D=A.indexOf("(");return D===-1?A:A.slice(0,D)},lo=(A,D,B,se,ye,_e,Pe,Te,Oe,rt)=>{var nt=vn(B,se);D=q(D),D=xn(D),_e=Pr(ye,_e,Oe),Un([],[A],ht=>{ht=ht[0];var bt=`${ht.name}.${D}`;D.startsWith("@@")&&(D=Symbol[D.substring(2)]),Te&&ht.registeredClass.pureVirtualFunctions.push(D);function et(){Ln(`Cannot call ${bt} due to unbound types`,nt)}var _t=ht.registeredClass.instancePrototype,At=_t[D];return At===void 0||At.overloadTable===void 0&&At.className!==ht.name&&At.argCount===B-2?(et.argCount=B-2,et.className=ht.name,_t[D]=et):(He(_t,D,bt),_t[D].overloadTable[B-2]=et),Un([],nt,Rr=>{var or=Wr(bt,Rr,ht,_e,Pe,Oe);return _t[D].overloadTable===void 0?(or.argCount=B-2,_t[D]=or):_t[D].overloadTable[B-2]=or,[]}),[]})},Zi=[],gt=[0,1,,1,null,1,!0,1,!1,1],Kr=A=>{A>9&&--gt[A+1]===0&&(gt[A]=void 0,Zi.push(A))},Zt={toValue:A=>(A||Ee(`Cannot use deleted val. handle = ${A}`),gt[A]),toHandle:A=>{switch(A){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const D=Zi.pop()||gt.length;return gt[D]=A,gt[D+1]=1,D}}}},uo={name:"emscripten::val",fromWireType:A=>{var D=Zt.toValue(A);return Kr(A),D},toWireType:(A,D)=>Zt.toHandle(D),readValueFromPointer:pr,destructorFunction:null},Hn=A=>Je(A,uo),Xi=(A,D)=>{switch(D){case 4:return function(B){return this.fromWireType(I[B>>2])};case 8:return function(B){return this.fromWireType($[B>>3])};default:throw new TypeError(`invalid float width (${D}): ${A}`)}},Gs=(A,D,B)=>{D=q(D),Je(A,{name:D,fromWireType:se=>se,toWireType:(se,ye)=>ye,readValueFromPointer:Xi(D,B),destructorFunction:null})},Ys=(A,D,B,se,ye)=>{D=q(D);const _e=se===0;let Pe=Oe=>Oe;if(_e){var Te=32-8*B;Pe=Oe=>Oe<<Te>>>Te,ye=Pe(ye)}Je(A,{name:D,fromWireType:Pe,toWireType:(Oe,rt)=>rt,readValueFromPointer:k(D,B,se!==0),destructorFunction:null})},yn=(A,D,B)=>{var se=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],ye=se[D];function _e(Pe){var Te=S[Pe>>2],Oe=S[Pe+4>>2];return new ye(v.buffer,Oe,Te)}B=q(B),Je(A,{name:B,fromWireType:_e,readValueFromPointer:_e},{ignoreDuplicateRegistrations:!0})},co=(A,D,B,se,ye,_e,Pe,Te,Oe,rt,nt,ht)=>{B=q(B),_e=Pr(ye,_e),Te=Pr(Pe,Te),rt=Pr(Oe,rt),ht=Pr(nt,ht),Un([A],[D],bt=>{bt=bt[0];var et=new Ar(B,bt.registeredClass,!1,!1,!0,bt,se,_e,Te,rt,ht);return[et]})},Ji=(A,D,B,se)=>{if(!(se>0))return 0;for(var ye=B,_e=B+se-1,Pe=0;Pe<A.length;++Pe){var Te=A.codePointAt(Pe);if(Te<=127){if(B>=_e)break;D[B++]=Te}else if(Te<=2047){if(B+1>=_e)break;D[B++]=192|Te>>6,D[B++]=128|Te&63}else if(Te<=65535){if(B+2>=_e)break;D[B++]=224|Te>>12,D[B++]=128|Te>>6&63,D[B++]=128|Te&63}else{if(B+3>=_e)break;D[B++]=240|Te>>18,D[B++]=128|Te>>12&63,D[B++]=128|Te>>6&63,D[B++]=128|Te&63,Pe++}}return D[B]=0,B-ye},bn=(A,D,B)=>Ji(A,C,D,B),ot=A=>{for(var D=0,B=0;B<A.length;++B){var se=A.charCodeAt(B);se<=127?D++:se<=2047?D+=2:se>=55296&&se<=57343?(D+=4,++B):D+=3}return D},Qs=typeof TextDecoder<"u"?new TextDecoder:void 0,Zs=(A,D,B,se)=>{var ye=D+B;if(se)return ye;for(;A[D]&&!(D>=ye);)++D;return D},wi=(A,D=0,B,se)=>{var ye=Zs(A,D,B,se);if(ye-D>16&&A.buffer&&Qs)return Qs.decode(A.subarray(D,ye));for(var _e="";D<ye;){var Pe=A[D++];if(!(Pe&128)){_e+=String.fromCharCode(Pe);continue}var Te=A[D++]&63;if((Pe&224)==192){_e+=String.fromCharCode((Pe&31)<<6|Te);continue}var Oe=A[D++]&63;if((Pe&240)==224?Pe=(Pe&15)<<12|Te<<6|Oe:Pe=(Pe&7)<<18|Te<<12|Oe<<6|A[D++]&63,Pe<65536)_e+=String.fromCharCode(Pe);else{var rt=Pe-65536;_e+=String.fromCharCode(55296|rt>>10,56320|rt&1023)}}return _e},_i=(A,D,B)=>A?wi(C,A,D,B):"",fo=(A,D)=>{D=q(D),Je(A,{name:D,fromWireType(B){var se=S[B>>2],ye=B+4,_e;return _e=_i(ye,se,!0),jr(B),_e},toWireType(B,se){se instanceof ArrayBuffer&&(se=new Uint8Array(se));var ye,_e=typeof se=="string";_e||ArrayBuffer.isView(se)&&se.BYTES_PER_ELEMENT==1||Ee("Cannot pass non-string to std::string"),_e?ye=ot(se):ye=se.length;var Pe=qn(4+ye+1),Te=Pe+4;return S[Pe>>2]=ye,_e?bn(se,Te,ye+1):C.set(se,Te),B!==null&&B.push(jr,Pe),Pe},readValueFromPointer:pr,destructorFunction(B){jr(B)}})},Xs=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ho=(A,D,B)=>{var se=A>>1,ye=Zs(x,se,D/2,B);if(ye-se>16&&Xs)return Xs.decode(x.subarray(se,ye));for(var _e="",Pe=se;Pe<ye;++Pe){var Te=x[Pe];_e+=String.fromCharCode(Te)}return _e},yt=(A,D,B)=>{if(B??(B=2147483647),B<2)return 0;B-=2;for(var se=D,ye=B<A.length*2?B/2:A.length,_e=0;_e<ye;++_e){var Pe=A.charCodeAt(_e);g[D>>1]=Pe,D+=2}return g[D>>1]=0,D-se},ji=A=>A.length*2,Ni=(A,D,B)=>{for(var se="",ye=A>>2,_e=0;!(_e>=D/4);_e++){var Pe=S[ye+_e];if(!Pe&&!B)break;se+=String.fromCodePoint(Pe)}return se},Vn=(A,D,B)=>{if(B??(B=2147483647),B<4)return 0;for(var se=D,ye=se+B-4,_e=0;_e<A.length;++_e){var Pe=A.codePointAt(_e);if(Pe>65535&&_e++,w[D>>2]=Pe,D+=4,D+4>ye)break}return w[D>>2]=0,D-se},Js=A=>{for(var D=0,B=0;B<A.length;++B){var se=A.codePointAt(B);se>65535&&B++,D+=4}return D},ea=(A,D,B)=>{B=q(B);var se,ye,_e;D===2?(se=ho,ye=yt,_e=ji):(se=Ni,ye=Vn,_e=Js),Je(A,{name:B,fromWireType:Pe=>{var Te=S[Pe>>2],Oe=se(Pe+4,Te*D,!0);return jr(Pe),Oe},toWireType:(Pe,Te)=>{typeof Te!="string"&&Ee(`Cannot pass non-string to C++ string type ${B}`);var Oe=_e(Te),rt=qn(4+Oe+D);return S[rt>>2]=Oe/D,ye(Te,rt+4,Oe+D),Pe!==null&&Pe.push(jr,rt),rt},readValueFromPointer:pr,destructorFunction(Pe){jr(Pe)}})},es=(A,D)=>{D=q(D),Je(A,{isVoid:!0,name:D,fromWireType:()=>{},toWireType:(B,se)=>{}})},ts=[],rs=A=>{var D=ts.length;return ts.push(A),D},mo=(A,D)=>{var B=we[A];return B===void 0&&Ee(`${D} has unknown type ${yi(A)}`),B},iu=(A,D)=>{for(var B=new Array(A),se=0;se<A;++se)B[se]=mo(S[D+se*4>>2],`parameter ${se}`);return B},dt=(A,D,B)=>{var se=[],ye=A(se,B);return se.length&&(S[D>>2]=Zt.toHandle(se)),ye},po={},su=A=>{var D=po[A];return D===void 0?q(A):D},au=(A,D,B)=>{var se=8,[ye,..._e]=iu(A,D),Pe=ye.toWireType.bind(ye),Te=_e.map(et=>et.readValueFromPointer.bind(et));A--;var Oe={toValue:Zt.toValue},rt=Te.map((et,_t)=>{var At=`argFromPtr${_t}`;return Oe[At]=et,`${At}(args${_t?"+"+_t*se:""})`}),nt;switch(B){case 0:nt="toValue(handle)";break;case 2:nt="new (toValue(handle))";break;case 3:nt="";break;case 1:Oe.getStringOrSymbol=su,nt="toValue(handle)[getStringOrSymbol(methodName)]";break}nt+=`(${rt})`,ye.isVoid||(Oe.toReturnWire=Pe,Oe.emval_returnValue=dt,nt=`return emval_returnValue(toReturnWire, destructorsRef, ${nt})`),nt=`return function (handle, methodName, destructorsRef, args) {
  ${nt}
  }`;var ht=new Function(Object.keys(Oe),nt)(...Object.values(Oe)),bt=`methodCaller<(${_e.map(et=>et.name)}) => ${ye.name}>`;return rs(Qe(bt,ht))},ar=A=>{A>9&&(gt[A+1]+=1)},Wn=(A,D,B,se,ye)=>ts[A](D,B,se,ye),ns=A=>{var D=Zt.toValue(A);Vr(D),Kr(A)},on=9007199254740992,go=-9007199254740992,vo=A=>A<go||A>on?NaN:Number(A);function Ot(A,D){A=vo(A);var B=new Date(A*1e3);w[D>>2]=B.getUTCSeconds(),w[D+4>>2]=B.getUTCMinutes(),w[D+8>>2]=B.getUTCHours(),w[D+12>>2]=B.getUTCDate(),w[D+16>>2]=B.getUTCMonth(),w[D+20>>2]=B.getUTCFullYear()-1900,w[D+24>>2]=B.getUTCDay();var se=Date.UTC(B.getUTCFullYear(),0,1,0,0,0,0),ye=(B.getTime()-se)/(1e3*60*60*24)|0;w[D+28>>2]=ye}var $r=(A,D,B,se)=>{var ye=new Date().getFullYear(),_e=new Date(ye,0,1),Pe=new Date(ye,6,1),Te=_e.getTimezoneOffset(),Oe=Pe.getTimezoneOffset(),rt=Math.max(Te,Oe);S[A>>2]=rt*60,w[D>>2]=+(Te!=Oe);var nt=et=>{var _t=et>=0?"-":"+",At=Math.abs(et),Rr=String(Math.floor(At/60)).padStart(2,"0"),or=String(At%60).padStart(2,"0");return`UTC${_t}${Rr}${or}`},ht=nt(Te),bt=nt(Oe);Oe<Te?(bn(ht,B,17),bn(bt,se,17)):(bn(ht,se,17),bn(bt,B,17))},ki=()=>Date.now(),Ci=()=>2147483648,ta=(A,D)=>Math.ceil(A/D)*D,ln=A=>{var D=j.buffer.byteLength,B=(A-D+65535)/65536|0;try{return j.grow(B),le(),1}catch{}},ou=A=>{var D=C.length;A>>>=0;var B=Ci();if(A>B)return!1;for(var se=1;se<=4;se*=2){var ye=D*(1+.2/se);ye=Math.min(ye,A+100663296);var _e=Math.min(B,ta(Math.max(A,ye),65536)),Pe=ln(_e);if(Pe)return!0}return!1},gr={},ra=()=>n,Kn=()=>{if(!Kn.strings){var A=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8",D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:A,_:ra()};for(var B in gr)gr[B]===void 0?delete D[B]:D[B]=gr[B];var se=[];for(var B in D)se.push(`${B}=${D[B]}`);Kn.strings=se}return Kn.strings},na=(A,D)=>{var B=0,se=0;for(var ye of Kn()){var _e=D+B;S[A+se>>2]=_e,B+=bn(ye,_e,1/0)+1,se+=4}return 0},Si=(A,D)=>{var B=Kn();S[A>>2]=B.length;var se=0;for(var ye of B)se+=ot(ye)+1;return S[D>>2]=se,0},ia=A=>52;function xo(A,D,B,se){return 70}var lu=[null,[],[]],Ei=(A,D)=>{var B=lu[A];D===0||D===10?((A===1?d:p)(wi(B)),B.length=0):B.push(D)},uu=(A,D,B,se)=>{for(var ye=0,_e=0;_e<B;_e++){var Pe=S[D>>2],Te=S[D+4>>2];D+=8;for(var Oe=0;Oe<Te;Oe++)Ei(A,C[Pe+Oe]);ye+=Te}return S[se>>2]=ye,0};ze(),Bn();var yo,qn,jr;function sa(A){yo=A.__getTypeName,qn=A.malloc,jr=A.free,A._emscripten_stack_restore,A._emscripten_stack_alloc,A.emscripten_stack_get_current}var bo={_abort_js:De,_embind_register_bigint:ve,_embind_register_bool:pe,_embind_register_class:an,_embind_register_class_constructor:oo,_embind_register_class_function:lo,_embind_register_emval:Hn,_embind_register_float:Gs,_embind_register_integer:Ys,_embind_register_memory_view:yn,_embind_register_smart_ptr:co,_embind_register_std_string:fo,_embind_register_std_wstring:ea,_embind_register_void:es,_emval_create_invoker:au,_emval_decref:Kr,_emval_incref:ar,_emval_invoke:Wn,_emval_run_destructors:ns,_gmtime_js:Ot,_tzset_js:$r,emscripten_date_now:ki,emscripten_resize_heap:ou,environ_get:na,environ_sizes_get:Si,fd_close:ia,fd_seek:xo,fd_write:uu},Gn=await Ae();function aa(){if(O>0){ne=aa;return}if(O>0){ne=aa;return}function A(){r.calledRun=!0,!f&&(Re(),b==null||b(r))}A()}return aa(),L?t=r:t=new Promise((A,D)=>{b=A,h=D}),t}const Rh=()=>{};function Hb(e,t){try{if(new URL(t).pathname==="/")return`${t}mediainfo.js/dist/${e}`}catch{}return`${t}../${e}`}function Vg(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(t===void 0)return new Promise((o,u)=>{Vg(e,o,u)});const{locateFile:n,...a}={...$h,...e,format:e.format??$h.format};Ub({print:Rh,printErr:Rh,locateFile:n??Hb,onAbort:o=>{r&&r(o)}}).then(o=>{t(new Lb(o,a))}).catch(o=>{r&&r(o)})}const Vb="/fichegen/MediaInfoModule.wasm";class Wb{constructor(){_n(this,"mediaInfo",null)}async initialize(){if(this.mediaInfo)return this.mediaInfo;try{return this.mediaInfo=await Vg({format:"text",locateFile:()=>Vb}),this.mediaInfo}catch(t){throw console.error("Erreur lors de l'initialisation de MediaInfo:",t),t}}async analyzeFile(t){const r=await this.initialize(),n=()=>t.size,a=(u,d)=>new Promise((p,_)=>{const f=new FileReader;f.onload=b=>{var h,j;if((h=b.target)!=null&&h.error){_(b.target.error);return}p(new Uint8Array((j=b.target)==null?void 0:j.result))},f.readAsArrayBuffer(t.slice(d,d+u))}),s=await r.analyzeData(n,a),o=s.match(/(General[\s\S]*?)(?=\n(?:Video|Audio|Text|Menu|$))/);if(o){const u=o[1],d=`Complete name                            : ${t.name}
`,p=u.replace(/^(General\s*\n)/,`$1${d}`);return s.replace(u,p)}return s}}const Wg=new Wb;function Kg(e){if(!e)return!1;const t=e.toLowerCase(),r=["<movie>","<tvshow>","<episodedetails>","<title>","<originaltitle>","<plot>","<director>","<?xml","<root>"],n=["general","video","audio","text","complete name","movie name","format ","codec","bit rate","width","height","frame rate","duration"],a=r.some(o=>t.includes(o)),s=n.some(o=>t.includes(o));return a||s}function qg(e){if(!e)return!1;const t=e.toLowerCase();return["general","video","audio","text","complete name","format ","codec","bit rate","width","height","frame rate","duration","mediainfo","media info"].some(n=>t.includes(n))}function Gg(e){const t={};try{const r=e.match(/<originaltitle[^>]*>(.*?)<\/originaltitle>/is);r&&(t.originaltitle=r[1].trim());const n=e.match(/<votes[^>]*>(.*?)<\/votes>/is);n&&(t.votes=n[1].trim());const a=e.match(/<premiered[^>]*>(.*?)<\/premiered>/is);a&&(t.premiered=a[1].trim());const s=e.match(/<aired[^>]*>(.*?)<\/aired>/is);s&&(t.aired=s[1].trim());const o=e.match(/<season[^>]*>(.*?)<\/season>/is);o&&(t.season=o[1].trim());const u=e.match(/<episode[^>]*>(.*?)<\/episode>/is);u&&(t.episode=u[1].trim());const d=e.match(/<tvdbid[^>]*>(.*?)<\/tvdbid>/is)||e.match(/thetvdb\.com\/(?:series|episode)\/(\d+)/i);d&&(t.tvdbId=d[1].trim());const p=e.match(/<title[^>]*>(.*?)<\/title>/is);p&&(t.title=p[1].trim());const _=e.match(/<year[^>]*>(.*?)<\/year>/is);_&&(t.year=_[1].trim());const f=e.match(/<plot[^>]*>(.*?)<\/plot>/is);f&&(t.plot=f[1].trim());const b=e.match(/<director[^>]*>(.*?)<\/director>/is);b&&(t.director=b[1].trim());const h=e.match(/<actor[^>]*>.*?<name[^>]*>(.*?)<\/name>.*?<\/actor>/gis);h&&(t.actors=h.map(M=>{const P=M.match(/<name[^>]*>(.*?)<\/name>/is);return P?P[1].trim():""}).filter(M=>M));const j=e.match(/<genre[^>]*>(.*?)<\/genre>/gis);j&&(t.genres=j.map(M=>M.replace(/<\/?genre[^>]*>/gi,"").trim()));const v=e.match(/<writer[^>]*>(.*?)<\/writer>/gis);v&&(t.writer=v.map(M=>M.replace(/<\/?writer[^>]*>/gi,"").trim()).filter(Boolean));const C=e.match(/<studio[^>]*>(.*?)<\/studio>/gis);C&&(t.studio=C.map(M=>M.replace(/<\/?studio[^>]*>/gi,"").trim()).filter(Boolean));const g=e.match(/<country[^>]*>(.*?)<\/country>/gis);g&&(t.country=g.map(M=>M.replace(/<\/?country[^>]*>/gi,"").trim()).filter(Boolean));const x=e.match(/<language[^>]*>(.*?)<\/language>/gis);x&&(t.language=x.map(M=>M.replace(/<\/?language[^>]*>/gi,"").trim()).filter(Boolean));const w=e.match(/<runtime[^>]*>(.*?)<\/runtime>/is);w&&(t.runtime=w[1].trim());const S=e.match(/<rating[^>]*>(.*?)<\/rating>/is);S&&(t.rating=S[1].trim());const I=e.match(/<imdb[^>]*>(.*?)<\/imdb>/is)||e.match(/imdb\.com\/title\/(tt\d+)/i);I&&(t.imdbId=I[1].trim());const $=e.match(/<tmdbid[^>]*>(.*?)<\/tmdbid>/is)||e.match(/themoviedb\.org\/(?:movie|tv)\/(\d+)/i);$&&(t.tmdbId=$[1].trim())}catch(r){console.error("Erreur lors du parsing NFO XML:",r)}return t}function Ta(e){return e?e.replace(/\.[^.]+$/,"").replace(/[[\]()]/g," ").replace(/[._-]/g," ").replace(/\b(19|20)\d{2}\b.*$/,"").replace(/\b(S\d+E\d+|Season\s+\d+|Episode\s+\d+)\b.*$/i,"").replace(/\b(FRENCH|ENGLISH|MULTI|TRUEFRENCH|VFF|VFQ|VOSTFR|MULTI\.TRUEFRENCH)\b.*$/i,"").replace(/\b(720p|1080p|2160p|4K|UHD|HDR|BluRay|WEB|WEB-DL|WEBRIP|HDTV|REMUX)\b.*$/i,"").replace(/\s+/g," ").trim():""}function Kb(e){if(!e)return"";const t=e.match(/(Movie\s*name|Nom\s*du\s*film)\s*:\s*(.+)/i);if(t){const u=t[2].trim(),d=Ta(u);if(d&&d.length>1)return d}const r=e.match(/^Title\s*:\s*(.+)$/mi);if(r){const u=r[1].trim(),d=Ta(u);if(d&&d.length>1)return d}const n=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(n){const d=n[2].trim().split(/[\\/]/).pop()||"",p=Ta(d);if(p)return p}const a=e.match(/^\s*([^\n]+?)\s*\((19|20)\d{2}\).*$/m);if(a){const u=a[1].replace(/[._]/g," ").replace(/\s+/g," ").trim();if(u&&u.length>1)return u}const s=e.match(/^\s*Source\s*:\s*(.+)$/mi)||e.match(/^\s*Source\s*VF\s*:\s*(.+)$/mi);if(s){let u=s[1].trim().replace(/[._]/g," ");const d=u.search(/\b(19|20)\d{2}\b/);if(d>0&&(u=u.slice(0,d)),u=u.replace(/\s+$/g,"").trim(),u&&u.length>1)return u}const o=Gg(e);return o.title?o.title:""}function qb(e){const t=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(!t)return"";const r=t[2].trim();return(r.split(/[\\/]/).pop()||r).trim().replace(/\.[^.]+$/,"")}const Gb={quality:"1080p",format:"MKV",codec:"H.264",bitrate:5,bitrateUnit:"Mbps",size:8};function Yb(e){const t={video:{...Gb},audio:[],subtitles:[]},r=e.match(/RESOLUTiON[.\s]*:\s*(\d+)\s*x\s*(\d+)/i);if(r){const f=parseInt(r[2]);f>=2160?t.video.quality="2160p":f>=1080?t.video.quality="1080p":f>=720?t.video.quality="720p":f>=480&&(t.video.quality="480p"),t.video.height=f,t.video.width=parseInt(r[1])}const n=e.match(/CODEC[.\s]*:\s*([^\n]+)/i);if(n){let f=n[1].trim().split("-")[0].trim();/265|hevc/i.test(f)?t.video.codec="H.265":/264/i.test(f)?t.video.codec="H.264":t.video.codec=f}const a=e.match(/BiTRATE[.\s]*:\s*([\d\s,]+)\s*kb\/s/i);if(a){const f=parseInt(a[1].replace(/[\s,]/g,""));t.video.bitrate=Math.round(f/1e3*100)/100,t.video.bitrateUnit="Mbps"}const s=e.match(/RELEASE\s*SiZE[.\s]*:\s*([\d.]+)\s*(GiB|GB)/i);s&&(t.video.size=parseFloat(s[1]));const o=e.match(/Format\s*:\s*(\w+)/i);if(o){let f=o[1].toUpperCase();f==="MATROSKA"&&(f="MKV"),t.video.format=f}[...e.matchAll(/AUDiO\s*#(\d+)[^]*?[^]*?([\s\S]*?)(?=[^]*?[^]*?(?:AUDiO\s*#|SUBTiTLES\s*#|LiNKS|NOTE|GREETZ)|$)/gi)].forEach((f,b)=>{const h=f[1]||(b+1).toString(),j=f[2],v={id:h,language:"Franais",languageCode:"fr",codec:"AC-3",channels:"2.0",bitrate:256,bitrateUnit:"Kbps",isDefault:b===0},C=j.match(/LANGUAGE[.\s]*:\s*([^\n]+)/i);if(C){const S=C[1].trim().toLowerCase();S.includes("french ca")||S.includes("vfq")?(v.language="Qubcois",v.languageCode="fr-ca"):S.includes("french")||S.includes("franais")?(v.language="Franais",v.languageCode="fr"):S.includes("english")||S.includes("anglais")?(v.language="Anglais",v.languageCode="en"):(v.language=C[1].trim(),v.languageCode="other")}const g=j.match(/CODEC[.\s]*:\s*([^\n]+)/i);if(g){const S=g[1].trim();/(E-AC-3|EAC-3)/i.test(S)?v.codec="Dolby Digital Plus (E-AC-3)":/(AC-3|AC3)/i.test(S)?v.codec="AC-3":/DTS(-HD)?/i.test(S)?v.codec="DTS":v.codec=S}const x=j.match(/CHANNELS[.\s]*:\s*([^\n]+)/i);if(x){const S=x[1].trim();/2\.0|stereo/i.test(S)?v.channels="Stro":/5\.1/i.test(S)?v.channels="5.1":/7\.1/i.test(S)?v.channels="7.1":v.channels=S}const w=j.match(/BiTRATE[.\s]*:\s*([\d\s,]+)\s*kb\/s/i);w&&(v.bitrate=parseInt(w[1])),t.audio.push(v)}),[...e.matchAll(/SUBTiTLES\s*#(\d+)[^]*?[^]*?([\s\S]*?)(?=[^]*?[^]*?(?:SUBTiTLES\s*#|LiNKS|NOTE|GREETZ)|$)/gi)].forEach((f,b)=>{const h=f[1]||(b+1).toString(),j=f[2],v={id:h,language:"Franais",languageCode:"fr",type:"embedded",format:"SRT",isForced:!1,isDefault:b===0},C=j.match(/LANGUAGE[.\s]*:\s*([^\n]+)/i);if(C){const w=C[1].trim(),S=w.toLowerCase();S.includes("french ca")||S.includes("vfq")?(v.language="Qubcois",v.languageCode="fr-ca"):S.includes("french")||S.includes("franais")?(v.language="Franais",v.languageCode="fr"):S.includes("english")||S.includes("anglais")?(v.language="Anglais",v.languageCode="en"):(v.language=w,v.languageCode="other")}const g=j.match(/TYPE[.\s]*:\s*([^\n]+)/i);if(g){const w=g[1].trim().toLowerCase();w.includes("forced")&&(v.isForced=!0),w.includes("full")&&(v.isComplete=!0),w.includes("sdh")&&(v.isSDH=!0)}const x=j.match(/FORMAT[.\s]*:\s*([^\n]+)/i);if(x){const w=x[1].trim();/hardcoded/i.test(w)?(v.format="Hardcoded",v.type="embedded"):v.format=w.toUpperCase()==="UTF-8"?"SRT":w}t.subtitles.push(v)});const p=e.match(/SOURCE[.\s]*:\s*([^\n]+)/i);p&&(t.source=Qb(p[1]));const _=e.match(/^\s*([^\n]+?\.(?:MULTi|FRENCH|ENGLISH|TRUEFRENCH)\..*?-[A-Z0-9]+)\s*$/m);return _&&(t.releaseGroup=_[1].trim()),t}function Qb(e){const t=e.toLowerCase();return/(^|[._\-\s])webrip([._\-\s]|$)/i.test(t)?"WEBRip":/(^|[._\-\s])web\-?dl([._\-\s]|$)/i.test(t)||/(^|[._\-\s])web([._\-\s]|$)/i.test(t)||/(^|[._\-\s])(amzn|amazon|nf|netflix|dsnp|disney\+?|dplus|itunes|atvp|appletv\+?|hulu|max|hbomax|paramount|pmtp|peacock)([._\-\s]|$)/i.test(t)?"WEB-DL":/(^|[._\-\s])(bdremux|remux)([._\-\s]|$)/i.test(t)?"REMUX":/(^|[._\-\s])(uhd|4k)([._\-\s]|$)/i.test(t)?"UHD BluRay":/(^|[._\-\s])(bluray|blu\-ray)([._\-\s]|$)/i.test(t)?"BluRay":/(^|[._\-\s])hdtv([._\-\s]|$)/i.test(t)?"HDTV":/(^|[._\-\s])dvdrip([._\-\s]|$)/i.test(t)?"DVDRip":e.trim()}const Zb={"V_MPEG4/ISO/AVC":"H.264","V_MPEGH/ISO/HEVC":"H.265",V_MPEG2:"MPEG-2","MPEG VIDEO":"MPEG-2","MPEG-2":"MPEG-2","V_MPEG4/ISO/ASP":"MPEG-4","V_MS/VFW/FOURCC":"FOURCC","V_MS/VFW/FOURCC / DIV3":"DivX 3","V_MS/VFW/FOURCC / DIVX":"DivX","V_MS/VFW/FOURCC / DX50":"DivX 5","V_MS/VFW/FOURCC / XVID":"Xvid",XVID:"XVID",xvid:"XVID","V_MPEG4/ISO/AP":"MPEG-4 Part 2",V_MJPEG:"MJPEG","V_MS/VFW/FOURCC / H264":"H.264","V_MS/VFW/FOURCC / X264":"H.264","V_MS/VFW/FOURCC / AVC1":"H.264","V_MS/VFW/FOURCC / H265":"H.265","V_MS/VFW/FOURCC / HEVC":"H.265","V_MS/VFW/FOURCC / x265":"H.265","V_MS/VFW/FOURCC / hev1":"H.265",V_VP8:"VP8",V_VP9:"VP9",V_THEORA:"Theora",V_MPEG1:"MPEG-1","V_MPEG4/ISO/SP":"MPEG-4 Part 2","V_MPEG4/ISO/MP4V-ES":"MPEG-4 Part 2",V_AV01:"AV1",avc1:"H.264",hev1:"H.265",hvc1:"H.265",av01:"AV1",vp09:"VP9",vp08:"VP8"},Xb={"A_AAC-2":"AAC",A_AAC:"AAC",A_AC3:"AC-3",A_DTS:"DTS","A_DTS/ES":"DTS-ES","A_DTS/HDRA":"DTS-HD-HRA","A_DTS/HDMA":"DTS-HD-MA","Dolby Digital Plus with Atmos":"Dolby Digital Plus / E-AC3 Atmos","Dolby Digital Plus with Dolby Atmos":"Dolby Digital Plus / E-AC3 Atmos","E-AC-3 JOC":"Dolby Digital Plus / E-AC3 Atmos","DD+ Atmos":"Dolby Digital Plus / E-AC3 Atmos","DDP Atmos":"Dolby Digital Plus / E-AC3 Atmos","Dolby Digital Plus (E-AC-3)":"Dolby Digital Plus / E-AC3","Dolby Digital Plus":"Dolby Digital Plus / E-AC3","E-AC-3":"Dolby Digital Plus / E-AC3","EC-3":"Dolby Digital Plus / E-AC3","DD+":"Dolby Digital Plus / E-AC3",A_EAC3:"E-AC-3",A_FLAC:"FLAC","A_MPEG/L3":"MP3","A_MPEG/L2":"MP2",A_TRUEHD:"TrueHD",A_VORBIS:"Vorbis",A_WAVPACK4:"WavPack",A_PCM:"PCM","A_PCM/INT/LIT":"PCM","A_PCM/INT/BIG":"PCM","A_PCM/FLOAT/IEEE":"PCM",mp4a:"AAC","ac-3":"AC-3","ec-3":"E-AC-3",dts:"DTS",dtsh:"DTS-HDRA",dtsl:"DTS-HD MA","dts-es":"DTS-ES",dtses:"DTS-ES",flac:"FLAC"},Jb={1:"Mono",2:"Stro",3:"2.1",4:"4.0",5:"5.0",6:"5.1",7:"6.1",8:"7.1",10:"7.1.2 (Atmos)",12:"7.1.4 (Atmos)",16:"15.1"},Mh={fr:{code:"fr",name:"Franais",flag:"https://flagcdn.com/20x15/fr.png"},"fr-ad":{code:"fr-ad",name:"Franais AD",flag:"https://flagcdn.com/20x15/fr.png"},"fr-ca":{code:"fr-ca",name:"Qubcois",flag:"https://flagcdn.com/20x15/ca.png"},en:{code:"en",name:"Anglais",flag:"https://flagcdn.com/20x15/us.png"},es:{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},de:{code:"de",name:"Allemand",flag:"https://flagcdn.com/20x15/de.png"},it:{code:"it",name:"Italien",flag:"https://flagcdn.com/20x15/it.png"},pt:{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},ru:{code:"ru",name:"Russe",flag:"https://flagcdn.com/20x15/ru.png"},ja:{code:"ja",name:"Japonais",flag:"https://flagcdn.com/20x15/jp.png"},ko:{code:"ko",name:"Coren",flag:"https://flagcdn.com/20x15/kr.png"},zh:{code:"zh",name:"Chinois",flag:"https://flagcdn.com/20x15/cn.png"},ar:{code:"ar",name:"Arabe",flag:"https://flagcdn.com/20x15/sa.png"},he:{code:"he",name:"Hbreu",flag:"https://flagcdn.com/20x15/il.png"},th:{code:"th",name:"Tha",flag:"https://flagcdn.com/20x15/th.png"},vi:{code:"vi",name:"Vietnamien",flag:"https://flagcdn.com/20x15/vn.png"},hi:{code:"hi",name:"Hindi",flag:"https://flagcdn.com/20x15/in.png"},nl:{code:"nl",name:"Nerlandais",flag:"https://flagcdn.com/20x15/nl.png"},sv:{code:"sv",name:"Sudois",flag:"https://flagcdn.com/20x15/se.png"},no:{code:"no",name:"Norvgien",flag:"https://flagcdn.com/20x15/no.png"},da:{code:"da",name:"Danois",flag:"https://flagcdn.com/20x15/dk.png"},fi:{code:"fi",name:"Finnois",flag:"https://flagcdn.com/20x15/fi.png"},pl:{code:"pl",name:"Polonais",flag:"https://flagcdn.com/20x15/pl.png"},cs:{code:"cs",name:"Tchque",flag:"https://flagcdn.com/20x15/cz.png"},hu:{code:"hu",name:"Hongrois",flag:"https://flagcdn.com/20x15/hu.png"},tr:{code:"tr",name:"Turc",flag:"https://flagcdn.com/20x15/tr.png"},ro:{code:"ro",name:"Roumain",flag:"https://flagcdn.com/20x15/ro.png"},bg:{code:"bg",name:"Bulgare",flag:"https://flagcdn.com/20x15/bg.png"},el:{code:"el",name:"Grec",flag:"https://flagcdn.com/20x15/gr.png"},id:{code:"id",name:"Indonsien",flag:"https://flagcdn.com/20x15/id.png"},ms:{code:"ms",name:"Malais",flag:"https://flagcdn.com/20x15/my.png"},tl:{code:"tl",name:"Filipino",flag:"https://flagcdn.com/20x15/ph.png"},uk:{code:"uk",name:"Ukrainien",flag:"https://flagcdn.com/20x15/ua.png"},hr:{code:"hr",name:"Croate",flag:"https://flagcdn.com/20x15/hr.png"},sr:{code:"sr",name:"Serbe",flag:"https://flagcdn.com/20x15/rs.png"},sl:{code:"sl",name:"Slovne",flag:"https://flagcdn.com/20x15/si.png"},sk:{code:"sk",name:"Slovaque",flag:"https://flagcdn.com/20x15/sk.png"},lt:{code:"lt",name:"Lituanien",flag:"https://flagcdn.com/20x15/lt.png"},lv:{code:"lv",name:"Letton",flag:"https://flagcdn.com/20x15/lv.png"},et:{code:"et",name:"Estonien",flag:"https://flagcdn.com/20x15/ee.png"},"chinese (simplified)":{code:"zh",name:"Chinois (Simplifi)",flag:"https://flagcdn.com/20x15/cn.png"},"chinese (traditional)":{code:"zh-tw",name:"Chinois (Traditionnel)",flag:"https://flagcdn.com/20x15/tw.png"},"spanish (latin america)":{code:"es-mx",name:"Espagnol (Amrique Latine)",flag:"https://flagcdn.com/20x15/mx.png"},"spanish (es)":{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},spanish:{code:"es",name:"Espagnol",flag:"https://flagcdn.com/20x15/es.png"},"portuguese (br)":{code:"pt-br",name:"Portugais (Brsil)",flag:"https://flagcdn.com/20x15/br.png"},portuguese:{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},"portuguese (pt)":{code:"pt",name:"Portugais",flag:"https://flagcdn.com/20x15/pt.png"},"norwegian bokmal":{code:"no",name:"Norvgien",flag:"https://flagcdn.com/20x15/no.png"},chinese:{code:"zh",name:"Chinois",flag:"https://flagcdn.com/20x15/cn.png"},arabic:{code:"ar",name:"Arabe",flag:"https://flagcdn.com/20x15/sa.png"},czech:{code:"cs",name:"Tchque",flag:"https://flagcdn.com/20x15/cz.png"},danish:{code:"da",name:"Danois",flag:"https://flagcdn.com/20x15/dk.png"},german:{code:"de",name:"Allemand",flag:"https://flagcdn.com/20x15/de.png"},greek:{code:"el",name:"Grec",flag:"https://flagcdn.com/20x15/gr.png"},finnish:{code:"fi",name:"Finnois",flag:"https://flagcdn.com/20x15/fi.png"},hebrew:{code:"he",name:"Hbreu",flag:"https://flagcdn.com/20x15/il.png"},croatian:{code:"hr",name:"Croate",flag:"https://flagcdn.com/20x15/hr.png"},hungarian:{code:"hu",name:"Hongrois",flag:"https://flagcdn.com/20x15/hu.png"},indonesian:{code:"id",name:"Indonsien",flag:"https://flagcdn.com/20x15/id.png"},italian:{code:"it",name:"Italien",flag:"https://flagcdn.com/20x15/it.png"},korean:{code:"ko",name:"Coren",flag:"https://flagcdn.com/20x15/kr.png"},malay:{code:"ms",name:"Malais",flag:"https://flagcdn.com/20x15/my.png"},dutch:{code:"nl",name:"Nerlandais",flag:"https://flagcdn.com/20x15/nl.png"},polish:{code:"pl",name:"Polonais",flag:"https://flagcdn.com/20x15/pl.png"},romanian:{code:"ro",name:"Roumain",flag:"https://flagcdn.com/20x15/ro.png"},russian:{code:"ru",name:"Russe",flag:"https://flagcdn.com/20x15/ru.png"},swedish:{code:"sv",name:"Sudois",flag:"https://flagcdn.com/20x15/se.png"},thai:{code:"th",name:"Tha",flag:"https://flagcdn.com/20x15/th.png"},turkish:{code:"tr",name:"Turc",flag:"https://flagcdn.com/20x15/tr.png"},ukrainian:{code:"uk",name:"Ukrainien",flag:"https://flagcdn.com/20x15/ua.png"},vietnamese:{code:"vi",name:"Vietnamien",flag:"https://flagcdn.com/20x15/vn.png"}};function e1(e){return Zb[e]||e}function t1(e){if(!e)return"Autre";const t=e.trim(),r=t.toLowerCase();return/e[\- _]?ac[\- _]?3\s*joc/.test(r)||/(^|[\s\-_/])(e[\- _]?ac[\- _]?3|ec[\- _]?3|dd\+|dolby\s*digital\s*plus)([^a-z]|$)/.test(r)&&/(atmos|joc)/.test(r)||r==="dolby digital plus with atmos"||r==="dd+ atmos"||r==="ddp atmos"?"Dolby Digital Plus / E-AC3 Atmos":/dolby\s*truehd/.test(r)&&/atmos/.test(r)||/\bmlp\s*fba\s*16-ch\b/.test(r)?"Dolby TrueHD Atmos":/(^|[\s\-_/])(e[\- _]?ac[\- _]?3|ec[\- _]?3|dd\+|dolby\s*digital\s*plus)([^a-z]|$)/.test(r)?"Dolby Digital Plus / E-AC3":/(^|[\s\-_/])ac[\- _]?3([^a-z]|$)/.test(r)||/dolby\s*digital(?!\s*plus)/.test(r)?"AC-3":Xb[e]||t}function r1(e){return Jb[e]||`${e} canaux`}function Kt(e){const t=e.toLowerCase();return t==="autre"||t==="other"?{code:t,name:e,flag:null}:Mh[t]?Mh[t]:{code:t,name:e,flag:null}}function n1(e){const t={},r=e.split(`
`);let n="",a=[];for(const s of r){const o=s.trim(),u=/^(general|gnral)(\s*#\d+)?\s*$/i.test(o),d=/^(video|vido)(\s*#\d+)?\s*$/i.test(o),p=/^audio(\s*#\d+)?\s*$/i.test(o),_=/^(text|texte)(\s*#\d+)?\s*$/i.test(o),f=/^(subtitle|sous-titre)\s*#\d+\s*$/i.test(o);u?(n&&a.length>0&&ga(t,n,a.join(`
`)),n="general",a=[]):d?(n&&a.length>0&&ga(t,n,a.join(`
`)),n="video",a=[]):p?(n&&a.length>0&&ga(t,n,a.join(`
`)),n="audio",a=[]):_||f?(n&&a.length>0&&ga(t,n,a.join(`
`)),n="text",a=[]):o&&n&&(/^#\d+$/.test(o)||a.push(s))}return n&&a.length>0&&ga(t,n,a.join(`
`)),t}function ga(e,t,r){t==="general"?e.general=r:t==="video"?(e.video||(e.video=[]),e.video.push(r)):t==="audio"?(e.audio||(e.audio=[]),e.audio.push(r)):t==="text"&&(e.text||(e.text=[]),e.text.push(r))}function vt(e,t){const r=t.replace(/[()\[\]{}.*+?^$|\\]/g,"\\$&"),n=new RegExp(`${r}\\s*:\\s*(.+)`,"i"),a=e.match(n);if(a)return a[1].trim();const s=new RegExp(`^${r}\\t(.+)$`,"im"),o=e.match(s);return o?o[1].trim():null}function i1(e){const t={},r=e.match(/(Duration|Dure)\s*:\s*(.+)/i);r&&(t.duration=r[2].trim());const n=e.match(/(File\s*size|Taille\s*du\s*fichier)\s*:\s*([\d\s,.]+)\s*(GiB|GB|MiB|MB|Gio|Mio)/i);if(n){const a=n[2].replace(/\s/g,"").replace(",","."),s=n[3].toUpperCase(),o=parseFloat(a);Number.isNaN(o)||(s==="GIB"||s==="GB"||s==="GIO"?t.fileSizeGiB=o:(s==="MIB"||s==="MB"||s==="MIO")&&(t.fileSizeGiB=o/1024))}return t}function s1(e){const t={},r=e.match(/(Duration|Dure)\s*:\s*(.+)/i);r&&(t.duration=r[2].trim());const n=e.match(/(Width|Largeur)\s*:\s*([\d\s.,]+)/i),a=e.match(/(Height|Hauteur)\s*:\s*([\d\s.,]+)/i);if(n&&a){const _=parseInt(n[2].replace(/\D/g,"")),f=parseInt(a[2].replace(/\D/g,""));if(!Number.isNaN(_)&&!Number.isNaN(f)){t.width=_,t.height=f;const b=_>=3800||f>=2160||_>=3e3&&f>=1600,h=!b&&(_>=1900||f>=1e3||_>=1900&&f>=800),j=!b&&!h&&(_>=1280||f>=700);b?t.quality="2160p":h?t.quality="1080p":j?t.quality="720p":t.quality="SD"}}const s=e.match(/(Codec ID|Identifiant du codec)\s*:\s*(.+)/i)||e.match(/Format\s*:\s*(.+)/i);if(s){let _=(s[2]||s[1]).trim();_.toUpperCase()==="MPEG VIDEO"?_="MPEG-2":_.toUpperCase()==="AVC"||_.toUpperCase().includes("H264")?_="H.264":(_.toUpperCase()==="HEVC"||_.toUpperCase().includes("H265"))&&(_="H.265"),t.codec=e1(_)}const o=e.match(/(Frame\s*rate|Images\s*par\s*seconde)\s*:\s*([\d.,]+)\s*(FPS|Im\/s)/i);o&&(t.frameRate=o[2].replace(",","."));const u=e.match(/(Bit[ _-]?rate|Dbit)\s*:\s*([\d\s.,]+)\s*(Mb\/?s|Mbps|Kb\/?s|Kbps|kb\/?s)/i)||e.match(/Bitrate\s*:\s*([\d\s.,]+)\s*(Mb\/?s|Mbps|Kb\/?s|Kbps|kb\/?s)/i);if(u){const _=u[2].replace(/\s/g,"").replace(",","."),f=u[3].toLowerCase();let b=parseFloat(_);Number.isNaN(b)||(f.startsWith("kb")&&(b=b/1e3),t.bitrate=parseFloat(b.toFixed(3)),t.bitrateUnit="Mbps")}const d=e.match(/(Writing\s*library|Bibliothque\s*d'criture)\s*:\s*(.+)/i);d&&(t.writingLibrary=d[2].trim());const p=e.match(/(Encoding\s*settings|Paramtres\s*d'encodage)\s*:\s*(.+)/i);return p&&(t.encodingSettings=p[2].trim()),t}function a1(e,t){var r;try{const n={id:(t+1).toString(),language:"Franais",languageCode:"fr",codec:"AAC",channels:"Stro",bitrate:128,bitrateUnit:"Kbps",isDefault:t===0};let a=!1;const s=vt(e,"Language")||vt(e,"Langue");if(s){const h=s.toLowerCase();h.includes("french (ca)")||h.includes("french ca")||h.includes("vfq")?(n.language="Qubcois",n.languageCode="fr-ca"):h.includes("french")||h.includes("franais")||h==="fr"?(n.language="Franais",n.languageCode="fr"):h.includes("english")||h.includes("anglais")||h==="en"?(n.language="Anglais",n.languageCode="en"):h.includes("japanese")||h.includes("japonais")||h==="ja"?(n.language="Japonais",n.languageCode="ja"):(n.language=s,n.languageCode="other")}const o=vt(e,"Commercial name")||vt(e,"Nom commercial")||vt(e,"Format_Commercial_IfAny");if(o){const h=o.toLowerCase();h.includes("dts-hd high resolution audio")||h.includes("dts-hd hra")?(n.codec="DTS-HD",a=!0):h.includes("dts-hd master audio")||h.includes("dts-hd ma")?(n.codec="DTS-HD MA",a=!0):h.includes("dts:x")?(n.codec="DTS:X",a=!0):h.includes("dolby truehd")&&h.includes("atmos")?(n.codec="Dolby TrueHD with Dolby Atmos",a=!0):h.includes("dolby truehd")?(n.codec="Dolby TrueHD",a=!0):h.includes("dolby digital plus")&&h.includes("atmos")?(n.codec="Dolby Digital Plus / E-AC3 Atmos",a=!0):h.includes("dolby digital plus")?(n.codec="Dolby Digital Plus / E-AC3",a=!0):h.includes("dolby digital")&&(n.codec="AC-3",a=!0)}const u=/\bAtmos\b|\bJOC\b/i.test(e),d=vt(e,"Format")||vt(e,"Codec ID")||vt(e,"Identifiant du codec");if(d&&!a){const h=d.toLowerCase();h==="ac-3"||h.includes("ac-3")||h==="ac3"?n.codec="AC-3":h==="dts xll"||h==="dts-xll"?n.codec="DTS-HD MA":h==="dts xbr"||h==="dts-xbr"?n.codec="DTS-HD":h.includes("dts")?n.codec="DTS":h==="mlp fba"||h.includes("mlp fba 16-ch")?n.codec="Dolby TrueHD with Dolby Atmos":h==="mlp fba"||h.includes("mlp")?n.codec="Dolby TrueHD":h==="e-ac-3"||h==="eac3"||h.includes("e-ac-3")?n.codec="Dolby Digital Plus / E-AC3":n.codec=t1(d)}console.log(`Audio track ${t+1}: Checking channels in content (first 500 chars):`,e.substring(0,500));const p=vt(e,"Channel(s)_Original")||vt(e,"ChannelLayout_Original"),_=vt(e,"Channel(s)")||vt(e,"Channels")||vt(e,"Canaux");console.log(`Audio track ${t+1}: channelsOriginal='${p}', channelsValue='${_}'`);const f=p||_;if(f){const h=parseInt(f);console.log(`Audio track ${t+1}: Parsing '${f}'  channelCount=${h}`),isNaN(h)||(n.channels=r1(h),console.log(`Audio track ${t+1}: Detected ${h} channels  ${n.channels}`))}else console.log(`Audio track ${t+1}: No channel information found`);const b=vt(e,"Bit rate")||vt(e,"Maximum bit rate")||vt(e,"BitRate")||vt(e,"Dbit")||vt(e,"Bitrate");if(b){const h=b.match(/([\d\s.,]+)\s*(kb\/s|kbps|Mb\/s|Mbps)?/i);if(h){const j=parseFloat(h[1].replace(/\s/g,"").replace(",",".")),v=((r=h[2])==null?void 0:r.toLowerCase())||"kb/s";isNaN(j)||(v.includes("mb")?n.bitrate=Math.round(j*1e3):n.bitrate=Math.round(j),n.bitrateUnit="Kbps",console.log(`Audio track ${t+1}: Detected bitrate ${j} ${v}  ${n.bitrate} Kbps`))}}else{const h=vt(e,"Title")||vt(e,"Titre");if(h){const j=h.match(/@\s*([\d\s.,]+)\s*[Kk]bps/i);if(j){const v=parseFloat(j[1].replace(/\s/g,"").replace(",","."));isNaN(v)||(n.bitrate=Math.round(v),n.bitrateUnit="Kbps",console.log(`Audio track ${t+1}: Extracted bitrate from Title: ${n.bitrate} Kbps`))}}}return n}catch(n){return console.error("Erreur lors du parsing de la piste audio:",n),null}}function o1(e,t){try{const r={id:(t+1).toString(),language:"Franais",languageCode:"fr",type:"embedded",format:"SRT",isForced:!1,isDefault:t===0},n=vt(e,"Language")||vt(e,"Langue");if(n){const d=n.toLowerCase();d.includes("french (ca)")||d.includes("french ca")||d.includes("vfq")?(r.language="Qubcois",r.languageCode="fr-ca"):d.includes("french")||d.includes("franais")||d==="fr"?(r.language="Franais",r.languageCode="fr"):d.includes("english")||d.includes("anglais")||d==="en"?(r.language="Anglais",r.languageCode="en"):d.includes("japanese")||d.includes("japonais")||d==="ja"?(r.language="Japonais",r.languageCode="ja"):(r.language=n,r.languageCode="other")}const a=vt(e,"Format");if(a){const d=a.trim().toUpperCase();["SRT","ASS","SSA","PGS","VOBSUB","SUP","UTF-8"].includes(d)&&(r.format=d==="UTF-8"?"SRT":d)}const s=vt(e,"Title")||vt(e,"Titre");if(s){const d=s.toLowerCase();(d.includes("forced")||d.includes("forc"))&&(r.isForced=!0),d.includes("sdh")&&(r.isSDH=!0),(d.includes("full")||d.includes("complete"))&&(r.isComplete=!0)}const o=vt(e,"Forced")||vt(e,"Forc");o&&(r.isForced=/^(yes|oui)$/i.test(o));const u=vt(e,"Default")||vt(e,"Dfaut");return u&&(r.isDefault=/^(yes|oui)$/i.test(u)),r}catch(r){return console.error("Erreur lors du parsing des sous-titres:",r),null}}function l1(e){var u;const t={},r=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i),n=e.match(/(Movie\s*name|Nom\s*du\s*film)\s*:\s*(.+)/i),a=e.match(/(Encoded\s*by|Encod\s*par)\s*:\s*(.+)/i),s=e.match(/(Original\s*source\s*medium|Support\s*source\s*original)\s*:\s*(.+)/i),o=((u=r?r[2]:n?n[2]:"")==null?void 0:u.trim())||"";if(o){const p=(o.split(/[\\/]/).pop()||o).trim().replace(/\.[^.]+$/,"").trim(),_=p.toLowerCase();t.source=Yg(_)||t.source,t.releaseGroup=p.replace(/\./g," ")}if(!t.source&&s){const d=s[2].toLowerCase();d.includes("uhd")||d.includes("4k")?t.source="UHD BluRay":d.includes("blu-ray")?t.source="BluRay":d.includes("web")&&(t.source="WEB-DL")}return!t.releaseGroup&&a&&(t.releaseGroup=a[2].trim()),t}function Yg(e){const t=e.toLowerCase();if(/(^|[._\-\s])webrip([._\-\s]|$)/i.test(t))return"WEBRip";if(/(^|[._\-\s])web\-?dl([._\-\s]|$)/i.test(t)||/(^|[._\-\s])web([._\-\s]|$)/i.test(t)||/(^|[._\-\s])(amzn|amazon|nf|netflix|dsnp|disney\+?|dplus|itunes|atvp|appletv\+?|hulu|max|hbomax|paramount|pmtp|peacock)([._\-\s]|$)/i.test(t))return"WEB-DL";if(/(^|[._\-\s])(bdremux|remux)([._\-\s]|$)/i.test(t))return"REMUX";if(/(^|[._\-\s])(uhd|4k)([._\-\s]|$)/i.test(t))return"UHD BluRay";if(/(^|[._\-\s])(bluray|blu\-ray|bdrip)([._\-\s]|$)/i.test(t))return"BluRay";if(/(^|[._\-\s])hdtv([._\-\s]|$)/i.test(t))return"HDTV";if(/(^|[._\-\s])dvdrip([._\-\s]|$)/i.test(t))return"DVDRip";if(/(^|[._\-\s])cam([._\-\s]|$)/i.test(t))return"CAM";if(/(^|[._\-\s])ts([._\-\s]|$)/i.test(t))return"TS"}function u1(e){if(!e||!Kg(e))return null;const t=/\bRESOLUTiON\b|\bViDEO\b|\bAUDiO\b|\bSUBTiTLES\b/i.test(e),r={video:{},audio:[],subtitles:[]};try{if(!qg(e)&&t){const s=Yb(e);if(s)return s}const n=n1(e);return c1(n.general,r),p1(n.video,r),g1(n.audio,r),v1(n.text,r),n.video&&n.video.length>1&&x1(r),r}catch(n){return console.error("Erreur lors du parsing des spcifications techniques:",n),null}}function c1(e,t){if(!e)return;console.log("processGeneralSection - generalSection:",e.substring(0,500));const r=i1(e),n=t.video,a=e.match(/Format\s*:\s*(.+)/i);if(a){let o=a[1].trim().toUpperCase();o==="MATROSKA"?o="MKV":o==="AVI"?o="AVI":o==="MP4"?o="MP4":o==="M2TS"?o="M2TS":(o==="ISO"||o==="BDAV")&&(o="ISO"),["MKV","MP4","AVI","M2TS","ISO"].includes(o)&&(n.format=o),console.log("Format detected from General section:",o)}r.duration&&(n.duration=r.duration),r.fileSizeGiB&&!Number.isNaN(r.fileSizeGiB)&&(n.size=r.fileSizeGiB);const s=e.match(/(Complete\s*name|Nom\s*complet)\s*:\s*(.+)/i);if(console.log("completeNameMatch:",s),s){const o=s[2];d1(o,n),f1(o,t),h1(e,t)}m1(e,t)}function d1(e,t){const r=e.toLowerCase();/\b(2160p|uhd|4k)\b/i.test(r)?t.quality="2160p":/\b1080p\b/i.test(r)?t.quality="1080p":/\b720p\b/i.test(r)&&(t.quality="720p")}function f1(e,t){const r=Yg(e);r&&(t.source=r)}function h1(e,t){const r=qb(e);console.log("extractReleaseInfoFromCompleteName - releaseName:",r),r&&(t.releaseName=r)}function m1(e,t){const r=l1(e);r.source&&!t.source&&(t.source=r.source),r.releaseGroup&&!t.releaseGroup&&(t.releaseGroup=r.releaseGroup)}function p1(e,t){if(!e||e.length===0)return;const r=s1(e[0]),n=t.video,a="Mbps",s=n.format;t.video={quality:r.quality||n.quality||"1080p",format:s||"MKV",codec:r.codec||n.codec||"H.264",bitrate:r.bitrate??n.bitrate??5,bitrateUnit:r.bitrateUnit||n.bitrateUnit||a,size:n.size??r.size,duration:n.duration||r.duration},console.log("Final video format after processing:",t.video.format);const o=t.video,u=r;u.width&&(o.width=u.width),u.height&&(o.height=u.height),u.frameRate&&(o.frameRate=u.frameRate),u.writingLibrary&&(o.writingLibrary=u.writingLibrary),u.encodingSettings&&(o.encodingSettings=u.encodingSettings)}function g1(e,t){!e||e.length===0||(t.audio=e.map((r,n)=>a1(r,n)).filter(r=>r!==null))}function v1(e,t){!e||e.length===0||(t.subtitles=e.map((r,n)=>o1(r,n)).filter(r=>r!==null))}function x1(e){if(e.audio){const t=r=>`${r.language}-${r.codec}-${r.channels}-${r.bitrate}`;e.audio=Fh(e.audio,t)}if(e.subtitles){const t=r=>{const n=r;return`${r.language}-${r.format}-${r.isForced}-${n.isSDH}-${n.isComplete}`};e.subtitles=Fh(e.subtitles,t)}}function Fh(e,t){const r=new Set;return e.filter(n=>{const a=t(n);return r.has(a)?!1:(r.add(a),!0)})}var Qg={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cs,function(){var r=function(l,c){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var N in y)Object.prototype.hasOwnProperty.call(y,N)&&(m[N]=y[N])})(l,c)},n=function(){return(n=Object.assign||function(l){for(var c,m=1,y=arguments.length;m<y;m++)for(var N in c=arguments[m])Object.prototype.hasOwnProperty.call(c,N)&&(l[N]=c[N]);return l}).apply(this,arguments)};function a(l,c,m){for(var y,N=0,T=c.length;N<T;N++)!y&&N in c||((y=y||Array.prototype.slice.call(c,0,N))[N]=c[N]);return l.concat(y||Array.prototype.slice.call(c))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:cs,o=Object.keys,u=Array.isArray;function d(l,c){return typeof c!="object"||o(c).forEach(function(m){l[m]=c[m]}),l}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var p=Object.getPrototypeOf,_={}.hasOwnProperty;function f(l,c){return _.call(l,c)}function b(l,c){typeof c=="function"&&(c=c(p(l))),(typeof Reflect>"u"?o:Reflect.ownKeys)(c).forEach(function(m){j(l,m,c[m])})}var h=Object.defineProperty;function j(l,c,m,y){h(l,c,d(m&&f(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},y))}function v(l){return{from:function(c){return l.prototype=Object.create(c.prototype),j(l.prototype,"constructor",l),{extend:b.bind(null,l.prototype)}}}}var C=Object.getOwnPropertyDescriptor,g=[].slice;function x(l,c,m){return g.call(l,c,m)}function w(l,c){return c(l)}function S(l){if(!l)throw new Error("Assertion Failed")}function I(l){s.setImmediate?setImmediate(l):setTimeout(l,0)}function $(l,c){if(typeof c=="string"&&f(l,c))return l[c];if(!c)return l;if(typeof c!="string"){for(var m=[],y=0,N=c.length;y<N;++y){var T=$(l,c[y]);m.push(T)}return m}var R=c.indexOf(".");if(R!==-1){var U=l[c.substr(0,R)];return U==null?void 0:$(U,c.substr(R+1))}}function M(l,c,m){if(l&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof c!="string"&&"length"in c){S(typeof m!="string"&&"length"in m);for(var y=0,N=c.length;y<N;++y)M(l,c[y],m[y])}else{var T,R,U=c.indexOf(".");U!==-1?(T=c.substr(0,U),(R=c.substr(U+1))===""?m===void 0?u(l)&&!isNaN(parseInt(T))?l.splice(T,1):delete l[T]:l[T]=m:M(U=!(U=l[T])||!f(l,T)?l[T]={}:U,R,m)):m===void 0?u(l)&&!isNaN(parseInt(c))?l.splice(c,1):delete l[c]:l[c]=m}}function P(l){var c,m={};for(c in l)f(l,c)&&(m[c]=l[c]);return m}var L=[].concat;function le(l){return L.apply([],l)}var Qe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(le([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(c){return c+l+"Array"})}))).filter(function(l){return s[l]}),Re=new Set(Qe.map(function(l){return s[l]})),O=null;function ne(l){return O=new WeakMap,l=function c(m){if(!m||typeof m!="object")return m;var y=O.get(m);if(y)return y;if(u(m)){y=[],O.set(m,y);for(var N=0,T=m.length;N<T;++N)y.push(c(m[N]))}else if(Re.has(m.constructor))y=m;else{var R,U=p(m);for(R in y=U===Object.prototype?{}:Object.create(U),O.set(m,y),m)f(m,R)&&(y[R]=c(m[R]))}return y}(l),O=null,l}var E={}.toString;function ge(l){return E.call(l).slice(8,-1)}var qe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",me=typeof qe=="symbol"?function(l){var c;return l!=null&&(c=l[qe])&&c.apply(l)}:function(){return null};function xe(l,c){return c=l.indexOf(c),0<=c&&l.splice(c,1),0<=c}var H={};function K(l){var c,m,y,N;if(arguments.length===1){if(u(l))return l.slice();if(this===H&&typeof l=="string")return[l];if(N=me(l)){for(m=[];!(y=N.next()).done;)m.push(y.value);return m}if(l==null)return[l];if(typeof(c=l.length)!="number")return[l];for(m=new Array(c);c--;)m[c]=l[c];return m}for(c=arguments.length,m=new Array(c);c--;)m[c]=arguments[c];return m}var Z=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ke=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Mr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ke),X={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ie(l,c){this.name=l,this.message=c}function Ae(l,c){return l+". Errors: "+Object.keys(c).map(function(m){return c[m].toString()}).filter(function(m,y,N){return N.indexOf(m)===y}).join(`
`)}function De(l,c,m,y){this.failures=c,this.failedKeys=y,this.successCount=m,this.message=Ae(l,c)}function q(l,c){this.name="BulkError",this.failures=Object.keys(c).map(function(m){return c[m]}),this.failuresByPos=c,this.message=Ae(l,this.failures)}v(Ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(De).from(Ie),v(q).from(Ie);var Se=Mr.reduce(function(l,c){return l[c]=c+"Error",l},{}),we=Ie,re=Mr.reduce(function(l,c){var m=c+"Error";function y(N,T){this.name=m,N?typeof N=="string"?(this.message="".concat(N).concat(T?`
 `+T:""),this.inner=T||null):typeof N=="object"&&(this.message="".concat(N.name," ").concat(N.message),this.inner=N):(this.message=X[c]||m,this.inner=null)}return v(y).from(we),l[c]=y,l},{});re.Syntax=SyntaxError,re.Type=TypeError,re.Range=RangeError;var Ye=ke.reduce(function(l,c){return l[c+"Error"]=re[c],l},{}),Ee=Mr.reduce(function(l,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(l[c+"Error"]=re[c]),l},{});function Ue(){}function Je(l){return l}function k(l,c){return l==null||l===Je?c:function(m){return c(l(m))}}function ve(l,c){return function(){l.apply(this,arguments),c.apply(this,arguments)}}function pe(l,c){return l===Ue?c:function(){var m=l.apply(this,arguments);m!==void 0&&(arguments[0]=m);var y=this.onsuccess,N=this.onerror;this.onsuccess=null,this.onerror=null;var T=c.apply(this,arguments);return y&&(this.onsuccess=this.onsuccess?ve(y,this.onsuccess):y),N&&(this.onerror=this.onerror?ve(N,this.onerror):N),T!==void 0?T:m}}function z(l,c){return l===Ue?c:function(){l.apply(this,arguments);var m=this.onsuccess,y=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?ve(m,this.onsuccess):m),y&&(this.onerror=this.onerror?ve(y,this.onerror):y)}}function F(l,c){return l===Ue?c:function(m){var y=l.apply(this,arguments);d(m,y);var N=this.onsuccess,T=this.onerror;return this.onsuccess=null,this.onerror=null,m=c.apply(this,arguments),N&&(this.onsuccess=this.onsuccess?ve(N,this.onsuccess):N),T&&(this.onerror=this.onerror?ve(T,this.onerror):T),y===void 0?m===void 0?void 0:m:d(y,m)}}function J(l,c){return l===Ue?c:function(){return c.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function je(l,c){return l===Ue?c:function(){var m=l.apply(this,arguments);if(m&&typeof m.then=="function"){for(var y=this,N=arguments.length,T=new Array(N);N--;)T[N]=arguments[N];return m.then(function(){return c.apply(y,T)})}return c.apply(this,arguments)}}Ee.ModifyError=De,Ee.DexieError=Ie,Ee.BulkError=q;var de=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ue(l){de=l}var he={},ze=100,Qe=typeof Promise>"u"?[]:function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,p(l),l];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,p(c),l]}(),ke=Qe[0],Mr=Qe[1],Qe=Qe[2],Mr=Mr&&Mr.then,Ce=ke&&ke.constructor,He=!!Qe,ut=function(l,c){_r.push([l,c]),Mt&&(queueMicrotask(ru),Mt=!1)},hr=!0,Mt=!0,Vt=[],mt=[],sr=Je,Lt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ue,pgp:!1,env:{},finalize:Ue},Ge=Lt,_r=[],mr=0,pr=[];function Ve(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=Ge;if(typeof l!="function"){if(l!==he)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&sn(this,this._value))}this._state=null,this._value=null,++c.ref,function m(y,N){try{N(function(T){if(y._state===null){if(T===y)throw new TypeError("A promise cannot be resolved with itself.");var R=y._lib&&Bn();T&&typeof T.then=="function"?m(y,function(U,G){T instanceof Ve?T._then(U,G):T.then(U,G)}):(y._state=!0,y._value=T,ao(y)),R&&Ar()}},sn.bind(null,y))}catch(T){sn(y,T)}}(this,l)}var On={get:function(){var l=Ge,c=Ln;function m(y,N){var T=this,R=!l.global&&(l!==Ge||c!==Ln),U=R&&!Vr(),G=new Ve(function(Y,ie){zn(T,new nn(lo(y,l,R,U),lo(N,l,R,U),Y,ie,l))});return this._consoleTask&&(G._consoleTask=this._consoleTask),G}return m.prototype=he,m},set:function(l){j(this,"then",l&&l.prototype===he?On:{get:function(){return l},set:On.set})}};function nn(l,c,m,y,N){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof c=="function"?c:null,this.resolve=m,this.reject=y,this.psd=N}function sn(l,c){var m,y;mt.push(c),l._state===null&&(m=l._lib&&Bn(),c=sr(c),l._state=!1,l._value=c,y=l,Vt.some(function(N){return N._value===y._value})||Vt.push(y),ao(l),m&&Ar())}function ao(l){var c=l._listeners;l._listeners=[];for(var m=0,y=c.length;m<y;++m)zn(l,c[m]);var N=l._PSD;--N.ref||N.finalize(),mr===0&&(++mr,ut(function(){--mr==0&&qs()},[]))}function zn(l,c){if(l._state!==null){var m=l._state?c.onFulfilled:c.onRejected;if(m===null)return(l._state?c.resolve:c.reject)(l._value);++c.psd.ref,++mr,ut(Yi,[m,l,c])}else l._listeners.push(c)}function Yi(l,c,m){try{var y,N=c._value;!c._state&&mt.length&&(mt=[]),y=de&&c._consoleTask?c._consoleTask.run(function(){return l(N)}):l(N),c._state||mt.indexOf(N)!==-1||function(T){for(var R=Vt.length;R;)if(Vt[--R]._value===T._value)return Vt.splice(R,1)}(c),m.resolve(y)}catch(T){m.reject(T)}finally{--mr==0&&qs(),--m.psd.ref||m.psd.finalize()}}function ru(){xn(Lt,function(){Bn()&&Ar()})}function Bn(){var l=hr;return Mt=hr=!1,l}function Ar(){var l,c,m;do for(;0<_r.length;)for(l=_r,_r=[],m=l.length,c=0;c<m;++c){var y=l[c];y[0].apply(null,y[1])}while(0<_r.length);Mt=hr=!0}function qs(){var l=Vt;Vt=[],l.forEach(function(y){y._PSD.onunhandled.call(null,y._value,y)});for(var c=pr.slice(0),m=c.length;m;)c[--m]()}function xi(l){return new Ve(he,!1,l)}function wt(l,c){var m=Ge;return function(){var y=Bn(),N=Ge;try{return Wr(m,!0),l.apply(this,arguments)}catch(T){c&&c(T)}finally{Wr(N,!1),y&&Ar()}}}b(Ve.prototype,{then:On,_then:function(l,c){zn(this,new nn(null,null,l,c,Ge))},catch:function(l){if(arguments.length===1)return this.then(null,l);var c=l,m=arguments[1];return typeof c=="function"?this.then(null,function(y){return(y instanceof c?m:xi)(y)}):this.then(null,function(y){return(y&&y.name===c?m:xi)(y)})},finally:function(l){return this.then(function(c){return Ve.resolve(l()).then(function(){return c})},function(c){return Ve.resolve(l()).then(function(){return xi(c)})})},timeout:function(l,c){var m=this;return l<1/0?new Ve(function(y,N){var T=setTimeout(function(){return N(new re.Timeout(c))},l);m.then(y,N).finally(clearTimeout.bind(null,T))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&j(Ve.prototype,Symbol.toStringTag,"Dexie.Promise"),Lt.env=oo(),b(Ve,{all:function(){var l=K.apply(null,arguments).map(bi);return new Ve(function(c,m){l.length===0&&c([]);var y=l.length;l.forEach(function(N,T){return Ve.resolve(N).then(function(R){l[T]=R,--y||c(l)},m)})})},resolve:function(l){return l instanceof Ve?l:l&&typeof l.then=="function"?new Ve(function(c,m){l.then(c,m)}):new Ve(he,!0,l)},reject:xi,race:function(){var l=K.apply(null,arguments).map(bi);return new Ve(function(c,m){l.map(function(y){return Ve.resolve(y).then(c,m)})})},PSD:{get:function(){return Ge},set:function(l){return Ge=l}},totalEchoes:{get:function(){return Ln}},newPSD:an,usePSD:xn,scheduler:{get:function(){return ut},set:function(l){ut=l}},rejectionMapper:{get:function(){return sr},set:function(l){sr=l}},follow:function(l,c){return new Ve(function(m,y){return an(function(N,T){var R=Ge;R.unhandleds=[],R.onunhandled=T,R.finalize=ve(function(){var U,G=this;U=function(){G.unhandleds.length===0?N():T(G.unhandleds[0])},pr.push(function Y(){U(),pr.splice(pr.indexOf(Y),1)}),++mr,ut(function(){--mr==0&&qs()},[])},R.finalize),l()},c,m,y)})}}),Ce&&(Ce.allSettled&&j(Ve,"allSettled",function(){var l=K.apply(null,arguments).map(bi);return new Ve(function(c){l.length===0&&c([]);var m=l.length,y=new Array(m);l.forEach(function(N,T){return Ve.resolve(N).then(function(R){return y[T]={status:"fulfilled",value:R}},function(R){return y[T]={status:"rejected",reason:R}}).then(function(){return--m||c(y)})})})}),Ce.any&&typeof AggregateError<"u"&&j(Ve,"any",function(){var l=K.apply(null,arguments).map(bi);return new Ve(function(c,m){l.length===0&&m(new AggregateError([]));var y=l.length,N=new Array(y);l.forEach(function(T,R){return Ve.resolve(T).then(function(U){return c(U)},function(U){N[R]=U,--y||m(new AggregateError(N))})})})}),Ce.withResolvers&&(Ve.withResolvers=Ce.withResolvers));var Ft={awaits:0,echoes:0,id:0},Pr=0,Qi=[],yi=0,Ln=0,Un=0;function an(l,c,m,y){var N=Ge,T=Object.create(N);return T.parent=N,T.ref=0,T.global=!1,T.id=++Un,Lt.env,T.env=He?{Promise:Ve,PromiseProp:{value:Ve,configurable:!0,writable:!0},all:Ve.all,race:Ve.race,allSettled:Ve.allSettled,any:Ve.any,resolve:Ve.resolve,reject:Ve.reject}:{},c&&d(T,c),++N.ref,T.finalize=function(){--this.parent.ref||this.parent.finalize()},y=xn(T,l,m,y),T.ref===0&&T.finalize(),y}function vn(){return Ft.id||(Ft.id=++Pr),++Ft.awaits,Ft.echoes+=ze,Ft.id}function Vr(){return!!Ft.awaits&&(--Ft.awaits==0&&(Ft.id=0),Ft.echoes=Ft.awaits*ze,!0)}function bi(l){return Ft.echoes&&l&&l.constructor===Ce?(vn(),l.then(function(c){return Vr(),c},function(c){return Vr(),gt(c)})):l}function nu(){var l=Qi[Qi.length-1];Qi.pop(),Wr(l,!1)}function Wr(l,c){var m,y=Ge;(c?!Ft.echoes||yi++&&l===Ge:!yi||--yi&&l===Ge)||queueMicrotask(c?(function(N){++Ln,Ft.echoes&&--Ft.echoes!=0||(Ft.echoes=Ft.awaits=Ft.id=0),Qi.push(Ge),Wr(N,!0)}).bind(null,l):nu),l!==Ge&&(Ge=l,y===Lt&&(Lt.env=oo()),He&&(m=Lt.env.Promise,c=l.env,(y.global||l.global)&&(Object.defineProperty(s,"Promise",c.PromiseProp),m.all=c.all,m.race=c.race,m.resolve=c.resolve,m.reject=c.reject,c.allSettled&&(m.allSettled=c.allSettled),c.any&&(m.any=c.any))))}function oo(){var l=s.Promise;return He?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function xn(l,c,m,y,N){var T=Ge;try{return Wr(l,!0),c(m,y,N)}finally{Wr(T,!1)}}function lo(l,c,m,y){return typeof l!="function"?l:function(){var N=Ge;m&&vn(),Wr(c,!0);try{return l.apply(this,arguments)}finally{Wr(N,!1),y&&queueMicrotask(Vr)}}}function Zi(l){Promise===Ce&&Ft.echoes===0?yi===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Mr).indexOf("[native code]")===-1&&(vn=Vr=Ue);var gt=Ve.reject,Kr="",Zt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",uo="String expected.",Hn=[],Xi="__dbnames",Gs="readonly",Ys="readwrite";function yn(l,c){return l?c?function(){return l.apply(this,arguments)&&c.apply(this,arguments)}:l:c}var co={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ji(l){return typeof l!="string"||/\./.test(l)?function(c){return c}:function(c){return c[l]===void 0&&l in c&&delete(c=ne(c))[l],c}}function bn(){throw re.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ot(l,c){try{var m=Qs(l),y=Qs(c);if(m!==y)return m==="Array"?1:y==="Array"?-1:m==="binary"?1:y==="binary"?-1:m==="string"?1:y==="string"?-1:m==="Date"?1:y!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return c<l?1:l<c?-1:0;case"binary":return function(N,T){for(var R=N.length,U=T.length,G=R<U?R:U,Y=0;Y<G;++Y)if(N[Y]!==T[Y])return N[Y]<T[Y]?-1:1;return R===U?0:R<U?-1:1}(Zs(l),Zs(c));case"Array":return function(N,T){for(var R=N.length,U=T.length,G=R<U?R:U,Y=0;Y<G;++Y){var ie=ot(N[Y],T[Y]);if(ie!==0)return ie}return R===U?0:R<U?-1:1}(l,c)}}catch{}return NaN}function Qs(l){var c=typeof l;return c!="object"?c:ArrayBuffer.isView(l)?"binary":(l=ge(l),l==="ArrayBuffer"?"binary":l)}function Zs(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function wi(l,c,m){var y=l.schema.yProps;return y?(c&&0<m.numFailures&&(c=c.filter(function(N,T){return!m.failures[T]})),Promise.all(y.map(function(N){return N=N.updatesTable,c?l.db.table(N).where("k").anyOf(c).delete():l.db.table(N).clear()})).then(function(){return m})):m}var _i=(fo.prototype.execute=function(l){var c=this["@@propmod"];if(c.add!==void 0){var m=c.add;if(u(m))return a(a([],u(l)?l:[],!0),m).sort();if(typeof m=="number")return(Number(l)||0)+m;if(typeof m=="bigint")try{return BigInt(l)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(c.remove!==void 0){var y=c.remove;if(u(y))return u(l)?l.filter(function(N){return!y.includes(N)}).sort():[];if(typeof y=="number")return Number(l)-y;if(typeof y=="bigint")try{return BigInt(l)-y}catch{return BigInt(0)-y}throw new TypeError("Invalid subtrahend ".concat(y))}return m=(m=c.replacePrefix)===null||m===void 0?void 0:m[0],m&&typeof l=="string"&&l.startsWith(m)?c.replacePrefix[1]+l.substring(m.length):l},fo);function fo(l){this["@@propmod"]=l}function Xs(l,c){for(var m=o(c),y=m.length,N=!1,T=0;T<y;++T){var R=m[T],U=c[R],G=$(l,R);U instanceof _i?(M(l,R,U.execute(G)),N=!0):G!==U&&(M(l,R,U),N=!0)}return N}var ho=(yt.prototype._trans=function(l,c,m){var y=this._tx||Ge.trans,N=this.name,T=de&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function R(Y,ie,W){if(!W.schema[N])throw new re.NotFound("Table "+N+" not part of transaction");return c(W.idbtrans,W)}var U=Bn();try{var G=y&&y.db._novip===this.db._novip?y===Ge.trans?y._promise(l,R,m):an(function(){return y._promise(l,R,m)},{trans:y,transless:Ge.transless||Ge}):function Y(ie,W,oe,Q){if(ie.idbdb&&(ie._state.openComplete||Ge.letThrough||ie._vip)){var ee=ie._createTransaction(W,oe,ie._dbSchema);try{ee.create(),ie._state.PR1398_maxLoop=3}catch(te){return te.name===Se.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return Y(ie,W,oe,Q)})):gt(te)}return ee._promise(W,function(te,ae){return an(function(){return Ge.trans=ee,Q(te,ae,ee)})}).then(function(te){if(W==="readwrite")try{ee.idbtrans.commit()}catch{}return W==="readonly"?te:ee._completion.then(function(){return te})})}if(ie._state.openComplete)return gt(new re.DatabaseClosed(ie._state.dbOpenError));if(!ie._state.isBeingOpened){if(!ie._state.autoOpen)return gt(new re.DatabaseClosed);ie.open().catch(Ue)}return ie._state.dbReadyPromise.then(function(){return Y(ie,W,oe,Q)})}(this.db,l,[this.name],R);return T&&(G._consoleTask=T,G=G.catch(function(Y){return console.trace(Y),gt(Y)})),G}finally{U&&Ar()}},yt.prototype.get=function(l,c){var m=this;return l&&l.constructor===Object?this.where(l).first(c):l==null?gt(new re.Type("Invalid argument to Table.get()")):this._trans("readonly",function(y){return m.core.get({trans:y,key:l}).then(function(N){return m.hook.reading.fire(N)})}).then(c)},yt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(u(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var c=o(l);if(c.length===1)return this.where(c[0]).equals(l[c[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(U){if(U.compound&&c.every(function(Y){return 0<=U.keyPath.indexOf(Y)})){for(var G=0;G<c.length;++G)if(c.indexOf(U.keyPath[G])===-1)return!1;return!0}return!1}).sort(function(U,G){return U.keyPath.length-G.keyPath.length})[0];if(m&&this.db._maxKey!==Kr){var T=m.keyPath.slice(0,c.length);return this.where(T).equals(T.map(function(G){return l[G]}))}!m&&de&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var y=this.schema.idxByName;function N(U,G){return ot(U,G)===0}var R=c.reduce(function(W,G){var Y=W[0],ie=W[1],W=y[G],oe=l[G];return[Y||W,Y||!W?yn(ie,W&&W.multi?function(Q){return Q=$(Q,G),u(Q)&&Q.some(function(ee){return N(oe,ee)})}:function(Q){return N(oe,$(Q,G))}):ie]},[null,null]),T=R[0],R=R[1];return T?this.where(T.name).equals(l[T.keyPath]).filter(R):m?this.filter(R):this.where(c).equals("")},yt.prototype.filter=function(l){return this.toCollection().and(l)},yt.prototype.count=function(l){return this.toCollection().count(l)},yt.prototype.offset=function(l){return this.toCollection().offset(l)},yt.prototype.limit=function(l){return this.toCollection().limit(l)},yt.prototype.each=function(l){return this.toCollection().each(l)},yt.prototype.toArray=function(l){return this.toCollection().toArray(l)},yt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},yt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,u(l)?"[".concat(l.join("+"),"]"):l))},yt.prototype.reverse=function(){return this.toCollection().reverse()},yt.prototype.mapToClass=function(l){var c,m=this.db,y=this.name;function N(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof bn&&(function(G,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function ie(){this.constructor=G}r(G,Y),G.prototype=Y===null?Object.create(Y):(ie.prototype=Y.prototype,new ie)}(N,c=l),Object.defineProperty(N.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),N.prototype.table=function(){return y},l=N);for(var T=new Set,R=l.prototype;R;R=p(R))Object.getOwnPropertyNames(R).forEach(function(G){return T.add(G)});function U(G){if(!G)return G;var Y,ie=Object.create(l.prototype);for(Y in G)if(!T.has(Y))try{ie[Y]=G[Y]}catch{}return ie}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=U,this.hook("reading",U),l},yt.prototype.defineClass=function(){return this.mapToClass(function(l){d(this,l)})},yt.prototype.add=function(l,c){var m=this,y=this.schema.primKey,N=y.auto,T=y.keyPath,R=l;return T&&N&&(R=Ji(T)(l)),this._trans("readwrite",function(U){return m.core.mutate({trans:U,type:"add",keys:c!=null?[c]:null,values:[R]})}).then(function(U){return U.numFailures?Ve.reject(U.failures[0]):U.lastResult}).then(function(U){if(T)try{M(l,T,U)}catch{}return U})},yt.prototype.upsert=function(l,c){var m=this,y=this.schema.primKey.keyPath;return this._trans("readwrite",function(N){return m.core.get({trans:N,key:l}).then(function(T){var R=T??{};return Xs(R,c),y&&M(R,y,l),m.core.mutate({trans:N,type:"put",values:[R],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[c]}}).then(function(U){return U.numFailures?Ve.reject(U.failures[0]):!!T})})})},yt.prototype.update=function(l,c){return typeof l!="object"||u(l)?this.where(":id").equals(l).modify(c):(l=$(l,this.schema.primKey.keyPath),l===void 0?gt(new re.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(c))},yt.prototype.put=function(l,c){var m=this,y=this.schema.primKey,N=y.auto,T=y.keyPath,R=l;return T&&N&&(R=Ji(T)(l)),this._trans("readwrite",function(U){return m.core.mutate({trans:U,type:"put",values:[R],keys:c!=null?[c]:null})}).then(function(U){return U.numFailures?Ve.reject(U.failures[0]):U.lastResult}).then(function(U){if(T)try{M(l,T,U)}catch{}return U})},yt.prototype.delete=function(l){var c=this;return this._trans("readwrite",function(m){return c.core.mutate({trans:m,type:"delete",keys:[l]}).then(function(y){return wi(c,[l],y)}).then(function(y){return y.numFailures?Ve.reject(y.failures[0]):void 0})})},yt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"deleteRange",range:co}).then(function(m){return wi(l,null,m)})}).then(function(c){return c.numFailures?Ve.reject(c.failures[0]):void 0})},yt.prototype.bulkGet=function(l){var c=this;return this._trans("readonly",function(m){return c.core.getMany({keys:l,trans:m}).then(function(y){return y.map(function(N){return c.hook.reading.fire(N)})})})},yt.prototype.bulkAdd=function(l,c,m){var y=this,N=Array.isArray(c)?c:void 0,T=(m=m||(N?void 0:c))?m.allKeys:void 0;return this._trans("readwrite",function(R){var Y=y.schema.primKey,U=Y.auto,Y=Y.keyPath;if(Y&&N)throw new re.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(N&&N.length!==l.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var G=l.length,Y=Y&&U?l.map(Ji(Y)):l;return y.core.mutate({trans:R,type:"add",keys:N,values:Y,wantResults:T}).then(function(ee){var W=ee.numFailures,oe=ee.results,Q=ee.lastResult,ee=ee.failures;if(W===0)return T?oe:Q;throw new q("".concat(y.name,".bulkAdd(): ").concat(W," of ").concat(G," operations failed"),ee)})})},yt.prototype.bulkPut=function(l,c,m){var y=this,N=Array.isArray(c)?c:void 0,T=(m=m||(N?void 0:c))?m.allKeys:void 0;return this._trans("readwrite",function(R){var Y=y.schema.primKey,U=Y.auto,Y=Y.keyPath;if(Y&&N)throw new re.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(N&&N.length!==l.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var G=l.length,Y=Y&&U?l.map(Ji(Y)):l;return y.core.mutate({trans:R,type:"put",keys:N,values:Y,wantResults:T}).then(function(ee){var W=ee.numFailures,oe=ee.results,Q=ee.lastResult,ee=ee.failures;if(W===0)return T?oe:Q;throw new q("".concat(y.name,".bulkPut(): ").concat(W," of ").concat(G," operations failed"),ee)})})},yt.prototype.bulkUpdate=function(l){var c=this,m=this.core,y=l.map(function(R){return R.key}),N=l.map(function(R){return R.changes}),T=[];return this._trans("readwrite",function(R){return m.getMany({trans:R,keys:y,cache:"clone"}).then(function(U){var G=[],Y=[];l.forEach(function(W,oe){var Q=W.key,ee=W.changes,te=U[oe];if(te){for(var ae=0,ce=Object.keys(ee);ae<ce.length;ae++){var fe=ce[ae],be=ee[fe];if(fe===c.schema.primKey.keyPath){if(ot(be,Q)!==0)throw new re.Constraint("Cannot update primary key in bulkUpdate()")}else M(te,fe,be)}T.push(oe),G.push(Q),Y.push(te)}});var ie=G.length;return m.mutate({trans:R,type:"put",keys:G,values:Y,updates:{keys:y,changeSpecs:N}}).then(function(W){var oe=W.numFailures,Q=W.failures;if(oe===0)return ie;for(var ee=0,te=Object.keys(Q);ee<te.length;ee++){var ae,ce=te[ee],fe=T[Number(ce)];fe!=null&&(ae=Q[ce],delete Q[ce],Q[fe]=ae)}throw new q("".concat(c.name,".bulkUpdate(): ").concat(oe," of ").concat(ie," operations failed"),Q)})})})},yt.prototype.bulkDelete=function(l){var c=this,m=l.length;return this._trans("readwrite",function(y){return c.core.mutate({trans:y,type:"delete",keys:l}).then(function(N){return wi(c,l,N)})}).then(function(R){var N=R.numFailures,T=R.lastResult,R=R.failures;if(N===0)return T;throw new q("".concat(c.name,".bulkDelete(): ").concat(N," of ").concat(m," operations failed"),R)})},yt);function yt(){}function ji(l){function c(R,U){if(U){for(var G=arguments.length,Y=new Array(G-1);--G;)Y[G-1]=arguments[G];return m[R].subscribe.apply(null,Y),l}if(typeof R=="string")return m[R]}var m={};c.addEventType=T;for(var y=1,N=arguments.length;y<N;++y)T(arguments[y]);return c;function T(R,U,G){if(typeof R!="object"){var Y;U=U||J;var ie={subscribers:[],fire:G=G||Ue,subscribe:function(W){ie.subscribers.indexOf(W)===-1&&(ie.subscribers.push(W),ie.fire=U(ie.fire,W))},unsubscribe:function(W){ie.subscribers=ie.subscribers.filter(function(oe){return oe!==W}),ie.fire=ie.subscribers.reduce(U,G)}};return m[R]=c[R]=ie}o(Y=R).forEach(function(W){var oe=Y[W];if(u(oe))T(W,Y[W][0],Y[W][1]);else{if(oe!=="asap")throw new re.InvalidArgument("Invalid event config");var Q=T(W,Je,function(){for(var ee=arguments.length,te=new Array(ee);ee--;)te[ee]=arguments[ee];Q.subscribers.forEach(function(ae){I(function(){ae.apply(null,te)})})})}})}}function Ni(l,c){return v(c).from({prototype:l}),c}function Vn(l,c){return!(l.filter||l.algorithm||l.or)&&(c?l.justLimit:!l.replayFilter)}function Js(l,c){l.filter=yn(l.filter,c)}function ea(l,c,m){var y=l.replayFilter;l.replayFilter=y?function(){return yn(y(),c())}:c,l.justLimit=m&&!y}function es(l,c){if(l.isPrimKey)return c.primaryKey;var m=c.getIndexByKeyPath(l.index);if(!m)throw new re.Schema("KeyPath "+l.index+" on object store "+c.name+" is not indexed");return m}function ts(l,c,m){var y=es(l,c.schema);return c.openCursor({trans:m,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:y,range:l.range}})}function rs(l,c,m,y){var N=l.replayFilter?yn(l.filter,l.replayFilter()):l.filter;if(l.or){var T={},R=function(U,G,Y){var ie,W;N&&!N(G,Y,function(oe){return G.stop(oe)},function(oe){return G.fail(oe)})||((W=""+(ie=G.primaryKey))=="[object ArrayBuffer]"&&(W=""+new Uint8Array(ie)),f(T,W)||(T[W]=!0,c(U,G,Y)))};return Promise.all([l.or._iterate(R,m),mo(ts(l,y,m),l.algorithm,R,!l.keysOnly&&l.valueMapper)])}return mo(ts(l,y,m),yn(l.algorithm,N),c,!l.keysOnly&&l.valueMapper)}function mo(l,c,m,y){var N=wt(y?function(T,R,U){return m(y(T),R,U)}:m);return l.then(function(T){if(T)return T.start(function(){var R=function(){return T.continue()};c&&!c(T,function(U){return R=U},function(U){T.stop(U),R=Ue},function(U){T.fail(U),R=Ue})||N(T.value,T,function(U){return R=U}),R()})})}var iu=(dt.prototype._read=function(l,c){var m=this._ctx;return m.error?m.table._trans(null,gt.bind(null,m.error)):m.table._trans("readonly",l).then(c)},dt.prototype._write=function(l){var c=this._ctx;return c.error?c.table._trans(null,gt.bind(null,c.error)):c.table._trans("readwrite",l,"locked")},dt.prototype._addAlgorithm=function(l){var c=this._ctx;c.algorithm=yn(c.algorithm,l)},dt.prototype._iterate=function(l,c){return rs(this._ctx,l,c,this._ctx.table.core)},dt.prototype.clone=function(l){var c=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return l&&d(m,l),c._ctx=m,c},dt.prototype.raw=function(){return this._ctx.valueMapper=null,this},dt.prototype.each=function(l){var c=this._ctx;return this._read(function(m){return rs(c,l,m,c.table.core)})},dt.prototype.count=function(l){var c=this;return this._read(function(m){var y=c._ctx,N=y.table.core;if(Vn(y,!0))return N.count({trans:m,query:{index:es(y,N.schema),range:y.range}}).then(function(R){return Math.min(R,y.limit)});var T=0;return rs(y,function(){return++T,!1},m,N).then(function(){return T})}).then(l)},dt.prototype.sortBy=function(l,c){var m=l.split(".").reverse(),y=m[0],N=m.length-1;function T(G,Y){return Y?T(G[m[Y]],Y-1):G[y]}var R=this._ctx.dir==="next"?1:-1;function U(G,Y){return ot(T(G,N),T(Y,N))*R}return this.toArray(function(G){return G.sort(U)}).then(c)},dt.prototype.toArray=function(l){var c=this;return this._read(function(m){var y=c._ctx;if(y.dir==="next"&&Vn(y,!0)&&0<y.limit){var N=y.valueMapper,T=es(y,y.table.core.schema);return y.table.core.query({trans:m,limit:y.limit,values:!0,query:{index:T,range:y.range}}).then(function(U){return U=U.result,N?U.map(N):U})}var R=[];return rs(y,function(U){return R.push(U)},m,y.table.core).then(function(){return R})},l)},dt.prototype.offset=function(l){var c=this._ctx;return l<=0||(c.offset+=l,Vn(c)?ea(c,function(){var m=l;return function(y,N){return m===0||(m===1?--m:N(function(){y.advance(m),m=0}),!1)}}):ea(c,function(){var m=l;return function(){return--m<0}})),this},dt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ea(this._ctx,function(){var c=l;return function(m,y,N){return--c<=0&&y(N),0<=c}},!0),this},dt.prototype.until=function(l,c){return Js(this._ctx,function(m,y,N){return!l(m.value)||(y(N),c)}),this},dt.prototype.first=function(l){return this.limit(1).toArray(function(c){return c[0]}).then(l)},dt.prototype.last=function(l){return this.reverse().first(l)},dt.prototype.filter=function(l){var c;return Js(this._ctx,function(m){return l(m.value)}),(c=this._ctx).isMatch=yn(c.isMatch,l),this},dt.prototype.and=function(l){return this.filter(l)},dt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},dt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},dt.prototype.desc=function(){return this.reverse()},dt.prototype.eachKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(m,y){l(y.key,y)})},dt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},dt.prototype.eachPrimaryKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(m,y){l(y.primaryKey,y)})},dt.prototype.keys=function(l){var c=this._ctx;c.keysOnly=!c.isMatch;var m=[];return this.each(function(y,N){m.push(N.key)}).then(function(){return m}).then(l)},dt.prototype.primaryKeys=function(l){var c=this._ctx;if(c.dir==="next"&&Vn(c,!0)&&0<c.limit)return this._read(function(y){var N=es(c,c.table.core.schema);return c.table.core.query({trans:y,values:!1,limit:c.limit,query:{index:N,range:c.range}})}).then(function(y){return y.result}).then(l);c.keysOnly=!c.isMatch;var m=[];return this.each(function(y,N){m.push(N.primaryKey)}).then(function(){return m}).then(l)},dt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},dt.prototype.firstKey=function(l){return this.limit(1).keys(function(c){return c[0]}).then(l)},dt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},dt.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var c={};return Js(this._ctx,function(N){var y=N.primaryKey.toString(),N=f(c,y);return c[y]=!0,!N}),this},dt.prototype.modify=function(l){var c=this,m=this._ctx;return this._write(function(y){var N=typeof l=="function"?l:function(te){return Xs(te,l)},T=m.table.core,Y=T.schema.primaryKey,R=Y.outbound,U=Y.extractKey,G=200,Y=c.db._options.modifyChunkSize;Y&&(G=typeof Y=="object"?Y[T.name]||Y["*"]||200:Y);function ie(te,fe){var ce=fe.failures,fe=fe.numFailures;oe+=te-fe;for(var be=0,Ne=o(ce);be<Ne.length;be++){var Fe=Ne[be];W.push(ce[Fe])}}var W=[],oe=0,Q=[],ee=l===po;return c.clone().primaryKeys().then(function(te){function ae(fe){var be=Math.min(G,te.length-fe),Ne=te.slice(fe,fe+be);return(ee?Promise.resolve([]):T.getMany({trans:y,keys:Ne,cache:"immutable"})).then(function(Fe){var We=[],Me=[],Be=R?[]:null,Ke=ee?Ne:[];if(!ee)for(var Le=0;Le<be;++Le){var Ze=Fe[Le],st={value:ne(Ze),primKey:te[fe+Le]};N.call(st,st.value,st)!==!1&&(st.value==null?Ke.push(te[fe+Le]):R||ot(U(Ze),U(st.value))===0?(Me.push(st.value),R&&Be.push(te[fe+Le])):(Ke.push(te[fe+Le]),We.push(st.value)))}return Promise.resolve(0<We.length&&T.mutate({trans:y,type:"add",values:We}).then(function(at){for(var lt in at.failures)Ke.splice(parseInt(lt),1);ie(We.length,at)})).then(function(){return(0<Me.length||ce&&typeof l=="object")&&T.mutate({trans:y,type:"put",keys:Be,values:Me,criteria:ce,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<fe}).then(function(at){return ie(Me.length,at)})}).then(function(){return(0<Ke.length||ce&&ee)&&T.mutate({trans:y,type:"delete",keys:Ke,criteria:ce,isAdditionalChunk:0<fe}).then(function(at){return wi(m.table,Ke,at)}).then(function(at){return ie(Ke.length,at)})}).then(function(){return te.length>fe+be&&ae(fe+G)})})}var ce=Vn(m)&&m.limit===1/0&&(typeof l!="function"||ee)&&{index:m.index,range:m.range};return ae(0).then(function(){if(0<W.length)throw new De("Error modifying one or more objects",W,oe,Q);return te.length})})})},dt.prototype.delete=function(){var l=this._ctx,c=l.range;return!Vn(l)||l.table.schema.yProps||!l.isPrimKey&&c.type!==3?this.modify(po):this._write(function(m){var y=l.table.core.schema.primaryKey,N=c;return l.table.core.count({trans:m,query:{index:y,range:N}}).then(function(T){return l.table.core.mutate({trans:m,type:"deleteRange",range:N}).then(function(G){var U=G.failures,G=G.numFailures;if(G)throw new De("Could not delete some values",Object.keys(U).map(function(Y){return U[Y]}),T-G);return T-G})})})},dt);function dt(){}var po=function(l,c){return c.value=null};function su(l,c){return l<c?-1:l===c?0:1}function au(l,c){return c<l?-1:l===c?0:1}function ar(l,c,m){return l=l instanceof vo?new l.Collection(l):l,l._ctx.error=new(m||TypeError)(c),l}function Wn(l){return new l.Collection(l,function(){return go("")}).limit(0)}function ns(l,c,m,y){var N,T,R,U,G,Y,ie,W=m.length;if(!m.every(function(ee){return typeof ee=="string"}))return ar(l,uo);function oe(ee){N=ee==="next"?function(ae){return ae.toUpperCase()}:function(ae){return ae.toLowerCase()},T=ee==="next"?function(ae){return ae.toLowerCase()}:function(ae){return ae.toUpperCase()},R=ee==="next"?su:au;var te=m.map(function(ae){return{lower:T(ae),upper:N(ae)}}).sort(function(ae,ce){return R(ae.lower,ce.lower)});U=te.map(function(ae){return ae.upper}),G=te.map(function(ae){return ae.lower}),ie=(Y=ee)==="next"?"":y}oe("next"),l=new l.Collection(l,function(){return on(U[0],G[W-1]+y)}),l._ondirectionchange=function(ee){oe(ee)};var Q=0;return l._addAlgorithm(function(ee,te,ae){var ce=ee.key;if(typeof ce!="string")return!1;var fe=T(ce);if(c(fe,G,Q))return!0;for(var be=null,Ne=Q;Ne<W;++Ne){var Fe=function(We,Me,Be,Ke,Le,Ze){for(var st=Math.min(We.length,Ke.length),at=-1,lt=0;lt<st;++lt){var kr=Me[lt];if(kr!==Ke[lt])return Le(We[lt],Be[lt])<0?We.substr(0,lt)+Be[lt]+Be.substr(lt+1):Le(We[lt],Ke[lt])<0?We.substr(0,lt)+Ke[lt]+Be.substr(lt+1):0<=at?We.substr(0,at)+Me[at]+Be.substr(at+1):null;Le(We[lt],kr)<0&&(at=lt)}return st<Ke.length&&Ze==="next"?We+Be.substr(We.length):st<We.length&&Ze==="prev"?We.substr(0,Be.length):at<0?null:We.substr(0,at)+Ke[at]+Be.substr(at+1)}(ce,fe,U[Ne],G[Ne],R,Y);Fe===null&&be===null?Q=Ne+1:(be===null||0<R(be,Fe))&&(be=Fe)}return te(be!==null?function(){ee.continue(be+ie)}:ae),!1}),l}function on(l,c,m,y){return{type:2,lower:l,upper:c,lowerOpen:m,upperOpen:y}}function go(l){return{type:1,lower:l,upper:l}}var vo=(Object.defineProperty(Ot.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ot.prototype.between=function(l,c,m,y){m=m!==!1,y=y===!0;try{return 0<this._cmp(l,c)||this._cmp(l,c)===0&&(m||y)&&(!m||!y)?Wn(this):new this.Collection(this,function(){return on(l,c,!m,!y)})}catch{return ar(this,Zt)}},Ot.prototype.equals=function(l){return l==null?ar(this,Zt):new this.Collection(this,function(){return go(l)})},Ot.prototype.above=function(l){return l==null?ar(this,Zt):new this.Collection(this,function(){return on(l,void 0,!0)})},Ot.prototype.aboveOrEqual=function(l){return l==null?ar(this,Zt):new this.Collection(this,function(){return on(l,void 0,!1)})},Ot.prototype.below=function(l){return l==null?ar(this,Zt):new this.Collection(this,function(){return on(void 0,l,!1,!0)})},Ot.prototype.belowOrEqual=function(l){return l==null?ar(this,Zt):new this.Collection(this,function(){return on(void 0,l)})},Ot.prototype.startsWith=function(l){return typeof l!="string"?ar(this,uo):this.between(l,l+Kr,!0,!0)},Ot.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):ns(this,function(c,m){return c.indexOf(m[0])===0},[l],Kr)},Ot.prototype.equalsIgnoreCase=function(l){return ns(this,function(c,m){return c===m[0]},[l],"")},Ot.prototype.anyOfIgnoreCase=function(){var l=K.apply(H,arguments);return l.length===0?Wn(this):ns(this,function(c,m){return m.indexOf(c)!==-1},l,"")},Ot.prototype.startsWithAnyOfIgnoreCase=function(){var l=K.apply(H,arguments);return l.length===0?Wn(this):ns(this,function(c,m){return m.some(function(y){return c.indexOf(y)===0})},l,Kr)},Ot.prototype.anyOf=function(){var l=this,c=K.apply(H,arguments),m=this._cmp;try{c.sort(m)}catch{return ar(this,Zt)}if(c.length===0)return Wn(this);var y=new this.Collection(this,function(){return on(c[0],c[c.length-1])});y._ondirectionchange=function(T){m=T==="next"?l._ascending:l._descending,c.sort(m)};var N=0;return y._addAlgorithm(function(T,R,U){for(var G=T.key;0<m(G,c[N]);)if(++N===c.length)return R(U),!1;return m(G,c[N])===0||(R(function(){T.continue(c[N])}),!1)}),y},Ot.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ot.prototype.noneOf=function(){var l=K.apply(H,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return ar(this,Zt)}var c=l.reduce(function(m,y){return m?m.concat([[m[m.length-1][1],y]]):[[-1/0,y]]},null);return c.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},Ot.prototype.inAnyRange=function(ce,c){var m=this,y=this._cmp,N=this._ascending,T=this._descending,R=this._min,U=this._max;if(ce.length===0)return Wn(this);if(!ce.every(function(fe){return fe[0]!==void 0&&fe[1]!==void 0&&N(fe[0],fe[1])<=0}))return ar(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",re.InvalidArgument);var G=!c||c.includeLowers!==!1,Y=c&&c.includeUppers===!0,ie,W=N;function oe(fe,be){return W(fe[0],be[0])}try{(ie=ce.reduce(function(fe,be){for(var Ne=0,Fe=fe.length;Ne<Fe;++Ne){var We=fe[Ne];if(y(be[0],We[1])<0&&0<y(be[1],We[0])){We[0]=R(We[0],be[0]),We[1]=U(We[1],be[1]);break}}return Ne===Fe&&fe.push(be),fe},[])).sort(oe)}catch{return ar(this,Zt)}var Q=0,ee=Y?function(fe){return 0<N(fe,ie[Q][1])}:function(fe){return 0<=N(fe,ie[Q][1])},te=G?function(fe){return 0<T(fe,ie[Q][0])}:function(fe){return 0<=T(fe,ie[Q][0])},ae=ee,ce=new this.Collection(this,function(){return on(ie[0][0],ie[ie.length-1][1],!G,!Y)});return ce._ondirectionchange=function(fe){W=fe==="next"?(ae=ee,N):(ae=te,T),ie.sort(oe)},ce._addAlgorithm(function(fe,be,Ne){for(var Fe,We=fe.key;ae(We);)if(++Q===ie.length)return be(Ne),!1;return!ee(Fe=We)&&!te(Fe)||(m._cmp(We,ie[Q][1])===0||m._cmp(We,ie[Q][0])===0||be(function(){W===N?fe.continue(ie[Q][0]):fe.continue(ie[Q][1])}),!1)}),ce},Ot.prototype.startsWithAnyOf=function(){var l=K.apply(H,arguments);return l.every(function(c){return typeof c=="string"})?l.length===0?Wn(this):this.inAnyRange(l.map(function(c){return[c,c+Kr]})):ar(this,"startsWithAnyOf() only works with strings")},Ot);function Ot(){}function $r(l){return wt(function(c){return ki(c),l(c.target.error),!1})}function ki(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Ci="storagemutated",ta="x-storagemutated-1",ln=ji(null,Ci),ou=(gr.prototype._lock=function(){return S(!Ge.global),++this._reculock,this._reculock!==1||Ge.global||(Ge.lockOwnerFor=this),this},gr.prototype._unlock=function(){if(S(!Ge.global),--this._reculock==0)for(Ge.global||(Ge.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{xn(l[1],l[0])}catch{}}return this},gr.prototype._locked=function(){return this._reculock&&Ge.lockOwnerFor!==this},gr.prototype.create=function(l){var c=this;if(!this.mode)return this;var m=this.db.idbdb,y=this.db._state.dbOpenError;if(S(!this.idbtrans),!l&&!m)switch(y&&y.name){case"DatabaseClosedError":throw new re.DatabaseClosed(y);case"MissingAPIError":throw new re.MissingAPI(y.message,y);default:throw new re.OpenFailed(y)}if(!this.active)throw new re.TransactionInactive;return S(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=wt(function(N){ki(N),c._reject(l.error)}),l.onabort=wt(function(N){ki(N),c.active&&c._reject(new re.Abort(l.error)),c.active=!1,c.on("abort").fire(N)}),l.oncomplete=wt(function(){c.active=!1,c._resolve(),"mutatedParts"in l&&ln.storagemutated.fire(l.mutatedParts)}),this},gr.prototype._promise=function(l,c,m){var y=this;if(l==="readwrite"&&this.mode!=="readwrite")return gt(new re.ReadOnly("Transaction is readonly"));if(!this.active)return gt(new re.TransactionInactive);if(this._locked())return new Ve(function(T,R){y._blockedFuncs.push([function(){y._promise(l,c,m).then(T,R)},Ge])});if(m)return an(function(){var T=new Ve(function(R,U){y._lock();var G=c(R,U,y);G&&G.then&&G.then(R,U)});return T.finally(function(){return y._unlock()}),T._lib=!0,T});var N=new Ve(function(T,R){var U=c(T,R,y);U&&U.then&&U.then(T,R)});return N._lib=!0,N},gr.prototype._root=function(){return this.parent?this.parent._root():this},gr.prototype.waitFor=function(l){var c,m=this._root(),y=Ve.resolve(l);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return y}):(m._waitingFor=y,m._waitingQueue=[],c=m.idbtrans.objectStore(m.storeNames[0]),function T(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(c.get(-1/0).onsuccess=T)}());var N=m._waitingFor;return new Ve(function(T,R){y.then(function(U){return m._waitingQueue.push(wt(T.bind(null,U)))},function(U){return m._waitingQueue.push(wt(R.bind(null,U)))}).finally(function(){m._waitingFor===N&&(m._waitingFor=null)})})},gr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new re.Abort))},gr.prototype.table=function(l){var c=this._memoizedTables||(this._memoizedTables={});if(f(c,l))return c[l];var m=this.schema[l];if(!m)throw new re.NotFound("Table "+l+" not part of transaction");return m=new this.db.Table(l,m,this),m.core=this.db.core.table(l),c[l]=m},gr);function gr(){}function ra(l,c,m,y,N,T,R,U){return{name:l,keyPath:c,unique:m,multi:y,auto:N,compound:T,src:(m&&!R?"&":"")+(y?"*":"")+(N?"++":"")+Kn(c),type:U}}function Kn(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function na(l,c,m){return{name:l,primKey:c,indexes:m,mappedClass:null,idxByName:(y=function(N){return[N.name,N]},m.reduce(function(N,T,R){return R=y(T,R),R&&(N[R[0]]=R[1]),N},{}))};var y}var Si=function(l){try{return l.only([[]]),Si=function(){return[[]]},[[]]}catch{return Si=function(){return Kr},Kr}};function ia(l){return l==null?function(){}:typeof l=="string"?(c=l).split(".").length===1?function(m){return m[c]}:function(m){return $(m,c)}:function(m){return $(m,l)};var c}function xo(l){return[].slice.call(l)}var lu=0;function Ei(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function uu(l,c,G){function y(ae){if(ae.type===3)return null;if(ae.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Q=ae.lower,ee=ae.upper,te=ae.lowerOpen,ae=ae.upperOpen;return Q===void 0?ee===void 0?null:c.upperBound(ee,!!ae):ee===void 0?c.lowerBound(Q,!!te):c.bound(Q,ee,!!te,!!ae)}function N(oe){var Q,ee=oe.name;return{name:ee,schema:oe,mutate:function(te){var ae=te.trans,ce=te.type,fe=te.keys,be=te.values,Ne=te.range;return new Promise(function(Fe,We){Fe=wt(Fe);var Me=ae.objectStore(ee),Be=Me.keyPath==null,Ke=ce==="put"||ce==="add";if(!Ke&&ce!=="delete"&&ce!=="deleteRange")throw new Error("Invalid operation type: "+ce);var Le,Ze=(fe||be||{length:1}).length;if(fe&&be&&fe.length!==be.length)throw new Error("Given keys array must have same length as given values array.");if(Ze===0)return Fe({numFailures:0,failures:{},results:[],lastResult:void 0});function st(lr){++kr,ki(lr)}var at=[],lt=[],kr=0;if(ce==="deleteRange"){if(Ne.type===4)return Fe({numFailures:kr,failures:lt,results:[],lastResult:void 0});Ne.type===3?at.push(Le=Me.clear()):at.push(Le=Me.delete(y(Ne)))}else{var Be=Ke?Be?[be,fe]:[be,null]:[fe,null],it=Be[0],Xt=Be[1];if(Ke)for(var Jt=0;Jt<Ze;++Jt)at.push(Le=Xt&&Xt[Jt]!==void 0?Me[ce](it[Jt],Xt[Jt]):Me[ce](it[Jt])),Le.onerror=st;else for(Jt=0;Jt<Ze;++Jt)at.push(Le=Me[ce](it[Jt])),Le.onerror=st}function No(lr){lr=lr.target.result,at.forEach(function(Ai,vu){return Ai.error!=null&&(lt[vu]=Ai.error)}),Fe({numFailures:kr,failures:lt,results:ce==="delete"?fe:at.map(function(Ai){return Ai.result}),lastResult:lr})}Le.onerror=function(lr){st(lr),No(lr)},Le.onsuccess=No})},getMany:function(te){var ae=te.trans,ce=te.keys;return new Promise(function(fe,be){fe=wt(fe);for(var Ne,Fe=ae.objectStore(ee),We=ce.length,Me=new Array(We),Be=0,Ke=0,Le=function(at){at=at.target,Me[at._pos]=at.result,++Ke===Be&&fe(Me)},Ze=$r(be),st=0;st<We;++st)ce[st]!=null&&((Ne=Fe.get(ce[st]))._pos=st,Ne.onsuccess=Le,Ne.onerror=Ze,++Be);Be===0&&fe(Me)})},get:function(te){var ae=te.trans,ce=te.key;return new Promise(function(fe,be){fe=wt(fe);var Ne=ae.objectStore(ee).get(ce);Ne.onsuccess=function(Fe){return fe(Fe.target.result)},Ne.onerror=$r(be)})},query:(Q=Y,function(te){return new Promise(function(ae,ce){ae=wt(ae);var fe,be,Ne,Be=te.trans,Fe=te.values,We=te.limit,Le=te.query,Me=We===1/0?void 0:We,Ke=Le.index,Le=Le.range,Be=Be.objectStore(ee),Ke=Ke.isPrimaryKey?Be:Be.index(Ke.name),Le=y(Le);if(We===0)return ae({result:[]});Q?((Me=Fe?Ke.getAll(Le,Me):Ke.getAllKeys(Le,Me)).onsuccess=function(Ze){return ae({result:Ze.target.result})},Me.onerror=$r(ce)):(fe=0,be=!Fe&&"openKeyCursor"in Ke?Ke.openKeyCursor(Le):Ke.openCursor(Le),Ne=[],be.onsuccess=function(Ze){var st=be.result;return st?(Ne.push(Fe?st.value:st.primaryKey),++fe===We?ae({result:Ne}):void st.continue()):ae({result:Ne})},be.onerror=$r(ce))})}),openCursor:function(te){var ae=te.trans,ce=te.values,fe=te.query,be=te.reverse,Ne=te.unique;return new Promise(function(Fe,We){Fe=wt(Fe);var Ke=fe.index,Me=fe.range,Be=ae.objectStore(ee),Be=Ke.isPrimaryKey?Be:Be.index(Ke.name),Ke=be?Ne?"prevunique":"prev":Ne?"nextunique":"next",Le=!ce&&"openKeyCursor"in Be?Be.openKeyCursor(y(Me),Ke):Be.openCursor(y(Me),Ke);Le.onerror=$r(We),Le.onsuccess=wt(function(Ze){var st,at,lt,kr,it=Le.result;it?(it.___id=++lu,it.done=!1,st=it.continue.bind(it),at=(at=it.continuePrimaryKey)&&at.bind(it),lt=it.advance.bind(it),kr=function(){throw new Error("Cursor not stopped")},it.trans=ae,it.stop=it.continue=it.continuePrimaryKey=it.advance=function(){throw new Error("Cursor not started")},it.fail=wt(We),it.next=function(){var Xt=this,Jt=1;return this.start(function(){return Jt--?Xt.continue():Xt.stop()}).then(function(){return Xt})},it.start=function(Xt){function Jt(){if(Le.result)try{Xt()}catch(lr){it.fail(lr)}else it.done=!0,it.start=function(){throw new Error("Cursor behind last entry")},it.stop()}var No=new Promise(function(lr,Ai){lr=wt(lr),Le.onerror=$r(Ai),it.fail=Ai,it.stop=function(vu){it.stop=it.continue=it.continuePrimaryKey=it.advance=kr,lr(vu)}});return Le.onsuccess=wt(function(lr){Le.onsuccess=Jt,Jt()}),it.continue=st,it.continuePrimaryKey=at,it.advance=lt,Jt(),No},Fe(it)):Fe(null)},We)})},count:function(te){var ae=te.query,ce=te.trans,fe=ae.index,be=ae.range;return new Promise(function(Ne,Fe){var We=ce.objectStore(ee),Me=fe.isPrimaryKey?We:We.index(fe.name),We=y(be),Me=We?Me.count(We):Me.count();Me.onsuccess=wt(function(Be){return Ne(Be.target.result)}),Me.onerror=$r(Fe)})}}}var T,R,U,ie=(R=G,U=xo((T=l).objectStoreNames),{schema:{name:T.name,tables:U.map(function(oe){return R.objectStore(oe)}).map(function(oe){var Q=oe.keyPath,ae=oe.autoIncrement,ee=u(Q),te={},ae={name:oe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Q==null,compound:ee,keyPath:Q,autoIncrement:ae,unique:!0,extractKey:ia(Q)},indexes:xo(oe.indexNames).map(function(ce){return oe.index(ce)}).map(function(Ne){var fe=Ne.name,be=Ne.unique,Fe=Ne.multiEntry,Ne=Ne.keyPath,Fe={name:fe,compound:u(Ne),keyPath:Ne,unique:be,multiEntry:Fe,extractKey:ia(Ne)};return te[Ei(Ne)]=Fe}),getIndexByKeyPath:function(ce){return te[Ei(ce)]}};return te[":id"]=ae.primaryKey,Q!=null&&(te[Ei(Q)]=ae.primaryKey),ae})},hasGetAll:0<U.length&&"getAll"in R.objectStore(U[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),G=ie.schema,Y=ie.hasGetAll,ie=G.tables.map(N),W={};return ie.forEach(function(oe){return W[oe.name]=oe}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(oe){if(!W[oe])throw new Error("Table '".concat(oe,"' not found"));return W[oe]},MIN_KEY:-1/0,MAX_KEY:Si(c),schema:G}}function yo(l,c,m,y){var N=m.IDBKeyRange;return m.indexedDB,{dbcore:(y=uu(c,N,y),l.dbcore.reduce(function(T,R){return R=R.create,n(n({},T),R(T))},y))}}function qn(l,y){var m=y.db,y=yo(l._middlewares,m,l._deps,y);l.core=y.dbcore,l.tables.forEach(function(N){var T=N.name;l.core.schema.tables.some(function(R){return R.name===T})&&(N.core=l.core.table(T),l[T]instanceof l.Table&&(l[T].core=N.core))})}function jr(l,c,m,y){m.forEach(function(N){var T=y[N];c.forEach(function(R){var U=function G(Y,ie){return C(Y,ie)||(Y=p(Y))&&G(Y,ie)}(R,N);(!U||"value"in U&&U.value===void 0)&&(R===l.Transaction.prototype||R instanceof l.Transaction?j(R,N,{get:function(){return this.table(N)},set:function(G){h(this,N,{value:G,writable:!0,configurable:!0,enumerable:!0})}}):R[N]=new l.Table(N,T))})})}function sa(l,c){c.forEach(function(m){for(var y in m)m[y]instanceof l.Table&&delete m[y]})}function bo(l,c){return l._cfg.version-c._cfg.version}function Gn(l,c,m,y){var N=l._dbSchema;m.objectStoreNames.contains("$meta")&&!N.$meta&&(N.$meta=na("$meta",Pe("")[0],[]),l._storeNames.push("$meta"));var T=l._createTransaction("readwrite",l._storeNames,N);T.create(m),T._completion.catch(y);var R=T._reject.bind(T),U=Ge.transless||Ge;an(function(){return Ge.trans=T,Ge.transless=U,c!==0?(qn(l,m),Y=c,((G=T).storeNames.includes("$meta")?G.table("$meta").get("version").then(function(ie){return ie??Y}):Ve.resolve(Y)).then(function(ie){return oe=ie,Q=T,ee=m,te=[],ie=(W=l)._versions,ae=W._dbSchema=ye(0,W.idbdb,ee),(ie=ie.filter(function(ce){return ce._cfg.version>=oe})).length!==0?(ie.forEach(function(ce){te.push(function(){var fe=ae,be=ce._cfg.dbschema;_e(W,fe,ee),_e(W,be,ee),ae=W._dbSchema=be;var Ne=A(fe,be);Ne.add.forEach(function(Ke){D(ee,Ke[0],Ke[1].primKey,Ke[1].indexes)}),Ne.change.forEach(function(Ke){if(Ke.recreate)throw new re.Upgrade("Not yet support for changing primary key");var Le=ee.objectStore(Ke.name);Ke.add.forEach(function(Ze){return se(Le,Ze)}),Ke.change.forEach(function(Ze){Le.deleteIndex(Ze.name),se(Le,Ze)}),Ke.del.forEach(function(Ze){return Le.deleteIndex(Ze)})});var Fe=ce._cfg.contentUpgrade;if(Fe&&ce._cfg.version>oe){qn(W,ee),Q._memoizedTables={};var We=P(be);Ne.del.forEach(function(Ke){We[Ke]=fe[Ke]}),sa(W,[W.Transaction.prototype]),jr(W,[W.Transaction.prototype],o(We),We),Q.schema=We;var Me,Be=Z(Fe);return Be&&vn(),Ne=Ve.follow(function(){var Ke;(Me=Fe(Q))&&Be&&(Ke=Vr.bind(null,null),Me.then(Ke,Ke))}),Me&&typeof Me.then=="function"?Ve.resolve(Me):Ne.then(function(){return Me})}}),te.push(function(fe){var be,Ne,Fe=ce._cfg.dbschema;be=Fe,Ne=fe,[].slice.call(Ne.db.objectStoreNames).forEach(function(We){return be[We]==null&&Ne.db.deleteObjectStore(We)}),sa(W,[W.Transaction.prototype]),jr(W,[W.Transaction.prototype],W._storeNames,W._dbSchema),Q.schema=W._dbSchema}),te.push(function(fe){W.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(W.idbdb.version/10)===ce._cfg.version?(W.idbdb.deleteObjectStore("$meta"),delete W._dbSchema.$meta,W._storeNames=W._storeNames.filter(function(be){return be!=="$meta"})):fe.objectStore("$meta").put(ce._cfg.version,"version"))})}),function ce(){return te.length?Ve.resolve(te.shift()(Q.idbtrans)).then(ce):Ve.resolve()}().then(function(){B(ae,ee)})):Ve.resolve();var W,oe,Q,ee,te,ae}).catch(R)):(o(N).forEach(function(ie){D(m,ie,N[ie].primKey,N[ie].indexes)}),qn(l,m),void Ve.follow(function(){return l.on.populate.fire(T)}).catch(R));var G,Y})}function aa(l,c){B(l._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var m=ye(0,l.idbdb,c);_e(l,l._dbSchema,c);for(var y=0,N=A(m,l._dbSchema).change;y<N.length;y++){var T=function(R){if(R.change.length||R.recreate)return console.warn("Unable to patch indexes of table ".concat(R.name," because it has changes on the type of index or primary key.")),{value:void 0};var U=c.objectStore(R.name);R.add.forEach(function(G){de&&console.debug("Dexie upgrade patch: Creating missing index ".concat(R.name,".").concat(G.src)),se(U,G)})}(N[y]);if(typeof T=="object")return T.value}}function A(l,c){var m,y={del:[],add:[],change:[]};for(m in l)c[m]||y.del.push(m);for(m in c){var N=l[m],T=c[m];if(N){var R={name:m,def:T,recreate:!1,del:[],add:[],change:[]};if(""+(N.primKey.keyPath||"")!=""+(T.primKey.keyPath||"")||N.primKey.auto!==T.primKey.auto)R.recreate=!0,y.change.push(R);else{var U=N.idxByName,G=T.idxByName,Y=void 0;for(Y in U)G[Y]||R.del.push(Y);for(Y in G){var ie=U[Y],W=G[Y];ie?ie.src!==W.src&&R.change.push(W):R.add.push(W)}(0<R.del.length||0<R.add.length||0<R.change.length)&&y.change.push(R)}}else y.add.push([m,T])}return y}function D(l,c,m,y){var N=l.db.createObjectStore(c,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return y.forEach(function(T){return se(N,T)}),N}function B(l,c){o(l).forEach(function(m){c.db.objectStoreNames.contains(m)||(de&&console.debug("Dexie: Creating missing table",m),D(c,m,l[m].primKey,l[m].indexes))})}function se(l,c){l.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function ye(l,c,m){var y={};return x(c.objectStoreNames,0).forEach(function(N){for(var T=m.objectStore(N),R=ra(Kn(Y=T.keyPath),Y||"",!0,!1,!!T.autoIncrement,Y&&typeof Y!="string",!0),U=[],G=0;G<T.indexNames.length;++G){var ie=T.index(T.indexNames[G]),Y=ie.keyPath,ie=ra(ie.name,Y,!!ie.unique,!!ie.multiEntry,!1,Y&&typeof Y!="string",!1);U.push(ie)}y[N]=na(N,R,U)}),y}function _e(l,c,m){for(var y=m.db.objectStoreNames,N=0;N<y.length;++N){var T=y[N],R=m.objectStore(T);l._hasGetAll="getAll"in R;for(var U=0;U<R.indexNames.length;++U){var G=R.indexNames[U],Y=R.index(G).keyPath,ie=typeof Y=="string"?Y:"["+x(Y).join("+")+"]";!c[T]||(Y=c[T].idxByName[ie])&&(Y.name=G,delete c[T].idxByName[ie],c[T].idxByName[G]=Y)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Pe(l){return l.split(",").map(function(c,m){var T=c.split(":"),y=(N=T[1])===null||N===void 0?void 0:N.trim(),N=(c=T[0].trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return ra(N,T||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),u(T),m===0,y)})}var Te=(Oe.prototype._createTableSchema=na,Oe.prototype._parseIndexSyntax=Pe,Oe.prototype._parseStoresSpec=function(l,c){var m=this;o(l).forEach(function(y){if(l[y]!==null){var N=m._parseIndexSyntax(l[y]),T=N.shift();if(!T)throw new re.Schema("Invalid schema for table "+y+": "+l[y]);if(T.unique=!0,T.multi)throw new re.Schema("Primary key cannot be multiEntry*");N.forEach(function(R){if(R.auto)throw new re.Schema("Only primary key can be marked as autoIncrement (++)");if(!R.keyPath)throw new re.Schema("Index must have a name and cannot be an empty string")}),N=m._createTableSchema(y,T,N),c[y]=N}})},Oe.prototype.stores=function(m){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,m):m;var m=c._versions,y={},N={};return m.forEach(function(T){d(y,T._cfg.storesSource),N=T._cfg.dbschema={},T._parseStoresSpec(y,N)}),c._dbSchema=N,sa(c,[c._allTables,c,c.Transaction.prototype]),jr(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],o(N),N),c._storeNames=o(N),this},Oe.prototype.upgrade=function(l){return this._cfg.contentUpgrade=je(this._cfg.contentUpgrade||Ue,l),this},Oe);function Oe(){}function rt(l,c){var m=l._dbNamesDB;return m||(m=l._dbNamesDB=new wn(Xi,{addons:[],indexedDB:l,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function nt(l){return l&&typeof l.databases=="function"}function ht(l){return an(function(){return Ge.letThrough=!0,l()})}function bt(l){return!("from"in l)}var et=function(l,c){if(!this){var m=new et;return l&&"d"in l&&d(m,l),m}d(this,arguments.length?{d:1,from:l,to:1<arguments.length?c:l}:{d:0})};function _t(l,c,m){var y=ot(c,m);if(!isNaN(y)){if(0<y)throw RangeError();if(bt(l))return d(l,{from:c,to:m,d:1});var N=l.l,y=l.r;if(ot(m,l.from)<0)return N?_t(N,c,m):l.l={from:c,to:m,d:1,l:null,r:null},is(l);if(0<ot(c,l.to))return y?_t(y,c,m):l.r={from:c,to:m,d:1,l:null,r:null},is(l);ot(c,l.from)<0&&(l.from=c,l.l=null,l.d=y?y.d+1:1),0<ot(m,l.to)&&(l.to=m,l.r=null,l.d=l.l?l.l.d+1:1),m=!l.r,N&&!l.l&&At(l,N),y&&m&&At(l,y)}}function At(l,c){bt(c)||function m(y,G){var T=G.from,R=G.to,U=G.l,G=G.r;_t(y,T,R),U&&m(y,U),G&&m(y,G)}(l,c)}function Rr(l,c){var m=or(c),y=m.next();if(y.done)return!1;for(var N=y.value,T=or(l),R=T.next(N.from),U=R.value;!y.done&&!R.done;){if(ot(U.from,N.to)<=0&&0<=ot(U.to,N.from))return!0;ot(N.from,U.from)<0?N=(y=m.next(U.from)).value:U=(R=T.next(N.from)).value}return!1}function or(l){var c=bt(l)?null:{s:0,n:l};return{next:function(m){for(var y=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,y)for(;c.n.l&&ot(m,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!y||ot(m,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function is(l){var c,m,y=(((c=l.r)===null||c===void 0?void 0:c.d)||0)-(((m=l.l)===null||m===void 0?void 0:m.d)||0),N=1<y?"r":y<-1?"l":"";N&&(c=N=="r"?"l":"r",m=n({},l),y=l[N],l.from=y.from,l.to=y.to,l[N]=y[N],m[N]=y[c],(l[c]=m).d=Nr(m)),l.d=Nr(l)}function Nr(m){var c=m.r,m=m.l;return(c?m?Math.max(c.d,m.d):c.d:m?m.d:0)+1}function ss(l,c){return o(c).forEach(function(m){l[m]?At(l[m],c[m]):l[m]=function y(N){var T,R,U={};for(T in N)f(N,T)&&(R=N[T],U[T]=!R||typeof R!="object"||Re.has(R.constructor)?R:y(R));return U}(c[m])}),l}function as(l,c){return l.all||c.all||Object.keys(l).some(function(m){return c[m]&&Rr(c[m],l[m])})}b(et.prototype,((Mr={add:function(l){return At(this,l),this},addKey:function(l){return _t(this,l,l),this},addKeys:function(l){var c=this;return l.forEach(function(m){return _t(c,m,m)}),this},hasKey:function(l){var c=or(this).next(l).value;return c&&ot(c.from,l)<=0&&0<=ot(c.to,l)}})[qe]=function(){return or(this)},Mr));var un={},os={},Di=!1;function Ti(l){ss(os,l),Di||(Di=!0,setTimeout(function(){Di=!1,cu(os,!(os={}))},0))}function cu(l,c){c===void 0&&(c=!1);var m=new Set;if(l.all)for(var y=0,N=Object.values(un);y<N.length;y++)of(R=N[y],l,m,c);else for(var T in l){var R,U=/^idb\:\/\/(.*)\/(.*)\//.exec(T);U&&(T=U[1],U=U[2],(R=un["idb://".concat(T,"/").concat(U)])&&of(R,l,m,c))}m.forEach(function(G){return G()})}function of(l,c,m,y){for(var N=[],T=0,R=Object.entries(l.queries.query);T<R.length;T++){for(var U=R[T],G=U[0],Y=[],ie=0,W=U[1];ie<W.length;ie++){var oe=W[ie];as(c,oe.obsSet)?oe.subscribers.forEach(function(ae){return m.add(ae)}):y&&Y.push(oe)}y&&N.push([G,Y])}if(y)for(var Q=0,ee=N;Q<ee.length;Q++){var te=ee[Q],G=te[0],Y=te[1];l.queries.query[G]=Y}}function a0(l){var c=l._state,m=l._deps.indexedDB;if(c.isBeingOpened||l.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?gt(c.dbOpenError):l});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var y=c.openCanceller,N=Math.round(10*l.verno),T=!1;function R(){if(c.openCanceller!==y)throw new re.DatabaseClosed("db.open() was cancelled")}function U(){return new Ve(function(oe,Q){if(R(),!m)throw new re.MissingAPI;var ee=l.name,te=c.autoSchema||!N?m.open(ee):m.open(ee,N);if(!te)throw new re.MissingAPI;te.onerror=$r(Q),te.onblocked=wt(l._fireOnBlocked),te.onupgradeneeded=wt(function(ae){var ce;ie=te.transaction,c.autoSchema&&!l._options.allowEmptyDB?(te.onerror=ki,ie.abort(),te.result.close(),(ce=m.deleteDatabase(ee)).onsuccess=ce.onerror=wt(function(){Q(new re.NoSuchDatabase("Database ".concat(ee," doesnt exist")))})):(ie.onerror=$r(Q),ae=ae.oldVersion>Math.pow(2,62)?0:ae.oldVersion,W=ae<1,l.idbdb=te.result,T&&aa(l,ie),Gn(l,ae/10,ie,Q))},Q),te.onsuccess=wt(function(){ie=null;var ae,ce,fe,be,Ne,Fe=l.idbdb=te.result,We=x(Fe.objectStoreNames);if(0<We.length)try{var Me=Fe.transaction((be=We).length===1?be[0]:be,"readonly");if(c.autoSchema)ce=Fe,fe=Me,(ae=l).verno=ce.version/10,fe=ae._dbSchema=ye(0,ce,fe),ae._storeNames=x(ce.objectStoreNames,0),jr(ae,[ae._allTables],o(fe),fe);else if(_e(l,l._dbSchema,Me),((Ne=A(ye(0,(Ne=l).idbdb,Me),Ne._dbSchema)).add.length||Ne.change.some(function(Be){return Be.add.length||Be.change.length}))&&!T)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Fe.close(),N=Fe.version+1,T=!0,oe(U());qn(l,Me)}catch{}Hn.push(l),Fe.onversionchange=wt(function(Be){c.vcFired=!0,l.on("versionchange").fire(Be)}),Fe.onclose=wt(function(){l.close({disableAutoOpen:!1})}),W&&(Ne=l._deps,Me=ee,Fe=Ne.indexedDB,Ne=Ne.IDBKeyRange,nt(Fe)||Me===Xi||rt(Fe,Ne).put({name:Me}).catch(Ue)),oe()},Q)}).catch(function(oe){switch(oe==null?void 0:oe.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),U();break;case"VersionError":if(0<N)return N=0,U()}return Ve.reject(oe)})}var G,Y=c.dbReadyResolve,ie=null,W=!1;return Ve.race([y,(typeof navigator>"u"?Ve.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(oe){function Q(){return indexedDB.databases().finally(oe)}G=setInterval(Q,100),Q()}).finally(function(){return clearInterval(G)}):Promise.resolve()).then(U)]).then(function(){return R(),c.onReadyBeingFired=[],Ve.resolve(ht(function(){return l.on.ready.fire(l.vip)})).then(function oe(){if(0<c.onReadyBeingFired.length){var Q=c.onReadyBeingFired.reduce(je,Ue);return c.onReadyBeingFired=[],Ve.resolve(ht(function(){return Q(l.vip)})).then(oe)}})}).finally(function(){c.openCanceller===y&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(oe){c.dbOpenError=oe;try{ie&&ie.abort()}catch{}return y===c.openCanceller&&l._close(),gt(oe)}).finally(function(){c.openComplete=!0,Y()}).then(function(){var oe;return W&&(oe={},l.tables.forEach(function(Q){Q.schema.indexes.forEach(function(ee){ee.name&&(oe["idb://".concat(l.name,"/").concat(Q.name,"/").concat(ee.name)]=new et(-1/0,[[[]]]))}),oe["idb://".concat(l.name,"/").concat(Q.name,"/")]=oe["idb://".concat(l.name,"/").concat(Q.name,"/:dels")]=new et(-1/0,[[[]]])}),ln(Ci).fire(oe),cu(oe,!0)),l})}function du(l){function c(T){return l.next(T)}var m=N(c),y=N(function(T){return l.throw(T)});function N(T){return function(G){var U=T(G),G=U.value;return U.done?G:G&&typeof G.then=="function"?G.then(m,y):u(G)?Promise.all(G).then(m,y):m(G)}}return N(c)()}function wo(l,c,m){for(var y=u(l)?l.slice():[l],N=0;N<m;++N)y.push(c);return y}var o0={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return n(n({},l),{table:function(c){var m=l.table(c),y=m.schema,N={},T=[];function R(W,oe,Q){var ee=Ei(W),te=N[ee]=N[ee]||[],ae=W==null?0:typeof W=="string"?1:W.length,ce=0<oe,ce=n(n({},Q),{name:ce?"".concat(ee,"(virtual-from:").concat(Q.name,")"):Q.name,lowLevelIndex:Q,isVirtual:ce,keyTail:oe,keyLength:ae,extractKey:ia(W),unique:!ce&&Q.unique});return te.push(ce),ce.isPrimaryKey||T.push(ce),1<ae&&R(ae===2?W[0]:W.slice(0,ae-1),oe+1,Q),te.sort(function(fe,be){return fe.keyTail-be.keyTail}),ce}c=R(y.primaryKey.keyPath,0,y.primaryKey),N[":id"]=[c];for(var U=0,G=y.indexes;U<G.length;U++){var Y=G[U];R(Y.keyPath,0,Y)}function ie(W){var oe,Q=W.query.index;return Q.isVirtual?n(n({},W),{query:{index:Q.lowLevelIndex,range:(oe=W.query.range,Q=Q.keyTail,{type:oe.type===1?2:oe.type,lower:wo(oe.lower,oe.lowerOpen?l.MAX_KEY:l.MIN_KEY,Q),lowerOpen:!0,upper:wo(oe.upper,oe.upperOpen?l.MIN_KEY:l.MAX_KEY,Q),upperOpen:!0})}}):W}return n(n({},m),{schema:n(n({},y),{primaryKey:c,indexes:T,getIndexByKeyPath:function(W){return(W=N[Ei(W)])&&W[0]}}),count:function(W){return m.count(ie(W))},query:function(W){return m.query(ie(W))},openCursor:function(W){var oe=W.query.index,Q=oe.keyTail,ee=oe.isVirtual,te=oe.keyLength;return ee?m.openCursor(ie(W)).then(function(ce){return ce&&ae(ce)}):m.openCursor(W);function ae(ce){return Object.create(ce,{continue:{value:function(fe){fe!=null?ce.continue(wo(fe,W.reverse?l.MAX_KEY:l.MIN_KEY,Q)):W.unique?ce.continue(ce.key.slice(0,te).concat(W.reverse?l.MIN_KEY:l.MAX_KEY,Q)):ce.continue()}},continuePrimaryKey:{value:function(fe,be){ce.continuePrimaryKey(wo(fe,l.MAX_KEY,Q),be)}},primaryKey:{get:function(){return ce.primaryKey}},key:{get:function(){var fe=ce.key;return te===1?fe[0]:fe.slice(0,te)}},value:{get:function(){return ce.value}}})}}})}})}};function fu(l,c,m,y){return m=m||{},y=y||"",o(l).forEach(function(N){var T,R,U;f(c,N)?(T=l[N],R=c[N],typeof T=="object"&&typeof R=="object"&&T&&R?(U=ge(T))!==ge(R)?m[y+N]=c[N]:U==="Object"?fu(T,R,m,y+N+"."):T!==R&&(m[y+N]=c[N]):T!==R&&(m[y+N]=c[N])):m[y+N]=void 0}),o(c).forEach(function(N){f(l,N)||(m[y+N]=c[N])}),m}function hu(l,c){return c.type==="delete"?c.keys:c.keys||c.values.map(l.extractKey)}var l0={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return n(n({},l),{table:function(c){var m=l.table(c),y=m.schema.primaryKey;return n(n({},m),{mutate:function(N){var T=Ge.trans,R=T.table(c).hook,U=R.deleting,G=R.creating,Y=R.updating;switch(N.type){case"add":if(G.fire===Ue)break;return T._promise("readwrite",function(){return ie(N)},!0);case"put":if(G.fire===Ue&&Y.fire===Ue)break;return T._promise("readwrite",function(){return ie(N)},!0);case"delete":if(U.fire===Ue)break;return T._promise("readwrite",function(){return ie(N)},!0);case"deleteRange":if(U.fire===Ue)break;return T._promise("readwrite",function(){return function W(oe,Q,ee){return m.query({trans:oe,values:!1,query:{index:y,range:Q},limit:ee}).then(function(te){var ae=te.result;return ie({type:"delete",keys:ae,trans:oe}).then(function(ce){return 0<ce.numFailures?Promise.reject(ce.failures[0]):ae.length<ee?{failures:[],numFailures:0,lastResult:void 0}:W(oe,n(n({},Q),{lower:ae[ae.length-1],lowerOpen:!0}),ee)})})}(N.trans,N.range,1e4)},!0)}return m.mutate(N);function ie(W){var oe,Q,ee,te=Ge.trans,ae=W.keys||hu(y,W);if(!ae)throw new Error("Keys missing");return(W=W.type==="add"||W.type==="put"?n(n({},W),{keys:ae}):n({},W)).type!=="delete"&&(W.values=a([],W.values)),W.keys&&(W.keys=a([],W.keys)),oe=m,ee=ae,((Q=W).type==="add"?Promise.resolve([]):oe.getMany({trans:Q.trans,keys:ee,cache:"immutable"})).then(function(ce){var fe=ae.map(function(be,Ne){var Fe,We,Me,Be=ce[Ne],Ke={onerror:null,onsuccess:null};return W.type==="delete"?U.fire.call(Ke,be,Be,te):W.type==="add"||Be===void 0?(Fe=G.fire.call(Ke,be,W.values[Ne],te),be==null&&Fe!=null&&(W.keys[Ne]=be=Fe,y.outbound||M(W.values[Ne],y.keyPath,be))):(Fe=fu(Be,W.values[Ne]),(We=Y.fire.call(Ke,Fe,be,Be,te))&&(Me=W.values[Ne],Object.keys(We).forEach(function(Le){f(Me,Le)?Me[Le]=We[Le]:M(Me,Le,We[Le])}))),Ke});return m.mutate(W).then(function(be){for(var Ne=be.failures,Fe=be.results,We=be.numFailures,be=be.lastResult,Me=0;Me<ae.length;++Me){var Be=(Fe||ae)[Me],Ke=fe[Me];Be==null?Ke.onerror&&Ke.onerror(Ne[Me]):Ke.onsuccess&&Ke.onsuccess(W.type==="put"&&ce[Me]?W.values[Me]:Be)}return{failures:Ne,results:Fe,numFailures:We,lastResult:be}}).catch(function(be){return fe.forEach(function(Ne){return Ne.onerror&&Ne.onerror(be)}),Promise.reject(be)})})}}})}})}};function lf(l,c,m){try{if(!c||c.keys.length<l.length)return null;for(var y=[],N=0,T=0;N<c.keys.length&&T<l.length;++N)ot(c.keys[N],l[T])===0&&(y.push(m?ne(c.values[N]):c.values[N]),++T);return y.length===l.length?y:null}catch{return null}}var u0={stack:"dbcore",level:-1,create:function(l){return{table:function(c){var m=l.table(c);return n(n({},m),{getMany:function(y){if(!y.cache)return m.getMany(y);var N=lf(y.keys,y.trans._cache,y.cache==="clone");return N?Ve.resolve(N):m.getMany(y).then(function(T){return y.trans._cache={keys:y.keys,values:y.cache==="clone"?ne(T):T},T})},mutate:function(y){return y.type!=="add"&&(y.trans._cache=null),m.mutate(y)}})}}}};function uf(l,c){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function cf(l,c){switch(l){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var c0={stack:"dbcore",level:0,name:"Observability",create:function(l){var c=l.schema.name,m=new et(l.MIN_KEY,l.MAX_KEY);return n(n({},l),{transaction:function(y,N,T){if(Ge.subscr&&N!=="readonly")throw new re.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ge.querier));return l.transaction(y,N,T)},table:function(y){var N=l.table(y),T=N.schema,R=T.primaryKey,W=T.indexes,U=R.extractKey,G=R.outbound,Y=R.autoIncrement&&W.filter(function(Q){return Q.compound&&Q.keyPath.includes(R.keyPath)}),ie=n(n({},N),{mutate:function(Q){function ee(Le){return Le="idb://".concat(c,"/").concat(y,"/").concat(Le),be[Le]||(be[Le]=new et)}var te,ae,ce,fe=Q.trans,be=Q.mutatedParts||(Q.mutatedParts={}),Ne=ee(""),Fe=ee(":dels"),We=Q.type,Ke=Q.type==="deleteRange"?[Q.range]:Q.type==="delete"?[Q.keys]:Q.values.length<50?[hu(R,Q).filter(function(Le){return Le}),Q.values]:[],Me=Ke[0],Be=Ke[1],Ke=Q.trans._cache;return u(Me)?(Ne.addKeys(Me),(Ke=We==="delete"||Me.length===Be.length?lf(Me,Ke):null)||Fe.addKeys(Me),(Ke||Be)&&(te=ee,ae=Ke,ce=Be,T.indexes.forEach(function(Le){var Ze=te(Le.name||"");function st(lt){return lt!=null?Le.extractKey(lt):null}function at(lt){return Le.multiEntry&&u(lt)?lt.forEach(function(kr){return Ze.addKey(kr)}):Ze.addKey(lt)}(ae||ce).forEach(function(lt,Xt){var it=ae&&st(ae[Xt]),Xt=ce&&st(ce[Xt]);ot(it,Xt)!==0&&(it!=null&&at(it),Xt!=null&&at(Xt))})}))):Me?(Be={from:(Be=Me.lower)!==null&&Be!==void 0?Be:l.MIN_KEY,to:(Be=Me.upper)!==null&&Be!==void 0?Be:l.MAX_KEY},Fe.add(Be),Ne.add(Be)):(Ne.add(m),Fe.add(m),T.indexes.forEach(function(Le){return ee(Le.name).add(m)})),N.mutate(Q).then(function(Le){return!Me||Q.type!=="add"&&Q.type!=="put"||(Ne.addKeys(Le.results),Y&&Y.forEach(function(Ze){for(var st=Q.values.map(function(it){return Ze.extractKey(it)}),at=Ze.keyPath.findIndex(function(it){return it===R.keyPath}),lt=0,kr=Le.results.length;lt<kr;++lt)st[lt][at]=Le.results[lt];ee(Ze.name).addKeys(st)})),fe.mutatedParts=ss(fe.mutatedParts||{},be),Le})}}),W=function(ee){var te=ee.query,ee=te.index,te=te.range;return[ee,new et((ee=te.lower)!==null&&ee!==void 0?ee:l.MIN_KEY,(te=te.upper)!==null&&te!==void 0?te:l.MAX_KEY)]},oe={get:function(Q){return[R,new et(Q.key)]},getMany:function(Q){return[R,new et().addKeys(Q.keys)]},count:W,query:W,openCursor:W};return o(oe).forEach(function(Q){ie[Q]=function(ee){var te=Ge.subscr,ae=!!te,ce=uf(Ge,N)&&cf(Q,ee)?ee.obsSet={}:te;if(ae){var fe=function(Be){return Be="idb://".concat(c,"/").concat(y,"/").concat(Be),ce[Be]||(ce[Be]=new et)},be=fe(""),Ne=fe(":dels"),te=oe[Q](ee),ae=te[0],te=te[1];if((Q==="query"&&ae.isPrimaryKey&&!ee.values?Ne:fe(ae.name||"")).add(te),!ae.isPrimaryKey){if(Q!=="count"){var Fe=Q==="query"&&G&&ee.values&&N.query(n(n({},ee),{values:!1}));return N[Q].apply(this,arguments).then(function(Be){if(Q==="query"){if(G&&ee.values)return Fe.then(function(st){return st=st.result,be.addKeys(st),Be});var Ke=ee.values?Be.result.map(U):Be.result;(ee.values?be:Ne).addKeys(Ke)}else if(Q==="openCursor"){var Le=Be,Ze=ee.values;return Le&&Object.create(Le,{key:{get:function(){return Ne.addKey(Le.primaryKey),Le.key}},primaryKey:{get:function(){var st=Le.primaryKey;return Ne.addKey(st),st}},value:{get:function(){return Ze&&be.addKey(Le.primaryKey),Le.value}}})}return Be})}Ne.add(m)}}return N[Q].apply(this,arguments)}}),ie}})}};function df(l,c,m){if(m.numFailures===0)return c;if(c.type==="deleteRange")return null;var y=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return m.numFailures===y?null:(c=n({},c),u(c.keys)&&(c.keys=c.keys.filter(function(N,T){return!(T in m.failures)})),"values"in c&&u(c.values)&&(c.values=c.values.filter(function(N,T){return!(T in m.failures)})),c)}function mu(l,c){return m=l,((y=c).lower===void 0||(y.lowerOpen?0<ot(m,y.lower):0<=ot(m,y.lower)))&&(l=l,(c=c).upper===void 0||(c.upperOpen?ot(l,c.upper)<0:ot(l,c.upper)<=0));var m,y}function ff(l,c,oe,y,N,T){if(!oe||oe.length===0)return l;var R=c.query.index,U=R.multiEntry,G=c.query.range,Y=y.schema.primaryKey.extractKey,ie=R.extractKey,W=(R.lowLevelIndex||R).extractKey,oe=oe.reduce(function(Q,ee){var te=Q,ae=[];if(ee.type==="add"||ee.type==="put")for(var ce=new et,fe=ee.values.length-1;0<=fe;--fe){var be,Ne=ee.values[fe],Fe=Y(Ne);ce.hasKey(Fe)||(be=ie(Ne),(U&&u(be)?be.some(function(Le){return mu(Le,G)}):mu(be,G))&&(ce.addKey(Fe),ae.push(Ne)))}switch(ee.type){case"add":var We=new et().addKeys(c.values?Q.map(function(Ze){return Y(Ze)}):Q),te=Q.concat(c.values?ae.filter(function(Ze){return Ze=Y(Ze),!We.hasKey(Ze)&&(We.addKey(Ze),!0)}):ae.map(function(Ze){return Y(Ze)}).filter(function(Ze){return!We.hasKey(Ze)&&(We.addKey(Ze),!0)}));break;case"put":var Me=new et().addKeys(ee.values.map(function(Ze){return Y(Ze)}));te=Q.filter(function(Ze){return!Me.hasKey(c.values?Y(Ze):Ze)}).concat(c.values?ae:ae.map(function(Ze){return Y(Ze)}));break;case"delete":var Be=new et().addKeys(ee.keys);te=Q.filter(function(Ze){return!Be.hasKey(c.values?Y(Ze):Ze)});break;case"deleteRange":var Ke=ee.range;te=Q.filter(function(Ze){return!mu(Y(Ze),Ke)})}return te},l);return oe===l?l:(oe.sort(function(Q,ee){return ot(W(Q),W(ee))||ot(Y(Q),Y(ee))}),c.limit&&c.limit<1/0&&(oe.length>c.limit?oe.length=c.limit:l.length===c.limit&&oe.length<c.limit&&(N.dirty=!0)),T?Object.freeze(oe):oe)}function hf(l,c){return ot(l.lower,c.lower)===0&&ot(l.upper,c.upper)===0&&!!l.lowerOpen==!!c.lowerOpen&&!!l.upperOpen==!!c.upperOpen}function d0(l,c){return function(m,y,N,T){if(m===void 0)return y!==void 0?-1:0;if(y===void 0)return 1;if((y=ot(m,y))===0){if(N&&T)return 0;if(N)return 1;if(T)return-1}return y}(l.lower,c.lower,l.lowerOpen,c.lowerOpen)<=0&&0<=function(m,y,N,T){if(m===void 0)return y!==void 0?1:0;if(y===void 0)return-1;if((y=ot(m,y))===0){if(N&&T)return 0;if(N)return-1;if(T)return 1}return y}(l.upper,c.upper,l.upperOpen,c.upperOpen)}function f0(l,c,m,y){l.subscribers.add(m),y.addEventListener("abort",function(){var N,T;l.subscribers.delete(m),l.subscribers.size===0&&(N=l,T=c,setTimeout(function(){N.subscribers.size===0&&xe(T,N)},3e3))})}var h0={stack:"dbcore",level:0,name:"Cache",create:function(l){var c=l.schema.name;return n(n({},l),{transaction:function(m,y,N){var T,R,U=l.transaction(m,y,N);return y==="readwrite"&&(R=(T=new AbortController).signal,N=function(G){return function(){if(T.abort(),y==="readwrite"){for(var Y=new Set,ie=0,W=m;ie<W.length;ie++){var oe=W[ie],Q=un["idb://".concat(c,"/").concat(oe)];if(Q){var ee=l.table(oe),te=Q.optimisticOps.filter(function(Ze){return Ze.trans===U});if(U._explicit&&G&&U.mutatedParts)for(var ae=0,ce=Object.values(Q.queries.query);ae<ce.length;ae++)for(var fe=0,be=(We=ce[ae]).slice();fe<be.length;fe++)as((Me=be[fe]).obsSet,U.mutatedParts)&&(xe(We,Me),Me.subscribers.forEach(function(Ze){return Y.add(Ze)}));else if(0<te.length){Q.optimisticOps=Q.optimisticOps.filter(function(Ze){return Ze.trans!==U});for(var Ne=0,Fe=Object.values(Q.queries.query);Ne<Fe.length;Ne++)for(var We,Me,Be,Ke=0,Le=(We=Fe[Ne]).slice();Ke<Le.length;Ke++)(Me=Le[Ke]).res!=null&&U.mutatedParts&&(G&&!Me.dirty?(Be=Object.isFrozen(Me.res),Be=ff(Me.res,Me.req,te,ee,Me,Be),Me.dirty?(xe(We,Me),Me.subscribers.forEach(function(Ze){return Y.add(Ze)})):Be!==Me.res&&(Me.res=Be,Me.promise=Ve.resolve({result:Be}))):(Me.dirty&&xe(We,Me),Me.subscribers.forEach(function(Ze){return Y.add(Ze)})))}}}Y.forEach(function(Ze){return Ze()})}}},U.addEventListener("abort",N(!1),{signal:R}),U.addEventListener("error",N(!1),{signal:R}),U.addEventListener("complete",N(!0),{signal:R})),U},table:function(m){var y=l.table(m),N=y.schema.primaryKey;return n(n({},y),{mutate:function(T){var R=Ge.trans;if(N.outbound||R.db._options.cache==="disabled"||R.explicit||R.idbtrans.mode!=="readwrite")return y.mutate(T);var U=un["idb://".concat(c,"/").concat(m)];return U?(R=y.mutate(T),T.type!=="add"&&T.type!=="put"||!(50<=T.values.length||hu(N,T).some(function(G){return G==null}))?(U.optimisticOps.push(T),T.mutatedParts&&Ti(T.mutatedParts),R.then(function(G){0<G.numFailures&&(xe(U.optimisticOps,T),(G=df(0,T,G))&&U.optimisticOps.push(G),T.mutatedParts&&Ti(T.mutatedParts))}),R.catch(function(){xe(U.optimisticOps,T),T.mutatedParts&&Ti(T.mutatedParts)})):R.then(function(G){var Y=df(0,n(n({},T),{values:T.values.map(function(ie,W){var oe;return G.failures[W]?ie:(ie=(oe=N.keyPath)!==null&&oe!==void 0&&oe.includes(".")?ne(ie):n({},ie),M(ie,N.keyPath,G.results[W]),ie)})}),G);U.optimisticOps.push(Y),queueMicrotask(function(){return T.mutatedParts&&Ti(T.mutatedParts)})}),R):y.mutate(T)},query:function(T){if(!uf(Ge,y)||!cf("query",T))return y.query(T);var R=((Y=Ge.trans)===null||Y===void 0?void 0:Y.db._options.cache)==="immutable",W=Ge,U=W.requery,G=W.signal,Y=function(ee,te,ae,ce){var fe=un["idb://".concat(ee,"/").concat(te)];if(!fe)return[];if(!(te=fe.queries[ae]))return[null,!1,fe,null];var be=te[(ce.query?ce.query.index.name:null)||""];if(!be)return[null,!1,fe,null];switch(ae){case"query":var Ne=be.find(function(Fe){return Fe.req.limit===ce.limit&&Fe.req.values===ce.values&&hf(Fe.req.query.range,ce.query.range)});return Ne?[Ne,!0,fe,be]:[be.find(function(Fe){return("limit"in Fe.req?Fe.req.limit:1/0)>=ce.limit&&(!ce.values||Fe.req.values)&&d0(Fe.req.query.range,ce.query.range)}),!1,fe,be];case"count":return Ne=be.find(function(Fe){return hf(Fe.req.query.range,ce.query.range)}),[Ne,!!Ne,fe,be]}}(c,m,"query",T),ie=Y[0],W=Y[1],oe=Y[2],Q=Y[3];return ie&&W?ie.obsSet=T.obsSet:(W=y.query(T).then(function(ee){var te=ee.result;if(ie&&(ie.res=te),R){for(var ae=0,ce=te.length;ae<ce;++ae)Object.freeze(te[ae]);Object.freeze(te)}else ee.result=ne(te);return ee}).catch(function(ee){return Q&&ie&&xe(Q,ie),Promise.reject(ee)}),ie={obsSet:T.obsSet,promise:W,subscribers:new Set,type:"query",req:T,dirty:!1},Q?Q.push(ie):(Q=[ie],(oe=oe||(un["idb://".concat(c,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[T.query.index.name||""]=Q)),f0(ie,Q,U,G),ie.promise.then(function(ee){return{result:ff(ee.result,T,oe==null?void 0:oe.optimisticOps,y,ie,R)}})}})}})}};function _o(l,c){return new Proxy(l,{get:function(m,y,N){return y==="db"?c:Reflect.get(m,y,N)}})}var wn=(Pt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new re.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new re.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var c=this._versions,m=c.filter(function(y){return y._cfg.version===l})[0];return m||(m=new this.Version(l),c.push(m),c.sort(bo),m.stores({}),this._state.autoSchema=!1,m)},Pt.prototype._whenReady=function(l){var c=this;return this.idbdb&&(this._state.openComplete||Ge.letThrough||this._vip)?l():new Ve(function(m,y){if(c._state.openComplete)return y(new re.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void y(new re.DatabaseClosed);c.open().catch(Ue)}c._state.dbReadyPromise.then(m,y)}).then(l)},Pt.prototype.use=function(l){var c=l.stack,m=l.create,y=l.level,N=l.name;return N&&this.unuse({stack:c,name:N}),l=this._middlewares[c]||(this._middlewares[c]=[]),l.push({stack:c,create:m,level:y??10,name:N}),l.sort(function(T,R){return T.level-R.level}),this},Pt.prototype.unuse=function(l){var c=l.stack,m=l.name,y=l.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(N){return y?N.create!==y:!!m&&N.name!==m})),this},Pt.prototype.open=function(){var l=this;return xn(Lt,function(){return a0(l)})},Pt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,c=Hn.indexOf(this);if(0<=c&&Hn.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Ve(function(m){l.dbReadyResolve=m}),l.openCanceller=new Ve(function(m,y){l.cancelOpen=y}))},Pt.prototype.close=function(m){var c=(m===void 0?{disableAutoOpen:!0}:m).disableAutoOpen,m=this._state;c?(m.isBeingOpened&&m.cancelOpen(new re.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new re.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},Pt.prototype.delete=function(l){var c=this;l===void 0&&(l={disableAutoOpen:!0});var m=0<arguments.length&&typeof arguments[0]!="object",y=this._state;return new Ve(function(N,T){function R(){c.close(l);var U=c._deps.indexedDB.deleteDatabase(c.name);U.onsuccess=wt(function(){var G,Y,ie;G=c._deps,Y=c.name,ie=G.indexedDB,G=G.IDBKeyRange,nt(ie)||Y===Xi||rt(ie,G).delete(Y).catch(Ue),N()}),U.onerror=$r(T),U.onblocked=c._fireOnBlocked}if(m)throw new re.InvalidArgument("Invalid closeOptions argument to db.delete()");y.isBeingOpened?y.dbReadyPromise.then(R):R()})},Pt.prototype.backendDB=function(){return this.idbdb},Pt.prototype.isOpen=function(){return this.idbdb!==null},Pt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Pt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pt.prototype,"tables",{get:function(){var l=this;return o(this._allTables).map(function(c){return l._allTables[c]})},enumerable:!1,configurable:!0}),Pt.prototype.transaction=function(){var l=(function(c,m,y){var N=arguments.length;if(N<2)throw new re.InvalidArgument("Too few arguments");for(var T=new Array(N-1);--N;)T[N-1]=arguments[N];return y=T.pop(),[c,le(T),y]}).apply(this,arguments);return this._transaction.apply(this,l)},Pt.prototype._transaction=function(l,c,m){var y=this,N=Ge.trans;N&&N.db===this&&l.indexOf("!")===-1||(N=null);var T,R,U=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(R=c.map(function(Y){if(Y=Y instanceof y.Table?Y.name:Y,typeof Y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Y}),l=="r"||l===Gs)T=Gs;else{if(l!="rw"&&l!=Ys)throw new re.InvalidArgument("Invalid transaction mode: "+l);T=Ys}if(N){if(N.mode===Gs&&T===Ys){if(!U)throw new re.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");N=null}N&&R.forEach(function(Y){if(N&&N.storeNames.indexOf(Y)===-1){if(!U)throw new re.SubTransaction("Table "+Y+" not included in parent transaction.");N=null}}),U&&N&&!N.active&&(N=null)}}catch(Y){return N?N._promise(null,function(ie,W){W(Y)}):gt(Y)}var G=(function Y(ie,W,oe,Q,ee){return Ve.resolve().then(function(){var te=Ge.transless||Ge,ae=ie._createTransaction(W,oe,ie._dbSchema,Q);if(ae.explicit=!0,te={trans:ae,transless:te},Q)ae.idbtrans=Q.idbtrans;else try{ae.create(),ae.idbtrans._explicit=!0,ie._state.PR1398_maxLoop=3}catch(be){return be.name===Se.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return Y(ie,W,oe,null,ee)})):gt(be)}var ce,fe=Z(ee);return fe&&vn(),te=Ve.follow(function(){var be;(ce=ee.call(ae,ae))&&(fe?(be=Vr.bind(null,null),ce.then(be,be)):typeof ce.next=="function"&&typeof ce.throw=="function"&&(ce=du(ce)))},te),(ce&&typeof ce.then=="function"?Ve.resolve(ce).then(function(be){return ae.active?be:gt(new re.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):te.then(function(){return ce})).then(function(be){return Q&&ae._resolve(),ae._completion.then(function(){return be})}).catch(function(be){return ae._reject(be),gt(be)})})}).bind(null,this,T,R,N,m);return N?N._promise(T,G,"lock"):Ge.trans?xn(Ge.transless,function(){return y._whenReady(G)}):this._whenReady(G)},Pt.prototype.table=function(l){if(!f(this._allTables,l))throw new re.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},Pt);function Pt(l,c){var m=this;this._middlewares={},this.verno=0;var y=Pt.dependencies;this._options=c=n({addons:Pt.addons,autoOpen:!0,indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},y=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var N,T,R,U,G,Y={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ue,dbReadyPromise:null,cancelOpen:Ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};Y.dbReadyPromise=new Ve(function(W){Y.dbReadyResolve=W}),Y.openCanceller=new Ve(function(W,oe){Y.cancelOpen=oe}),this._state=Y,this.name=l,this.on=ji(this,"populate","blocked","versionchange","close",{ready:[je,Ue]}),this.once=function(W,oe){var Q=function(){for(var ee=[],te=0;te<arguments.length;te++)ee[te]=arguments[te];m.on(W).unsubscribe(Q),oe.apply(m,ee)};return m.on(W,Q)},this.on.ready.subscribe=w(this.on.ready.subscribe,function(W){return function(oe,Q){Pt.vip(function(){var ee,te=m._state;te.openComplete?(te.dbOpenError||Ve.resolve().then(oe),Q&&W(oe)):te.onReadyBeingFired?(te.onReadyBeingFired.push(oe),Q&&W(oe)):(W(oe),ee=m,Q||W(function ae(){ee.on.ready.unsubscribe(oe),ee.on.ready.unsubscribe(ae)}))})}}),this.Collection=(N=this,Ni(iu.prototype,function(ce,ae){this.db=N;var Q=co,ee=null;if(ae)try{Q=ae()}catch(fe){ee=fe}var te=ce._ctx,ae=te.table,ce=ae.hook.reading.fire;this._ctx={table:ae,index:te.index,isPrimKey:!te.index||ae.schema.primKey.keyPath&&te.index===ae.schema.primKey.name,range:Q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ee,or:te.or,valueMapper:ce!==Je?ce:null}})),this.Table=(T=this,Ni(ho.prototype,function(W,oe,Q){this.db=T,this._tx=Q,this.name=W,this.schema=oe,this.hook=T._allTables[W]?T._allTables[W].hook:ji(null,{creating:[pe,Ue],reading:[k,Je],updating:[F,Ue],deleting:[z,Ue]})})),this.Transaction=(R=this,Ni(ou.prototype,function(W,oe,Q,ee,te){var ae=this;W!=="readonly"&&oe.forEach(function(ce){ce=(ce=Q[ce])===null||ce===void 0?void 0:ce.yProps,ce&&(oe=oe.concat(ce.map(function(fe){return fe.updatesTable})))}),this.db=R,this.mode=W,this.storeNames=oe,this.schema=Q,this.chromeTransactionDurability=ee,this.idbtrans=null,this.on=ji(this,"complete","error","abort"),this.parent=te||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ve(function(ce,fe){ae._resolve=ce,ae._reject=fe}),this._completion.then(function(){ae.active=!1,ae.on.complete.fire()},function(ce){var fe=ae.active;return ae.active=!1,ae.on.error.fire(ce),ae.parent?ae.parent._reject(ce):fe&&ae.idbtrans&&ae.idbtrans.abort(),gt(ce)})})),this.Version=(U=this,Ni(Te.prototype,function(W){this.db=U,this._cfg={version:W,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(G=this,Ni(vo.prototype,function(W,oe,Q){if(this.db=G,this._ctx={table:W,index:oe===":id"?null:oe,or:Q},this._cmp=this._ascending=ot,this._descending=function(ee,te){return ot(te,ee)},this._max=function(ee,te){return 0<ot(ee,te)?ee:te},this._min=function(ee,te){return ot(ee,te)<0?ee:te},this._IDBKeyRange=G._deps.IDBKeyRange,!this._IDBKeyRange)throw new re.MissingAPI})),this.on("versionchange",function(W){0<W.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function(W){!W.newVersion||W.newVersion<W.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat(W.oldVersion/10))}),this._maxKey=Si(c.IDBKeyRange),this._createTransaction=function(W,oe,Q,ee){return new m.Transaction(W,oe,Q,m._options.chromeTransactionDurability,ee)},this._fireOnBlocked=function(W){m.on("blocked").fire(W),Hn.filter(function(oe){return oe.name===m.name&&oe!==m&&!oe._state.vcFired}).map(function(oe){return oe.on("versionchange").fire(W)})},this.use(u0),this.use(h0),this.use(c0),this.use(o0),this.use(l0);var ie=new Proxy(this,{get:function(W,oe,Q){if(oe==="_vip")return!0;if(oe==="table")return function(te){return _o(m.table(te),ie)};var ee=Reflect.get(W,oe,Q);return ee instanceof ho?_o(ee,ie):oe==="tables"?ee.map(function(te){return _o(te,ie)}):oe==="_createTransaction"?function(){return _o(ee.apply(this,arguments),ie)}:ee}});this.vip=ie,y.forEach(function(W){return W(m)})}var jo,Mr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",m0=(pu.prototype.subscribe=function(l,c,m){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:c,complete:m})},pu.prototype[Mr]=function(){return this},pu);function pu(l){this._subscribe=l}try{jo={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{jo={indexedDB:null,IDBKeyRange:null}}function mf(l){var c,m=!1,y=new m0(function(N){var T=Z(l),R,U=!1,G={},Y={},ie={get closed(){return U},unsubscribe:function(){U||(U=!0,R&&R.abort(),W&&ln.storagemutated.unsubscribe(Q))}};N.start&&N.start(ie);var W=!1,oe=function(){return Zi(ee)},Q=function(te){ss(G,te),as(Y,G)&&oe()},ee=function(){var te,ae,ce;!U&&jo.indexedDB&&(G={},te={},R&&R.abort(),R=new AbortController,ce=function(fe){var be=Bn();try{T&&vn();var Ne=an(l,fe);return Ne=T?Ne.finally(Vr):Ne}finally{be&&Ar()}}(ae={subscr:te,signal:R.signal,requery:oe,querier:l,trans:null}),Promise.resolve(ce).then(function(fe){m=!0,c=fe,U||ae.signal.aborted||(G={},function(be){for(var Ne in be)if(f(be,Ne))return;return 1}(Y=te)||W||(ln(Ci,Q),W=!0),Zi(function(){return!U&&N.next&&N.next(fe)}))},function(fe){m=!1,["DatabaseClosedError","AbortError"].includes(fe==null?void 0:fe.name)||U||Zi(function(){U||N.error&&N.error(fe)})}))};return setTimeout(oe,0),ie});return y.hasValue=function(){return m},y.getValue=function(){return c},y}var Ii=wn;function gu(l){var c=Yn;try{Yn=!0,ln.storagemutated.fire(l),cu(l,!0)}finally{Yn=c}}b(Ii,n(n({},Ee),{delete:function(l){return new Ii(l,{addons:[]}).delete()},exists:function(l){return new Ii(l,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return c=Ii.dependencies,m=c.indexedDB,c=c.IDBKeyRange,(nt(m)?Promise.resolve(m.databases()).then(function(y){return y.map(function(N){return N.name}).filter(function(N){return N!==Xi})}):rt(m,c).toCollection().primaryKeys()).then(l)}catch{return gt(new re.MissingAPI)}var c,m},defineClass:function(){return function(l){d(this,l)}},ignoreTransaction:function(l){return Ge.trans?xn(Ge.transless,l):l()},vip:ht,async:function(l){return function(){try{var c=du(l.apply(this,arguments));return c&&typeof c.then=="function"?c:Ve.resolve(c)}catch(m){return gt(m)}}},spawn:function(l,c,m){try{var y=du(l.apply(m,c||[]));return y&&typeof y.then=="function"?y:Ve.resolve(y)}catch(N){return gt(N)}},currentTransaction:{get:function(){return Ge.trans||null}},waitFor:function(l,c){return c=Ve.resolve(typeof l=="function"?Ii.ignoreTransaction(l):l).timeout(c||6e4),Ge.trans?Ge.trans.waitFor(c):c},Promise:Ve,debug:{get:function(){return de},set:function(l){ue(l)}},derive:v,extend:d,props:b,override:w,Events:ji,on:ln,liveQuery:mf,extendObservabilitySet:ss,getByKeyPath:$,setByKeyPath:M,delByKeyPath:function(l,c){typeof c=="string"?M(l,c,void 0):"length"in c&&[].map.call(c,function(m){M(l,m,void 0)})},shallowClone:P,deepClone:ne,getObjectDiff:fu,cmp:ot,asap:I,minKey:-1/0,addons:[],connections:Hn,errnames:Se,dependencies:jo,cache:un,semVer:"4.2.1",version:"4.2.1".split(".").map(function(l){return parseInt(l)}).reduce(function(l,c,m){return l+c/Math.pow(10,2*m)})})),Ii.maxKey=Si(Ii.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ln(Ci,function(l){Yn||(l=new CustomEvent(ta,{detail:l}),Yn=!0,dispatchEvent(l),Yn=!1)}),addEventListener(ta,function(l){l=l.detail,Yn||gu(l)}));var ls,Yn=!1,pf=function(){};return typeof BroadcastChannel<"u"&&((pf=function(){(ls=new BroadcastChannel(ta)).onmessage=function(l){return l.data&&gu(l.data)}})(),typeof ls.unref=="function"&&ls.unref(),ln(Ci,function(l){Yn||ls.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!wn.disableBfCache&&l.persisted){de&&console.debug("Dexie: handling persisted pagehide"),ls!=null&&ls.close();for(var c=0,m=Hn;c<m.length;c++)m[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!wn.disableBfCache&&l.persisted&&(de&&console.debug("Dexie: handling persisted pageshow"),pf(),gu({all:new et(-1/0,[[]])}))})),Ve.rejectionMapper=function(l,c){return!l||l instanceof Ie||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Ye[l.name]?l:(c=new Ye[l.name](c||l.message,l),"stack"in l&&j(c,"stack",{get:function(){return this.inner.stack}}),c)},ue(de),n(wn,Object.freeze({__proto__:null,Dexie:wn,liveQuery:mf,Entity:bn,cmp:ot,PropModification:_i,replacePrefix:function(l,c){return new _i({replacePrefix:[l,c]})},add:function(l){return new _i({add:l})},remove:function(l){return new _i({remove:l})},default:wn,RangeSet:et,mergeRanges:At,rangesOverlap:Rr}),{default:wn}),wn})})(Qg);var y1=Qg.exports;const Qc=Zc(y1),Oh=Symbol.for("Dexie"),Rl=globalThis[Oh]||(globalThis[Oh]=Qc);if(Qc.semVer!==Rl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Qc.semVer} and ${Rl.semVer}`);const{liveQuery:nw,mergeRanges:iw,rangesOverlap:sw,RangeSet:aw,cmp:ow,Entity:lw,PropModification:uw,replacePrefix:cw,add:dw,remove:fw,DexieYProvider:hw}=Rl;class b1 extends Rl{constructor(){super("fichegen");_n(this,"settings");_n(this,"ebookSpecs");_n(this,"searchHistory");this.version(1).stores({settings:"&key",ebookSpecs:"&id",searchHistory:"++id, query"}),this.version(2).stores({searchHistory:"++id, createdAt, query"}),this.version(3).stores({searchHistory:"++id, createdAt, query, generatedNFO"})}}const $t=new b1,Zg=V.createContext(void 0),w1={fr:{"footer.version":"V.1.5","header.title":"FicheGen","header.subtitle":"Gnrateur de Fiches mdia","search.placeholder":"Rechercher un film, une srie, un spectacle ...","search.nfo.upload":"Importer NFO","search.nfo.paste":"Coller NFO","search.nfo.notitle":"NFO import / gnr avec succs, mais aucun titre trouv. Recherchez le manuellement.","specs.title":"Spcifications techniques","specs.back":"Retour","specs.name":"Nom de la release","specs.size":"Taille","specs.video":"Vido","specs.resolution":"Rsolution","specs.codec":"Codec","specs.bitrate":"Dbit","specs.audio":"Audio","specs.subtitles":"Sous-titres","specs.language":"Audio","specs.format":"Format","specs.default":"Dfaut","specs.add":"Ajouter","specs.generate":"Gnrer la fiche","lang.french":"Franais","lang.english":"Anglais","lang.spanish":"Espagnol","lang.german":"Allemand","lang.italian":"Italien","lang.portuguese":"Portugais","lang.russian":"Russe","lang.japanese":"Japonais","lang.korean":"Coren","lang.chinese":"Chinois","lang.arabic":"Arabe","lang.hindi":"Hindi","lang.dutch":"Nerlandais","lang.swedish":"Sudois","lang.norwegian":"Norvgien","lang.danish":"Danois","lang.finnish":"Finnois","lang.polish":"Polonais","lang.czech":"Tchque","lang.hungarian":"Hongrois","lang.romanian":"Roumain","lang.bulgarian":"Bulgare","lang.greek":"Grec","lang.turkish":"Turc","lang.hebrew":"Hbreu","lang.thai":"Tha","lang.vietnamese":"Vietnamien","lang.indonesian":"Indonsien","lang.malay":"Malais","lang.filipino":"Filipino","lang.ukrainian":"Ukrainien","lang.croatian":"Croate","lang.serbian":"Serbe","lang.slovenian":"Slovne","lang.slovak":"Slovaque","lang.lithuanian":"Lituanien","lang.latvian":"Letton","lang.estonian":"Estonien","lang.quebecois":"Qubcois","lang.other":"Autre","card.synopsis":"Synopsis","card.cast":"Distribution","card.crew":"quipe technique","card.director":"Ralisateur","card.writer":"Scnariste","card.producer":"Producteur","card.composer":"Compositeur","card.cinematographer":"Directeur de la photographie","card.editor":"Monteur","card.production":"Production","card.company":"Socit de production","card.country":"Pays","card.release":"Date de sortie","card.runtime":"Dure","card.budget":"Budget","card.revenue":"Recettes","card.genres":"Genres","card.rating":"Note","card.votes":"votes","card.technical":"Infos complmentaires","card.torrent":"Infos","card.torrent.specs":"Spcifications techniques","card.export.bbcode":"Exporter BBCode","card.export.html":"Exporter HTML","card.export.markdown":"Exporter Markdown","card.export.text":"Exporter Texte","tv.seasons":"Saisons","tv.episodes":"pisodes","tv.status":"Statut","tv.network":"Chane","tv.firstAired":"Premire diffusion","tv.lastAired":"Dernire diffusion","app.create":"Crez vos Prez et NFO","app.professional":"de sries, films ...","app.description":"Recherchez un mdia via sa vido, son titre, un NFO ou son ID TMDB","app.config.required":"Configuration requise :","app.config.message":"Vous devez configurer votre cl API TMDB pour utiliser cette application.","app.config.now":"Configurer maintenant","app.loading":"Chargement des dtails...","app.specs.detected":"Spcifications techniques dtectes :","app.specs.message":"NFO analys. Vous pouvez modifier les informations si ncessaire.","app.preview.title":"Prvisualisation de la fiche","app.preview.change":"Changer","app.preview.continue":"Continuer","app.preview.check":"Prvisualisation :","app.preview.verify":"Vrifiez que c'est bien le bon film/srie avant de remplir les spcifications techniques.","app.sheet.generated":"Fiche gnre","app.sheet.modify":"Modifier le film/srie","app.sheet.edit.specs":"Modifier les spcifications","app.sheet.new":"Nouvelle recherche","app.ready.title":"Prt  crer votre premire fiche ?","app.ready.description":"Utilisez la barre de recherche ci-dessus ou glissez une vido pour commencer.","app.step1":"Recherchez","app.step1.desc":"Scannez votre video ou tapez le nom d'un film, d'une srie ou son ID TMDB","app.step2":"Slectionnez","app.step2.desc":"Choisissez dans les rsultats de recherche","app.step3":"Exportez","app.step3.desc":"Tlchargez votre NFO et la fiche en BBCODE, HTML, Markdown ou TXT","search.movie":"Film","search.tv":"Srie","search.searching":"Recherche en cours...","nfo.title.not.found":"Titre non trouv","nfo.close":"Fermer","nfo.paste.title":"Coller le contenu NFO","nfo.paste.description":"Collez ici le contenu de votre NFO. Les spcifications techniques seront automatiquement analyses.","nfo.paste.placeholder":"Collez le contenu de votre fichier NFO ici...","nfo.cancel":"Annuler","nfo.analyze":"Analyser","specs.channels":"Canaux","specs.additional":"Infos supplmentaires","specs.release.group":"Release","specs.notes":"Notes","specs.notes.placeholder":"Informations supplmentaires ...","specs.release.placeholder":"ex : nom de la release source","specs.track.audio":"Piste Audio","specs.track.subtitle":"Sous-titre","specs.type":"Type","specs.embedded":"Intgr","specs.external":"Externe","specs.forced":"Forc","card.main.cast":"Casting principal","card.data.provided":"Donnes fournies par","specs.video.title":"Spcifications Vido","specs.quality":"Qualit","specs.audio.tracks":"Pistes Audio","specs.bitrate.label":"Dbit","specs.track.default":"Piste par dfaut","poster.choose":"Choisir une affiche","poster.select":"Slectionner","poster.close":"Fermer","poster.description":"Slectionnez l'affiche voulue. Les affiches sont tries par popularit et qualit.","poster.loading":"Chargement des affiches...","poster.none":"Aucune affiche supplmentaire disponible","poster.use":"Utiliser cette affiche","api.title":"Configuration API TMDB","api.description":"Entrez votre cl API TMDB pour accder aux donnes des films et sries.","api.key.label":"Cl API TMDB","api.key.placeholder":"Votre cl API TMDB...","api.get.key":"Obtenir une cl API","api.save":"Sauvegarder","export.title":"Exporter la fiche en bbcode","export.style":"Style de la prsentation","export.copy":"Copier le code","export.download":"Tlcharger","card.export.actions":"Actions","card.change.poster":"Changer l'affiche","card.export.formats":"Formats d'export","history.title":"Historique des fiches","history.clear.all":"Tout supprimer","history.empty":"Aucune fiche dans l'historique","history.empty.description":"Les fiches gnres apparatront ici","history.load":"Charger","history.button":"Historique","nav.movies":"Vido","nav.books":"eBook","ebook.create":"Crez vos fiches","ebook.professional":"de livres, BD etc ...","ebook.description":"Recherchez un livre ou une BD via son titre dans Google Book","ebook.search.placeholder":"Rechercher un livre ou BD par titre, auteur ou ISBN...","ebook.search.results":"livres trouvs","ebook.search.loading":"Chargement...","ebook.search.loadMore":"Charger plus","ebook.more":"autres","ebook.showMore":"Voir plus","ebook.showLess":"Voir moins","ebook.categories":"Catgories","ebook.technical.specs":"Spcifications eBook","ebook.format":"Format","ebook.size":"Taille","ebook.quality":"Qualit","ebook.drm":"Protection DRM","ebook.yes":"Oui","ebook.no":"Non","ebook.source":"Source","ebook.notes":"Notes","ebook.notes.placeholder":"Informations supplmentaires...","ebook.specs.title":"Spcifications eBook","ebook.filename":"Nom du fichier","ebook.language":"Langue","ebook.edition":"dition","ebook.publisher":"diteur","ebook.year":"Anne","ebook.uploaded.by":"Upload par","ebook.cancel":"Annuler","ebook.generate.sheet":"Gnrer la fiche","ebook.preview.title":"Prvisualisation du livre","ebook.sheet.generated":"Fiche eBook gnre","ebook.ready.title":"Prt  crer votre premire fiche eBook ?","ebook.ready.description":"Recherchez un livre par titre, auteur ou ISBN pour commencer.","ebook.step1":"Recherchez","ebook.step1.desc":"Tapez le titre d'un livre, le nom d'un auteur ou un ISBN","ebook.step2":"Configurez","ebook.step2.desc":"Ajoutez les spcifications techniques du fichier eBook","ebook.step3":"Exportez","ebook.step3.desc":"Tlchargez votre fiche en HTML, Markdown ou TXT","modal.cover.title":"Changer la couverture","modal.cover.current":"Couverture actuelle","modal.cover.url":"URL de la nouvelle couverture","modal.cover.preview":"Aperu","modal.cover.error":"Image non valide","modal.cover.help.title":"Conseil :","modal.cover.help.description":"Utilisez une URL d'image directe (se terminant par .jpg, .png, etc.)","modal.cover.cancel":"Annuler","modal.cover.confirm":"Confirmer","upload.video.dropzone":"Dposez votre vido ici ...","upload.video.nfo":"ou votre fichier NFO","upload.video.analyse":"Relchez pour analyser","upload.video.analyse2":"Analyse en cours...","upload.video.extract":"Extraction des mtadonnes du fichier vido","upload.video.select":"Slectionnez votre fichier","upload.video.charge":"Chargement...","upload.video.more":"Voir plus de rsultats","nfo.generator.title":"Gnrateur NFO","nfo.generator.subtitle":"MediaInfo","nfo.generator.description":"Gnrez un fichier NFO MediaInfo  partir de votre fichier vido","nfo.generator.drop.title":"  Gooooooooo !!  ","nfo.generator.drop.subtitle":"Dposez votre fichier vido","nfo.generator.drop.desc":"ou cliquez sur le bouton ci-dessous pour slectionner un fichier","nfo.generator.drop.analyzing":"Analyse du fichier...","nfo.generator.select.button":"Slectionner un fichier vido","nfo.generator.analyzing.title":"Analyse en cours...","nfo.generator.analyzing.desc":"Extraction des informations techniques du fichier vido","nfo.generator.success":"NFO gnr avec succs","nfo.generator.copy":"Copier","nfo.generator.download":"Tlcharger","nfo.generator.new":"Nouveau","nfo.generator.content.title":"Contenu du fichier NFO","nfo.generator.copy.success":"NFO copi dans le presse-papiers !","nfo.generator.error":"Erreur lors de la gnration du fichier NFO. Veuillez ressayer.","nfo.viewer.title":"NFO MediaInfo","nfo.viewer.subtitle":"Fichier technique gnr","nfo.viewer.show":"Afficher","nfo.viewer.copy":"Copier","nfo.viewer.copied":"Copi !","nfo.viewer.download":"Tlcharger","html.export.title":"HTML Export","html.export.choose":"Choisissez le type d'export HTML pour","html.export.simple.title":"HTML Simple","html.export.simple.desc":"Export rapide avec images distantes (URLs)","html.export.simple.check1":"Fichier unique, lger","html.export.simple.check2":"Ncessite une connexion internet","html.export.complete.title":"HTML Complet","html.export.complete.desc":"Export avec toutes les images tlcharges","html.export.complete.check1":"Archive ZIP avec HTML + images","html.export.complete.check2":"Fonctionne hors ligne","html.export.generating":"Gnration du fichier HTML...","html.export.downloading":"Test des permissions et tlchargement des images...","html.export.error.cors":"Erreur CORS dtecte","html.export.error.cors.details":`Les images n'ont pas pu tre tlcharges.

Solutions :
 Utilisez l'export HTML simple (images distantes)
 Ouvrez les DevTools (appuyez sur F12) puis ressayez`,"html.export.error.generic":"Erreur d'export","html.export.error.generic.details":"Une erreur s'est produite lors de l'export: {error}. Veuillez ressayer.","html.export.error.unexpected":"Erreur inattendue","html.export.error.unexpected.details":"Une erreur inattendue s'est produite: {error}. Veuillez ressayer.","html.export.close":"Fermer","html.export.try.simple":"Essayer l'export simple","export.modal.style.complete":"Complet avec images","export.modal.style.minimalist":"Minimaliste","export.modal.style.modern":"Moderne","export.modal.style.classic":"Classique","export.modal.style.modern.emux":"Moderne (eMux)","export.modal.desc":"Voici le BBCode gnr pour","export.modal.desc.suffix":"Il vous suffit de le copier et le coller.","export.modal.generated":"BBCode gnr (modifiable)","export.modal.placeholder":"Votre BBCode apparatra ici...","export.modal.warning":"Attention :","export.modal.warning.desc":"Le BBCode est capricieux et peut ne pas fonctionner correctement selon la destination, il peut falloir apporter des modifications.","specs.files.count":"Nb de fichiers"},en:{"footer.version":"V.1.5","header.title":"FicheGen","header.subtitle":"Sheet Generator for media","search.placeholder":"Search for a movie, a series, a show...","search.nfo.upload":"Upload NFO","search.nfo.paste":"Paste NFO","search.nfo.notitle":"NFO successfully imported/generated, but no extractable title found. Please search manually.","specs.title":"Technical Specifications","specs.back":"Back","specs.name":"Release","specs.size":"Size","specs.video":"Video","specs.resolution":"Resolution","specs.codec":"Codec","specs.bitrate":"Bitrate","specs.audio":"Audio","specs.subtitles":"Subtitles","specs.language":"Audio","specs.format":"Format","specs.default":"Default","specs.add":"Add","specs.generate":"Generate Sheet","lang.french":"French","lang.english":"English","lang.spanish":"Spanish","lang.german":"German","lang.italian":"Italian","lang.portuguese":"Portuguese","lang.russian":"Russian","lang.japanese":"Japanese","lang.korean":"Korean","lang.chinese":"Chinese","lang.arabic":"Arabic","lang.hindi":"Hindi","lang.dutch":"Dutch","lang.swedish":"Swedish","lang.norwegian":"Norwegian","lang.danish":"Danish","lang.finnish":"Finnish","lang.polish":"Polish","lang.czech":"Czech","lang.hungarian":"Hungarian","lang.romanian":"Romanian","lang.bulgarian":"Bulgarian","lang.greek":"Greek","lang.turkish":"Turkish","lang.hebrew":"Hebrew","lang.thai":"Thai","lang.vietnamese":"Vietnamese","lang.indonesian":"Indonesian","lang.malay":"Malay","lang.filipino":"Filipino","lang.ukrainian":"Ukrainian","lang.croatian":"Croatian","lang.serbian":"Serbian","lang.slovenian":"Slovenian","lang.slovak":"Slovak","lang.lithuanian":"Lithuanian","lang.latvian":"Latvian","lang.estonian":"Estonian","lang.quebecois":"Quebec French","lang.other":"Other","card.synopsis":"Synopsis","card.cast":"Cast","card.crew":"Crew","card.director":"Director","card.writer":"Writer","card.producer":"Producer","card.composer":"Composer","card.cinematographer":"Cinematographer","card.editor":"Editor","card.production":"Production","card.company":"Production Company","card.country":"Country","card.release":"Release Date","card.runtime":"Runtime","card.budget":"Budget","card.revenue":"Revenue","card.genres":"Genres","card.rating":"Rating","card.votes":"votes","card.technical":"Technical Information","card.torrent":"Specifications","card.torrent.specs":"Technical Specifications","card.export.bbcode":"Export BBCode","card.export.html":"Export HTML","card.export.markdown":"Export Markdown","card.export.text":"Export Text","tv.seasons":"Seasons","tv.episodes":"Episodes","tv.status":"Status","tv.network":"Network","tv.firstAired":"First Aired","tv.lastAired":"Last Aired","app.create":"Create NFOs & Layouts","app.professional":"for TV shows, movies...","app.description":"Search for media by its video, title, NFO, or TMDB ID","app.config.required":"Configuration required:","app.config.message":"You must configure your TMDB API key to use this application.","app.config.now":"Configure now","app.loading":"Loading details...","app.specs.detected":"Technical specifications detected:","app.specs.message":"NFO file information has been analyzed and pre-filled automatically. You can modify them if necessary","app.preview.title":"Sheet Preview","app.preview.change":"Change movie/TV show","app.preview.continue":"Continue with this movie/TV show","app.preview.check":"Preview:","app.preview.verify":"Verify this is the correct movie/TV show before filling in technical specifications","app.sheet.generated":"Generated Sheet","app.sheet.modify":"Modify movie/TV show","app.sheet.edit.specs":"Edit specifications","app.sheet.new":"New search","app.ready.title":"Ready to create your first sheet?","app.ready.description":"Use the search bar above or drag and drop a video to get started.","app.step1":"Search","app.step1.desc":"Scan your video or type the name of a movie, series, or its TMD ID","app.step2":"Select","app.step2.desc":"Choose from search results","app.step3":"Export","app.step3.desc":"Download your NFO and the datasheet in BBCODE, HTML, Markdown or TXT","search.movie":"Movie","search.tv":"TV Show","search.searching":"Searching...","nfo.title.not.found":"Title not found","nfo.close":"Close","nfo.paste.title":"Paste NFO content","nfo.paste.description":"Paste your NFO file content here (MediaInfo or XML). Technical specifications will be automatically analyzed.","nfo.paste.placeholder":"Paste your NFO file content here...","nfo.cancel":"Cancel","nfo.analyze":"Analyze","specs.channels":"Channels","specs.additional":"Additional Information","specs.release.group":"Release","specs.notes":"Notes","specs.notes.placeholder":"Additional information...","specs.release.placeholder":"Ex: release source","specs.track.audio":"Audio Track","specs.track.subtitle":"Subtitle","specs.type":"Type","specs.embedded":"Embedded","specs.external":"External","specs.forced":"Forced","card.main.cast":"Main Cast","card.data.provided":"Data provided by","specs.video.title":"Video Specifications","specs.quality":"Quality","specs.audio.tracks":"Audio Tracks","specs.bitrate.label":"Bitrate","specs.track.default":"Default track","poster.choose":"Choose Poster","poster.select":"Select","poster.close":"Close","poster.description":"Select the poster you want to use for your sheet. Posters are sorted by popularity and quality.","poster.loading":"Loading posters...","poster.none":"No additional posters available","poster.use":"Use this poster","api.title":"TMDB API Configuration","api.description":"Enter your TMDB API key to access movie and TV show data.","api.key.label":"TMDB API Key","api.key.placeholder":"Your TMDB API key...","api.get.key":"Get API Key","api.save":"Save","export.title":"Export Sheet","export.style":"Export Style","export.copy":"Copy Code","export.download":"Download","card.export.actions":"Actions","card.change.poster":"Change Poster","card.export.formats":"Export Formats","history.title":"Sheet History","history.clear.all":"Clear All","history.empty":"No sheets in history","history.empty.description":"Generated sheets will appear here","history.load":"Load","history.button":"History","nav.movies":"Video","nav.books":"eBook","ebook.create":"Create your sheets","ebook.professional":"for books, comics, etc.","ebook.description":"Search for a book or a comic by its title in Google Books","ebook.search.placeholder":"Search for a book by title, author or ISBN...","ebook.search.results":"books found","ebook.search.loading":"Loading...","ebook.search.loadMore":"Load more","ebook.more":"more","ebook.showMore":"Show more","ebook.showLess":"Show less","ebook.categories":"Categories","ebook.technical.specs":"eBook Specifications","ebook.format":"Format","ebook.size":"Size","ebook.quality":"Quality","ebook.drm":"DRM Protection","ebook.yes":"Yes","ebook.no":"No","ebook.source":"Source","ebook.notes":"Notes","ebook.notes.placeholder":"Additional information...","ebook.specs.title":"eBook Specifications","ebook.filename":"Filename","ebook.language":"Language","ebook.edition":"Edition","ebook.publisher":"Publisher","ebook.year":"Year","ebook.uploaded.by":"Uploaded by","ebook.cancel":"Cancel","ebook.generate.sheet":"Generate Sheet","ebook.preview.title":"Book Preview","ebook.sheet.generated":"eBook Sheet Generated","ebook.ready.title":"Ready to create your first eBook sheet?","ebook.ready.description":"Search for a book by title, author or ISBN to start.","ebook.step1":"Search","ebook.step1.desc":"Enter a book title, author name or ISBN","ebook.step2":"Configure","ebook.step2.desc":"Add the eBook file technical specifications","ebook.step3":"Export","ebook.step3.desc":"Download your sheet in HTML, Markdown or TXT","modal.cover.title":"Change Cover","modal.cover.current":"Current cover","modal.cover.url":"New cover URL","modal.cover.preview":"Preview","modal.cover.error":"Invalid image","modal.cover.help.title":"Tip:","modal.cover.help.description":"Use a direct image URL (ending with .jpg, .png, etc.)","modal.cover.cancel":"Cancel","modal.cover.confirm":"Confirm","upload.video.dropzone":"Drop your video here ...","upload.video.nfo":"or your NFO file","upload.video.analyse":"Drop to analyze","upload.video.analyse2":"Analysis in progress...","upload.video.extract":"Extracting metadata from the video file","upload.video.select":"Select your file","upload.video.charge":"Loading...","upload.video.more":"See more results","nfo.generator.title":"NFO Generator","nfo.generator.subtitle":"MediaInfo","nfo.generator.description":"Generate a MediaInfo NFO file from your video file","nfo.generator.drop.title":"  Gooooooooo !!  ","nfo.generator.drop.subtitle":"Drop your video file","nfo.generator.drop.desc":"or click the button below to select a file","nfo.generator.drop.analyzing":"Analyzing file...","nfo.generator.select.button":"Select a video file","nfo.generator.analyzing.title":"Analysis in progress...","nfo.generator.analyzing.desc":"Extracting technical information from the video file","nfo.generator.success":"NFO generated successfully","nfo.generator.copy":"Copy","nfo.generator.download":"Download","nfo.generator.new":"New","nfo.generator.content.title":"NFO File Content","nfo.generator.copy.success":"NFO copied to clipboard!","nfo.generator.error":"Error generating NFO file. Please try again.","nfo.viewer.title":"MediaInfo NFO","nfo.viewer.subtitle":"Generated technical file","nfo.viewer.show":"Show","nfo.viewer.copy":"Copy","nfo.viewer.copied":"Copied!","nfo.viewer.download":"Download","html.export.title":"HTML Export","html.export.choose":"Choose HTML export type for","html.export.simple.title":"Simple HTML","html.export.simple.desc":"Quick export with remote images (URLs)","html.export.simple.check1":"Single, lightweight file","html.export.simple.check2":"Requires internet connection","html.export.complete.title":"Complete HTML","html.export.complete.desc":"Export with all images downloaded","html.export.complete.check1":"ZIP archive with HTML + images","html.export.complete.check2":"Works offline","html.export.generating":"Generating HTML file...","html.export.downloading":"Testing permissions and downloading images...","html.export.error.cors":"CORS Error Detected","html.export.error.cors.details":`Images could not be downloaded.

Solutions:
 Use simple HTML export (remote images)
 Open DevTools (press F12) and try again`,"html.export.error.generic":"Export Error","html.export.error.generic.details":"An error occurred during export: {error}. Please try again.","html.export.error.unexpected":"Unexpected Error","html.export.error.unexpected.details":"An unexpected error occurred: {error}. Please try again.","html.export.close":"Close","html.export.try.simple":"Try simple export","export.modal.style.complete":"Complete with images","export.modal.style.minimalist":"Minimalist","export.modal.style.modern":"Modern","export.modal.style.classic":"Classique","export.modal.style.modern.emux":"Moderne (eMux)","export.modal.desc":"Voici le BBCode gnr pour","export.modal.desc.suffix":"Il vous suffit de le copier et le coller.","export.modal.generated":"BBCode gnr (modifiable)","export.modal.placeholder":"Votre BBCode apparatra ici...","export.modal.warning":"Attention :","export.modal.warning.desc":"Le BBCode est capricieux et peut ne pas fonctionner correctement selon la destination, il peut falloir apporter des modifications.","specs.files.count":"File count"}},_1=({children:e})=>{const[t,r]=V.useState("en");V.useEffect(()=>{(async()=>{const o=await $t.settings.get("language");if(o&&(o.value==="fr"||o.value==="en"))r(o.value);else{const u=navigator.language.startsWith("fr")?"fr":"en";r(u),await $t.settings.put({key:"language",value:u})}})()},[]);const n=async s=>{r(s),await $t.settings.put({key:"language",value:s})},a=s=>w1[t][s]||s;return i.jsx(Zg.Provider,{value:{language:t,setLanguage:n,t:a},children:e})},Bt=()=>{const e=V.useContext(Zg);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e};function j1({onResultSelect:e,onTechnicalSpecsFound:t,onNFOGenerated:r,apiKey:n,disabled:a=!1,language:s="fr"}){const{t:o}=Bt(),[u,d]=V.useState(""),[p,_]=V.useState([]),[f,b]=V.useState(!1),[h,j]=V.useState(!1),[v,C]=V.useState(1),[g,x]=V.useState(0),[w,S]=V.useState(!1),[I,$]=V.useState(!1),[M,P]=V.useState(!1),[L,le]=V.useState(""),[Re,O]=V.useState(!1),[ne,E]=V.useState(!1),ge=V.useRef(null),qe=V.useRef(null),me=V.useRef(null);V.useEffect(()=>{n&&pt.setApiKey(n)},[n]),V.useEffect(()=>{const re=Ye=>{ge.current&&!ge.current.contains(Ye.target)&&j(!1)};return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[]),V.useEffect(()=>{const re=setTimeout(async()=>{if(u.trim()){b(!0),C(1);try{const Ye=u.match(/\b(19\d{2}|20[0-3]\d)\b/),Ee=Ye?parseInt(Ye[1]):void 0,Ue=Ee?u.replace(/\b(19\d{2}|20[0-3]\d)\b/g,"").trim().replace(/\s+/g," "):u,Je=await pt.searchMulti(Ue,1,s,Ee);_(Je.results),x(Je.total_pages),j(!0)}catch(Ye){console.error("Erreur de recherche:",Ye),_([]),x(0)}b(!1)}else _([]),j(!1),C(1),x(0)},300);return()=>clearTimeout(re)},[u,s]);const xe=async()=>{if(!(w||v>=g)){S(!0);try{const re=u.match(/\b(19\d{2}|20[0-3]\d)\b/),Ye=re?parseInt(re[1]):void 0,Ee=Ye?u.replace(/\b(19\d{2}|20[0-3]\d)\b/g,"").trim().replace(/\s+/g," "):u,Ue=await pt.searchMulti(Ee,v+1,s,Ye);_(Je=>[...Je,...Ue.results]),C(Je=>Je+1)}catch(re){console.error("Erreur lors du chargement de plus de rsultats:",re)}S(!1)}},H=re=>{if(Kg(re)){let Ye="";if(qg(re)){Ye=Kb(re);const Ee=u1(re);Ee&&t&&t(Ee)}else Ye=Gg(re).title||"";Ye?d(Ye):O(!0)}},K=re=>{var Ue;const Ye=(Ue=re.target.files)==null?void 0:Ue[0];if(!Ye)return;const Ee=new FileReader;Ee.onload=async Je=>{var ve;const k=(ve=Je.target)==null?void 0:ve.result;r&&r(k),H(k)},Ee.readAsText(Ye),re.target.value=""},Z=re=>{re.preventDefault(),$(!0)},X=re=>{re.preventDefault(),$(!1)},Ie=re=>{re.preventDefault(),$(!1);const Ee=Array.from(re.dataTransfer.files)[0];if(Ee)if(Ee.name.endsWith(".nfo")||Ee.type.startsWith("text/")){const Ue=new FileReader;Ue.onload=Je=>{var ve;const k=(ve=Je.target)==null?void 0:ve.result;r&&r(k),H(k)},Ue.readAsText(Ee)}else(Ee.type.startsWith("video/")||Ee.name.match(/\.(mkv|avi|mp4|mov|wmv|flv|webm|m4v|3gp|ogv|iso|ts|m2ts)$/i))&&Se({target:{files:[Ee],value:""}})},Ae=re=>{e(re),j(!1),d(re.title||re.name||"")},De=()=>{L.trim()&&(r&&r(L),H(L),P(!1),le(""))},q=()=>{P(!1),le("")},Se=async re=>{var Ee;const Ye=(Ee=re.target.files)==null?void 0:Ee[0];if(Ye){E(!0);try{const Ue=await Wg.analyzeFile(Ye);if(r&&r(Ue),H(Ue),!u){const Je=Ta(Ye.name);Je&&d(Je)}}catch(Ue){console.error("Erreur lors de la gnration NFO:",Ue);const Je=Ta(Ye.name);Je?d(Je):O(!0)}finally{E(!1),re.target.value=""}}},we=()=>{d(""),_([]),j(!1),O(!1)};return i.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4",children:[i.jsxs("div",{ref:ge,className:"relative",children:[i.jsx("div",{className:"relative bg-gray-800/60 backdrop-blur-sm border-2 border-gray-700/50 rounded-xl hover:border-gray-600/70 focus-within:border-violet-500 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx(Hg,{className:"w-5 h-5 text-gray-400 mr-3"}),i.jsx("input",{type:"text",placeholder:o("search.placeholder"),value:u,onChange:re=>{d(re.target.value),Re&&O(!1)},className:"flex-1 bg-transparent text-white placeholder-gray-400 outline-none",disabled:ne}),u&&i.jsx("button",{onClick:we,className:"ml-2 p-1 text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[i.jsxs("button",{onClick:()=>{var re;return(re=qe.current)==null?void 0:re.click()},className:"px-3 py-1.5 text-sm bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white transition-colors rounded-lg border border-gray-600/50 hover:border-gray-500 flex items-center space-x-1.5",title:"Importer un fichier NFO",children:[i.jsx(Yc,{className:"w-4 h-4"}),i.jsx("span",{children:"NFO"})]}),i.jsxs("button",{onClick:()=>P(!0),className:"px-3 py-1.5 text-sm bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white transition-colors rounded-lg border border-gray-600/50 hover:border-gray-500 flex items-center space-x-1.5",title:"Coller contenu NFO",children:[i.jsx(Sb,{className:"w-4 h-4"}),i.jsx("span",{children:"Coller"})]})]})]})}),i.jsx("input",{ref:qe,type:"file",accept:".nfo,.txt",onChange:K,className:"hidden"}),i.jsx("input",{ref:me,type:"file",accept:"video/*,.mkv,.avi,.mp4,.mov,.wmv,.flv,.webm,.m4v,.3gp,.ogv,.iso,.ts,.m2ts",onChange:Se,className:"hidden"}),h&&p.length>0&&!a&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-xl shadow-2xl overflow-hidden z-50 max-h-[32rem]",children:[i.jsx("div",{className:"overflow-y-auto max-h-[28rem]",children:p.map(re=>i.jsxs("button",{onClick:()=>Ae(re),className:"w-full flex items-center px-4 py-3 hover:bg-gray-700/50 transition-colors text-left",children:[i.jsx("div",{className:"flex-shrink-0 w-12 h-16 mr-3 bg-gray-700 rounded overflow-hidden",children:re.poster_path?i.jsx("img",{src:pt.getImageUrl(re.poster_path,"w92"),alt:"",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:re.media_type==="movie"?i.jsx(hn,{className:"w-5 h-5 text-gray-500"}):i.jsx(Dn,{className:"w-5 h-5 text-gray-500"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-white font-medium truncate",children:re.title||re.name}),i.jsxs("p",{className:"text-gray-400 text-sm",children:[re.media_type==="movie"?o("search.movie"):o("search.tv"),"  ",re.release_date?new Date(re.release_date).getFullYear():re.first_air_date?new Date(re.first_air_date).getFullYear():"N/A"]}),re.vote_average>0&&i.jsx("div",{className:"flex items-center mt-1",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-yellow-400 text-sm",children:""}),i.jsx("span",{className:"text-gray-400 text-sm ml-1",children:re.vote_average.toFixed(1)})]})})]})]},re.id))}),v<g&&i.jsx("div",{className:"border-t border-gray-700/50 p-3",children:i.jsx("button",{onClick:xe,disabled:w,className:"w-full py-2 text-sm text-violet-300 hover:text-violet-200 disabled:text-gray-500 transition-colors",children:w?o("upload.video.charge"):`${o("upload.video.more")} (${p.length}/${g>1?"20+":p.length})`})})]}),f&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-xl p-4 text-center z-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-violet-500 mx-auto"}),i.jsx("p",{className:"text-gray-400 text-sm mt-2",children:o("search.searching")})]})]}),!h&&i.jsx("div",{onDragOver:Z,onDragLeave:X,onDrop:Ie,className:`relative transition-all duration-300 ${I?"scale-[1.02]":""}`,children:i.jsx("div",{className:`relative bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm border-2 border-dashed rounded-2xl p-12 transition-all duration-300 ${I?"border-violet-400 bg-violet-500/10 shadow-lg shadow-violet-500/20":"border-gray-600/50 hover:border-gray-500/70"}`,children:ne?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-violet-500/20 rounded-full mb-4",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-violet-500 border-t-transparent"})}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:o("upload.video.analyse2")}),i.jsx("p",{className:"text-gray-400",children:o("upload.video.extract")})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-violet-500/20 to-blue-500/20 rounded-full mb-6",children:i.jsx(Qa,{className:"w-10 h-10 text-violet-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:I?"  Gooooooooo !!  ":o("upload.video.dropzone")}),i.jsx("p",{className:"text-gray-400 mb-6",children:o(I?"upload.video.analyse":"upload.video.nfo")}),i.jsx("div",{className:"flex items-center justify-center space-x-4",children:i.jsxs("button",{onClick:()=>{var re;return(re=me.current)==null?void 0:re.click()},className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-blue-600 hover:from-violet-500 hover:to-blue-500 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-violet-500/25 flex items-center space-x-2",children:[i.jsx(Yc,{className:"w-5 h-5"}),i.jsx("span",{children:o("upload.video.select")})]})}),i.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-2 text-xs text-gray-500",children:[i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MKV"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"ISO"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MP4"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"AVI"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MOV"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"TS"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"M2TS"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"NFO"})]})]})})}),Re&&i.jsx("div",{className:"bg-orange-500/10 backdrop-blur-sm border border-orange-500/30 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(gn,{className:"w-5 h-5 text-orange-400 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-orange-300 font-medium mb-1",children:o("nfo.title.not.found")}),i.jsx("p",{className:"text-orange-200 text-sm mb-3",children:o("search.nfo.notitle")}),i.jsx("button",{onClick:()=>O(!1),className:"text-orange-300 hover:text-orange-200 text-sm underline",children:o("nfo.close")})]})]})}),M&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[80vh] shadow-2xl border border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(gn,{className:"w-6 h-6 text-violet-400 mr-3"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:o("nfo.paste.title")})]}),i.jsx("button",{onClick:q,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-gray-300 mb-4",children:o("nfo.paste.description")}),i.jsx("textarea",{value:L,onChange:re=>le(re.target.value),placeholder:o("nfo.paste.placeholder"),className:"w-full h-64 bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500 font-mono text-sm resize-none"}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{onClick:q,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:o("nfo.cancel")}),i.jsx("button",{onClick:De,disabled:!L.trim(),className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:o("nfo.analyze")})]})]})]})})]})}const Bs=(e,t)=>t==="Kbps"&&e>=1e3?e.toLocaleString("fr-FR").replace(/,/g," "):e.toString(),Xd=e=>{if(e<1){const t=e*1e3;return t>=100?`${t.toLocaleString("fr-FR").replace(/,/g," ")} MB`:`${t} MB`}return`${e} GB`},N1=e=>e==="movie"?"https://i.imgur.com/gCBzIjL.png":"https://i.imgur.com/mHzDDIe.png",Jd=e=>{if(!e)return"N/A";const t=Math.floor(e/60),r=e%60;return`${t}h${r.toString().padStart(2,"0")}`},ef=e=>!e||e.length===0?"N/A":`${Math.round(e.reduce((r,n)=>r+n,0)/e.length)} min`,k1=e=>new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),tf=(e,t,r)=>{const n=r==="movie",a=e,s=e,o=t.crew.find(p=>p.job==="Director"),u=t.crew.filter(p=>p.job==="Creator"||p.job==="Executive Producer"),d=t.cast.slice(0,5);return{isMovie:n,movie:a,tvShow:s,director:o,creators:u,mainActors:d,title:n?a.title:s.name,originalTitle:n?a.original_title:s.original_name,releaseDate:n?a.release_date:s.first_air_date,overview:e.overview,tagline:e.tagline,voteAverage:e.vote_average,voteCount:e.vote_count,id:e.id,posterPath:e.poster_path,genres:e.genres,productionCountries:e.production_countries}},C1=e=>e.audio.map(t=>{let r=Kt(t.languageCode);return!r.flag&&t.language&&(r=Kt(t.language)),`${r.flag?`[img]${r.flag}[/img] `:""}${t.language} [${t.channels}] ${t.codec} @ ${Bs(t.bitrate,t.bitrateUnit)} ${t.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}`}).join(`
`),S1=e=>e.subtitles.length===0?"Aucun":e.subtitles.map(t=>{let r=Kt(t.languageCode);!r.flag&&t.language&&(r=Kt(t.language));const n=r.flag?`[img]${r.flag}[/img] `:"";let a="complets";return t.isForced?a="Forc":t.isSDH&&(a="SDH"),`${n}${t.language} : ${t.format} (${a})`}).join(`
`),rf=e=>e.map(t=>`[i][url=https://www.sharewood.tv/torrents?tags=${encodeURIComponent(t.name)}]${t.name}[/url][/i]`).join(", ");function E1(e,t,r,n=1,a){return Xg(e,t,"movie",r,n,a)}function D1(e,t,r,n=1,a){return Xg(e,t,"tv",r,n,a)}function Xg(e,t,r,n,a=1,s){switch(a){case 1:return zh(e,t,r,n,s);case 2:return T1(e,t,r,n);case 3:return I1(e,t,r,n,s);default:return zh(e,t,r,n,s)}}function zh(e,t,r,n,a){const{isMovie:s,movie:o,tvShow:u,director:d,creators:p,mainActors:_,title:f,originalTitle:b,releaseDate:h,overview:j,tagline:v,voteAverage:C,voteCount:g,id:x,posterPath:w,genres:S,productionCountries:I}=tf(e,t,r);let $=`[center][b][font=Verdana][color=#3d85c6][size=29]${f}

[/size][size=18](${new Date(h).getFullYear()})[/size][/color][/font][/b]

[img]${pt.getImageUrl(w,"original")}[/img]${v?`[color=#ea9999][i]

[/i][/color][color=#ea9999][i][b][font=Verdana][size=29]
"${v}"[/size][/font][/b][/i][/color]`:""}

[img]${N1(r)}[/img]${s?"":`
`}

[font=Verdana][size=13]${s?`[b][color=#3d85c6]Titre original :[/color][/b] [i]${b}[/i]
`:""}[b][color=#3d85c6]Pays :[/color][/b] [i]${I.map(P=>P.name).join(", ")||"N/A"}[/i]
[b][color=#3d85c6]Genres :[/color][/b] ${rf(S)}
[b][color=#3d85c6]Date de sortie :[/color][/b] [i]${k1(h)}[/i]
${s?`[b][color=#3d85c6]Dure :[/color][/b] [i]${Jd(o.runtime)}[/i]`:`[b][color=#3d85c6]Titre original :[/color][/b] [i]${b}[/i]
[b][color=#3d85c6]Dure :[/color][/b] [i]${ef(u.episode_run_time)}[/i]`}

[b][color=#3d85c6]${s?"Ralisateur":"Crateur(s)"} :[/color][/b] [i]${s?(d==null?void 0:d.name)||"N/A":p.slice(0,2).map(P=>P.name).join(", ")||"N/A"}[/i]
[color=#3d85c6][b]Acteurs :[/b] [/color][i]${_.map(P=>P.name).join(", ")}`;const M=_.filter(P=>P.profile_path).map(P=>`[img]${pt.getImageUrl(P.profile_path,"w185")}[/img]`).join(" ");return M&&($+=`
${s?`
`:""}${M}`),$+=`
[/i]

[b][color=#3d85c6]Note des spectateurs :[/color][/b] [img]https://img.streetprez.com/note/${Math.round(C*10)}.svg[/img] [i]${C.toFixed(2)} (${g})[/i]

[size=13][url=https://www.themoviedb.org/${s?"movie":"tv"}/${x}][b][color=#1e84cc]Plus d'info  >> [img]https://i.imgur.com/mxI05s2.png[/img][/color][/b][/url]

${a?`[url=${a}][img]https://i.imgur.com/jKQt520.png[/img][b][color=#1e84cc]${s?"Bande Annonce":"Voir Bande Annonce"}[/color][/b][/url]`:""}[/size]

[img]https://i.imgur.com/ATVsdeo.png[/img]

[font=Verdana][size=13]${j||"Aucun synopsis disponible."}[/size][/font]


[img]https://i.imgur.com/Ji92VqD.png[/img]`,n&&($+=`
[b][color=#3d85c6]${s?"Source":"Release source"} :[/color][/b] [i]${n.source||"N/A"}[/i]
[b][color=#3d85c6]Qualit vido :[/color][/b] [i]${n.video.quality}[/i]
[color=#3d85c6][b]Format vido :[/b] [/color][i]${n.video.format}[/i]
[b][color=#3d85c6]Codec vido :[/color][/b] [i]${n.video.codec}[/i]
[b][color=#3d85c6]Dbit vido :[/color][/b] [i]${Bs(n.video.bitrate,n.video.bitrateUnit)} ${n.video.bitrateUnit}${s?`
[/i]`:"[/i]"}

[b][color=#3d85c6]Audio${s?"(s)":""} :[/color][/b]`,$+=`
${C1(n)}
${s?`
`:""}[b][color=#3d85c6]Sous-titres :[/color][/b]
${S1(n)}`),$+=`

[img]https://i.imgur.com/ZutFbjb.png[/img]`,n!=null&&n.releaseGroup&&($+=`
[b][color=#3d85c6]Release :[/color][/b] [i]${n.releaseGroup}[/i]`),n!=null&&n.notes&&($+=`
[b][color=#3d85c6]Notes :[/color][/b] [i]${n.notes}[/i]`),$+=`
[b][color=#3d85c6]Taille totale :[/color][/b] ${Xd((n==null?void 0:n.video.size)||0)}
[color=#3d85c6][b]Nombre de fichier [/b][/color]: ${(n==null?void 0:n.numberOfFiles)||(s?1:u.number_of_episodes||1)}[/size][/font][/center]`,$}function T1(e,t,r,n,a){const{isMovie:s,movie:o,tvShow:u,director:d,creators:p,mainActors:_,title:f,originalTitle:b,releaseDate:h,overview:j,tagline:v,voteAverage:C,voteCount:g,posterPath:x,genres:w,productionCountries:S}=tf(e,t,r);let I=`[center][b][size=29]${f}[/size][/b]
[size=18](${new Date(h).getFullYear()})[/size]

[img]${pt.getImageUrl(x,"original")}[/img]${v?`

[i]"${v}"[/i]`:""}[/center]

[list]
[*] [b]Titre original :[/b] ${b}[/*]
[*] [b]Pays :[/b] ${S.map($=>$.name).join(", ")||"N/A"}[/*]
[*] [b]Genres :[/b] ${rf(w)}[/*]
[*] [b]Date de sortie :[/b] ${new Date(h).toLocaleDateString("fr-FR")}[/*]
[*] [b]Dure :[/b] ${s?Jd(o.runtime):ef(u.episode_run_time)}[/*]`;return s||(I+=`
[*] [b]Saisons :[/b] ${u.number_of_seasons}[/*]
[*] [b]pisodes :[/b] ${u.number_of_episodes}[/*]`),I+=`
[*] [b]${s?"Ralisateur":"Crateur(s)"} :[/b] ${s?(d==null?void 0:d.name)||"N/A":p.slice(0,2).map($=>$.name).join(", ")||"N/A"}[/*]
[*] [b]Note TMDB :[/b] ${C.toFixed(1)}/10 (${g} votes)[/*]
[/list]
[b]Synopsis :[/b]
${j||"Aucun synopsis disponible."}

[b]Casting :[/b]
    [list]`,_.forEach($=>{I+=`
    [*] ${$.name} - ${$.character}[/*]`}),I+=`
   [/list]`,n&&(I+=`
[b]Spcifications techniques :[/b]
[list]
[*] [b]Source :[/b] ${n.source||"N/A"}[/*]
[*] [b]Qualit :[/b] ${n.video.quality}[/*]
[*] [b]Format :[/b] ${n.video.format}[/*]
[*] [b]Codec vido :[/b] ${n.video.codec}[/*]
[*] [b]Dbit vido :[/b] ${Bs(n.video.bitrate,n.video.bitrateUnit)} ${n.video.bitrateUnit}[/*]
[*] [b]Taille :[/b] ${Xd(n.video.size)}[/*]
[*] [b]Nombre de fichiers :[/b] ${n.numberOfFiles||(s?1:u.number_of_episodes||1)}[/*]
[/list]`,n.audio.length>0&&(I+=`
[b]Audio :[/b]
    [list=1]`,n.audio.forEach($=>{let M=Kt($.languageCode);!M.flag&&$.language&&(M=Kt($.language));const P=M.flag?`[img]${M.flag}[/img] `:"";I+=`
   [*] ${P}${$.language} [${$.channels}] ${$.codec} @ ${Bs($.bitrate,$.bitrateUnit)} ${$.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}[/*]`}),I+=`
   [/list]`),n.subtitles.length>0&&(I+=`
[b]Sous-titres :[/b]
    [list=1]`,n.subtitles.forEach($=>{let M=Kt($.languageCode);!M.flag&&$.language&&(M=Kt($.language));const P=M.flag?`[img]${M.flag}[/img] `:"";let L="";$.isForced?L=" - Forc":$.isSDH&&(L=" - SDH"),I+=`
    [*] ${P}${$.language} (${$.format})${L}[/*]`}),I+=`
    [/list] `),n.releaseGroup&&(I+=`
[*] [b]Release :[/b] ${n.releaseGroup}[/*]`),n.notes&&(I+=`
[*] [b]Notes :[/b] ${n.notes}[/*]`),I+=`
`),I}function I1(e,t,r,n,a){const{isMovie:s,movie:o,tvShow:u,director:d,creators:p,mainActors:_,title:f,originalTitle:b,releaseDate:h,overview:j,tagline:v,voteAverage:C,posterPath:g,genres:x}=tf(e,t,r),w=pt.getImageUrl(g,"original"),S=new Date(h).getFullYear(),I=rf(x.slice(0,2)),$=s?Jd(o.runtime):ef(u.episode_run_time),M=`${C.toFixed(1)}/10`,P=s?(d==null?void 0:d.name)||"N/A":p.slice(0,2).map(Ie=>Ie.name).join(", ")||"N/A",L=_.map(Ie=>Ie.name).join(", "),le=j||"Aucun synopsis disponible.",Re=(n==null?void 0:n.video.quality)||"N/A",O=Xd((n==null?void 0:n.video.size)||0),ne=(n==null?void 0:n.video.format)||"N/A",E=n?`${Bs(n.video.bitrate,n.video.bitrateUnit)} ${n.video.bitrateUnit}`:"N/A",ge=(n==null?void 0:n.source)||"N/A",qe=(n==null?void 0:n.numberOfFiles)||(s?1:u.number_of_episodes||1);let me="N/A";n&&n.audio.length>0&&(me=n.audio.map(Ie=>{let Ae=Kt(Ie.languageCode);return!Ae.flag&&Ie.language&&(Ae=Kt(Ie.language)),`${Ae.flag?`[img]${Ae.flag}[/img] `:""}${Ie.language} [${Ie.channels}] ${Ie.codec} @ ${Bs(Ie.bitrate,Ie.bitrateUnit)} ${Ie.bitrateUnit==="Mbps"?"Mb/s":"kb/s"}`}).join(", "));let xe="Aucun";n&&n.subtitles.length>0&&(xe=n.subtitles.map(Ie=>{let Ae=Kt(Ie.languageCode);!Ae.flag&&Ie.language&&(Ae=Kt(Ie.language));const De=Ae.flag?`[img]${Ae.flag}[/img] `:"";let q="complets";return Ie.isForced?q="Forc":Ie.isSDH&&(q="SDH"),`${De}${Ie.language} (${Ie.format} - ${q})`}).join(", "));const H=n==null?void 0:n.releaseGroup,K=n==null?void 0:n.notes;let Z=`[table][tr][td] [/td][td][table][tr][td][table][tr][td][table][tr][td]
&nbsp; &nbsp; &nbsp; [img width=550]${w}[/img] &nbsp; &nbsp; &nbsp; [/td][td] [/td][/tr][/table][/td][td][table][tr][td]
  [/td][td]   [/td][/tr][/table][/td][td][table][tr][td][table][tr][td][table][tr][td][color=#3d85c6][size=29] ${f}[/size][/color][/td][/tr][tr][td][table][tr][td]  ${S} - ${I} - ${$}  [/td][td][size=10]   [/size][/td][td] &nbsp; - Note : ${M} - [url=https://www.themoviedb.org/${s?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`;const X=a?`[url=${a}][img]https://i.imgur.com/jKQt520.png[/img][/url] &nbsp; `:"";return Z=Z.replace(`&nbsp; - Note : ${M} - [url=https://www.themoviedb.org/${s?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`,`&nbsp; - Note : ${M} - [url=https://www.themoviedb.org/${s?"movie":"tv"}/${e.id}][img]https://i.imgur.com/mxI05s2.png[/img][/url] &nbsp; ${X}[/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr]`),v&&(Z+=`[tr][td][i][color=#c27ba0][size=18][center][b]"${v}"[/b][/center][/size][/color][/i]
[/td][/tr]`),Z+=`[tr][td] 
[/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Titre original : &nbsp;[/color][/b] ${b}[/td][/tr][tr][td][b][color=#3d85c6]Ralisateur : &nbsp;[/color][/b] ${P}[/td][/tr][tr][td][b][color=#3d85c6]Acteurs : &nbsp;[/color][/b] ${L}[/td][/tr][/table][/td][/tr][tr][td]  [br] [/br][b][color=#3d85c6]Synopsis &nbsp;[br] [/br] [br] [/br][/color][/b][/td][/tr][tr][td]  &nbsp; ${le}[br] [/br][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Qualit :  &nbsp;[/color][/b][/td][td]${Re}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Format vido :  &nbsp;[/right][/color][/b][/td][td]${ne}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Dbit vido : &nbsp;[/color][/b][/td][td]${E}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Source  : &nbsp;[/right][/color][/b][/td][td]&nbsp;${ge}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td] [b][color=#3d85c6]Taille totale : &nbsp;[/color][/b][/td][td]${O}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Nb de fichiers : &nbsp;[/right][/color][/b][/td][td]&nbsp;${qe}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6] Audio : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${me}[/size][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][b][color=#3d85c6]Sous-titres : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${xe}[/size][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][/table][/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr]`,H&&(Z+=`[tr][td][b][color=#3d85c6]Nom release : &nbsp; [/color][/b] [br] [/br] ${H}[/td][/tr]`),K&&(Z+=`[tr][td][b][color=#3d85c6][br] [/br]Notes:  [/color][/b] [br] [/br] ${K}[/td][/tr]`),Z+="[/table][/td][/tr][/table]",Z}function Vo(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jg={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,a,s){function o(p,_){if(!a[p]){if(!n[p]){var f=typeof Vo=="function"&&Vo;if(!_&&f)return f(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var h=a[p]={exports:{}};n[p][0].call(h.exports,function(j){var v=n[p][1][j];return o(v||j)},h,h.exports,r,n,a,s)}return a[p].exports}for(var u=typeof Vo=="function"&&Vo,d=0;d<s.length;d++)o(s[d]);return o}({1:[function(r,n,a){var s=r("./utils"),o=r("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var p,_,f,b,h,j,v,C=[],g=0,x=d.length,w=x,S=s.getTypeOf(d)!=="string";g<d.length;)w=x-g,f=S?(p=d[g++],_=g<x?d[g++]:0,g<x?d[g++]:0):(p=d.charCodeAt(g++),_=g<x?d.charCodeAt(g++):0,g<x?d.charCodeAt(g++):0),b=p>>2,h=(3&p)<<4|_>>4,j=1<w?(15&_)<<2|f>>6:64,v=2<w?63&f:64,C.push(u.charAt(b)+u.charAt(h)+u.charAt(j)+u.charAt(v));return C.join("")},a.decode=function(d){var p,_,f,b,h,j,v=0,C=0,g="data:";if(d.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&w--,d.charAt(d.length-2)===u.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|w):new Array(0|w);v<d.length;)p=u.indexOf(d.charAt(v++))<<2|(b=u.indexOf(d.charAt(v++)))>>4,_=(15&b)<<4|(h=u.indexOf(d.charAt(v++)))>>2,f=(3&h)<<6|(j=u.indexOf(d.charAt(v++))),x[C++]=p,h!==64&&(x[C++]=_),j!==64&&(x[C++]=f);return x}},{"./support":30,"./utils":32}],2:[function(r,n,a){var s=r("./external"),o=r("./stream/DataWorker"),u=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function p(_,f,b,h,j){this.compressedSize=_,this.uncompressedSize=f,this.crc32=b,this.compression=h,this.compressedContent=j}p.prototype={getContentWorker:function(){var _=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),f=this;return _.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(_,f,b){return _.pipe(new u).pipe(new d("uncompressedSize")).pipe(f.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",f)},n.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,a){var s=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,a){var s=r("./utils"),o=function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var _=0;_<8;_++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d}();n.exports=function(u,d){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?function(p,_,f,b){var h=o,j=b+f;p^=-1;for(var v=b;v<j;v++)p=p>>>8^h[255&(p^_[v])];return-1^p}(0|d,u,u.length,0):function(p,_,f,b){var h=o,j=b+f;p^=-1;for(var v=b;v<j;v++)p=p>>>8^h[255&(p^_.charCodeAt(v))];return-1^p}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(r,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,n,a){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),u=r("./utils"),d=r("./stream/GenericWorker"),p=s?"uint8array":"array";function _(f,b){d.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=b,this.meta={}}a.magic="\b\0",u.inherits(_,d),_.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,f.data),!1)},_.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(b){f.push({data:b,meta:f.meta})}},a.compressWorker=function(f){return new _("Deflate",f)},a.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,a){function s(h,j){var v,C="";for(v=0;v<j;v++)C+=String.fromCharCode(255&h),h>>>=8;return C}function o(h,j,v,C,g,x){var w,S,I=h.file,$=h.compression,M=x!==p.utf8encode,P=u.transformTo("string",x(I.name)),L=u.transformTo("string",p.utf8encode(I.name)),le=I.comment,Re=u.transformTo("string",x(le)),O=u.transformTo("string",p.utf8encode(le)),ne=L.length!==I.name.length,E=O.length!==le.length,ge="",qe="",me="",xe=I.dir,H=I.date,K={crc32:0,compressedSize:0,uncompressedSize:0};j&&!v||(K.crc32=h.crc32,K.compressedSize=h.compressedSize,K.uncompressedSize=h.uncompressedSize);var Z=0;j&&(Z|=8),M||!ne&&!E||(Z|=2048);var X=0,Ie=0;xe&&(X|=16),g==="UNIX"?(Ie=798,X|=function(De,q){var Se=De;return De||(Se=q?16893:33204),(65535&Se)<<16}(I.unixPermissions,xe)):(Ie=20,X|=function(De){return 63&(De||0)}(I.dosPermissions)),w=H.getUTCHours(),w<<=6,w|=H.getUTCMinutes(),w<<=5,w|=H.getUTCSeconds()/2,S=H.getUTCFullYear()-1980,S<<=4,S|=H.getUTCMonth()+1,S<<=5,S|=H.getUTCDate(),ne&&(qe=s(1,1)+s(_(P),4)+L,ge+="up"+s(qe.length,2)+qe),E&&(me=s(1,1)+s(_(Re),4)+O,ge+="uc"+s(me.length,2)+me);var Ae="";return Ae+=`
\0`,Ae+=s(Z,2),Ae+=$.magic,Ae+=s(w,2),Ae+=s(S,2),Ae+=s(K.crc32,4),Ae+=s(K.compressedSize,4),Ae+=s(K.uncompressedSize,4),Ae+=s(P.length,2),Ae+=s(ge.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Ae+P+ge,dirRecord:f.CENTRAL_FILE_HEADER+s(Ie,2)+Ae+s(Re.length,2)+"\0\0\0\0"+s(X,4)+s(C,4)+P+ge+Re}}var u=r("../utils"),d=r("../stream/GenericWorker"),p=r("../utf8"),_=r("../crc32"),f=r("../signature");function b(h,j,v,C){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=v,this.encodeFileName=C,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,d),b.prototype.push=function(h){var j=h.meta.percent||0,v=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,d.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:v?(j+100*(v-C-1))/v:100}}))},b.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var j=this.streamFiles&&!h.file.dir;if(j){var v=o(h,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(h){this.accumulate=!1;var j=this.streamFiles&&!h.file.dir,v=o(h,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),j)this.push({data:function(C){return f.DATA_DESCRIPTOR+s(C.crc32,4)+s(C.compressedSize,4)+s(C.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var h=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var v=this.bytesWritten-h,C=function(g,x,w,S,I){var $=u.transformTo("string",I(S));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(x,4)+s(w,4)+s($.length,2)+$}(this.dirRecords.length,v,h,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(h){this._sources.push(h);var j=this;return h.on("data",function(v){j.processChunk(v)}),h.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),h.on("error",function(v){j.error(v)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(h){var j=this._sources;if(!d.prototype.error.call(this,h))return!1;for(var v=0;v<j.length;v++)try{j[v].error(h)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var h=this._sources,j=0;j<h.length;j++)h[j].lock()},n.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,a){var s=r("../compressions"),o=r("./ZipFileWorker");a.generateWorker=function(u,d,p){var _=new o(d.streamFiles,p,d.platform,d.encodeFileName),f=0;try{u.forEach(function(b,h){f++;var j=function(x,w){var S=x||w,I=s[S];if(!I)throw new Error(S+" is not a valid compression method !");return I}(h.options.compression,d.compression),v=h.options.compressionOptions||d.compressionOptions||{},C=h.dir,g=h.date;h._compressWorker(j,v).withStreamInfo("file",{name:b,dir:C,date:g,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(_)}),_.entriesCount=f}catch(b){_.error(b)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var u in this)typeof this[u]!="function"&&(o[u]=this[u]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,u){return new s().loadAsync(o,u)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,a){var s=r("./utils"),o=r("./external"),u=r("./utf8"),d=r("./zipEntries"),p=r("./stream/Crc32Probe"),_=r("./nodejsUtils");function f(b){return new o.Promise(function(h,j){var v=b.decompressed.getContentWorker().pipe(new p);v.on("error",function(C){j(C)}).on("end",function(){v.streamInfo.crc32!==b.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(b,h){var j=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),_.isNode&&_.isStream(b)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,h.optimizedBinaryString,h.base64).then(function(v){var C=new d(h);return C.load(v),C}).then(function(v){var C=[o.Promise.resolve(v)],g=v.files;if(h.checkCRC32)for(var x=0;x<g.length;x++)C.push(f(g[x]));return o.Promise.all(C)}).then(function(v){for(var C=v.shift(),g=C.files,x=0;x<g.length;x++){var w=g[x],S=w.fileNameStr,I=s.resolve(w.fileNameStr);j.file(I,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:h.createFolders}),w.dir||(j.file(I).unsafeOriginalName=S)}return C.zipComment.length&&(j.comment=C.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,a){var s=r("../utils"),o=r("../stream/GenericWorker");function u(d,p){o.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}s.inherits(u,o),u.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(_){p.push({data:_,meta:{percent:0}})}).on("error",function(_){p.isPaused?this.generatedError=_:p.error(_)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,a){var s=r("readable-stream").Readable;function o(u,d,p){s.call(this,d),this._helper=u;var _=this;u.on("data",function(f,b){_.push(f)||_._helper.pause(),p&&p(b)}).on("error",function(f){_.emit("error",f)}).on("end",function(){_.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,a){function s(I,$,M){var P,L=u.getTypeOf($),le=u.extend(M||{},_);le.date=le.date||new Date,le.compression!==null&&(le.compression=le.compression.toUpperCase()),typeof le.unixPermissions=="string"&&(le.unixPermissions=parseInt(le.unixPermissions,8)),le.unixPermissions&&16384&le.unixPermissions&&(le.dir=!0),le.dosPermissions&&16&le.dosPermissions&&(le.dir=!0),le.dir&&(I=g(I)),le.createFolders&&(P=C(I))&&x.call(this,P,!0);var Re=L==="string"&&le.binary===!1&&le.base64===!1;M&&M.binary!==void 0||(le.binary=!Re),($ instanceof f&&$.uncompressedSize===0||le.dir||!$||$.length===0)&&(le.base64=!1,le.binary=!0,$="",le.compression="STORE",L="string");var O=null;O=$ instanceof f||$ instanceof d?$:j.isNode&&j.isStream($)?new v(I,$):u.prepareContent(I,$,le.binary,le.optimizedBinaryString,le.base64);var ne=new b(I,O,le);this.files[I]=ne}var o=r("./utf8"),u=r("./utils"),d=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),_=r("./defaults"),f=r("./compressedObject"),b=r("./zipObject"),h=r("./generate"),j=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),C=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var $=I.lastIndexOf("/");return 0<$?I.substring(0,$):""},g=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},x=function(I,$){return $=$!==void 0?$:_.createFolders,I=g(I),this.files[I]||s.call(this,I,null,{dir:!0,createFolders:$}),this.files[I]};function w(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var $,M,P;for($ in this.files)P=this.files[$],(M=$.slice(this.root.length,$.length))&&$.slice(0,this.root.length)===this.root&&I(M,P)},filter:function(I){var $=[];return this.forEach(function(M,P){I(M,P)&&$.push(P)}),$},file:function(I,$,M){if(arguments.length!==1)return I=this.root+I,s.call(this,I,$,M),this;if(w(I)){var P=I;return this.filter(function(le,Re){return!Re.dir&&P.test(le)})}var L=this.files[this.root+I];return L&&!L.dir?L:null},folder:function(I){if(!I)return this;if(w(I))return this.filter(function(L,le){return le.dir&&I.test(L)});var $=this.root+I,M=x.call(this,$),P=this.clone();return P.root=M.name,P},remove:function(I){I=this.root+I;var $=this.files[I];if($||(I.slice(-1)!=="/"&&(I+="/"),$=this.files[I]),$&&!$.dir)delete this.files[I];else for(var M=this.filter(function(L,le){return le.name.slice(0,I.length)===I}),P=0;P<M.length;P++)delete this.files[M[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var $,M={};try{if((M=u.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");u.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var P=M.comment||this.comment||"";$=h.generateWorker(this,M,P)}catch(L){($=new d("error")).error(L)}return new p($,M.type||"string",M.mimeType)},generateAsync:function(I,$){return this.generateInternalStream(I).accumulate($)},generateNodeStream:function(I,$){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream($)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,a){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,a){var s=r("./DataReader");function o(u){s.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}r("../utils").inherits(o,s),o.prototype.byteAt=function(u){return this.data[this.zero+u]},o.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),p=u.charCodeAt(1),_=u.charCodeAt(2),f=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===p&&this.data[b+2]===_&&this.data[b+3]===f)return b-this.zero;return-1},o.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),p=u.charCodeAt(1),_=u.charCodeAt(2),f=u.charCodeAt(3),b=this.readData(4);return d===b[0]&&p===b[1]&&_===b[2]&&f===b[3]},o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,a){var s=r("../utils");function o(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,p=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=u,p},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,a){var s=r("./Uint8ArrayReader");function o(u){s.call(this,u)}r("../utils").inherits(o,s),o.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,a){var s=r("./DataReader");function o(u){s.call(this,u)}r("../utils").inherits(o,s),o.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},o.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},o.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},o.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,a){var s=r("./ArrayReader");function o(u){s.call(this,u)}r("../utils").inherits(o,s),o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,a){var s=r("../utils"),o=r("../support"),u=r("./ArrayReader"),d=r("./StringReader"),p=r("./NodeBufferReader"),_=r("./Uint8ArrayReader");n.exports=function(f){var b=s.getTypeOf(f);return s.checkSupport(b),b!=="string"||o.uint8array?b==="nodebuffer"?new p(f):o.uint8array?new _(s.transformTo("uint8array",f)):new u(s.transformTo("array",f)):new d(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,a){var s=r("./GenericWorker"),o=r("../utils");function u(d){s.call(this,"ConvertWorker to "+d),this.destType=d}o.inherits(u,s),u.prototype.processChunk=function(d){this.push({data:o.transformTo(this.destType,d.data),meta:d.meta})},n.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,a){var s=r("./GenericWorker"),o=r("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(u,s),u.prototype.processChunk=function(d){this.streamInfo.crc32=o(d.data,this.streamInfo.crc32||0),this.push(d)},n.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,a){var s=r("../utils"),o=r("./GenericWorker");function u(d){o.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}s.inherits(u,o),u.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}o.prototype.processChunk.call(this,d)},n.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,a){var s=r("../utils"),o=r("./GenericWorker");function u(d){o.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(_){p.dataIsReady=!0,p.data=_,p.max=_&&_.length||0,p.type=s.getTypeOf(_),p.isPaused||p._tickAndRepeat()},function(_){p.error(_)})}s.inherits(u,o),u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,a){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,u){return this._listeners[o].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,u){if(this._listeners[o])for(var d=0;d<this._listeners[o].length;d++)this._listeners[o][d].call(this,u)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var u=this;return o.on("data",function(d){u.processChunk(d)}),o.on("end",function(){u.end()}),o.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,u){return this.extraStreamInfo[o]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,a){var s=r("../utils"),o=r("./ConvertWorker"),u=r("./GenericWorker"),d=r("../base64"),p=r("../support"),_=r("../external"),f=null;if(p.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(j,v){return new _.Promise(function(C,g){var x=[],w=j._internalType,S=j._outputType,I=j._mimeType;j.on("data",function($,M){x.push($),v&&v(M)}).on("error",function($){x=[],g($)}).on("end",function(){try{var $=function(M,P,L){switch(M){case"blob":return s.newBlob(s.transformTo("arraybuffer",P),L);case"base64":return d.encode(P);default:return s.transformTo(M,P)}}(S,function(M,P){var L,le=0,Re=null,O=0;for(L=0;L<P.length;L++)O+=P[L].length;switch(M){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(Re=new Uint8Array(O),L=0;L<P.length;L++)Re.set(P[L],le),le+=P[L].length;return Re;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+M+"'")}}(w,x),I);C($)}catch(M){g(M)}x=[]}).resume()})}function h(j,v,C){var g=v;switch(v){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=v,this._mimeType=C,s.checkSupport(g),this._worker=j.pipe(new o(g)),j.lock()}catch(x){this._worker=new u("error"),this._worker.error(x)}}h.prototype={accumulate:function(j){return b(this,j)},on:function(j,v){var C=this;return j==="data"?this._worker.on(j,function(g){v.call(C,g.data,g.meta)}):this._worker.on(j,function(){s.delay(v,arguments,C)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},j)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,a){for(var s=r("./utils"),o=r("./support"),u=r("./nodejsUtils"),d=r("./stream/GenericWorker"),p=new Array(256),_=0;_<256;_++)p[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;p[254]=p[254]=1;function f(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}a.utf8encode=function(h){return o.nodebuffer?u.newBufferFrom(h,"utf-8"):function(j){var v,C,g,x,w,S=j.length,I=0;for(x=0;x<S;x++)(64512&(C=j.charCodeAt(x)))==55296&&x+1<S&&(64512&(g=j.charCodeAt(x+1)))==56320&&(C=65536+(C-55296<<10)+(g-56320),x++),I+=C<128?1:C<2048?2:C<65536?3:4;for(v=o.uint8array?new Uint8Array(I):new Array(I),x=w=0;w<I;x++)(64512&(C=j.charCodeAt(x)))==55296&&x+1<S&&(64512&(g=j.charCodeAt(x+1)))==56320&&(C=65536+(C-55296<<10)+(g-56320),x++),C<128?v[w++]=C:(C<2048?v[w++]=192|C>>>6:(C<65536?v[w++]=224|C>>>12:(v[w++]=240|C>>>18,v[w++]=128|C>>>12&63),v[w++]=128|C>>>6&63),v[w++]=128|63&C);return v}(h)},a.utf8decode=function(h){return o.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(j){var v,C,g,x,w=j.length,S=new Array(2*w);for(v=C=0;v<w;)if((g=j[v++])<128)S[C++]=g;else if(4<(x=p[g]))S[C++]=65533,v+=x-1;else{for(g&=x===2?31:x===3?15:7;1<x&&v<w;)g=g<<6|63&j[v++],x--;1<x?S[C++]=65533:g<65536?S[C++]=g:(g-=65536,S[C++]=55296|g>>10&1023,S[C++]=56320|1023&g)}return S.length!==C&&(S.subarray?S=S.subarray(0,C):S.length=C),s.applyFromCharCode(S)}(h=s.transformTo(o.uint8array?"uint8array":"array",h))},s.inherits(f,d),f.prototype.processChunk=function(h){var j=s.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=j;(j=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),j.set(v,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var C=function(x,w){var S;for((w=w||x.length)>x.length&&(w=x.length),S=w-1;0<=S&&(192&x[S])==128;)S--;return S<0||S===0?w:S+p[x[S]]>w?S:w}(j),g=j;C!==j.length&&(o.uint8array?(g=j.subarray(0,C),this.leftOver=j.subarray(C,j.length)):(g=j.slice(0,C),this.leftOver=j.slice(C,j.length))),this.push({data:a.utf8decode(g),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,s.inherits(b,d),b.prototype.processChunk=function(h){this.push({data:a.utf8encode(h.data),meta:h.meta})},a.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,a){var s=r("./support"),o=r("./base64"),u=r("./nodejsUtils"),d=r("./external");function p(v){return v}function _(v,C){for(var g=0;g<v.length;++g)C[g]=255&v.charCodeAt(g);return C}r("setimmediate"),a.newBlob=function(v,C){a.checkSupport("blob");try{return new Blob([v],{type:C})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(v),g.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(v,C,g){var x=[],w=0,S=v.length;if(S<=g)return String.fromCharCode.apply(null,v);for(;w<S;)C==="array"||C==="nodebuffer"?x.push(String.fromCharCode.apply(null,v.slice(w,Math.min(w+g,S)))):x.push(String.fromCharCode.apply(null,v.subarray(w,Math.min(w+g,S)))),w+=g;return x.join("")},stringifyByChar:function(v){for(var C="",g=0;g<v.length;g++)C+=String.fromCharCode(v[g]);return C},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(v){var C=65536,g=a.getTypeOf(v),x=!0;if(g==="uint8array"?x=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<C;)try{return f.stringifyByChunk(v,g,C)}catch{C=Math.floor(C/2)}return f.stringifyByChar(v)}function h(v,C){for(var g=0;g<v.length;g++)C[g]=v[g];return C}a.applyFromCharCode=b;var j={};j.string={string:p,array:function(v){return _(v,new Array(v.length))},arraybuffer:function(v){return j.string.uint8array(v).buffer},uint8array:function(v){return _(v,new Uint8Array(v.length))},nodebuffer:function(v){return _(v,u.allocBuffer(v.length))}},j.array={string:b,array:p,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(v)}},j.arraybuffer={string:function(v){return b(new Uint8Array(v))},array:function(v){return h(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:p,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(new Uint8Array(v))}},j.uint8array={string:b,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:p,nodebuffer:function(v){return u.newBufferFrom(v)}},j.nodebuffer={string:b,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return j.nodebuffer.uint8array(v).buffer},uint8array:function(v){return h(v,new Uint8Array(v.length))},nodebuffer:p},a.transformTo=function(v,C){if(C=C||"",!v)return C;a.checkSupport(v);var g=a.getTypeOf(C);return j[g][v](C)},a.resolve=function(v){for(var C=v.split("/"),g=[],x=0;x<C.length;x++){var w=C[x];w==="."||w===""&&x!==0&&x!==C.length-1||(w===".."?g.pop():g.push(w))}return g.join("/")},a.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(v){var C,g,x="";for(g=0;g<(v||"").length;g++)x+="\\x"+((C=v.charCodeAt(g))<16?"0":"")+C.toString(16).toUpperCase();return x},a.delay=function(v,C,g){setImmediate(function(){v.apply(g||null,C||[])})},a.inherits=function(v,C){function g(){}g.prototype=C.prototype,v.prototype=new g},a.extend=function(){var v,C,g={};for(v=0;v<arguments.length;v++)for(C in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],C)&&g[C]===void 0&&(g[C]=arguments[v][C]);return g},a.prepareContent=function(v,C,g,x,w){return d.Promise.resolve(C).then(function(S){return s.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new d.Promise(function(I,$){var M=new FileReader;M.onload=function(P){I(P.target.result)},M.onerror=function(P){$(P.target.error)},M.readAsArrayBuffer(S)}):S}).then(function(S){var I=a.getTypeOf(S);return I?(I==="arraybuffer"?S=a.transformTo("uint8array",S):I==="string"&&(w?S=o.decode(S):g&&x!==!0&&(S=function($){return _($,s.uint8array?new Uint8Array($.length):new Array($.length))}(S))),S):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,a){var s=r("./reader/readerFor"),o=r("./utils"),u=r("./signature"),d=r("./zipEntry"),p=r("./support");function _(f){this.files=[],this.loadOptions=f}_.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(b)+", expected "+o.pretty(f)+")")}},isSignature:function(f,b){var h=this.reader.index;this.reader.setIndex(f);var j=this.reader.readString(4)===b;return this.reader.setIndex(h),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",h=o.transformTo(b,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,b,h,j=this.zip64EndOfCentralSize-44;0<j;)f=this.reader.readInt(2),b=this.reader.readInt(4),h=this.reader.readData(b),this.zip64ExtensibleData[f]={id:f,length:b,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,b;for(f=0;f<this.files.length;f++)b=this.files[f],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(f=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var b=f;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var j=b-h;if(0<j)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,a){var s=r("./reader/readerFor"),o=r("./utils"),u=r("./compressedObject"),d=r("./crc32"),p=r("./utf8"),_=r("./compressions"),f=r("./support");function b(h,j){this.options=h,this.loadOptions=j}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var j,v;if(h.skip(22),this.fileNameLength=h.readInt(2),v=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=function(C){for(var g in _)if(Object.prototype.hasOwnProperty.call(_,g)&&_[g].magic===C)return _[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,j,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var j=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(j),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var j,v,C,g=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<g;)j=h.readInt(2),v=h.readInt(2),C=h.readData(v),this.extraFields[j]={id:j,length:v,value:C};h.setIndex(g)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var v=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var g=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var j=s(h.value);return j.readInt(1)!==1||d(this.fileName)!==j.readInt(4)?null:p.utf8decode(j.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var j=s(h.value);return j.readInt(1)!==1||d(this.fileComment)!==j.readInt(4)?null:p.utf8decode(j.readData(h.length-5))}return null}},n.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,a){function s(j,v,C){this.name=j,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=v,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var o=r("./stream/StreamHelper"),u=r("./stream/DataWorker"),d=r("./utf8"),p=r("./compressedObject"),_=r("./stream/GenericWorker");s.prototype={internalStream:function(j){var v=null,C="string";try{if(!j)throw new Error("No output type specified.");var g=(C=j.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),v=this._decompressWorker();var x=!this._dataBinary;x&&!g&&(v=v.pipe(new d.Utf8EncodeWorker)),!x&&g&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(w){(v=new _("error")).error(w)}return new o(v,C,"")},async:function(j,v){return this.internalStream(j).accumulate(v)},nodeStream:function(j,v){return this.internalStream(j||"nodebuffer").toNodejsStream(v)},_compressWorker:function(j,v){if(this._data instanceof p&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(C,j,v)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof _?this._data:new u(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)s.prototype[f[h]]=b;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,a){(function(s){var o,u,d=s.MutationObserver||s.WebKitMutationObserver;if(d){var p=0,_=new d(j),f=s.document.createTextNode("");_.observe(f,{characterData:!0}),o=function(){f.data=p=++p%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){j(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(j,0)};else{var b=new s.MessageChannel;b.port1.onmessage=j,o=function(){b.port2.postMessage(0)}}var h=[];function j(){var v,C;u=!0;for(var g=h.length;g;){for(C=h,h=[],v=-1;++v<g;)C[v]();g=h.length}u=!1}n.exports=function(v){h.push(v)!==1||u||o()}}).call(this,typeof cs<"u"?cs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,a){var s=r("immediate");function o(){}var u={},d=["REJECTED"],p=["FULFILLED"],_=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,g!==o&&v(this,g)}function b(g,x,w){this.promise=g,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function h(g,x,w){s(function(){var S;try{S=x(w)}catch(I){return u.reject(g,I)}S===g?u.reject(g,new TypeError("Cannot resolve promise with itself")):u.resolve(g,S)})}function j(g){var x=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof x=="function")return function(){x.apply(g,arguments)}}function v(g,x){var w=!1;function S(M){w||(w=!0,u.reject(g,M))}function I(M){w||(w=!0,u.resolve(g,M))}var $=C(function(){x(I,S)});$.status==="error"&&S($.value)}function C(g,x){var w={};try{w.value=g(x),w.status="success"}catch(S){w.status="error",w.value=S}return w}(n.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(g()).then(function(){return w})},function(w){return x.resolve(g()).then(function(){throw w})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,x){if(typeof g!="function"&&this.state===p||typeof x!="function"&&this.state===d)return this;var w=new this.constructor(o);return this.state!==_?h(w,this.state===p?g:x,this.outcome):this.queue.push(new b(w,g,x)),w},b.prototype.callFulfilled=function(g){u.resolve(this.promise,g)},b.prototype.otherCallFulfilled=function(g){h(this.promise,this.onFulfilled,g)},b.prototype.callRejected=function(g){u.reject(this.promise,g)},b.prototype.otherCallRejected=function(g){h(this.promise,this.onRejected,g)},u.resolve=function(g,x){var w=C(j,x);if(w.status==="error")return u.reject(g,w.value);var S=w.value;if(S)v(g,S);else{g.state=p,g.outcome=x;for(var I=-1,$=g.queue.length;++I<$;)g.queue[I].callFulfilled(x)}return g},u.reject=function(g,x){g.state=d,g.outcome=x;for(var w=-1,S=g.queue.length;++w<S;)g.queue[w].callRejected(x);return g},f.resolve=function(g){return g instanceof this?g:u.resolve(new this(o),g)},f.reject=function(g){var x=new this(o);return u.reject(x,g)},f.all=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,S=!1;if(!w)return this.resolve([]);for(var I=new Array(w),$=0,M=-1,P=new this(o);++M<w;)L(g[M],M);return P;function L(le,Re){x.resolve(le).then(function(O){I[Re]=O,++$!==w||S||(S=!0,u.resolve(P,I))},function(O){S||(S=!0,u.reject(P,O))})}},f.race=function(g){var x=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,S=!1;if(!w)return this.resolve([]);for(var I=-1,$=new this(o);++I<w;)M=g[I],x.resolve(M).then(function(P){S||(S=!0,u.resolve($,P))},function(P){S||(S=!0,u.reject($,P))});var M;return $}},{immediate:36}],38:[function(r,n,a){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,a){var s=r("./zlib/deflate"),o=r("./utils/common"),u=r("./utils/strings"),d=r("./zlib/messages"),p=r("./zlib/zstream"),_=Object.prototype.toString,f=0,b=-1,h=0,j=8;function v(g){if(!(this instanceof v))return new v(g);this.options=o.assign({level:b,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==f)throw new Error(d[w]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var S;if(S=typeof x.dictionary=="string"?u.string2buf(x.dictionary):_.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=s.deflateSetDictionary(this.strm,S))!==f)throw new Error(d[w]);this._dict_set=!0}}function C(g,x){var w=new v(x);if(w.push(g,!0),w.err)throw w.msg||d[w.err];return w.result}v.prototype.push=function(g,x){var w,S,I=this.strm,$=this.options.chunkSize;if(this.ended)return!1;S=x===~~x?x:x===!0?4:0,typeof g=="string"?I.input=u.string2buf(g):_.call(g)==="[object ArrayBuffer]"?I.input=new Uint8Array(g):I.input=g,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new o.Buf8($),I.next_out=0,I.avail_out=$),(w=s.deflate(I,S))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(o.shrinkBuf(I.output,I.next_out))):this.onData(o.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&w!==1);return S===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):S!==2||(this.onEnd(f),!(I.avail_out=0))},v.prototype.onData=function(g){this.chunks.push(g)},v.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},a.Deflate=v,a.deflate=C,a.deflateRaw=function(g,x){return(x=x||{}).raw=!0,C(g,x)},a.gzip=function(g,x){return(x=x||{}).gzip=!0,C(g,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,a){var s=r("./zlib/inflate"),o=r("./utils/common"),u=r("./utils/strings"),d=r("./zlib/constants"),p=r("./zlib/messages"),_=r("./zlib/zstream"),f=r("./zlib/gzheader"),b=Object.prototype.toString;function h(v){if(!(this instanceof h))return new h(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||v&&v.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&!(15&C.windowBits)&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,C.windowBits);if(g!==d.Z_OK)throw new Error(p[g]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function j(v,C){var g=new h(C);if(g.push(v,!0),g.err)throw g.msg||p[g.err];return g.result}h.prototype.push=function(v,C){var g,x,w,S,I,$,M=this.strm,P=this.options.chunkSize,L=this.options.dictionary,le=!1;if(this.ended)return!1;x=C===~~C?C:C===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?M.input=u.binstring2buf(v):b.call(v)==="[object ArrayBuffer]"?M.input=new Uint8Array(v):M.input=v,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new o.Buf8(P),M.next_out=0,M.avail_out=P),(g=s.inflate(M,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&L&&($=typeof L=="string"?u.string2buf(L):b.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,g=s.inflateSetDictionary(this.strm,$)),g===d.Z_BUF_ERROR&&le===!0&&(g=d.Z_OK,le=!1),g!==d.Z_STREAM_END&&g!==d.Z_OK)return this.onEnd(g),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&g!==d.Z_STREAM_END&&(M.avail_in!==0||x!==d.Z_FINISH&&x!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=u.utf8border(M.output,M.next_out),S=M.next_out-w,I=u.buf2string(M.output,w),M.next_out=S,M.avail_out=P-S,S&&o.arraySet(M.output,M.output,w,S,0),this.onData(I)):this.onData(o.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(le=!0)}while((0<M.avail_in||M.avail_out===0)&&g!==d.Z_STREAM_END);return g===d.Z_STREAM_END&&(x=d.Z_FINISH),x===d.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===d.Z_OK):x!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(M.avail_out=0))},h.prototype.onData=function(v){this.chunks.push(v)},h.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Inflate=h,a.inflate=j,a.inflateRaw=function(v,C){return(C=C||{}).raw=!0,j(v,C)},a.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var _=p.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var f in _)_.hasOwnProperty(f)&&(d[f]=_[f])}}return d},a.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var o={arraySet:function(d,p,_,f,b){if(p.subarray&&d.subarray)d.set(p.subarray(_,_+f),b);else for(var h=0;h<f;h++)d[b+h]=p[_+h]},flattenChunks:function(d){var p,_,f,b,h,j;for(p=f=0,_=d.length;p<_;p++)f+=d[p].length;for(j=new Uint8Array(f),p=b=0,_=d.length;p<_;p++)h=d[p],j.set(h,b),b+=h.length;return j}},u={arraySet:function(d,p,_,f,b){for(var h=0;h<f;h++)d[b+h]=p[_+h]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,u))},a.setTyped(s)},{}],42:[function(r,n,a){var s=r("./common"),o=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new s.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function _(f,b){if(b<65537&&(f.subarray&&u||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,b));for(var h="",j=0;j<b;j++)h+=String.fromCharCode(f[j]);return h}d[254]=d[254]=1,a.string2buf=function(f){var b,h,j,v,C,g=f.length,x=0;for(v=0;v<g;v++)(64512&(h=f.charCodeAt(v)))==55296&&v+1<g&&(64512&(j=f.charCodeAt(v+1)))==56320&&(h=65536+(h-55296<<10)+(j-56320),v++),x+=h<128?1:h<2048?2:h<65536?3:4;for(b=new s.Buf8(x),v=C=0;C<x;v++)(64512&(h=f.charCodeAt(v)))==55296&&v+1<g&&(64512&(j=f.charCodeAt(v+1)))==56320&&(h=65536+(h-55296<<10)+(j-56320),v++),h<128?b[C++]=h:(h<2048?b[C++]=192|h>>>6:(h<65536?b[C++]=224|h>>>12:(b[C++]=240|h>>>18,b[C++]=128|h>>>12&63),b[C++]=128|h>>>6&63),b[C++]=128|63&h);return b},a.buf2binstring=function(f){return _(f,f.length)},a.binstring2buf=function(f){for(var b=new s.Buf8(f.length),h=0,j=b.length;h<j;h++)b[h]=f.charCodeAt(h);return b},a.buf2string=function(f,b){var h,j,v,C,g=b||f.length,x=new Array(2*g);for(h=j=0;h<g;)if((v=f[h++])<128)x[j++]=v;else if(4<(C=d[v]))x[j++]=65533,h+=C-1;else{for(v&=C===2?31:C===3?15:7;1<C&&h<g;)v=v<<6|63&f[h++],C--;1<C?x[j++]=65533:v<65536?x[j++]=v:(v-=65536,x[j++]=55296|v>>10&1023,x[j++]=56320|1023&v)}return _(x,j)},a.utf8border=function(f,b){var h;for((b=b||f.length)>f.length&&(b=f.length),h=b-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?b:h+d[f[h]]>b?h:b}},{"./common":41}],43:[function(r,n,a){n.exports=function(s,o,u,d){for(var p=65535&s|0,_=s>>>16&65535|0,f=0;u!==0;){for(u-=f=2e3<u?2e3:u;_=_+(p=p+o[d++]|0)|0,--f;);p%=65521,_%=65521}return p|_<<16|0}},{}],44:[function(r,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,a){var s=function(){for(var o,u=[],d=0;d<256;d++){o=d;for(var p=0;p<8;p++)o=1&o?3988292384^o>>>1:o>>>1;u[d]=o}return u}();n.exports=function(o,u,d,p){var _=s,f=p+d;o^=-1;for(var b=p;b<f;b++)o=o>>>8^_[255&(o^u[b])];return-1^o}},{}],46:[function(r,n,a){var s,o=r("../utils/common"),u=r("./trees"),d=r("./adler32"),p=r("./crc32"),_=r("./messages"),f=0,b=4,h=0,j=-2,v=-1,C=4,g=2,x=8,w=9,S=286,I=30,$=19,M=2*S+1,P=15,L=3,le=258,Re=le+L+1,O=42,ne=113,E=1,ge=2,qe=3,me=4;function xe(k,ve){return k.msg=_[ve],ve}function H(k){return(k<<1)-(4<k?9:0)}function K(k){for(var ve=k.length;0<=--ve;)k[ve]=0}function Z(k){var ve=k.state,pe=ve.pending;pe>k.avail_out&&(pe=k.avail_out),pe!==0&&(o.arraySet(k.output,ve.pending_buf,ve.pending_out,pe,k.next_out),k.next_out+=pe,ve.pending_out+=pe,k.total_out+=pe,k.avail_out-=pe,ve.pending-=pe,ve.pending===0&&(ve.pending_out=0))}function X(k,ve){u._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,ve),k.block_start=k.strstart,Z(k.strm)}function Ie(k,ve){k.pending_buf[k.pending++]=ve}function Ae(k,ve){k.pending_buf[k.pending++]=ve>>>8&255,k.pending_buf[k.pending++]=255&ve}function De(k,ve){var pe,z,F=k.max_chain_length,J=k.strstart,je=k.prev_length,de=k.nice_match,ue=k.strstart>k.w_size-Re?k.strstart-(k.w_size-Re):0,he=k.window,ze=k.w_mask,ke=k.prev,Qe=k.strstart+le,Ce=he[J+je-1],He=he[J+je];k.prev_length>=k.good_match&&(F>>=2),de>k.lookahead&&(de=k.lookahead);do if(he[(pe=ve)+je]===He&&he[pe+je-1]===Ce&&he[pe]===he[J]&&he[++pe]===he[J+1]){J+=2,pe++;do;while(he[++J]===he[++pe]&&he[++J]===he[++pe]&&he[++J]===he[++pe]&&he[++J]===he[++pe]&&he[++J]===he[++pe]&&he[++J]===he[++pe]&&he[++J]===he[++pe]&&he[++J]===he[++pe]&&J<Qe);if(z=le-(Qe-J),J=Qe-le,je<z){if(k.match_start=ve,de<=(je=z))break;Ce=he[J+je-1],He=he[J+je]}}while((ve=ke[ve&ze])>ue&&--F!=0);return je<=k.lookahead?je:k.lookahead}function q(k){var ve,pe,z,F,J,je,de,ue,he,ze,ke=k.w_size;do{if(F=k.window_size-k.lookahead-k.strstart,k.strstart>=ke+(ke-Re)){for(o.arraySet(k.window,k.window,ke,ke,0),k.match_start-=ke,k.strstart-=ke,k.block_start-=ke,ve=pe=k.hash_size;z=k.head[--ve],k.head[ve]=ke<=z?z-ke:0,--pe;);for(ve=pe=ke;z=k.prev[--ve],k.prev[ve]=ke<=z?z-ke:0,--pe;);F+=ke}if(k.strm.avail_in===0)break;if(je=k.strm,de=k.window,ue=k.strstart+k.lookahead,he=F,ze=void 0,ze=je.avail_in,he<ze&&(ze=he),pe=ze===0?0:(je.avail_in-=ze,o.arraySet(de,je.input,je.next_in,ze,ue),je.state.wrap===1?je.adler=d(je.adler,de,ze,ue):je.state.wrap===2&&(je.adler=p(je.adler,de,ze,ue)),je.next_in+=ze,je.total_in+=ze,ze),k.lookahead+=pe,k.lookahead+k.insert>=L)for(J=k.strstart-k.insert,k.ins_h=k.window[J],k.ins_h=(k.ins_h<<k.hash_shift^k.window[J+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[J+L-1])&k.hash_mask,k.prev[J&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=J,J++,k.insert--,!(k.lookahead+k.insert<L)););}while(k.lookahead<Re&&k.strm.avail_in!==0)}function Se(k,ve){for(var pe,z;;){if(k.lookahead<Re){if(q(k),k.lookahead<Re&&ve===f)return E;if(k.lookahead===0)break}if(pe=0,k.lookahead>=L&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+L-1])&k.hash_mask,pe=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),pe!==0&&k.strstart-pe<=k.w_size-Re&&(k.match_length=De(k,pe)),k.match_length>=L)if(z=u._tr_tally(k,k.strstart-k.match_start,k.match_length-L),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=L){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+L-1])&k.hash_mask,pe=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else z=u._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(z&&(X(k,!1),k.strm.avail_out===0))return E}return k.insert=k.strstart<L-1?k.strstart:L-1,ve===b?(X(k,!0),k.strm.avail_out===0?qe:me):k.last_lit&&(X(k,!1),k.strm.avail_out===0)?E:ge}function we(k,ve){for(var pe,z,F;;){if(k.lookahead<Re){if(q(k),k.lookahead<Re&&ve===f)return E;if(k.lookahead===0)break}if(pe=0,k.lookahead>=L&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+L-1])&k.hash_mask,pe=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=L-1,pe!==0&&k.prev_length<k.max_lazy_match&&k.strstart-pe<=k.w_size-Re&&(k.match_length=De(k,pe),k.match_length<=5&&(k.strategy===1||k.match_length===L&&4096<k.strstart-k.match_start)&&(k.match_length=L-1)),k.prev_length>=L&&k.match_length<=k.prev_length){for(F=k.strstart+k.lookahead-L,z=u._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-L),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=F&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+L-1])&k.hash_mask,pe=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=L-1,k.strstart++,z&&(X(k,!1),k.strm.avail_out===0))return E}else if(k.match_available){if((z=u._tr_tally(k,0,k.window[k.strstart-1]))&&X(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return E}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(z=u._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<L-1?k.strstart:L-1,ve===b?(X(k,!0),k.strm.avail_out===0?qe:me):k.last_lit&&(X(k,!1),k.strm.avail_out===0)?E:ge}function re(k,ve,pe,z,F){this.good_length=k,this.max_lazy=ve,this.nice_length=pe,this.max_chain=z,this.func=F}function Ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*M),this.dyn_dtree=new o.Buf16(2*(2*I+1)),this.bl_tree=new o.Buf16(2*(2*$+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(P+1),this.heap=new o.Buf16(2*S+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ee(k){var ve;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=g,(ve=k.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?O:ne,k.adler=ve.wrap===2?0:1,ve.last_flush=f,u._tr_init(ve),h):xe(k,j)}function Ue(k){var ve=Ee(k);return ve===h&&function(pe){pe.window_size=2*pe.w_size,K(pe.head),pe.max_lazy_match=s[pe.level].max_lazy,pe.good_match=s[pe.level].good_length,pe.nice_match=s[pe.level].nice_length,pe.max_chain_length=s[pe.level].max_chain,pe.strstart=0,pe.block_start=0,pe.lookahead=0,pe.insert=0,pe.match_length=pe.prev_length=L-1,pe.match_available=0,pe.ins_h=0}(k.state),ve}function Je(k,ve,pe,z,F,J){if(!k)return j;var je=1;if(ve===v&&(ve=6),z<0?(je=0,z=-z):15<z&&(je=2,z-=16),F<1||w<F||pe!==x||z<8||15<z||ve<0||9<ve||J<0||C<J)return xe(k,j);z===8&&(z=9);var de=new Ye;return(k.state=de).strm=k,de.wrap=je,de.gzhead=null,de.w_bits=z,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=F+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+L-1)/L),de.window=new o.Buf8(2*de.w_size),de.head=new o.Buf16(de.hash_size),de.prev=new o.Buf16(de.w_size),de.lit_bufsize=1<<F+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new o.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=ve,de.strategy=J,de.method=pe,Ue(k)}s=[new re(0,0,0,0,function(k,ve){var pe=65535;for(pe>k.pending_buf_size-5&&(pe=k.pending_buf_size-5);;){if(k.lookahead<=1){if(q(k),k.lookahead===0&&ve===f)return E;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var z=k.block_start+pe;if((k.strstart===0||k.strstart>=z)&&(k.lookahead=k.strstart-z,k.strstart=z,X(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-Re&&(X(k,!1),k.strm.avail_out===0))return E}return k.insert=0,ve===b?(X(k,!0),k.strm.avail_out===0?qe:me):(k.strstart>k.block_start&&(X(k,!1),k.strm.avail_out),E)}),new re(4,4,8,4,Se),new re(4,5,16,8,Se),new re(4,6,32,32,Se),new re(4,4,16,16,we),new re(8,16,32,32,we),new re(8,16,128,128,we),new re(8,32,128,256,we),new re(32,128,258,1024,we),new re(32,258,258,4096,we)],a.deflateInit=function(k,ve){return Je(k,ve,x,15,8,0)},a.deflateInit2=Je,a.deflateReset=Ue,a.deflateResetKeep=Ee,a.deflateSetHeader=function(k,ve){return k&&k.state?k.state.wrap!==2?j:(k.state.gzhead=ve,h):j},a.deflate=function(k,ve){var pe,z,F,J;if(!k||!k.state||5<ve||ve<0)return k?xe(k,j):j;if(z=k.state,!k.output||!k.input&&k.avail_in!==0||z.status===666&&ve!==b)return xe(k,k.avail_out===0?-5:j);if(z.strm=k,pe=z.last_flush,z.last_flush=ve,z.status===O)if(z.wrap===2)k.adler=0,Ie(z,31),Ie(z,139),Ie(z,8),z.gzhead?(Ie(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),Ie(z,255&z.gzhead.time),Ie(z,z.gzhead.time>>8&255),Ie(z,z.gzhead.time>>16&255),Ie(z,z.gzhead.time>>24&255),Ie(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),Ie(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(Ie(z,255&z.gzhead.extra.length),Ie(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(k.adler=p(k.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(Ie(z,0),Ie(z,0),Ie(z,0),Ie(z,0),Ie(z,0),Ie(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),Ie(z,3),z.status=ne);else{var je=x+(z.w_bits-8<<4)<<8;je|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(je|=32),je+=31-je%31,z.status=ne,Ae(z,je),z.strstart!==0&&(Ae(z,k.adler>>>16),Ae(z,65535&k.adler)),k.adler=1}if(z.status===69)if(z.gzhead.extra){for(F=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>F&&(k.adler=p(k.adler,z.pending_buf,z.pending-F,F)),Z(k),F=z.pending,z.pending!==z.pending_buf_size));)Ie(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>F&&(k.adler=p(k.adler,z.pending_buf,z.pending-F,F)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){F=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>F&&(k.adler=p(k.adler,z.pending_buf,z.pending-F,F)),Z(k),F=z.pending,z.pending===z.pending_buf_size)){J=1;break}J=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,Ie(z,J)}while(J!==0);z.gzhead.hcrc&&z.pending>F&&(k.adler=p(k.adler,z.pending_buf,z.pending-F,F)),J===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){F=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>F&&(k.adler=p(k.adler,z.pending_buf,z.pending-F,F)),Z(k),F=z.pending,z.pending===z.pending_buf_size)){J=1;break}J=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,Ie(z,J)}while(J!==0);z.gzhead.hcrc&&z.pending>F&&(k.adler=p(k.adler,z.pending_buf,z.pending-F,F)),J===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&Z(k),z.pending+2<=z.pending_buf_size&&(Ie(z,255&k.adler),Ie(z,k.adler>>8&255),k.adler=0,z.status=ne)):z.status=ne),z.pending!==0){if(Z(k),k.avail_out===0)return z.last_flush=-1,h}else if(k.avail_in===0&&H(ve)<=H(pe)&&ve!==b)return xe(k,-5);if(z.status===666&&k.avail_in!==0)return xe(k,-5);if(k.avail_in!==0||z.lookahead!==0||ve!==f&&z.status!==666){var de=z.strategy===2?function(ue,he){for(var ze;;){if(ue.lookahead===0&&(q(ue),ue.lookahead===0)){if(he===f)return E;break}if(ue.match_length=0,ze=u._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,ze&&(X(ue,!1),ue.strm.avail_out===0))return E}return ue.insert=0,he===b?(X(ue,!0),ue.strm.avail_out===0?qe:me):ue.last_lit&&(X(ue,!1),ue.strm.avail_out===0)?E:ge}(z,ve):z.strategy===3?function(ue,he){for(var ze,ke,Qe,Ce,He=ue.window;;){if(ue.lookahead<=le){if(q(ue),ue.lookahead<=le&&he===f)return E;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=L&&0<ue.strstart&&(ke=He[Qe=ue.strstart-1])===He[++Qe]&&ke===He[++Qe]&&ke===He[++Qe]){Ce=ue.strstart+le;do;while(ke===He[++Qe]&&ke===He[++Qe]&&ke===He[++Qe]&&ke===He[++Qe]&&ke===He[++Qe]&&ke===He[++Qe]&&ke===He[++Qe]&&ke===He[++Qe]&&Qe<Ce);ue.match_length=le-(Ce-Qe),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=L?(ze=u._tr_tally(ue,1,ue.match_length-L),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(ze=u._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),ze&&(X(ue,!1),ue.strm.avail_out===0))return E}return ue.insert=0,he===b?(X(ue,!0),ue.strm.avail_out===0?qe:me):ue.last_lit&&(X(ue,!1),ue.strm.avail_out===0)?E:ge}(z,ve):s[z.level].func(z,ve);if(de!==qe&&de!==me||(z.status=666),de===E||de===qe)return k.avail_out===0&&(z.last_flush=-1),h;if(de===ge&&(ve===1?u._tr_align(z):ve!==5&&(u._tr_stored_block(z,0,0,!1),ve===3&&(K(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),Z(k),k.avail_out===0))return z.last_flush=-1,h}return ve!==b?h:z.wrap<=0?1:(z.wrap===2?(Ie(z,255&k.adler),Ie(z,k.adler>>8&255),Ie(z,k.adler>>16&255),Ie(z,k.adler>>24&255),Ie(z,255&k.total_in),Ie(z,k.total_in>>8&255),Ie(z,k.total_in>>16&255),Ie(z,k.total_in>>24&255)):(Ae(z,k.adler>>>16),Ae(z,65535&k.adler)),Z(k),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?h:1)},a.deflateEnd=function(k){var ve;return k&&k.state?(ve=k.state.status)!==O&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==ne&&ve!==666?xe(k,j):(k.state=null,ve===ne?xe(k,-3):h):j},a.deflateSetDictionary=function(k,ve){var pe,z,F,J,je,de,ue,he,ze=ve.length;if(!k||!k.state||(J=(pe=k.state).wrap)===2||J===1&&pe.status!==O||pe.lookahead)return j;for(J===1&&(k.adler=d(k.adler,ve,ze,0)),pe.wrap=0,ze>=pe.w_size&&(J===0&&(K(pe.head),pe.strstart=0,pe.block_start=0,pe.insert=0),he=new o.Buf8(pe.w_size),o.arraySet(he,ve,ze-pe.w_size,pe.w_size,0),ve=he,ze=pe.w_size),je=k.avail_in,de=k.next_in,ue=k.input,k.avail_in=ze,k.next_in=0,k.input=ve,q(pe);pe.lookahead>=L;){for(z=pe.strstart,F=pe.lookahead-(L-1);pe.ins_h=(pe.ins_h<<pe.hash_shift^pe.window[z+L-1])&pe.hash_mask,pe.prev[z&pe.w_mask]=pe.head[pe.ins_h],pe.head[pe.ins_h]=z,z++,--F;);pe.strstart=z,pe.lookahead=L-1,q(pe)}return pe.strstart+=pe.lookahead,pe.block_start=pe.strstart,pe.insert=pe.lookahead,pe.lookahead=0,pe.match_length=pe.prev_length=L-1,pe.match_available=0,k.next_in=de,k.input=ue,k.avail_in=je,pe.wrap=J,h},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,a){n.exports=function(s,o){var u,d,p,_,f,b,h,j,v,C,g,x,w,S,I,$,M,P,L,le,Re,O,ne,E,ge;u=s.state,d=s.next_in,E=s.input,p=d+(s.avail_in-5),_=s.next_out,ge=s.output,f=_-(o-s.avail_out),b=_+(s.avail_out-257),h=u.dmax,j=u.wsize,v=u.whave,C=u.wnext,g=u.window,x=u.hold,w=u.bits,S=u.lencode,I=u.distcode,$=(1<<u.lenbits)-1,M=(1<<u.distbits)-1;e:do{w<15&&(x+=E[d++]<<w,w+=8,x+=E[d++]<<w,w+=8),P=S[x&$];t:for(;;){if(x>>>=L=P>>>24,w-=L,(L=P>>>16&255)===0)ge[_++]=65535&P;else{if(!(16&L)){if(!(64&L)){P=S[(65535&P)+(x&(1<<L)-1)];continue t}if(32&L){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}le=65535&P,(L&=15)&&(w<L&&(x+=E[d++]<<w,w+=8),le+=x&(1<<L)-1,x>>>=L,w-=L),w<15&&(x+=E[d++]<<w,w+=8,x+=E[d++]<<w,w+=8),P=I[x&M];r:for(;;){if(x>>>=L=P>>>24,w-=L,!(16&(L=P>>>16&255))){if(!(64&L)){P=I[(65535&P)+(x&(1<<L)-1)];continue r}s.msg="invalid distance code",u.mode=30;break e}if(Re=65535&P,w<(L&=15)&&(x+=E[d++]<<w,(w+=8)<L&&(x+=E[d++]<<w,w+=8)),h<(Re+=x&(1<<L)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(x>>>=L,w-=L,(L=_-f)<Re){if(v<(L=Re-L)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(ne=g,(O=0)===C){if(O+=j-L,L<le){for(le-=L;ge[_++]=g[O++],--L;);O=_-Re,ne=ge}}else if(C<L){if(O+=j+C-L,(L-=C)<le){for(le-=L;ge[_++]=g[O++],--L;);if(O=0,C<le){for(le-=L=C;ge[_++]=g[O++],--L;);O=_-Re,ne=ge}}}else if(O+=C-L,L<le){for(le-=L;ge[_++]=g[O++],--L;);O=_-Re,ne=ge}for(;2<le;)ge[_++]=ne[O++],ge[_++]=ne[O++],ge[_++]=ne[O++],le-=3;le&&(ge[_++]=ne[O++],1<le&&(ge[_++]=ne[O++]))}else{for(O=_-Re;ge[_++]=ge[O++],ge[_++]=ge[O++],ge[_++]=ge[O++],2<(le-=3););le&&(ge[_++]=ge[O++],1<le&&(ge[_++]=ge[O++]))}break}}break}}while(d<p&&_<b);d-=le=w>>3,x&=(1<<(w-=le<<3))-1,s.next_in=d,s.next_out=_,s.avail_in=d<p?p-d+5:5-(d-p),s.avail_out=_<b?b-_+257:257-(_-b),u.hold=x,u.bits=w}},{}],49:[function(r,n,a){var s=r("../utils/common"),o=r("./adler32"),u=r("./crc32"),d=r("./inffast"),p=r("./inftrees"),_=1,f=2,b=0,h=-2,j=1,v=852,C=592;function g(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(O){var ne;return O&&O.state?(ne=O.state,O.total_in=O.total_out=ne.total=0,O.msg="",ne.wrap&&(O.adler=1&ne.wrap),ne.mode=j,ne.last=0,ne.havedict=0,ne.dmax=32768,ne.head=null,ne.hold=0,ne.bits=0,ne.lencode=ne.lendyn=new s.Buf32(v),ne.distcode=ne.distdyn=new s.Buf32(C),ne.sane=1,ne.back=-1,b):h}function S(O){var ne;return O&&O.state?((ne=O.state).wsize=0,ne.whave=0,ne.wnext=0,w(O)):h}function I(O,ne){var E,ge;return O&&O.state?(ge=O.state,ne<0?(E=0,ne=-ne):(E=1+(ne>>4),ne<48&&(ne&=15)),ne&&(ne<8||15<ne)?h:(ge.window!==null&&ge.wbits!==ne&&(ge.window=null),ge.wrap=E,ge.wbits=ne,S(O))):h}function $(O,ne){var E,ge;return O?(ge=new x,(O.state=ge).window=null,(E=I(O,ne))!==b&&(O.state=null),E):h}var M,P,L=!0;function le(O){if(L){var ne;for(M=new s.Buf32(512),P=new s.Buf32(32),ne=0;ne<144;)O.lens[ne++]=8;for(;ne<256;)O.lens[ne++]=9;for(;ne<280;)O.lens[ne++]=7;for(;ne<288;)O.lens[ne++]=8;for(p(_,O.lens,0,288,M,0,O.work,{bits:9}),ne=0;ne<32;)O.lens[ne++]=5;p(f,O.lens,0,32,P,0,O.work,{bits:5}),L=!1}O.lencode=M,O.lenbits=9,O.distcode=P,O.distbits=5}function Re(O,ne,E,ge){var qe,me=O.state;return me.window===null&&(me.wsize=1<<me.wbits,me.wnext=0,me.whave=0,me.window=new s.Buf8(me.wsize)),ge>=me.wsize?(s.arraySet(me.window,ne,E-me.wsize,me.wsize,0),me.wnext=0,me.whave=me.wsize):(ge<(qe=me.wsize-me.wnext)&&(qe=ge),s.arraySet(me.window,ne,E-ge,qe,me.wnext),(ge-=qe)?(s.arraySet(me.window,ne,E-ge,ge,0),me.wnext=ge,me.whave=me.wsize):(me.wnext+=qe,me.wnext===me.wsize&&(me.wnext=0),me.whave<me.wsize&&(me.whave+=qe))),0}a.inflateReset=S,a.inflateReset2=I,a.inflateResetKeep=w,a.inflateInit=function(O){return $(O,15)},a.inflateInit2=$,a.inflate=function(O,ne){var E,ge,qe,me,xe,H,K,Z,X,Ie,Ae,De,q,Se,we,re,Ye,Ee,Ue,Je,k,ve,pe,z,F=0,J=new s.Buf8(4),je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return h;(E=O.state).mode===12&&(E.mode=13),xe=O.next_out,qe=O.output,K=O.avail_out,me=O.next_in,ge=O.input,H=O.avail_in,Z=E.hold,X=E.bits,Ie=H,Ae=K,ve=b;e:for(;;)switch(E.mode){case j:if(E.wrap===0){E.mode=13;break}for(;X<16;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if(2&E.wrap&&Z===35615){J[E.check=0]=255&Z,J[1]=Z>>>8&255,E.check=u(E.check,J,2,0),X=Z=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&Z)<<8)+(Z>>8))%31){O.msg="incorrect header check",E.mode=30;break}if((15&Z)!=8){O.msg="unknown compression method",E.mode=30;break}if(X-=4,k=8+(15&(Z>>>=4)),E.wbits===0)E.wbits=k;else if(k>E.wbits){O.msg="invalid window size",E.mode=30;break}E.dmax=1<<k,O.adler=E.check=1,E.mode=512&Z?10:12,X=Z=0;break;case 2:for(;X<16;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if(E.flags=Z,(255&E.flags)!=8){O.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){O.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=Z>>8&1),512&E.flags&&(J[0]=255&Z,J[1]=Z>>>8&255,E.check=u(E.check,J,2,0)),X=Z=0,E.mode=3;case 3:for(;X<32;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}E.head&&(E.head.time=Z),512&E.flags&&(J[0]=255&Z,J[1]=Z>>>8&255,J[2]=Z>>>16&255,J[3]=Z>>>24&255,E.check=u(E.check,J,4,0)),X=Z=0,E.mode=4;case 4:for(;X<16;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}E.head&&(E.head.xflags=255&Z,E.head.os=Z>>8),512&E.flags&&(J[0]=255&Z,J[1]=Z>>>8&255,E.check=u(E.check,J,2,0)),X=Z=0,E.mode=5;case 5:if(1024&E.flags){for(;X<16;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}E.length=Z,E.head&&(E.head.extra_len=Z),512&E.flags&&(J[0]=255&Z,J[1]=Z>>>8&255,E.check=u(E.check,J,2,0)),X=Z=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(H<(De=E.length)&&(De=H),De&&(E.head&&(k=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),s.arraySet(E.head.extra,ge,me,De,k)),512&E.flags&&(E.check=u(E.check,ge,De,me)),H-=De,me+=De,E.length-=De),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(H===0)break e;for(De=0;k=ge[me+De++],E.head&&k&&E.length<65536&&(E.head.name+=String.fromCharCode(k)),k&&De<H;);if(512&E.flags&&(E.check=u(E.check,ge,De,me)),H-=De,me+=De,k)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(H===0)break e;for(De=0;k=ge[me+De++],E.head&&k&&E.length<65536&&(E.head.comment+=String.fromCharCode(k)),k&&De<H;);if(512&E.flags&&(E.check=u(E.check,ge,De,me)),H-=De,me+=De,k)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;X<16;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if(Z!==(65535&E.check)){O.msg="header crc mismatch",E.mode=30;break}X=Z=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),O.adler=E.check=0,E.mode=12;break;case 10:for(;X<32;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}O.adler=E.check=g(Z),X=Z=0,E.mode=11;case 11:if(E.havedict===0)return O.next_out=xe,O.avail_out=K,O.next_in=me,O.avail_in=H,E.hold=Z,E.bits=X,2;O.adler=E.check=1,E.mode=12;case 12:if(ne===5||ne===6)break e;case 13:if(E.last){Z>>>=7&X,X-=7&X,E.mode=27;break}for(;X<3;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}switch(E.last=1&Z,X-=1,3&(Z>>>=1)){case 0:E.mode=14;break;case 1:if(le(E),E.mode=20,ne!==6)break;Z>>>=2,X-=2;break e;case 2:E.mode=17;break;case 3:O.msg="invalid block type",E.mode=30}Z>>>=2,X-=2;break;case 14:for(Z>>>=7&X,X-=7&X;X<32;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if((65535&Z)!=(Z>>>16^65535)){O.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&Z,X=Z=0,E.mode=15,ne===6)break e;case 15:E.mode=16;case 16:if(De=E.length){if(H<De&&(De=H),K<De&&(De=K),De===0)break e;s.arraySet(qe,ge,me,De,xe),H-=De,me+=De,K-=De,xe+=De,E.length-=De;break}E.mode=12;break;case 17:for(;X<14;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if(E.nlen=257+(31&Z),Z>>>=5,X-=5,E.ndist=1+(31&Z),Z>>>=5,X-=5,E.ncode=4+(15&Z),Z>>>=4,X-=4,286<E.nlen||30<E.ndist){O.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;X<3;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}E.lens[je[E.have++]]=7&Z,Z>>>=3,X-=3}for(;E.have<19;)E.lens[je[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,pe={bits:E.lenbits},ve=p(0,E.lens,0,19,E.lencode,0,E.work,pe),E.lenbits=pe.bits,ve){O.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;re=(F=E.lencode[Z&(1<<E.lenbits)-1])>>>16&255,Ye=65535&F,!((we=F>>>24)<=X);){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if(Ye<16)Z>>>=we,X-=we,E.lens[E.have++]=Ye;else{if(Ye===16){for(z=we+2;X<z;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if(Z>>>=we,X-=we,E.have===0){O.msg="invalid bit length repeat",E.mode=30;break}k=E.lens[E.have-1],De=3+(3&Z),Z>>>=2,X-=2}else if(Ye===17){for(z=we+3;X<z;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}X-=we,k=0,De=3+(7&(Z>>>=we)),Z>>>=3,X-=3}else{for(z=we+7;X<z;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}X-=we,k=0,De=11+(127&(Z>>>=we)),Z>>>=7,X-=7}if(E.have+De>E.nlen+E.ndist){O.msg="invalid bit length repeat",E.mode=30;break}for(;De--;)E.lens[E.have++]=k}}if(E.mode===30)break;if(E.lens[256]===0){O.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,pe={bits:E.lenbits},ve=p(_,E.lens,0,E.nlen,E.lencode,0,E.work,pe),E.lenbits=pe.bits,ve){O.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,pe={bits:E.distbits},ve=p(f,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,pe),E.distbits=pe.bits,ve){O.msg="invalid distances set",E.mode=30;break}if(E.mode=20,ne===6)break e;case 20:E.mode=21;case 21:if(6<=H&&258<=K){O.next_out=xe,O.avail_out=K,O.next_in=me,O.avail_in=H,E.hold=Z,E.bits=X,d(O,Ae),xe=O.next_out,qe=O.output,K=O.avail_out,me=O.next_in,ge=O.input,H=O.avail_in,Z=E.hold,X=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;re=(F=E.lencode[Z&(1<<E.lenbits)-1])>>>16&255,Ye=65535&F,!((we=F>>>24)<=X);){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if(re&&!(240&re)){for(Ee=we,Ue=re,Je=Ye;re=(F=E.lencode[Je+((Z&(1<<Ee+Ue)-1)>>Ee)])>>>16&255,Ye=65535&F,!(Ee+(we=F>>>24)<=X);){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}Z>>>=Ee,X-=Ee,E.back+=Ee}if(Z>>>=we,X-=we,E.back+=we,E.length=Ye,re===0){E.mode=26;break}if(32&re){E.back=-1,E.mode=12;break}if(64&re){O.msg="invalid literal/length code",E.mode=30;break}E.extra=15&re,E.mode=22;case 22:if(E.extra){for(z=E.extra;X<z;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}E.length+=Z&(1<<E.extra)-1,Z>>>=E.extra,X-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;re=(F=E.distcode[Z&(1<<E.distbits)-1])>>>16&255,Ye=65535&F,!((we=F>>>24)<=X);){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if(!(240&re)){for(Ee=we,Ue=re,Je=Ye;re=(F=E.distcode[Je+((Z&(1<<Ee+Ue)-1)>>Ee)])>>>16&255,Ye=65535&F,!(Ee+(we=F>>>24)<=X);){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}Z>>>=Ee,X-=Ee,E.back+=Ee}if(Z>>>=we,X-=we,E.back+=we,64&re){O.msg="invalid distance code",E.mode=30;break}E.offset=Ye,E.extra=15&re,E.mode=24;case 24:if(E.extra){for(z=E.extra;X<z;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}E.offset+=Z&(1<<E.extra)-1,Z>>>=E.extra,X-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){O.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(K===0)break e;if(De=Ae-K,E.offset>De){if((De=E.offset-De)>E.whave&&E.sane){O.msg="invalid distance too far back",E.mode=30;break}q=De>E.wnext?(De-=E.wnext,E.wsize-De):E.wnext-De,De>E.length&&(De=E.length),Se=E.window}else Se=qe,q=xe-E.offset,De=E.length;for(K<De&&(De=K),K-=De,E.length-=De;qe[xe++]=Se[q++],--De;);E.length===0&&(E.mode=21);break;case 26:if(K===0)break e;qe[xe++]=E.length,K--,E.mode=21;break;case 27:if(E.wrap){for(;X<32;){if(H===0)break e;H--,Z|=ge[me++]<<X,X+=8}if(Ae-=K,O.total_out+=Ae,E.total+=Ae,Ae&&(O.adler=E.check=E.flags?u(E.check,qe,Ae,xe-Ae):o(E.check,qe,Ae,xe-Ae)),Ae=K,(E.flags?Z:g(Z))!==E.check){O.msg="incorrect data check",E.mode=30;break}X=Z=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;X<32;){if(H===0)break e;H--,Z+=ge[me++]<<X,X+=8}if(Z!==(4294967295&E.total)){O.msg="incorrect length check",E.mode=30;break}X=Z=0}E.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return h}return O.next_out=xe,O.avail_out=K,O.next_in=me,O.avail_in=H,E.hold=Z,E.bits=X,(E.wsize||Ae!==O.avail_out&&E.mode<30&&(E.mode<27||ne!==4))&&Re(O,O.output,O.next_out,Ae-O.avail_out)?(E.mode=31,-4):(Ie-=O.avail_in,Ae-=O.avail_out,O.total_in+=Ie,O.total_out+=Ae,E.total+=Ae,E.wrap&&Ae&&(O.adler=E.check=E.flags?u(E.check,qe,Ae,O.next_out-Ae):o(E.check,qe,Ae,O.next_out-Ae)),O.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(Ie==0&&Ae===0||ne===4)&&ve===b&&(ve=-5),ve)},a.inflateEnd=function(O){if(!O||!O.state)return h;var ne=O.state;return ne.window&&(ne.window=null),O.state=null,b},a.inflateGetHeader=function(O,ne){var E;return O&&O.state&&2&(E=O.state).wrap?((E.head=ne).done=!1,b):h},a.inflateSetDictionary=function(O,ne){var E,ge=ne.length;return O&&O.state?(E=O.state).wrap!==0&&E.mode!==11?h:E.mode===11&&o(1,ne,ge,0)!==E.check?-3:Re(O,ne,ge,ge)?(E.mode=31,-4):(E.havedict=1,b):h},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,a){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(_,f,b,h,j,v,C,g){var x,w,S,I,$,M,P,L,le,Re=g.bits,O=0,ne=0,E=0,ge=0,qe=0,me=0,xe=0,H=0,K=0,Z=0,X=null,Ie=0,Ae=new s.Buf16(16),De=new s.Buf16(16),q=null,Se=0;for(O=0;O<=15;O++)Ae[O]=0;for(ne=0;ne<h;ne++)Ae[f[b+ne]]++;for(qe=Re,ge=15;1<=ge&&Ae[ge]===0;ge--);if(ge<qe&&(qe=ge),ge===0)return j[v++]=20971520,j[v++]=20971520,g.bits=1,0;for(E=1;E<ge&&Ae[E]===0;E++);for(qe<E&&(qe=E),O=H=1;O<=15;O++)if(H<<=1,(H-=Ae[O])<0)return-1;if(0<H&&(_===0||ge!==1))return-1;for(De[1]=0,O=1;O<15;O++)De[O+1]=De[O]+Ae[O];for(ne=0;ne<h;ne++)f[b+ne]!==0&&(C[De[f[b+ne]]++]=ne);if(M=_===0?(X=q=C,19):_===1?(X=o,Ie-=257,q=u,Se-=257,256):(X=d,q=p,-1),O=E,$=v,xe=ne=Z=0,S=-1,I=(K=1<<(me=qe))-1,_===1&&852<K||_===2&&592<K)return 1;for(;;){for(P=O-xe,le=C[ne]<M?(L=0,C[ne]):C[ne]>M?(L=q[Se+C[ne]],X[Ie+C[ne]]):(L=96,0),x=1<<O-xe,E=w=1<<me;j[$+(Z>>xe)+(w-=x)]=P<<24|L<<16|le|0,w!==0;);for(x=1<<O-1;Z&x;)x>>=1;if(x!==0?(Z&=x-1,Z+=x):Z=0,ne++,--Ae[O]==0){if(O===ge)break;O=f[b+C[ne]]}if(qe<O&&(Z&I)!==S){for(xe===0&&(xe=qe),$+=E,H=1<<(me=O-xe);me+xe<ge&&!((H-=Ae[me+xe])<=0);)me++,H<<=1;if(K+=1<<me,_===1&&852<K||_===2&&592<K)return 1;j[S=Z&I]=qe<<24|me<<16|$-v|0}}return Z!==0&&(j[$+Z]=O-xe<<24|64<<16|0),g.bits=qe,0}},{"../utils/common":41}],51:[function(r,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,a){var s=r("../utils/common"),o=0,u=1;function d(F){for(var J=F.length;0<=--J;)F[J]=0}var p=0,_=29,f=256,b=f+1+_,h=30,j=19,v=2*b+1,C=15,g=16,x=7,w=256,S=16,I=17,$=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Re=new Array(2*(b+2));d(Re);var O=new Array(2*h);d(O);var ne=new Array(512);d(ne);var E=new Array(256);d(E);var ge=new Array(_);d(ge);var qe,me,xe,H=new Array(h);function K(F,J,je,de,ue){this.static_tree=F,this.extra_bits=J,this.extra_base=je,this.elems=de,this.max_length=ue,this.has_stree=F&&F.length}function Z(F,J){this.dyn_tree=F,this.max_code=0,this.stat_desc=J}function X(F){return F<256?ne[F]:ne[256+(F>>>7)]}function Ie(F,J){F.pending_buf[F.pending++]=255&J,F.pending_buf[F.pending++]=J>>>8&255}function Ae(F,J,je){F.bi_valid>g-je?(F.bi_buf|=J<<F.bi_valid&65535,Ie(F,F.bi_buf),F.bi_buf=J>>g-F.bi_valid,F.bi_valid+=je-g):(F.bi_buf|=J<<F.bi_valid&65535,F.bi_valid+=je)}function De(F,J,je){Ae(F,je[2*J],je[2*J+1])}function q(F,J){for(var je=0;je|=1&F,F>>>=1,je<<=1,0<--J;);return je>>>1}function Se(F,J,je){var de,ue,he=new Array(C+1),ze=0;for(de=1;de<=C;de++)he[de]=ze=ze+je[de-1]<<1;for(ue=0;ue<=J;ue++){var ke=F[2*ue+1];ke!==0&&(F[2*ue]=q(he[ke]++,ke))}}function we(F){var J;for(J=0;J<b;J++)F.dyn_ltree[2*J]=0;for(J=0;J<h;J++)F.dyn_dtree[2*J]=0;for(J=0;J<j;J++)F.bl_tree[2*J]=0;F.dyn_ltree[2*w]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function re(F){8<F.bi_valid?Ie(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function Ye(F,J,je,de){var ue=2*J,he=2*je;return F[ue]<F[he]||F[ue]===F[he]&&de[J]<=de[je]}function Ee(F,J,je){for(var de=F.heap[je],ue=je<<1;ue<=F.heap_len&&(ue<F.heap_len&&Ye(J,F.heap[ue+1],F.heap[ue],F.depth)&&ue++,!Ye(J,de,F.heap[ue],F.depth));)F.heap[je]=F.heap[ue],je=ue,ue<<=1;F.heap[je]=de}function Ue(F,J,je){var de,ue,he,ze,ke=0;if(F.last_lit!==0)for(;de=F.pending_buf[F.d_buf+2*ke]<<8|F.pending_buf[F.d_buf+2*ke+1],ue=F.pending_buf[F.l_buf+ke],ke++,de===0?De(F,ue,J):(De(F,(he=E[ue])+f+1,J),(ze=M[he])!==0&&Ae(F,ue-=ge[he],ze),De(F,he=X(--de),je),(ze=P[he])!==0&&Ae(F,de-=H[he],ze)),ke<F.last_lit;);De(F,w,J)}function Je(F,J){var je,de,ue,he=J.dyn_tree,ze=J.stat_desc.static_tree,ke=J.stat_desc.has_stree,Qe=J.stat_desc.elems,Ce=-1;for(F.heap_len=0,F.heap_max=v,je=0;je<Qe;je++)he[2*je]!==0?(F.heap[++F.heap_len]=Ce=je,F.depth[je]=0):he[2*je+1]=0;for(;F.heap_len<2;)he[2*(ue=F.heap[++F.heap_len]=Ce<2?++Ce:0)]=1,F.depth[ue]=0,F.opt_len--,ke&&(F.static_len-=ze[2*ue+1]);for(J.max_code=Ce,je=F.heap_len>>1;1<=je;je--)Ee(F,he,je);for(ue=Qe;je=F.heap[1],F.heap[1]=F.heap[F.heap_len--],Ee(F,he,1),de=F.heap[1],F.heap[--F.heap_max]=je,F.heap[--F.heap_max]=de,he[2*ue]=he[2*je]+he[2*de],F.depth[ue]=(F.depth[je]>=F.depth[de]?F.depth[je]:F.depth[de])+1,he[2*je+1]=he[2*de+1]=ue,F.heap[1]=ue++,Ee(F,he,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],function(He,ut){var hr,Mt,Vt,mt,sr,Lt,Ge=ut.dyn_tree,_r=ut.max_code,mr=ut.stat_desc.static_tree,pr=ut.stat_desc.has_stree,Ve=ut.stat_desc.extra_bits,On=ut.stat_desc.extra_base,nn=ut.stat_desc.max_length,sn=0;for(mt=0;mt<=C;mt++)He.bl_count[mt]=0;for(Ge[2*He.heap[He.heap_max]+1]=0,hr=He.heap_max+1;hr<v;hr++)nn<(mt=Ge[2*Ge[2*(Mt=He.heap[hr])+1]+1]+1)&&(mt=nn,sn++),Ge[2*Mt+1]=mt,_r<Mt||(He.bl_count[mt]++,sr=0,On<=Mt&&(sr=Ve[Mt-On]),Lt=Ge[2*Mt],He.opt_len+=Lt*(mt+sr),pr&&(He.static_len+=Lt*(mr[2*Mt+1]+sr)));if(sn!==0){do{for(mt=nn-1;He.bl_count[mt]===0;)mt--;He.bl_count[mt]--,He.bl_count[mt+1]+=2,He.bl_count[nn]--,sn-=2}while(0<sn);for(mt=nn;mt!==0;mt--)for(Mt=He.bl_count[mt];Mt!==0;)_r<(Vt=He.heap[--hr])||(Ge[2*Vt+1]!==mt&&(He.opt_len+=(mt-Ge[2*Vt+1])*Ge[2*Vt],Ge[2*Vt+1]=mt),Mt--)}}(F,J),Se(he,Ce,F.bl_count)}function k(F,J,je){var de,ue,he=-1,ze=J[1],ke=0,Qe=7,Ce=4;for(ze===0&&(Qe=138,Ce=3),J[2*(je+1)+1]=65535,de=0;de<=je;de++)ue=ze,ze=J[2*(de+1)+1],++ke<Qe&&ue===ze||(ke<Ce?F.bl_tree[2*ue]+=ke:ue!==0?(ue!==he&&F.bl_tree[2*ue]++,F.bl_tree[2*S]++):ke<=10?F.bl_tree[2*I]++:F.bl_tree[2*$]++,he=ue,Ce=(ke=0)===ze?(Qe=138,3):ue===ze?(Qe=6,3):(Qe=7,4))}function ve(F,J,je){var de,ue,he=-1,ze=J[1],ke=0,Qe=7,Ce=4;for(ze===0&&(Qe=138,Ce=3),de=0;de<=je;de++)if(ue=ze,ze=J[2*(de+1)+1],!(++ke<Qe&&ue===ze)){if(ke<Ce)for(;De(F,ue,F.bl_tree),--ke!=0;);else ue!==0?(ue!==he&&(De(F,ue,F.bl_tree),ke--),De(F,S,F.bl_tree),Ae(F,ke-3,2)):ke<=10?(De(F,I,F.bl_tree),Ae(F,ke-3,3)):(De(F,$,F.bl_tree),Ae(F,ke-11,7));he=ue,Ce=(ke=0)===ze?(Qe=138,3):ue===ze?(Qe=6,3):(Qe=7,4)}}d(H);var pe=!1;function z(F,J,je,de){Ae(F,(p<<1)+(de?1:0),3),function(ue,he,ze,ke){re(ue),Ie(ue,ze),Ie(ue,~ze),s.arraySet(ue.pending_buf,ue.window,he,ze,ue.pending),ue.pending+=ze}(F,J,je)}a._tr_init=function(F){pe||(function(){var J,je,de,ue,he,ze=new Array(C+1);for(ue=de=0;ue<_-1;ue++)for(ge[ue]=de,J=0;J<1<<M[ue];J++)E[de++]=ue;for(E[de-1]=ue,ue=he=0;ue<16;ue++)for(H[ue]=he,J=0;J<1<<P[ue];J++)ne[he++]=ue;for(he>>=7;ue<h;ue++)for(H[ue]=he<<7,J=0;J<1<<P[ue]-7;J++)ne[256+he++]=ue;for(je=0;je<=C;je++)ze[je]=0;for(J=0;J<=143;)Re[2*J+1]=8,J++,ze[8]++;for(;J<=255;)Re[2*J+1]=9,J++,ze[9]++;for(;J<=279;)Re[2*J+1]=7,J++,ze[7]++;for(;J<=287;)Re[2*J+1]=8,J++,ze[8]++;for(Se(Re,b+1,ze),J=0;J<h;J++)O[2*J+1]=5,O[2*J]=q(J,5);qe=new K(Re,M,f+1,b,C),me=new K(O,P,0,h,C),xe=new K(new Array(0),L,0,j,x)}(),pe=!0),F.l_desc=new Z(F.dyn_ltree,qe),F.d_desc=new Z(F.dyn_dtree,me),F.bl_desc=new Z(F.bl_tree,xe),F.bi_buf=0,F.bi_valid=0,we(F)},a._tr_stored_block=z,a._tr_flush_block=function(F,J,je,de){var ue,he,ze=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=function(ke){var Qe,Ce=4093624447;for(Qe=0;Qe<=31;Qe++,Ce>>>=1)if(1&Ce&&ke.dyn_ltree[2*Qe]!==0)return o;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return u;for(Qe=32;Qe<f;Qe++)if(ke.dyn_ltree[2*Qe]!==0)return u;return o}(F)),Je(F,F.l_desc),Je(F,F.d_desc),ze=function(ke){var Qe;for(k(ke,ke.dyn_ltree,ke.l_desc.max_code),k(ke,ke.dyn_dtree,ke.d_desc.max_code),Je(ke,ke.bl_desc),Qe=j-1;3<=Qe&&ke.bl_tree[2*le[Qe]+1]===0;Qe--);return ke.opt_len+=3*(Qe+1)+5+5+4,Qe}(F),ue=F.opt_len+3+7>>>3,(he=F.static_len+3+7>>>3)<=ue&&(ue=he)):ue=he=je+5,je+4<=ue&&J!==-1?z(F,J,je,de):F.strategy===4||he===ue?(Ae(F,2+(de?1:0),3),Ue(F,Re,O)):(Ae(F,4+(de?1:0),3),function(ke,Qe,Ce,He){var ut;for(Ae(ke,Qe-257,5),Ae(ke,Ce-1,5),Ae(ke,He-4,4),ut=0;ut<He;ut++)Ae(ke,ke.bl_tree[2*le[ut]+1],3);ve(ke,ke.dyn_ltree,Qe-1),ve(ke,ke.dyn_dtree,Ce-1)}(F,F.l_desc.max_code+1,F.d_desc.max_code+1,ze+1),Ue(F,F.dyn_ltree,F.dyn_dtree)),we(F),de&&re(F)},a._tr_tally=function(F,J,je){return F.pending_buf[F.d_buf+2*F.last_lit]=J>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&J,F.pending_buf[F.l_buf+F.last_lit]=255&je,F.last_lit++,J===0?F.dyn_ltree[2*je]++:(F.matches++,J--,F.dyn_ltree[2*(E[je]+f+1)]++,F.dyn_dtree[2*X(J)]++),F.last_lit===F.lit_bufsize-1},a._tr_align=function(F){Ae(F,2,3),De(F,w,Re),function(J){J.bi_valid===16?(Ie(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0):8<=J.bi_valid&&(J.pending_buf[J.pending++]=255&J.bi_buf,J.bi_buf>>=8,J.bi_valid-=8)}(F)}},{"../utils/common":41}],53:[function(r,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,a){(function(s){(function(o,u){if(!o.setImmediate){var d,p,_,f,b=1,h={},j=!1,v=o.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(o);C=C&&C.setTimeout?C:o,d={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){x(S)})}:function(){if(o.postMessage&&!o.importScripts){var S=!0,I=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=I,S}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(S){o.postMessage(f+S,"*")}):o.MessageChannel?((_=new MessageChannel).port1.onmessage=function(S){x(S.data)},function(S){_.port2.postMessage(S)}):v&&"onreadystatechange"in v.createElement("script")?(p=v.documentElement,function(S){var I=v.createElement("script");I.onreadystatechange=function(){x(S),I.onreadystatechange=null,p.removeChild(I),I=null},p.appendChild(I)}):function(S){setTimeout(x,0,S)},C.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var I=new Array(arguments.length-1),$=0;$<I.length;$++)I[$]=arguments[$+1];var M={callback:S,args:I};return h[b]=M,d(b),b++},C.clearImmediate=g}function g(S){delete h[S]}function x(S){if(j)setTimeout(x,0,S);else{var I=h[S];if(I){j=!0;try{(function($){var M=$.callback,P=$.args;switch(P.length){case 0:M();break;case 1:M(P[0]);break;case 2:M(P[0],P[1]);break;case 3:M(P[0],P[1],P[2]);break;default:M.apply(u,P)}})(I)}finally{g(S),j=!1}}}}function w(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(f)===0&&x(+S.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof cs<"u"?cs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Jg);var A1=Jg.exports;const P1=Zc(A1),nf=e=>{if(e<1){const t=e*1e3;return t>=100?`${t.toLocaleString("fr-FR").replace(/,/g," ")} MB`:`${t} MB`}return`${e} GB`},Bh=(e,t)=>t==="Kbps"&&e>=1e3?e.toLocaleString("fr-FR").replace(/,/g," "):e.toString(),$1=e=>{var r,n;const t=(n=(r=import.meta)==null?void 0:r.env)==null?void 0:n.VITE_IMG_PROXY_BASE;return t&&typeof t=="string"&&t.length>0?`${t}${encodeURIComponent(e)}`:e},R1=async(e,t,r)=>{try{const n=await fetch(e,{headers:{Accept:"image/*"},mode:"cors"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await(await n.blob()).arrayBuffer(),o=r.folder("images");return o==null||o.file(t,s),`images/${t}`}catch(n){throw console.error("Image download failed:",e,n),n instanceof TypeError&&(n.message.includes("Failed to fetch")||n.message.includes("CORS")||n.message.includes("Access-Control-Allow-Origin"))?new Error("CORS_ERROR"):n}},M1=(e,t="")=>{const n=(e.split("/").pop()||"image.jpg").replace(/[^a-zA-Z0-9._-]/g,"_");return`${t}${n}`},sf=(e,t,r,n="remote",a)=>{var M;const s="title"in e,o=s?e.title:e.name,u=s?e.release_date:e.first_air_date,d=t.crew.find(P=>P.job==="Director"),p=t.crew.filter(P=>P.job==="Writer"||P.job==="Screenplay"),_=t.cast.slice(0,6),f=e.id,b=s?e.imdb_id:(M=e.external_ids)==null?void 0:M.imdb_id,h=s?e.budget:void 0,j=s?e.revenue:void 0,v=f?s?`https://www.themoviedb.org/movie/${f}`:`https://www.themoviedb.org/tv/${f}`:void 0,C=P=>typeof P=="number"&&P>0?P.toLocaleString("fr-FR",{style:"currency",currency:"USD",maximumFractionDigits:0}):null,g=s?void 0:e.created_by,x=s?void 0:e.last_air_date,w=s?[]:e.episode_run_time||[],S=!s&&w.length?Math.round(w.reduce((P,L)=>P+L,0)/w.length):void 0,I=P=>typeof P=="number"&&P>0?`${Math.floor(P/60)}h${(P%60).toString().padStart(2,"0")}`:null,$=P=>n==="remote"?P:n==="embedded"?(a==null?void 0:a.get(P))||P:n==="local"&&(a==null?void 0:a.get(P))||P;return`<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #1e1b4b, #312e81, #3730a3); min-height: 100vh; color: white; }
        .container { max-width: 1200px; margin: 0 auto; background: linear-gradient(135deg, #1f2937, #374151, #1f2937); border-radius: 16px; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .header { position: relative; height: 420px; background-size: cover; }
        .header::before { content: ''; position: absolute; inset: 0; background: linear-gradient(to right, rgba(0,0,0,0.8), rgba(0,0,0,0.4), transparent); }
        .header::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to top, #1f2937, transparent); }
        .header-content { position: absolute; bottom: 0; left: 0; right: 0; padding: 32px; z-index: 10; }
        .header-flex { display: flex; align-items: end; gap: 24px; }
        .poster { width: 192px; height: 288px; border-radius: 12px; object-fit: cover; border: 4px solid rgba(255,255,255,0.2); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .title-info { flex: 1; padding-bottom: 16px; }
        .title { font-size: 48px; font-weight: bold; margin-bottom: 8px; }
        .original-title { font-size: 20px; color: #d1d5db; margin-bottom: 16px; }
        .meta-info { display: flex; align-items: center; gap: 24px; margin-bottom: 16px; }
        .rating { display: flex; align-items: center; color: #fbbf24; }
        .star { width: 20px; height: 20px; fill: currentColor; margin-right: 4px; }
        .genres { display: flex; flex-wrap: wrap; gap: 8px; }
        .genre { padding: 4px 12px; background: rgba(139, 92, 246, 0.3); color: #c4b5fd; border-radius: 9999px; font-size: 14px; border: 1px solid rgba(139, 92, 246, 0.3); }
        .content { padding: 32px; }
        .grid { display: grid; grid-template-columns: 2fr 1fr; gap: 32px; }
        .section { margin-bottom: 32px; }
        .section-title { font-size: 24px; font-weight: bold; margin-bottom: 16px; display: flex; align-items: center; }
        /*.icon { width: 24px; height: 24px; margin-right: 12px; color: #a78bfa; }*/
        .synopsis { font-size: 18px; line-height: 1.75; color: #d1d5db; }
        .tagline { color: #c4b5fd; font-style: italic; font-size: 18px; margin-top: 16px; border-left: 4px solid #8b5cf6; padding-left: 16px; }
        .cast-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
        .cast-member { background: rgba(31, 41, 55, 0.5); border-radius: 12px; padding: 16px; text-align: center; }
        .cast-photo { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin: 0 auto 12px; background: #374151; }
        .cast-name { font-weight: 600; font-size: 14px; }
        .cast-character { color: #9ca3af; font-size: 12px; margin-top: 4px; }
        .sidebar { display: flex; flex-direction: column; gap: 24px; }
        .icon { width: 24px; height: 24px; margin-right: 12px; color: #8b5cf6; padding: 0.25rem; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
        .info-card { background: rgba(31, 41, 55, 0.5); border-radius: 12px; padding: 0 24px 24px 24px; }
        .info-card h3 { font-size: 20px; font-weight: bold; margin-bottom: 16px; }
        .info-item { margin-bottom: 12px; }
        .info-label { color: #9ca3af; font-size: 14px; }
        .info-value { font-weight: 500; margin-top: 4px;}
        .info-value a { --tw-text-opacity: 1; color: rgb(96 165 250 / var(--tw-text-opacity, 1)); text-decoration: none; }
        .info-value a:hover { --tw-text-opacity: 1; color: rgb(147 197 253 / var(--tw-text-opacity, 1)); text-decoration: none; }
        .studio-item { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; }
        .studio-logo { width: 32px; height: 32px; object-fit: contain; background: white; border-radius: 4px; padding: 2px; }
        .info-note { color: #9ca3af; font-size: 14px; white-space: pre-line; }
        .specs-section { margin-bottom: 16px; }
        .specs-title { font-size: 18px; font-weight: 600; margin-bottom: 8px; }
        .video-title { color: #c4b5fd; }
        .audio-title { color: #86efac; }
        .subtitle-title { color: #fde047; }
        .spec-item { display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 8px; }
        .track { background: rgba(55, 65, 81, 0.5); border-radius: 8px; padding: 12px; margin-bottom: 8px; }
        .track-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
        .track-name { font-weight: 500; font-size: 14px; }
        .track-codec { color: #9ca3af; font-size: 12px; }
        .track-details { display: flex; justify-content: space-between; font-size: 12px; color: #9ca3af; }
        .text-gray-400 { --tw-text-opacity: 1; color: rgb(156 163 175 / var(--tw-text-opacity, 1));}
    </style>
</head>
<body>
    <div class="container">
        <div class="header" style="background-image: url('${$(`https://image.tmdb.org/t/p/w1280${e.backdrop_path}`)}')">
            <div class="header-content">
                <div class="header-flex">
                    <img
                        src="${$(`https://image.tmdb.org/t/p/original${e.poster_path}`)}"
                        alt="${o}"
                        class="poster"
                    />
                    <div class="title-info">
                        <h1 class="title">${o}</h1>
                        ${s&&e.original_title!==o||!s&&e.original_name!==o?`<h2 class="original-title">${s?e.original_title:e.original_name}</h2>`:""}
                        <div class="meta-info">
                            <div class="rating">
                                <svg class="star" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                                <span style="font-size: 18px; font-weight: 600;">${e.vote_average.toFixed(1)}</span>
                                <span style="color: #9ca3af; margin-left: 4px;">(${e.vote_count.toLocaleString()} votes)</span>
                            </div>
                            <div style="color: #d1d5db;"> <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 25 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar w-5 h-5 mr-2"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg> ${new Date(u).getFullYear()}</div>
                            ${s?`<div style="color: #d1d5db;"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 25 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock w-5 h-5 mr-2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> ${Math.floor(e.runtime/60)}h${(e.runtime%60).toString().padStart(2,"0")}</div>`:`<div style="color: #d1d5db;">${e.number_of_seasons} saison${e.number_of_seasons>1?"s":""}</div>`}
                        </div>
                        <div class="genres">
                            ${e.genres.map(P=>`<span class="genre">${P.name}</span>`).join("")}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content">
            <div class="grid">
                <div>
                    ${e.tagline?`
                    <div class="section" style="text-align: center; margin-bottom: 32px;">
                        <p style="color: #c4b5fd; font-style: italic; font-size: 24px; font-weight: 500; line-height: 1.75;">"${e.tagline}"</p>
                    </div>
                    `:""}
                    
                    <div class="section">
                        <h3 class="section-title">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M2 7h20v13H2z"/><path d="M17 2l-5 5-5-5"/></svg>
                             Synopsis
                        </h3>
                        <p class="synopsis">${e.overview||"Aucun synopsis disponible."}</p>
                    </div>
                    
                    ${_.length>0?`
                    <div class="section">
                        <h3 class="section-title">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                            Casting principal
                        </h3>
                        <div class="cast-grid">
                            ${_.map(P=>`
                                <div class="cast-member">
                                    ${P.profile_path?`<img src="${$(`https://image.tmdb.org/t/p/w185${P.profile_path}`)}" alt="${P.name}" class="cast-photo">`:'<div class="cast-photo"></div>'}
                                    <h4 class="cast-name">${P.name}</h4>
                                    <p class="cast-character">${P.character}</p>
                                </div>
                            `).join("")}
                        </div>
                    </div>
                    `:""}
                    ${r&&r.notes?`
                    <div class="section">
                      <h3 class="section-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/></svg>
                        Notes
                      </h3>
                      <p class="info-note">${r.notes}</p>
                    </div>
                    `:""}
                </div>
                
                <div class="sidebar">
                    ${r?`
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                           <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M7 3v18"/><path d="M3 7.5h4"/><path d="M3 12h18"/><path d="M3 16.5h4"/><path d="M17 3v18"/><path d="M17 7.5h4"/><path d="M17 16.5h4"/></svg>
                           Spcifications techniques
                        </h3>
                        
                        <div class="specs-section">
                            <h4 class="specs-title video-title">Vido</h4>
                            <div class="spec-item"><span class="text-gray-400">Qualit : </span><span>${r.video.quality}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Format : </span><span>${r.video.format}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Codec : </span><span>${r.video.codec}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Dbit : </span><span>${Bh(r.video.bitrate,r.video.bitrateUnit)} ${r.video.bitrateUnit}</span></div>
                            <div class="spec-item"><span class="text-gray-400">Taille : </span><span>${nf(r.video.size)}</span></div>
                            ${r.source?`<div class="spec-item"><span class="text-gray-400">Source :</span><span>${r.source}</span></div>`:""}
                            
                        </div>
                        
                        <div class="specs-section">
                            <h4 class="specs-title audio-title">Audio</h4>
                            ${r.audio.map(P=>`
                                <div class="track">
                                    <div class="track-header">
                                        <span class="track-name">${P.language} ${P.isDefault?"(Dfaut)":""}</span>
                                        <span class="track-codec">${P.codec}</span>
                                    </div>
                                    <div class="track-details">
                                        <span>${P.channels}</span>
                                        <span>${Bh(P.bitrate,P.bitrateUnit)} ${P.bitrateUnit}</span>
                                    </div>
                                </div>
                            `).join("")}
                        </div>
                        
                        ${r.subtitles.length>0?`
                        <div class="specs-section">
                            <h4 class="specs-title subtitle-title">Sous-titres</h4>
                            ${r.subtitles.map(P=>`
                                <div class="track">
                                    <div class="track-header">
                                        <span class="track-name">${P.language} ${P.isDefault?"(Dfaut)":""} ${P.isForced?"(Forc)":""}</span>
                                        <span class="track-codec">${P.format}</span>
                                    </div>
                                    <div class="track-details">
                                        <span>${P.type==="embedded"?"Intgr":"Externe"}</span>
                                    </div>
                                </div>
                            `).join("")}
                        </div>
                        `:""}
                        <div class="spec-item"><span class="text-gray-400">Nombre de fichiers:</span><span>${r.numberOfFiles||(s?1:e.number_of_episodes||1)}</span></br></div>
                        ${r.releaseGroup?`<div class="spec-item"><span class="text-gray-400">${r.releaseGroup}</span></div>`:""}
                    </div>
                    `:""}
                    
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                            Infos
                        </h3>
                        ${d?`<div class="info-item"><div class="info-label">Ralisateur</div><div class="info-value">${d.name}</div></div>`:""}
                        ${p.length>0?`<div class="info-item"><div class="info-label">Scnariste${p.length>1?"s":""}</div><div class="info-value">${p.map(P=>P.name).join(", ")}</div></div>`:""}
                        ${!s&&g&&g.length?`<div class="info-item"><div class="info-label">Crateurs</div><div class="info-value">${g.map(P=>P.name).join(", ")}</div></div>`:""}
                        <div class="info-item"><div class="info-label">${s?"Date de sortie":"Premire diffusion"}</div><div class="info-value">${new Date(u).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}</div></div>
                        ${!s&&x?`<div class="info-item"><div class="info-label">Dernire diffusion</div><div class="info-value">${new Date(x).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}</div></div>`:""}
                        ${s?`
    <div class="info-item"><div class="info-label">Dure</div><div class="info-value">${Math.floor(e.runtime/60)}h${(e.runtime%60).toString().padStart(2,"0")}</div></div>
  `:`
    <div class="info-item"><div class="info-label">Nombre de saisons</div><div class="info-value">${e.number_of_seasons}</div></div>
    <div class="info-item"><div class="info-label">Nombre d'pisodes</div><div class="info-value">${e.number_of_episodes}</div></div>
    ${S?`<div class="info-item"><div class="info-label">Dure moyenne</div><div class="info-value">${I(S)||S+" min"}</div></div>`:""}
  `}
                        ${s&&C(h)?`<div class="info-item"><div class="info-label">Budget</div><div class="info-value">${C(h)}</div></div>`:""}
                        ${s&&C(j)?`<div class="info-item"><div class="info-label">Recettes</div><div class="info-value">${C(j)}</div></div>`:""}
                        ${b?`<div class="info-item"><div class="info-label">IMDB ID</div><div class="info-value"><a href="https://www.imdb.com/title/${b}/" target="_blank" rel="noopener noreferrer">${b}</a></div></div>`:""}
                        ${f?`<div class="info-item"><div class="info-label">TMDB ID</div><div class="info-value"><a href="${v}" target="_blank" rel="noopener noreferrer">${f}</a></div></div>`:""}
                    </div>
                    
                    <div class="info-card">
                        <h3 style="display: flex; align-items: center;">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="white"><circle cx="12" cy="12" r="10"/> <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
                            Production
                        </h3>
                        ${e.production_companies&&e.production_companies.length>0?`
                        <div class="info-item">
                            <div class="info-label">Studios</div>
                            <div class="info-value">
                                ${e.production_companies.slice(0,3).map(P=>`
                                    <div class="studio-item">
                                        ${P.logo_path?`<img src="${$(`https://image.tmdb.org/t/p/w92${P.logo_path}`)}" alt="${P.name}" class="studio-logo">`:""}
                                        <span>${P.name}</span>
                                    </div>
                                `).join("")}
                            </div>
                        </div>
                        `:""}
                        ${e.production_countries&&e.production_countries.length>0?`
                        <div class="info-item">
                            <div class="info-label">Pays</div>
                            <div class="info-value">${e.production_countries.map(P=>P.name).join(", ")}</div>
                        </div>
                        `:""}
                        ${e.spoken_languages&&e.spoken_languages.length>0?`
                        <div class="info-item">
                            <div class="info-label">Langues</div>
                            <div class="info-value">${e.spoken_languages.map(P=>P.name).join(", ")}</div>
                        </div>
                        `:""}
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>`},e0=async(e,t,r)=>{console.log("Starting HTML export with images...");const a="title"in e?e.title:e.name,s=new P1;s.folder("images");const o=new Map,u=[],d=(h,j)=>{if(!h)return;const v=M1(h,j);u.some(C=>C.url===h)||u.push({url:h,filename:v})};if(e.backdrop_path){const h=`https://image.tmdb.org/t/p/w1280${e.backdrop_path}`;d(h,"backdrop_")}if(e.poster_path){const h=`https://image.tmdb.org/t/p/original${e.poster_path}`;d(h,"poster_")}if(t.cast.slice(0,6).forEach((h,j)=>{if(h.profile_path){const v=`https://image.tmdb.org/t/p/w185${h.profile_path}`;d(v,`actor_${j+1}_`)}}),e.production_companies&&e.production_companies.slice(0,3).forEach((h,j)=>{if(h.logo_path){const v=`https://image.tmdb.org/t/p/w92${h.logo_path}`;d(v,`studio_${j+1}_`)}}),u.length>0){console.log("Testing CORS with first image...");try{if(!(await fetch(u[0].url,{method:"HEAD",mode:"cors"})).ok)throw new Error("Test fetch failed");console.log("CORS test passed, proceeding with download...")}catch(h){return console.log("CORS test failed:",h),{success:!1,error:"CORS_ERROR"}}}try{console.log(`Attempting to download ${u.length} images...`);for(const{url:h,filename:j}of u){console.log(`Downloading image: ${h}`);const v=$1(h),C=await R1(v,j,s);o.set(h,C)}console.log("All images downloaded successfully")}catch(h){return console.error("Error during image download:",h),h instanceof Error&&h.message==="CORS_ERROR"?(console.log("CORS error detected, returning error status"),{success:!1,error:"CORS_ERROR"}):{success:!1,error:"DOWNLOAD_ERROR"}}console.log("Generating HTML with local paths...");const p=sf(e,t,r,"local",o);s.file("index.html",p),console.log("Generating ZIP file...");const _=await s.generateAsync({type:"blob"}),f=URL.createObjectURL(_),b=document.createElement("a");return b.href=f,b.download=`${a.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_complete.zip`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(f),console.log("Export completed successfully"),{success:!0}},t0=(e,t,r)=>{const n="title"in e,a=n?e.title:e.name,s=n?e.release_date:e.first_air_date;return`# ${a}

${e.poster_path?`![${a}](https://image.tmdb.org/t/p/w500${e.poster_path})`:""}

## Informations gnrales

- **Date de sortie:** ${s||"N/A"}
- **Note TMDB:** ${e.vote_average}/10
${n?`- **Dure:** ${e.runtime} min`:`- **Saisons:** ${e.number_of_seasons}`}
- **Genres:** ${e.genres.map(o=>o.name).join(", ")}

## Synopsis

${e.overview||"Aucun synopsis disponible."}

## Distribution

${t.cast.slice(0,10).map(o=>`- **${o.name}** - ${o.character}`).join(`
`)}

${r?`
## Spcifications Techniques

| Proprit | Valeur |
|-----------|--------|
| Qualit | ${r.video.quality} |
| Format | ${r.video.format} |
| Codec Vido | ${r.video.codec} |
| Taille | ${nf(r.video.size)} |
| Audio | ${r.audio.map(o=>`${o.language} ${o.codec} ${o.channels}`).join(", ")} |
| Sous-titres | ${r.subtitles.map(o=>`${o.language} (${o.format})`).join(", ")} |
${r.releaseGroup?`| Release | ${r.releaseGroup} |`:""}
| Nb de fichiers | ${r.numberOfFiles||(n?1:e.number_of_episodes||1)} |
${r.notes?`| Notes | ${r.notes} |`:""}
`:""}`},r0=(e,t,r)=>{const n="title"in e,a=n?e.title:e.name,s=n?e.release_date:e.first_air_date;return`${a}
${"=".repeat(a.length)}

INFORMATIONS GNRALES
Date de sortie: ${s||"N/A"}
Note TMDB: ${e.vote_average}/10
${n?`Dure: ${e.runtime} min`:`Saisons: ${e.number_of_seasons}`}
Genres: ${e.genres.map(o=>o.name).join(", ")}

SYNOPSIS
${e.overview||"Aucun synopsis disponible."}

DISTRIBUTION
${t.cast.slice(0,10).map(o=>`${o.name} - ${o.character}`).join(`
`)}

${r?`
SPCIFICATIONS TECHNIQUES
Qualit: ${r.video.quality}
Format: ${r.video.format}
Codec Vido: ${r.video.codec}
Taille: ${nf(r.video.size)}
Audio: ${r.audio.map(o=>`${o.language} ${o.codec} ${o.channels}`).join(", ")}
Sous-titres: ${r.subtitles.map(o=>`${o.language} (${o.format})`).join(", ")}
${r.releaseGroup?`Release: ${r.releaseGroup}`:""}
Nb de fichiers: ${r.numberOfFiles||(n?1:e.number_of_episodes||1)}
${r.notes?`Notes: ${r.notes}`:""}
`:""}`},Ts=(e,t,r)=>{const n=new Blob([e],{type:r}),a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)};function F1({style:e,title:t,year:r,director:n,actors:a,genres:s,rating:o,runtime:u,quality:d="1080p",format:p="MKV",codec:_="H.264"}){const{t:f}=Bt(),b=h=>{const j=[],v=Math.floor(h),C=h-v>=.5;for(let x=0;x<v;x++)j.push(i.jsx(Ds,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},x));C&&j.push(i.jsx(Ds,{className:"w-3 h-3 fill-yellow-400/50 text-yellow-400"},"half"));const g=5-v-(C?1:0);for(let x=0;x<g;x++)j.push(i.jsx(Ds,{className:"w-3 h-3 text-gray-400"},`empty-${x}`));return j};switch(e){case 1:return i.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-center text-xs",children:[i.jsx("div",{className:"text-red-400 font-bold text-lg mb-3",children:t}),i.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded mx-auto mb-3 flex items-center justify-center",children:i.jsx(hn,{className:"w-6 h-6 text-gray-500"})}),i.jsxs("div",{className:"space-y-1 text-left text-gray-300",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-white font-semibold",children:[f("card.director"),":"]})," ",n]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-white font-semibold",children:[f("card.cast"),":"]})," ",a.slice(0,3).join(", ")]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-white font-semibold",children:[f("card.genres"),":"]})," ",s.slice(0,2).join(", ")]}),i.jsxs("div",{className:"flex items-center",children:[b(o)," ",i.jsx("span",{className:"ml-1",children:o.toFixed(1)})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-white font-semibold",children:[f("specs.quality"),":"]})," ",d]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-white font-semibold",children:[f("specs.format"),":"]})," ",p]})]})]});case 2:return i.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:[i.jsx("div",{className:"text-white font-bold text-lg mb-2 text-center",children:t}),i.jsxs("div",{className:"text-gray-400 text-center mb-3",children:["(",r,")"]}),i.jsx("div",{className:"w-16 h-24 bg-gray-700 rounded mx-auto mb-3 flex items-center justify-center",children:i.jsx(hn,{className:"w-6 h-6 text-gray-500"})}),i.jsxs("div",{className:"space-y-1 text-left text-gray-300",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"text-xs mr-1",children:""}),i.jsxs("span",{className:"text-white font-semibold text-xs",children:[f("card.director"),":"]}),i.jsx("span",{className:"ml-1 text-xs",children:n})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"text-xs mr-1",children:""}),i.jsxs("span",{className:"text-white font-semibold text-xs",children:[f("card.genres"),":"]}),i.jsx("span",{className:"ml-1 text-xs",children:s.slice(0,2).join(", ")})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"text-xs mr-1",children:""}),i.jsxs("span",{className:"text-white font-semibold text-xs",children:[f("card.cast"),":"]})]}),i.jsx("div",{className:"ml-3 space-y-0.5",children:a.slice(0,2).map((h,j)=>i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"text-xs mr-1",children:""}),i.jsx("span",{className:"text-xs",children:h})]},j))})]})]});case 3:return i.jsx("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:i.jsx("div",{className:"border border-gray-700 rounded p-3",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-12 h-18 bg-gray-700 rounded flex items-center justify-center flex-shrink-0",children:i.jsx(hn,{className:"w-4 h-4 text-gray-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"text-white font-bold text-lg",children:[t," ",i.jsxs("span",{className:"text-gray-400 text-sm",children:[" ",r]})]}),i.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:["(US)  ",s.slice(0,2).join(", "),"  ",u]}),i.jsx("div",{className:"border-t border-gray-700 my-2"}),i.jsx("div",{className:"italic text-gray-300 text-xs",children:"Un film  dcouvrir..."}),i.jsx("div",{className:"flex items-center mt-2",children:b(o)}),i.jsxs("div",{className:"mt-3 space-y-1 text-gray-300",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-gray-500",children:[f("card.director"),":"]})," ",n]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-gray-500",children:[f("card.cast"),":"]})," ",a.slice(0,2).join(", ")]})]})]})]})})});case 4:return i.jsx("div",{className:"bg-gray-900 rounded-lg p-4 text-xs",children:i.jsxs("div",{className:"border border-gray-700 rounded p-2",children:[i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx("div",{className:"w-10 h-14 bg-gray-700 rounded flex items-center justify-center",children:i.jsx(hn,{className:"w-3 h-3 text-gray-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-bold text-sm",children:t}),i.jsxs("div",{className:"text-gray-400 text-xs",children:[s.slice(0,2).join(", ")," - ",u]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"TMDB"}),b(o)]}),i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:f("card.director")}),i.jsx("span",{className:"text-white",children:n.split(" ")[0]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:f("specs.quality")}),i.jsxs("span",{className:"text-white",children:[d," ",p]})]})]})]})]}),i.jsx("div",{className:"text-center text-gray-500 text-xs mt-2 border-t border-gray-700 pt-1",children:"Filmothque"})]})});default:return null}}function af({isOpen:e,onClose:t,bbcode:r,title:n,onStyleChange:a,movieData:s,tvShowData:o,ebookData:u,credits:d}){const{t:p}=Bt(),[_,f]=V.useState(!1),[b,h]=V.useState(1),[j,v]=V.useState(r);if(rr.useEffect(()=>{v(r)},[r]),rr.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const C=async()=>{try{await navigator.clipboard.writeText(j),f(!0),setTimeout(()=>f(!1),2e3)}catch(I){console.error("Erreur lors de la copie:",I)}},g=()=>{const I=new Blob([j],{type:"text/plain"}),$=URL.createObjectURL(I),M=document.createElement("a");M.href=$,M.download=`${n.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_bbcode.txt`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL($)},x=I=>{h(I),a&&a(I)},S=(()=>{if(s&&d){const I=d.crew.find(M=>M.job==="Director"),$=d.cast.slice(0,6);return{title:s.title,year:new Date(s.release_date).getFullYear().toString(),director:(I==null?void 0:I.name)||"N/A",actors:$.map(M=>M.name),genres:s.genres.map(M=>M.name),rating:s.vote_average/2,runtime:s.runtime?`${Math.floor(s.runtime/60)}h${(s.runtime%60).toString().padStart(2,"0")}`:"N/A"}}else if(o&&d){const I=d.crew.filter(P=>P.job==="Creator"||P.job==="Executive Producer"),$=d.cast.slice(0,6),M=o.episode_run_time.length>0?Math.round(o.episode_run_time.reduce((P,L)=>P+L,0)/o.episode_run_time.length):0;return{title:o.name,year:new Date(o.first_air_date).getFullYear().toString(),director:I.slice(0,2).map(P=>P.name).join(", ")||"N/A",actors:$.map(P=>P.name),genres:o.genres.map(P=>P.name),rating:o.vote_average/2,runtime:M>0?`${M} min`:"N/A"}}else if(u){const I=u.volumeInfo.authors||[];return{title:u.volumeInfo.title,year:new Date(u.volumeInfo.publishedDate).getFullYear().toString(),director:I.join(", "),actors:[],genres:u.volumeInfo.categories||[],rating:u.volumeInfo.averageRating||0,runtime:u.volumeInfo.pageCount?`${u.volumeInfo.pageCount} pages`:"N/A"}}return null})();return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full min-h-[90vh] max-h-none shadow-2xl border border-gray-700 flex flex-col mt-20 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(tu,{className:"w-6 h-6 text-violet-400 mr-3"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:p("export.title")})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 p-6 overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(Ab,{className:"w-5 h-5 text-violet-400 mr-2"}),i.jsx("span",{className:"text-white font-medium",children:p("export.style")})]}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(I=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:()=>x(I),className:`w-full p-3 rounded-lg border-2 transition-all ${b===I?"border-violet-500 bg-violet-500/20 text-white":"border-gray-600 bg-gray-700/50 text-gray-300 hover:border-gray-500"}`,children:[i.jsxs("div",{className:"text-sm font-medium",children:["Style ",I]}),i.jsx("div",{className:"text-xs mt-1 opacity-75",children:p(u?I===1?"export.modal.style.complete":I===2?"export.modal.style.minimalist":"export.modal.style.modern":I===1?"export.modal.style.classic":I===2?"export.modal.style.minimalist":"export.modal.style.modern.emux")})]}),S&&i.jsx("div",{className:`border-2 rounded-lg transition-all ${b===I?"border-violet-500/50":"border-gray-600/30"}`,children:i.jsx(F1,{style:I,title:S.title,year:S.year,director:S.director,actors:S.actors,genres:S.genres,rating:S.rating,runtime:S.runtime})})]},I))})]}),i.jsxs("p",{className:"text-gray-300 mb-4",children:[p("export.modal.desc")," ",i.jsx("strong",{children:n}),".",p("export.modal.desc.suffix")]}),i.jsxs("div",{className:"flex space-x-3 mb-4",children:[i.jsxs("button",{onClick:C,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${_?"bg-green-600 text-white":"bg-violet-600 hover:bg-violet-500 text-white"}`,children:[_?i.jsx(Ya,{className:"w-4 h-4"}):i.jsx(qc,{className:"w-4 h-4"}),i.jsx("span",{children:p(_?"nfo.viewer.copied":"export.copy")})]}),i.jsxs("button",{onClick:g,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:p("export.download")})]})]})]}),i.jsxs("div",{className:"flex-1 bg-gray-900 rounded-xl border border-gray-600 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-700 px-4 py-2 border-b border-gray-600",children:i.jsx("span",{className:"text-gray-300 text-sm font-medium",children:p("export.modal.generated")})}),i.jsx("textarea",{value:j,onChange:I=>v(I.target.value),className:"w-full h-full p-4 bg-transparent text-gray-300 text-sm font-mono leading-relaxed resize-none border-none outline-none",style:{minHeight:"400px"},placeholder:p("export.modal.placeholder")})]})]}),i.jsx("div",{className:"p-6 border-t border-gray-700",children:i.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:i.jsxs("p",{className:"text-blue-300 text-sm",children:[i.jsx("strong",{children:p("export.modal.warning")})," ",p("export.modal.warning.desc")]})})})]})})}function n0({isOpen:e,onClose:t,onSelect:r,movieId:n,tvShowId:a,currentPoster:s,mediaType:o}){const{t:u}=Bt(),[d,p]=V.useState([]),[_,f]=V.useState(!1),[b,h]=V.useState(s);V.useEffect(()=>{e&&(n||a)&&j()},[e,n,a]);const j=async()=>{f(!0);try{let g;if(o==="movie"&&n?g=await pt.getMovieImages(n):o==="tv"&&a&&(g=await pt.getTVImages(a)),console.log("TMDB Images Response:",g),g&&g.posters){const x=g.posters.sort((w,S)=>{const I=(w.vote_average||0)*(w.vote_count||0),$=(S.vote_average||0)*(S.vote_count||0);return $!==I?$-I:S.height-w.height});p(x),console.log("Sorted Posters:",x)}else console.log("No posters found in response")}catch(g){console.error("Erreur lors du chargement des affiches:",g)}f(!1)},v=()=>{b&&(r(b),t())},C=g=>{h(g)};return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-6xl w-full max-h-[90vh] shadow-2xl border border-gray-700 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Wi,{className:"w-6 h-6 text-violet-400 mr-3"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:u("poster.choose")})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 p-6 overflow-hidden",children:[i.jsx("p",{className:"text-gray-300 mb-6",children:u("poster.description")}),_?i.jsxs("div",{className:"flex items-center justify-center h-64",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-500"}),i.jsx("span",{className:"text-white text-lg ml-4",children:u("poster.loading")})]}):i.jsxs("div",{className:"overflow-auto max-h-[60vh]",children:[i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:d.map((g,x)=>i.jsxs("div",{className:`relative cursor-pointer rounded-lg overflow-hidden transition-all duration-200 hover:scale-105 ${b===g.file_path?"ring-4 ring-violet-500 shadow-lg shadow-violet-500/25":"hover:ring-2 hover:ring-gray-400"}`,onClick:()=>C(g.file_path),children:[i.jsx("div",{className:"aspect-[2/3] bg-gray-700",children:i.jsx("img",{src:pt.getImageUrl(g.file_path,"w342"),alt:`Affiche ${x+1}`,className:"w-full h-full object-cover",loading:"lazy"})}),b===g.file_path&&i.jsx("div",{className:"absolute inset-0 bg-violet-500/20 flex items-center justify-center",children:i.jsx("div",{className:"bg-violet-500 rounded-full p-2",children:i.jsx(Ya,{className:"w-6 h-6 text-white"})})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:i.jsxs("div",{className:"text-white text-xs",children:[i.jsxs("div",{children:[g.width,"",g.height]}),g.vote_count>0&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-yellow-400",children:""}),i.jsx("span",{className:"ml-1",children:g.vote_average.toFixed(1)})]})]})})]},g.file_path))}),d.length===0&&!_&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Wi,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-400 text-lg",children:u("poster.none")}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Vrifiez la console pour plus d'informations de dbogage"})]})]})]}),i.jsx("div",{className:"p-6 border-t border-gray-700",children:i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:u("poster.close")}),i.jsx("button",{onClick:v,disabled:!b,className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:u("poster.use")})]})})]})}):null}function i0({isOpen:e,onClose:t,onExportSimple:r,onExportComplete:n,title:a}){const{t:s}=Bt(),[o,u]=V.useState(!1),[d,p]=V.useState(null),[_,f]=V.useState(!1),[b,h]=V.useState(""),[j,v]=V.useState("");if(V.useEffect(()=>(e?(document.body.style.overflow="hidden",f(!1),h(""),v(""),u(!1),p(null)):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),!e)return null;const C=async w=>{u(!0),p(w),f(!1),h(""),console.log(`Starting ${w} export...`);try{if(w==="simple")console.log("Performing simple export..."),r(),u(!1),p(null),t();else{console.log("Performing complete export...");const S=await n();console.log("Export result:",S),(!S||!S.success)&&(console.log("Export failed, showing error modal"),(S==null?void 0:S.error)==="CORS_ERROR"?(h(s("html.export.error.cors")),v(s("html.export.error.cors.details"))):(h(s("html.export.error.generic")),v(s("html.export.error.generic.details").replace("{error}",(S==null?void 0:S.error)||"Erreur inconnue"))),f(!0)),u(!1),p(null),S!=null&&S.success&&(console.log("Export successful, closing modal"),t())}}catch(S){console.error("Erreur lors de l'export:",S),h(s("html.export.error.unexpected")),v(s("html.export.error.unexpected.details").replace("{error}",S instanceof Error?S.message:"Erreur inconnue")),u(!1),p(null),f(!0)}},g=()=>{f(!1),h(""),v("")},x=_?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:i.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-lg w-full shadow-2xl border border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(wb,{className:"w-6 h-6 text-red-400 mr-3"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:b})]}),i.jsx("button",{onClick:g,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:i.jsx("p",{className:"text-red-300 text-sm leading-relaxed whitespace-pre-line",children:j})}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:g,className:"px-6 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:s("html.export.close")}),i.jsx("button",{onClick:()=>{g(),C("simple")},className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:s("html.export.try.simple")})]})]})]})}):null;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl border border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Rn,{className:"w-6 h-6 text-violet-400 mr-3"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:s("html.export.title")})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",disabled:o,children:i.jsx(rn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("p",{className:"text-gray-300 mb-6",children:[s("html.export.choose")," ",i.jsx("strong",{children:a})," :"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{onClick:()=>C("simple"),disabled:o,className:"w-full p-4 bg-gray-700/50 hover:bg-gray-600/50 disabled:bg-gray-700/30 border border-gray-600 hover:border-gray-500 disabled:border-gray-600 rounded-xl transition-all text-left group",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg group-hover:bg-blue-500/30 transition-colors",children:i.jsx(zs,{className:"w-6 h-6 text-blue-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-white font-semibold mb-1",children:s("html.export.simple.title")}),i.jsx("p",{className:"text-gray-400 text-sm mb-2",children:s("html.export.simple.desc")}),i.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[i.jsx(Ya,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:s("html.export.simple.check1")})]}),i.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[i.jsx(zs,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:s("html.export.simple.check2")})]})]}),o&&d==="simple"&&i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})]})}),i.jsx("button",{onClick:()=>C("complete"),disabled:o,className:"w-full p-4 bg-gray-700/50 hover:bg-gray-600/50 disabled:bg-gray-700/30 border border-gray-600 hover:border-gray-500 disabled:border-gray-600 rounded-xl transition-all text-left group",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg group-hover:bg-green-500/30 transition-colors",children:i.jsx(Za,{className:"w-6 h-6 text-green-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-white font-semibold mb-1",children:s("html.export.complete.title")}),i.jsx("p",{className:"text-gray-400 text-sm mb-2",children:s("html.export.complete.desc")}),i.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[i.jsx(Wi,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:s("html.export.complete.check1")})]}),i.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[i.jsx(Za,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:s("html.export.complete.check2")})]})]}),o&&d==="complete"&&i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-500"})]})})]}),o&&i.jsx("div",{className:"mt-6 p-4 bg-violet-500/10 border border-violet-500/30 rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-violet-500 mr-3"}),i.jsx("span",{className:"text-violet-300 text-sm",children:s(d==="simple"?"html.export.generating":"html.export.downloading")})]})})]})]})}),x]})}function s0({nfoContent:e,mediaTitle:t}){const{t:r}=Bt(),[n,a]=V.useState(!1),[s,o]=V.useState(!1),u=()=>{const _=e.match(/Complete name\s*:\s*(.+?)\.(mkv|mp4|avi|m2ts|iso)/i);return _&&_[1]?_[1].trim():t||"media"},d=()=>{navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)},p=()=>{const _=new Blob([e],{type:"text/plain"}),f=URL.createObjectURL(_),b=document.createElement("a");b.href=f,b.download=`${u()}.nfo`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(f)};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-600/10 backdrop-blur-sm border border-blue-400/20 rounded-2xl p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:i.jsx(gn,{className:"w-5 h-5 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold",children:r("nfo.viewer.title")}),i.jsx("p",{className:"text-gray-400 text-sm",children:r("nfo.viewer.subtitle")})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-xl text-blue-300 hover:text-blue-200 transition-all",children:[i.jsx(Og,{className:"w-4 h-4"}),i.jsx("span",{children:r("nfo.viewer.show")})]}),i.jsxs("button",{onClick:d,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-green-600/20 hover:bg-green-600/30 border border-green-500/30 rounded-xl text-green-300 hover:text-green-200 transition-all",children:[s?i.jsx(Ya,{className:"w-4 h-4"}):i.jsx(qc,{className:"w-4 h-4"}),i.jsx("span",{children:r(s?"nfo.viewer.copied":"nfo.viewer.copy")})]}),i.jsxs("button",{onClick:p,className:"flex items-center justify-center space-x-2 px-4 py-3 bg-violet-600/20 hover:bg-violet-600/30 border border-violet-500/30 rounded-xl text-violet-300 hover:text-violet-200 transition-all",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:r("nfo.viewer.download")})]})]})]}),n&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[80vh] shadow-2xl border border-gray-700 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(gn,{className:"w-6 h-6 text-blue-400"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:r("nfo.viewer.title")})]}),i.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:i.jsx("pre",{className:"bg-gray-900 border border-gray-700 rounded-lg p-4 text-gray-300 font-mono text-sm whitespace-pre-wrap break-words",children:e})}),i.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-700",children:[i.jsxs("button",{onClick:d,className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s?i.jsx(Ya,{className:"w-4 h-4"}):i.jsx(qc,{className:"w-4 h-4"}),i.jsx("span",{children:r(s?"nfo.viewer.copied":"nfo.viewer.copy")})]}),i.jsxs("button",{onClick:p,className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors flex items-center space-x-2",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:r("nfo.viewer.download")})]})]})]})})]})}function Lh({movie:e,credits:t,torrentSpecs:r,isPreview:n=!1,selectedPoster:a,onPosterChange:s,generatedNFO:o}){const{t:u}=Bt(),[d,p]=rr.useState(!1),[_,f]=rr.useState(1),[b,h]=rr.useState(!1),[j,v]=rr.useState(e.poster_path),[C,g]=rr.useState(null),[x,w]=rr.useState(!1),S=a!==void 0?a:j,I=t.crew.find(H=>H.job==="Director"),$=t.crew.filter(H=>H.job==="Writer"||H.job==="Screenplay"),M=t.cast.slice(0,6),P=H=>{if(!H)return"N/A";const K=Math.floor(H/60),Z=H%60;return`${K}h${Z.toString().padStart(2,"0")}`},L=H=>H===0?"N/A":H>=1e6?`$${(H/1e6).toFixed(0)}M`:`$${H.toLocaleString()}`,le=()=>{p(!0)},Re=()=>{const H=sf(me,t,r);Ts(H,`${e.title}.html`,"text/html")},O=async()=>{try{console.log("MovieCard: Starting complete export...");const H=await e0(me,t,r);return console.log("MovieCard: Export result:",H),H}catch(H){return console.error("MovieCard: Erreur dans exportHTMLComplete:",H),{success:!1,error:"UNEXPECTED_ERROR"}}},ne=()=>{const H=t0(me,t,r);Ts(H,`${e.title}.md`,"text/markdown")},E=()=>{const H=r0(me,t,r);Ts(H,`${e.title}.txt`,"text/plain")},ge=H=>{f(H)},qe=H=>{s?s(H):v(H)},me={...e,poster_path:S},xe=E1(me,t,r,_,C);return rr.useEffect(()=>{(async()=>{try{const K=await pt.getTrailerUrl(e.id,"movie");g(K)}catch(K){console.error("Erreur lors de la rcupration de la bande-annonce:",K)}})()},[e.id]),i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"max-w-6xl mx-auto bg-gradient-to-br from-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[i.jsxs("div",{className:"relative h-96 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-cover",style:{backgroundImage:`url(${pt.getBackdropUrl(e.backdrop_path,"w1280")})`}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 pt-12",children:i.jsxs("div",{className:"flex items-end space-x-6",children:[i.jsx("div",{className:"flex-shrink-0 w-48 h-72 rounded-xl overflow-hidden shadow-2xl border-4 border-white/20",children:i.jsx("img",{src:pt.getImageUrl(S,"w500"),alt:e.title,className:"w-full h-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>!n&&h(!0)})}),i.jsxs("div",{className:"flex-1 pb-4",children:[i.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:e.title}),e.original_title!==e.title&&i.jsx("h2",{className:"text-xl text-gray-300 mb-4",children:e.original_title}),i.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[i.jsxs("div",{className:"flex items-center text-yellow-400",children:[i.jsx(Ds,{className:"w-5 h-5 mr-1 fill-current"}),i.jsx("span",{className:"text-lg font-semibold",children:e.vote_average.toFixed(1)}),i.jsxs("span",{className:"text-gray-400 ml-1",children:["(",e.vote_count.toLocaleString()," ",u("card.votes"),")"]})]}),i.jsxs("div",{className:"flex items-center text-gray-300",children:[i.jsx(Ks,{className:"w-5 h-5 mr-2"}),i.jsx("span",{children:new Date(e.release_date).getFullYear()})]}),i.jsxs("div",{className:"flex items-center text-gray-300",children:[i.jsx(Fg,{className:"w-5 h-5 mr-2"}),i.jsx("span",{children:P(e.runtime)})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map(H=>i.jsx("span",{className:"px-3 py-1 bg-violet-600/30 text-violet-300 rounded-full text-sm border border-violet-500/30",children:H.name},H.id))})]})]})}),!n&&i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:i.jsxs("div",{className:"flex flex-col space-y-3",children:[i.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:u("card.export.actions")}),i.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[i.jsx(Wi,{className:"w-4 h-4"}),i.jsx("span",{children:u("card.change.poster")})]}),i.jsxs("div",{className:"border-t border-white/10 pt-3",children:[i.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:u("card.export.formats")}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>w(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(tu,{className:"w-3 h-3"}),i.jsx("span",{children:"HTML"})]}),i.jsxs("button",{onClick:ne,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(gn,{className:"w-3 h-3"}),i.jsx("span",{children:"MD"})]}),i.jsxs("button",{onClick:E,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(Zd,{className:"w-3 h-3"}),i.jsx("span",{children:"TXT"})]}),i.jsxs("button",{onClick:le,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(Rn,{className:"w-3 h-3"}),i.jsx("span",{children:"BB"})]})]})]})]})})})]}),i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_404px] gap-8",children:[i.jsxs("div",{className:"space-y-8",children:[e.tagline&&e.tagline.trim()&&i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-violet-300 italic text-2xl font-medium leading-relaxed",children:['"',e.tagline,'"']})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[i.jsx(_b,{className:"w-6 h-6 mr-3 text-violet-400"}),u("card.synopsis")]}),i.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:e.overview||"Aucun synopsis disponible."})]}),M.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[i.jsx(Ki,{className:"w-6 h-6 mr-3 text-violet-400"}),u("card.main.cast")]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:M.map(H=>i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gray-700",children:H.profile_path?i.jsx("img",{src:pt.getImageUrl(H.profile_path,"w185"),alt:H.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Ki,{className:"w-8 h-8 text-gray-500"})})}),i.jsx("h4",{className:"text-white font-semibold text-sm",children:H.name}),i.jsx("p",{className:"text-gray-400 text-xs mt-1",children:H.character})]},H.id))})]}),r&&r.notes&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[i.jsx(Ug,{className:"w-6 h-6 mr-3 text-violet-400"}),u("specs.notes")]}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-line",children:r.notes})]})]}),i.jsxs("div",{className:"space-y-6",children:[o&&!n&&i.jsx(s0,{nfoContent:o,mediaTitle:e.title}),r&&!n&&i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx(Za,{className:"w-5 h-5 mr-2"}),u("card.torrent.specs")]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-violet-300 mb-2",children:u("specs.video")}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-400",children:[u("specs.quality"),":"]}),i.jsx("span",{className:"text-white font-medium",children:r.video.quality})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-400",children:[u("specs.format"),":"]}),i.jsx("span",{className:"text-white font-medium",children:r.video.format})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-400",children:[u("specs.codec"),":"]}),i.jsx("span",{className:"text-white font-medium",children:r.video.codec})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-400",children:[u("specs.bitrate.label"),":"]}),i.jsxs("span",{className:"text-white font-medium",children:[r.video.bitrate," ",r.video.bitrateUnit]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-400",children:[u("specs.size"),":"]}),i.jsxs("span",{className:"text-white font-medium",children:[r.video.size," GB"]})]}),r.source&&i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-400",children:[u("ebook.source"),":"]}),i.jsx("span",{className:"text-white font-medium",children:r.source})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-green-300 mb-2",children:u("specs.audio")}),i.jsx("div",{className:"space-y-2",children:r.audio.map((H,K)=>i.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("span",{className:"text-white font-medium text-sm",children:[H.language," ",H.isDefault&&`(${u("specs.default")})`]}),i.jsx("span",{className:"text-gray-400 text-xs",children:H.codec})]}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[i.jsx("span",{children:H.channels}),i.jsxs("span",{children:[H.bitrate," ",H.bitrateUnit]})]})]},H.id))})]}),r.subtitles.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-yellow-300 mb-2",children:u("specs.subtitles")}),i.jsx("div",{className:"space-y-2",children:r.subtitles.map((H,K)=>i.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("span",{className:"text-white font-medium text-sm",children:[H.language," ",H.isDefault&&`(${u("specs.default")})`," ",H.isForced&&`(${u("specs.forced")})`]}),i.jsx("span",{className:"text-gray-400 text-xs",children:H.format})]}),i.jsx("div",{className:"text-xs text-gray-400",children:H.isForced?u("specs.forced"):H.isSDH?"SDH":"Complet"})]},H.id))})]}),r.releaseGroup&&i.jsx("div",{children:i.jsx("div",{className:"flex justify-between mb-2",children:i.jsx("span",{className:"text-gray-400  font-medium text-sm",children:r.releaseGroup})})})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx(zs,{className:"w-5 h-5 mr-2"}),u("card.production")]}),i.jsxs("div",{className:"space-y-3",children:[e.production_companies.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:u("card.company")}),i.jsx("div",{className:"mt-2 space-y-2",children:e.production_companies.slice(0,3).map(H=>i.jsxs("div",{className:"flex items-center space-x-2",children:[H.logo_path&&i.jsx("img",{src:pt.getImageUrl(H.logo_path,"w92"),alt:H.name,className:"w-8 h-8 object-contain bg-white rounded p-1"}),i.jsx("span",{className:"text-white text-sm",children:H.name})]},H.id))})]}),e.production_countries.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:u("card.country")}),i.jsx("p",{className:"text-white font-medium",children:e.production_countries.map(H=>H.name).join(", ")})]}),e.spoken_languages.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:u("ebook.language")}),i.jsx("p",{className:"text-white font-medium",children:e.spoken_languages.map(H=>H.name).join(", ")})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx(Bg,{className:"w-5 h-5 mr-2"}),u("card.technical")]}),i.jsxs("div",{className:"space-y-3",children:[I&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:u("card.director")}),i.jsx("p",{className:"text-white font-medium",children:I.name})]}),$.length>0&&i.jsxs("div",{children:[i.jsxs("span",{className:"text-gray-400 text-sm",children:[u("card.writer"),$.length>1?"s":""]}),i.jsx("p",{className:"text-white font-medium",children:$.map(H=>H.name).join(", ")})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:u("card.release")}),i.jsx("p",{className:"text-white font-medium",children:new Date(e.release_date).toLocaleDateString(u("lang.french")==="Franais"?"fr-FR":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:u("card.runtime")}),i.jsx("p",{className:"text-white font-medium",children:P(e.runtime)})]}),e.budget>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:u("card.budget")}),i.jsx("p",{className:"text-white font-medium",children:L(e.budget)})]}),e.revenue>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:u("card.revenue")}),i.jsx("p",{className:"text-white font-medium",children:L(e.revenue)})]}),e.imdb_id&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"IMDB ID"}),i.jsx("p",{className:"text-white font-medium",children:i.jsx("a",{href:`https://www.imdb.com/title/${e.imdb_id}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.imdb_id})})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"TMDB ID"}),i.jsx("p",{className:"text-white font-medium",children:i.jsx("a",{href:`https://www.themoviedb.org/movie/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.id})})]})]})]})]})]})}),i.jsx("div",{className:"px-8 pb-6",children:i.jsxs("div",{className:"flex items-center justify-center space-x-3 pt-4 border-t border-gray-700/50",children:[i.jsx("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"TMDB Logo",className:"w-6 h-6"}),i.jsxs("p",{className:"text-gray-400 text-xs",children:[u("card.data.provided")," ",i.jsx("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"TMDB"})]})]})})]}),!n&&i.jsxs(i.Fragment,{children:[i.jsx(af,{isOpen:d,onClose:()=>p(!1),bbcode:xe,title:e.title,onStyleChange:ge,movieData:me,credits:t}),i.jsx(n0,{isOpen:b,onClose:()=>h(!1),onSelect:qe,movieId:e.id,currentPoster:S,mediaType:"movie"}),i.jsx(i0,{isOpen:x,onClose:()=>w(!1),onExportSimple:Re,onExportComplete:O,title:e.title})]})]})}function Uh({tvShow:e,credits:t,torrentSpecs:r,isPreview:n=!1,selectedPoster:a,onPosterChange:s,onSeasonSelect:o,generatedNFO:u}){const{t:d}=Bt(),[p,_]=rr.useState(!1),[f,b]=rr.useState(1),[h,j]=rr.useState(!1),[v,C]=rr.useState(e.poster_path),[g,x]=rr.useState(null),[w,S]=rr.useState(!1),I=a!==void 0?a:v,$=t.crew.filter(K=>K.job==="Creator"||K.job==="Executive Producer"),M=t.cast.slice(0,6),P=K=>!K||K.length===0?"N/A":`${Math.round(K.reduce((X,Ie)=>X+Ie,0)/K.length)} min`,L=K=>({"Returning Series":{text:"En cours",color:"text-green-400"},Ended:{text:"Termine",color:"text-red-400"},Canceled:{text:"Annule",color:"text-red-400"},"In Production":{text:"En production",color:"text-blue-400"},Planned:{text:"Planifie",color:"text-yellow-400"}})[K]||{text:K,color:"text-gray-400"},le=()=>{_(!0)},Re=()=>{const K=sf(me,t,r);Ts(K,`${e.name}.html`,"text/html")},O=async()=>{try{console.log("TVShowCard: Starting complete export...");const K=await e0(me,t,r);return console.log("TVShowCard: Export result:",K),K}catch(K){return console.error("TVShowCard: Erreur dans exportHTMLComplete:",K),{success:!1,error:"UNEXPECTED_ERROR"}}},ne=()=>{const K=t0(me,t,r);Ts(K,`${e.name}.md`,"text/markdown")},E=()=>{const K=r0(me,t,r);Ts(K,`${e.name}.txt`,"text/plain")},ge=K=>{b(K)},qe=K=>{s?s(K):C(K)},me={...e,poster_path:I},xe=D1(me,t,r,f,g);rr.useEffect(()=>{(async()=>{try{const Z=await pt.getTrailerUrl(e.id,"tv");x(Z)}catch(Z){console.error("Erreur lors de la rcupration de la bande-annonce:",Z)}})()},[e.id]);const H=L(e.status);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"max-w-6xl mx-auto bg-gradient-to-br from-gray-900 rounded-2xl overflow-hidden shadow-2xl",children:[i.jsxs("div",{className:"relative h-96 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-cover",style:{backgroundImage:`url(${pt.getBackdropUrl(e.backdrop_path,"w1280")})`}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 pt-12",children:i.jsxs("div",{className:"flex items-end space-x-6",children:[i.jsx("div",{className:"flex-shrink-0 w-48 h-72 rounded-xl overflow-hidden shadow-2xl border-4 border-white/20",children:i.jsx("img",{src:pt.getImageUrl(I,"w500"),alt:e.name,className:"w-full h-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>!n&&j(!0)})}),i.jsxs("div",{className:"flex-1 pb-4",children:[i.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:e.name}),e.original_name!==e.name&&i.jsx("h2",{className:"text-xl text-gray-300 mb-4",children:e.original_name}),i.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[i.jsxs("div",{className:"flex items-center text-yellow-400",children:[i.jsx(Ds,{className:"w-5 h-5 mr-1 fill-current"}),i.jsx("span",{className:"text-lg font-semibold",children:e.vote_average.toFixed(1)}),i.jsxs("span",{className:"text-gray-400 ml-1",children:["(",e.vote_count.toLocaleString()," votes)"]})]}),i.jsxs("div",{className:"flex items-center text-gray-300",children:[i.jsx(Ks,{className:"w-5 h-5 mr-2"}),i.jsx("span",{children:new Date(e.first_air_date).getFullYear()}),e.last_air_date&&e.status==="Ended"&&i.jsxs("span",{children:[" - ",new Date(e.last_air_date).getFullYear()]})]}),i.jsxs("div",{className:"flex items-center text-gray-300",children:[i.jsx(Fg,{className:"w-5 h-5 mr-2"}),i.jsx("span",{children:P(e.episode_run_time)})]}),i.jsxs("div",{className:`flex items-center ${H.color}`,children:[i.jsx(Dn,{className:"w-5 h-5 mr-2"}),i.jsx("span",{children:H.text})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map(K=>i.jsx("span",{className:"px-3 py-1 bg-violet-600/30 text-violet-300 rounded-full text-sm border border-violet-500/30",children:K.name},K.id))})]})]})}),!n&&i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:i.jsxs("div",{className:"flex flex-col space-y-3",children:[i.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:d("card.export.actions")}),i.jsxs("button",{onClick:()=>j(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[i.jsx(Wi,{className:"w-4 h-4"}),i.jsx("span",{children:d("card.change.poster")})]}),i.jsxs("div",{className:"border-t border-white/10 pt-3",children:[i.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:d("card.export.formats")}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>S(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(tu,{className:"w-3 h-3"}),i.jsx("span",{children:"HTML"})]}),i.jsxs("button",{onClick:ne,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(gn,{className:"w-3 h-3"}),i.jsx("span",{children:"MD"})]}),i.jsxs("button",{onClick:E,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(Zd,{className:"w-3 h-3"}),i.jsx("span",{children:"TXT"})]}),i.jsxs("button",{onClick:le,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(Rn,{className:"w-3 h-3"}),i.jsx("span",{children:"BB"})]})]})]})]})})})]}),i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_404px] gap-8",children:[i.jsxs("div",{className:"space-y-8",children:[e.tagline&&e.tagline.trim()&&i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-violet-300 italic text-2xl font-medium leading-relaxed",children:['"',e.tagline,'"']})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[i.jsx(Dn,{className:"w-6 h-6 mr-3 text-violet-400"}),"Synopsis"]}),i.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:e.overview||"Aucun synopsis disponible."})]}),M.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[i.jsx(Ki,{className:"w-6 h-6 mr-3 text-violet-400"}),"Casting principal"]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:M.map(K=>i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 text-center",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden bg-gray-700",children:K.profile_path?i.jsx("img",{src:pt.getImageUrl(K.profile_path,"w185"),alt:K.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Ki,{className:"w-8 h-8 text-gray-500"})})}),i.jsx("h4",{className:"text-white font-semibold text-sm",children:K.name}),i.jsx("p",{className:"text-gray-400 text-xs mt-1",children:K.character})]},K.id))})]}),e.seasons&&e.seasons.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["Saisons",n&&o&&i.jsx("span",{className:"text-sm text-violet-400 ml-2 font-normal",children:"(Cliquez pour slectionner)"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.seasons.filter(K=>K.season_number>0).map(K=>i.jsxs("div",{className:`bg-gray-800/50 rounded-xl p-4 flex space-x-4 ${n&&o?"cursor-pointer hover:bg-gray-700/50 hover:border-violet-500 border border-transparent transition-all duration-200":""}`,onClick:()=>n&&o&&o(K.season_number),children:[i.jsx("div",{className:"w-16 h-24 flex-shrink-0 rounded overflow-hidden bg-gray-700",children:K.poster_path?i.jsx("img",{src:pt.getImageUrl(K.poster_path,"w154"),alt:K.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Dn,{className:"w-6 h-6 text-gray-500"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white font-semibold",children:K.name}),i.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[K.episode_count," pisode",K.episode_count>1?"s":""]}),K.air_date&&i.jsx("p",{className:"text-gray-400 text-sm",children:new Date(K.air_date).getFullYear()})]})]},K.id))})]}),r&&r.notes&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[i.jsx(Ug,{className:"w-6 h-6 mr-3 text-violet-400"}),"Notes"]}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-line",children:r.notes})]})]}),i.jsxs("div",{className:"space-y-6",children:[u&&!n&&i.jsx(s0,{nfoContent:u,mediaTitle:e.name}),r&&!n&&i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx(Za,{className:"w-5 h-5 mr-2"}),d("card.torrent.specs")]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-violet-300 mb-2",children:"Vido"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Qualit:"}),i.jsx("span",{className:"text-white font-medium",children:r.video.quality})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Format:"}),i.jsx("span",{className:"text-white font-medium",children:r.video.format})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Codec:"}),i.jsx("span",{className:"text-white font-medium",children:r.video.codec})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Dbit:"}),i.jsxs("span",{className:"text-white font-medium",children:[r.video.bitrate," ",r.video.bitrateUnit]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Taille:"}),i.jsxs("span",{className:"text-white font-medium",children:[r.video.size," GB"]})]}),r.source&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Source:"}),i.jsx("span",{className:"text-white font-medium",children:r.source})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-green-300 mb-2",children:"Audio"}),i.jsx("div",{className:"space-y-2",children:r.audio.map((K,Z)=>i.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("span",{className:"text-white font-medium text-sm",children:[K.language," ",K.isDefault&&"(Dfaut)"]}),i.jsx("span",{className:"text-gray-400 text-xs",children:K.codec})]}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[i.jsx("span",{children:K.channels}),i.jsxs("span",{children:[K.bitrate," ",K.bitrateUnit]})]})]},K.id))})]}),r.subtitles.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-yellow-300 mb-2",children:"Sous-titres"}),i.jsx("div",{className:"space-y-2",children:r.subtitles.map((K,Z)=>i.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("span",{className:"text-white font-medium text-sm",children:[K.language," ",K.isDefault&&"(Dfaut)"," ",K.isForced&&"(Forc)"]}),i.jsx("span",{className:"text-gray-400 text-xs",children:K.format})]}),i.jsx("div",{className:"text-xs text-gray-400",children:K.type==="embedded"?"Intgr":"Externe"})]},K.id))})]}),(r.releaseGroup||r.notes)&&i.jsx("div",{children:r.releaseGroup&&i.jsx("div",{className:"flex justify-between mb-2",children:i.jsx("span",{className:"text-gray-400  font-medium text-sm",children:r.releaseGroup})})})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx(Bg,{className:"w-5 h-5 mr-2"}),"Informations"]}),i.jsxs("div",{className:"space-y-3",children:[$.length>0&&i.jsxs("div",{children:[i.jsxs("span",{className:"text-gray-400 text-sm",children:["Crateur",$.length>1?"s":""]}),i.jsx("p",{className:"text-white font-medium",children:$.slice(0,2).map(K=>K.name).join(", ")})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Premire diffusion"}),i.jsx("p",{className:"text-white font-medium",children:new Date(e.first_air_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),e.last_air_date&&e.status==="Ended"&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Dernire diffusion"}),i.jsx("p",{className:"text-white font-medium",children:new Date(e.last_air_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Statut"}),i.jsx("p",{className:`font-medium ${H.color}`,children:H.text})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Nombre de saisons"}),i.jsx("p",{className:"text-white font-medium",children:e.number_of_seasons})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Nombre d'pisodes"}),i.jsx("p",{className:"text-white font-medium",children:e.number_of_episodes})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Dure moyenne"}),i.jsx("p",{className:"text-white font-medium",children:P(e.episode_run_time)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"TMDB ID"}),i.jsx("p",{className:"text-white font-medium",children:i.jsx("a",{href:`https://www.themoviedb.org/tv/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.id})})]})]})]}),e.networks.length>0&&i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Diffuseurs"}),i.jsx("div",{className:"space-y-3",children:e.networks.map(K=>i.jsxs("div",{className:"flex items-center space-x-3",children:[K.logo_path&&i.jsx("img",{src:pt.getImageUrl(K.logo_path,"w92"),alt:K.name,className:"w-12 h-8 object-contain bg-white rounded p-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-medium",children:K.name}),i.jsx("p",{className:"text-gray-400 text-sm",children:K.origin_country})]})]},K.id))})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx(zs,{className:"w-5 h-5 mr-2"}),"Production"]}),i.jsxs("div",{className:"space-y-3",children:[e.production_companies.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Studios"}),i.jsx("div",{className:"mt-2 space-y-2",children:e.production_companies.slice(0,3).map(K=>i.jsxs("div",{className:"flex items-center space-x-2",children:[K.logo_path&&i.jsx("img",{src:pt.getImageUrl(K.logo_path,"w92"),alt:K.name,className:"w-8 h-8 object-contain bg-white rounded p-1"}),i.jsx("span",{className:"text-white text-sm",children:K.name})]},K.id))})]}),e.production_countries.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Pays"}),i.jsx("p",{className:"text-white font-medium",children:e.production_countries.map(K=>K.name).join(", ")})]}),e.spoken_languages.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400 text-sm",children:"Langues"}),i.jsx("p",{className:"text-white font-medium",children:e.spoken_languages.map(K=>K.name).join(", ")})]})]})]})]})]})}),i.jsx("div",{className:"px-8 pb-6",children:i.jsxs("div",{className:"flex items-center justify-center space-x-3 pt-4 border-t border-gray-700/50",children:[i.jsx("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"TMDB Logo",className:"w-6 h-6"}),i.jsxs("p",{className:"text-gray-400 text-xs",children:["Donnes fournies par"," ",i.jsx("a",{href:"https://www.themoviedb.org//",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"TMDB"})]})]})})]}),!n&&i.jsxs(i.Fragment,{children:[i.jsx(af,{isOpen:p,onClose:()=>_(!1),bbcode:xe,title:e.name,onStyleChange:ge,tvShowData:me,credits:t}),i.jsx(n0,{isOpen:h,onClose:()=>j(!1),onSelect:qe,tvShowId:e.id,currentPoster:I,mediaType:"tv"}),i.jsx(i0,{isOpen:w,onClose:()=>S(!1),onExportSimple:Re,onExportComplete:O,title:e.name})]})]})}const Hh=["UHD Full BluRay","UHD-Remux","Full BluRay","BluRay-Remux","2160p","1080p/i","720p/i","SD"],Vh=["MKV","MP4","AVI","M2TS","ISO","Autre"],Wh=["H.264","H.265","x264","x265","HEVC","VC-1","AV1","VP9","VP8","DivX","XviD","XVID","MPEG-2","MPEG-4","Autre"],Kh=["Dolby Digital / AC3","Dolby Digital Plus / E-AC3","Dolby Digital Plus / E-AC3 Atmos","Dolby TrueHD","Dolby TrueHD Atmos","DTS","DTS-ES","DTS-HD HRA","DTS-HD MA","AAC","PCM","FLAC","Opus","Autre"],O1=["Mono","Stro","5.1","5.1.x","6.1","7.1","7.1.x"],z1=["SRT","ASS","SSA","PGS","VobSub","SUP"],qh=["BluRay","UHD BluRay","WEB","WEBRip","HDTV","DVDRip","BDRip","REMUX","CAM","TS","R5"];function B1({onSave:e,onCancel:t,initialSpecs:r}){var H,K,Z,X,Ie,Ae,De;const{t:n}=Bt(),a=[{code:"fr",name:n("lang.french")},{code:"fr-ad",name:"Franais AD"},{code:"fr-ca",name:n("lang.quebecois")},{code:"en",name:n("lang.english")},{code:"es",name:n("lang.spanish")},{code:"de",name:n("lang.german")},{code:"it",name:n("lang.italian")},{code:"pt",name:n("lang.portuguese")},{code:"ru",name:n("lang.russian")},{code:"ja",name:n("lang.japanese")},{code:"ko",name:n("lang.korean")},{code:"zh",name:n("lang.chinese")},{code:"nl",name:n("lang.dutch")},{code:"sv",name:n("lang.swedish")},{code:"no",name:n("lang.norwegian")},{code:"da",name:n("lang.danish")},{code:"fi",name:n("lang.finnish")},{code:"pl",name:n("lang.polish")},{code:"cs",name:n("lang.czech")},{code:"hu",name:n("lang.hungarian")},{code:"tr",name:n("lang.turkish")},{code:"ar",name:n("lang.arabic")},{code:"he",name:n("lang.hebrew")},{code:"th",name:n("lang.thai")},{code:"vi",name:n("lang.vietnamese")},{code:"hi",name:n("lang.hindi")},{code:"other",name:n("lang.other")}],s=(q,Se)=>{const we=(Se||"").toLowerCase();let re=(q||"").toLowerCase();if(re){const Ue=Kt(re);if(Ue.flag)return{code:Ue.code,name:Ue.name}}if(we){const Ue=Kt(we);if(Ue.flag)return{code:Ue.code,name:Ue.name}}if(new Set(a.map(Ue=>Ue.code)).has(re)){const Ue=Kt(re);return re==="other"?{code:"other",name:Se||n("lang.other")}:{code:Ue.code,name:Ue.name}}const Ee=Ue=>{const Je=Kt(Ue);return{code:Je.code,name:Je.name}};return/\b(french\s*\(ca\)|french ca|vfq|canadian)\b/i.test(Se||"")?Ee("fr-ca"):/\b(french|franais)\b/i.test(Se||"")?Ee("fr"):/\b(english|anglais)\b/i.test(Se||"")?Ee("en"):/\b(german|deutsch|\(de\))\b/i.test(Se||"")?Ee("de"):/\b(spanish|espaol|\(es\))\b/i.test(Se||"")?Ee("es"):/\b(portuguese|portugus|\(pt\)|\(br\))\b/i.test(Se||"")?Ee("pt"):/\b(italian|italiano|\(it\))\b/i.test(Se||"")?Ee("it"):/\b(finnish|suomi|\(fi\))\b/i.test(Se||"")?Ee("fi"):/\b(japanese||\(jp\))\b/i.test(Se||"")?Ee("ja"):/\b(dutch|nederlands|\(nl\))\b/i.test(Se||"")?Ee("nl"):/\b(polish|polski|\(pl\))\b/i.test(Se||"")?Ee("pl"):/\b(swedish|svenska|\(se\)|\(sv\))\b/i.test(Se||"")?Ee("sv"):/\b(hindi|\(in\))\b/i.test(Se||"")?Ee("hi"):{code:"other",name:Se||n("lang.other")}},u=(q=>{var Se,we,re,Ye,Ee,Ue,Je,k,ve,pe,z,F,J,je;return console.log("convertInitialSpecs received:",q),console.log("specs.video:",q==null?void 0:q.video),console.log("specs.video.quality:",(Se=q==null?void 0:q.video)==null?void 0:Se.quality),q?{video:{quality:((we=q.video)==null?void 0:we.quality)==="1080p"?"1080p/i":((re=q.video)==null?void 0:re.quality)==="720p"?"720p/i":((Ye=q.video)==null?void 0:Ye.quality)==="480p"?"SD":Hh.includes((Ee=q.video)==null?void 0:Ee.quality)?(Ue=q.video)==null?void 0:Ue.quality:((Je=q.video)==null?void 0:Je.quality)||"1080p/i",format:Vh.includes((k=q.video)==null?void 0:k.format)?(ve=q.video)==null?void 0:ve.format:(pe=q.video)!=null&&pe.format?"Autre":"MKV",codec:(()=>{var ke,Qe,Ce;const de=((ke=q.video)==null?void 0:ke.codec)||"",ue=((Qe=q.video)==null?void 0:Qe.writingLibrary)||"",he=((Ce=q.video)==null?void 0:Ce.encodingSettings)||"",ze=`${ue} ${he}`.toLowerCase();return console.log("Codec detection - Original codec:",de),console.log("Codec detection - Writing library:",ue),console.log("Codec detection - Encoding settings:",he),console.log("Codec detection - Combined info:",ze),ze.includes("x265")?(console.log("Detected x265 in Writing library/Encoding settings"),"x265"):ze.includes("x264")?(console.log("Detected x264 in Writing library/Encoding settings"),"x264"):de==="MPEG Video"?"MPEG-2":de==="XVID"||de==="XviD"?"XVID":Wh.includes(de)?de:de?"Autre":"H.264"})(),bitrate:(()=>{var ze,ke;const de=((ze=q.video)==null?void 0:ze.bitrate)||5;let he=(((ke=q.video)==null?void 0:ke.bitrateUnit)||"Mbps")==="Mbps"?de*1e3:de;return he<=9999?he:he/1e3})(),bitrateUnit:(()=>{var ze,ke;const de=((ze=q.video)==null?void 0:ze.bitrate)||5;return((((ke=q.video)==null?void 0:ke.bitrateUnit)||"Mbps")==="Mbps"?de*1e3:de)<=9999?"Kbps":"Mbps"})(),size:((z=q.video)==null?void 0:z.size)||8,duration:(F=q.video)==null?void 0:F.duration},audio:((J=q.audio)==null?void 0:J.map((de,ue)=>({id:de.id||(ue+1).toString(),...(()=>{const he=s(de.languageCode,de.language);return{language:he.name,languageCode:he.code}})(),codec:(()=>{const he=de.codec||"";return console.log(`Processing audio track ${ue+1}, original codec:`,he),he.includes("Dolby Digital Plus with Dolby Atmos")?(console.log("Detected Dolby Digital Plus with Dolby Atmos, mapping to Dolby Digital Plus / E-AC3 Atmos"),"Dolby Digital Plus / E-AC3 Atmos"):he.includes("Dolby Digital Plus with Atmos")?(console.log("Detected Dolby Digital Plus with Atmos, mapping to Dolby Digital Plus / E-AC3 Atmos"),"Dolby Digital Plus / E-AC3 Atmos"):he.includes("DTS-HD High Resolution Audio")||he==="DTS-HD HRA"?(console.log("Detected DTS-HD High Resolution Audio, mapping to DTS-HD"),"DTS-HD HRA"):he.includes("MLP FBA 16-ch")?(console.log("Detected MLP FBA 16-ch, mapping to Dolby TrueHD Atmos"),"Dolby TrueHD Atmos"):he.includes("MLP FBA")?(console.log("Detected MLP FBA, mapping to Dolby TrueHD Atmos"),"Dolby TrueHD Atmos"):he.includes("DTS-HD Master Audio")||he==="DTS-HD MA"?"DTS-HD MA":he.includes("Dolby TrueHD with Dolby Atmos")||he.includes("TrueHD Atmos")?"Dolby TrueHD Atmos":he.includes("Dolby TrueHD")||he==="TrueHD"?"Dolby TrueHD":he.includes("DTS-HD High Resolution Audio")||he==="DTS-HD HRA"?"DTS-HD HRA":he.includes("DTS-ES")||he==="DTS-ES"?"DTS-ES":he==="E-AC-3"||he.includes("E-AC-3")?"Dolby Digital Plus / E-AC3":he==="AC-3"||he.includes("AC-3")?"Dolby Digital / AC3":he==="DTS"||he.includes("DTS")?"DTS":he==="AAC"||he.includes("AAC")?"AAC":he==="PCM"||he.includes("PCM")?"PCM":Kh.includes(he)?he:(console.log(`No specific mapping found for codec: ${he}, using default or "Autre"`),he?"Autre":"Dolby Digital Plus / E-AC3")})(),channels:de.channels||"5.1",bitrate:de.bitrate||640,bitrateUnit:de.bitrateUnit||"Kbps",isDefault:de.isDefault||ue===0})))||[],subtitles:((je=q.subtitles)==null?void 0:je.map((de,ue)=>({id:de.id||(ue+1).toString(),...(()=>{const he=s(de.languageCode,de.language);return{language:he.name,languageCode:he.code}})(),type:de.type||"embedded",format:de.format||"SRT",isForced:de.isForced===!0,isComplete:de.isComplete!==!1&&de.isForced!==!0&&de.isSDH!==!0?!0:de.isComplete===!0,isSDH:de.isSDH===!0,isDefault:de.isDefault===!0})))||[],source:q.source,releaseGroup:q.releaseGroup,notes:q.notes}:null})(r);console.log("convertedSpecs result:",u);const[d,p]=V.useState({quality:((H=u==null?void 0:u.video)==null?void 0:H.quality)||"1080p/i",format:((K=u==null?void 0:u.video)==null?void 0:K.format)||"MKV",codec:((Z=u==null?void 0:u.video)==null?void 0:Z.codec)||"H.264",bitrate:((X=u==null?void 0:u.video)==null?void 0:X.bitrate)||2.3,bitrateUnit:((Ie=u==null?void 0:u.video)==null?void 0:Ie.bitrateUnit)||"Mbps",size:((Ae=u==null?void 0:u.video)==null?void 0:Ae.size)||8.5,duration:(De=u==null?void 0:u.video)==null?void 0:De.duration}),[_,f]=V.useState(()=>{var Se;return(((Se=u==null?void 0:u.video)==null?void 0:Se.size)||8.5)<1?"MB":"GB"}),[b,h]=V.useState(()=>{var Se;return(((Se=u==null?void 0:u.video)==null?void 0:Se.bitrate)||2.3).toString()}),[j,v]=V.useState(()=>{var we;const q=((we=u==null?void 0:u.video)==null?void 0:we.size)||8.5;return(q<1?"MB":"GB")==="MB"?(q*1e3).toString():q.toString()}),[C,g]=V.useState(()=>u!=null&&u.audio&&u.audio.length>0?u.audio.map(q=>({...q,bitrateUnit:q.bitrateUnit||"Kbps"})):[{id:"1",language:"Franais",languageCode:"fr",codec:"Dolby Digital Plus / E-AC3",channels:"5.1",bitrate:640,bitrateUnit:"Kbps",isDefault:!0}]),[x,w]=V.useState(()=>u!=null&&u.subtitles&&u.subtitles.length>0?u.subtitles.map(q=>({...q,type:q.type,isForced:q.isForced===!0,isComplete:q.isComplete===!0,isSDH:q.isSDH===!0})):[]),[S,I]=V.useState((u==null?void 0:u.releaseGroup)||""),[$,M]=V.useState((r==null?void 0:r.numberOfFiles)||1),[P,L]=V.useState(()=>{var q;if(u!=null&&u.source){const Se={Bluray:"BluRay",BluRay:"BluRay","blu-ray":"BluRay",bluray:"BluRay","UHD BluRay":"UHD BluRay","uhd bluray":"UHD BluRay","4k bluray":"UHD BluRay",WEB:"WEB",WEBRip:"WEBRip","WEB-DL":"WEB",WEBDL:"WEB","web-dl":"WEB",webrip:"WEBRip",web:"WEB",HDTV:"HDTV",DVDRip:"DVDRip",BDRip:"BDRip",REMUX:"REMUX",remux:"REMUX"},we=(u.source||"").toString(),re=Se[we]||Se[we.toLowerCase()]||we;return qh.includes(re)?re:"WEB"}return((q=u==null?void 0:u.video)==null?void 0:q.format)==="ISO"?"DVDRip":"BluRay"}),[le,Re]=V.useState((u==null?void 0:u.notes)||(r==null?void 0:r.notes)||""),O=()=>{const q={id:Date.now().toString(),language:"Anglais",languageCode:"en",codec:"Dolby Digital Plus / E-AC3",channels:"5.1",bitrate:640,bitrateUnit:"Kbps",isDefault:!1};g([...C,q])},ne=q=>{C.length>1&&g(C.filter(Se=>Se.id!==q))},E=(q,Se)=>{g(C.map(we=>we.id===q?{...we,...Se}:Se.isDefault===!0&&we.isDefault?{...we,isDefault:!1}:we))},ge=()=>{const q={id:Date.now().toString(),language:"Anglais",languageCode:"en",type:"embedded",format:"SRT",isForced:!1,isComplete:!0,isSDH:!1,isDefault:!1};w([...x,q])},qe=q=>{w(x.filter(Se=>Se.id!==q))},me=(q,Se)=>{w(x.map(we=>we.id===q?{...we,...Se}:Se.isDefault===!0&&we.isDefault?{...we,isDefault:!1}:we))},xe=()=>{e({video:d,audio:C,subtitles:x,releaseGroup:S||void 0,source:P||void 0,notes:le||void 0,numberOfFiles:$})};return i.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800/60 backdrop-blur-sm rounded-2xl p-8 border border-gray-700/50",children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors mr-4",children:[i.jsx(Mg,{className:"w-4 h-4"}),i.jsx("span",{children:n("specs.back")})]}),i.jsx(Za,{className:"w-6 h-6 text-violet-400 mr-3"}),i.jsx("h2",{className:"text-2xl font-bold text-white",children:n("specs.title")})]})}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[i.jsx($b,{className:"w-5 h-5 mr-2 text-blue-400"}),n("specs.video.title")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.quality")}),i.jsx("select",{value:d.quality,onChange:q=>p({...d,quality:q.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:Hh.map(q=>i.jsx("option",{value:q,children:q},q))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.format")}),i.jsx("select",{value:d.format,onChange:q=>p({...d,format:q.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:Vh.map(q=>i.jsx("option",{value:q,children:q},q))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.codec")}),i.jsx("select",{value:d.codec,onChange:q=>p({...d,codec:q.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:Wh.map(q=>i.jsx("option",{value:q,children:q},q))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("ebook.source")}),i.jsx("select",{value:P,onChange:q=>L(q.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:qh.map(q=>i.jsx("option",{value:q,children:q},q))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.bitrate.label")}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:b,onChange:q=>{const Se=q.target.value;if(Se===""||/^[0-9.,\s]*$/.test(Se)){h(Se);const we=Se.replace(/\s/g,"").replace(/,/g,"."),re=parseFloat(we);!isNaN(re)&&re>0&&p({...d,bitrate:re})}},onBlur:()=>{const q=b.replace(/\s/g,"").replace(/,/g,"."),Se=parseFloat(q);!isNaN(Se)&&Se>0?h(Se.toString()):h(d.bitrate.toString())},className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"}),i.jsxs("select",{value:d.bitrateUnit,onChange:q=>{const Se=q.target.value,we=d.bitrate,re=d.bitrateUnit;let Ye=we;re==="Mbps"&&Se==="Kbps"?Ye=we*1e3:re==="Kbps"&&Se==="Mbps"&&(Ye=we/1e3),p({...d,bitrateUnit:Se,bitrate:Ye}),h(Ye.toString())},className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-2 py-2 text-white focus:outline-none focus:border-violet-500",children:[i.jsx("option",{value:"Mbps",children:"Mbps"}),i.jsx("option",{value:"Kbps",children:"Kbps"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.size")}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:j,onChange:q=>{const Se=q.target.value;if(Se===""||/^[0-9.,\s]*$/.test(Se)){v(Se);const we=Se.replace(/\s/g,"").replace(/,/g,"."),re=parseFloat(we);if(!isNaN(re)&&re>0){const Ye=_==="MB"?re/1e3:re;p({...d,size:Ye})}}},onBlur:()=>{const q=j.replace(/\s/g,"").replace(/,/g,"."),Se=parseFloat(q);if(!isNaN(Se)&&Se>0)v(Se.toString());else{const we=_==="MB"?d.size*1e3:d.size;v(we.toString())}},className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"}),i.jsxs("select",{value:_,onChange:q=>{const Se=q.target.value,we=d.size;f(Se);const re=Se==="MB"?we*1e3:we;v(re.toString())},className:"w-16 bg-gray-700 border border-gray-600 rounded-lg px-2 py-2 text-white focus:outline-none focus:border-violet-500",children:[i.jsx("option",{value:"MB",children:"MB"}),i.jsx("option",{value:"GB",children:"GB"})]})]})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[i.jsx(Rb,{className:"w-5 h-5 mr-2 text-green-400"}),n("specs.audio.tracks")]}),i.jsxs("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[i.jsx(Ih,{className:"w-4 h-4"}),i.jsx("span",{children:n("specs.add")})]})]}),i.jsx("div",{className:"space-y-4",children:C.map((q,Se)=>i.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h4",{className:"text-white font-medium",children:[n("specs.track.audio")," #",Se+1]}),C.length>1&&i.jsx("button",{onClick:()=>ne(q.id),className:"text-red-400 hover:text-red-300 transition-colors",children:i.jsx($l,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_1fr_auto_auto] lg:grid-cols-[1fr_1fr_auto_auto] gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("ebook.language")}),q.languageCode==="other"?i.jsx("input",{type:"text",value:q.language,onChange:we=>E(q.id,{language:we.target.value,languageCode:"other"}),placeholder:"Nom de la langue",className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"}):i.jsx("select",{value:q.languageCode,onChange:we=>{const re=we.target.value;if(re==="other")E(q.id,{language:"",languageCode:"other"});else{const Ye=a.find(Ue=>Ue.code===re),Ee=Kt(re);E(q.id,{language:(Ye==null?void 0:Ye.name)||Ee.name,languageCode:Ee.code})}},className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:a.map(we=>i.jsx("option",{value:we.code,children:we.name},we.code))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.codec")}),i.jsx("select",{value:q.codec,onChange:we=>E(q.id,{codec:we.target.value}),className:"w-55 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:Kh.map(we=>i.jsx("option",{value:we,children:we},we))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.channels")}),i.jsx("select",{value:q.channels,onChange:we=>E(q.id,{channels:we.target.value}),className:"w-25 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:O1.map(we=>i.jsx("option",{value:we,children:we},we))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[n("specs.bitrate.label")," (Kbps)"]}),i.jsx("input",{value:q.bitrate,onChange:we=>E(q.id,{bitrate:parseInt(we.target.value)}),className:"w-20 bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsx("div",{className:"col-span-full mt-4 flex items-center space-x-4",children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:q.isDefault,onChange:we=>E(q.id,{isDefault:we.target.checked}),className:"mr-2 rounded border-gray-500 bg-gray-600 text-violet-600 focus:ring-violet-500"}),i.jsx("span",{className:"text-gray-300 text-sm",children:n("specs.track.default")})]})})]})]},q.id))})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[i.jsx(kb,{className:"w-5 h-5 mr-2 text-yellow-400"}),n("specs.subtitles")]}),i.jsxs("button",{onClick:ge,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg transition-colors",children:[i.jsx(Ih,{className:"w-4 h-4"}),i.jsx("span",{children:n("specs.add")})]})]}),i.jsx("div",{className:"space-y-4",children:x.map((q,Se)=>i.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h4",{className:"text-white font-medium",children:[n("specs.track.subtitle")," #",Se+1]}),i.jsx("button",{onClick:()=>qe(q.id),className:"text-red-400 hover:text-red-300 transition-colors",children:i.jsx($l,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("ebook.language")}),q.languageCode==="other"?i.jsx("input",{type:"text",value:q.language,onChange:we=>me(q.id,{language:we.target.value,languageCode:"other"}),placeholder:"Nom de la langue",className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"}):i.jsx("select",{value:q.languageCode,onChange:we=>{const re=we.target.value;if(re==="other")me(q.id,{language:"",languageCode:"other"});else{const Ye=a.find(Ue=>Ue.code===re),Ee=Kt(re);me(q.id,{language:(Ye==null?void 0:Ye.name)||Ee.name,languageCode:Ee.code})}},className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:a.map(we=>i.jsx("option",{value:we.code,children:we.name},we.code))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.format")}),i.jsx("select",{value:q.format,onChange:we=>me(q.id,{format:we.target.value}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:z1.map(we=>i.jsx("option",{value:we,children:we},we))})]})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("div",{className:"flex items-center",children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:q.isDefault,onChange:we=>me(q.id,{isDefault:we.target.checked}),className:"mr-2 rounded border-gray-500 bg-gray-600 text-violet-600 focus:ring-violet-500"}),i.jsx("span",{className:"text-gray-300 text-sm",children:n("specs.track.default")})]})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-gray-300 text-sm",children:[n("specs.type")," :"]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:`subtitle-type-${q.id}`,checked:q.isForced===!0,onChange:()=>me(q.id,{isForced:!0,isComplete:!1,isSDH:!1}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),i.jsx("span",{className:"text-gray-300 text-sm",children:n("specs.forced")})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:`subtitle-type-${q.id}`,checked:q.isComplete===!0,onChange:()=>me(q.id,{isForced:!1,isComplete:!0,isSDH:!1}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),i.jsx("span",{className:"text-gray-300 text-sm",children:"Complet"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:`subtitle-type-${q.id}`,checked:q.isSDH===!0,onChange:()=>me(q.id,{isForced:!1,isComplete:!1,isSDH:!0}),className:"mr-1 text-violet-600 focus:ring-violet-500"}),i.jsx("span",{className:"text-gray-300 text-sm",children:"SDH"})]})]})]})]},q.id))})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:n("specs.additional")}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.release.group")}),i.jsx("input",{type:"text",value:S,onChange:q=>I(q.target.value),placeholder:n("specs.release.placeholder"),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.files.count")}),i.jsx("input",{type:"number",value:$,onChange:q=>M(parseInt(q.target.value)||1),min:"1",className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n("specs.notes")}),i.jsx("textarea",{value:le,onChange:q=>Re(q.target.value),placeholder:n("specs.notes.placeholder"),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx("button",{onClick:t,className:"px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:n("nfo.cancel")}),i.jsxs("button",{onClick:xe,className:"flex items-center space-x-2 px-6 py-3 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:[i.jsx(Lg,{className:"w-4 h-4"}),i.jsx("span",{children:n("specs.generate")})]})]})]})]})}function L1({isOpen:e,onClose:t,onSave:r,currentApiKey:n}){const{t:a}=Bt(),[s,o]=V.useState(n),[u,d]=V.useState(!1);if(!e)return null;const p=()=>{r(s),t()};return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl border border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Db,{className:"w-6 h-6 text-violet-400 mr-3"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:a("api.title")})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-gray-300 mb-4",children:a("api.description")}),i.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/30 rounded-lg p-4 mb-4",children:[i.jsx("p",{className:"text-violet-300 text-sm",children:i.jsx("strong",{children:"Comment obtenir votre cl API :"})}),i.jsxs("ol",{className:"list-decimal list-inside text-violet-200 text-sm mt-2 space-y-1",children:[i.jsxs("li",{children:["Crez un compte sur ",i.jsx("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 hover:underline",children:"TMDB"})]}),i.jsx("li",{children:"Allez dans les paramtres de votre compte"}),i.jsx("li",{children:'Cliquez sur "API"'}),i.jsx("li",{children:"Demandez une cl API (gratuite)"}),i.jsx("li",{children:"Copiez votre cl API v3"})]}),i.jsxs("a",{href:"https://www.themoviedb.org/settings/api",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-violet-400 hover:text-violet-300 text-sm mt-3 transition-colors",children:[a("api.get.key")," ",i.jsx(Al,{className:"w-4 h-4 ml-1"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-300 mb-2",children:a("api.key.label")}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:u?"text":"password",id:"apiKey",value:s,onChange:_=>o(_.target.value),placeholder:a("api.key.placeholder"),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500 pr-12"}),i.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:u?i.jsx(Eb,{className:"w-5 h-5"}):i.jsx(Og,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:t,className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:a("nfo.cancel")}),i.jsx("button",{onClick:p,disabled:!s.trim(),className:"flex-1 bg-violet-600 hover:bg-violet-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium py-3 px-4 rounded-lg transition-colors",children:a("api.save")})]})]})})}const U1=()=>{const{language:e,setLanguage:t}=Bt();return i.jsx("button",{onClick:()=>t(e==="fr"?"en":"fr"),className:"group p-2 rounded-lg hover:bg-white/10 transition-colors",title:e==="fr"?"Switch to English":"Passer en franais",children:i.jsx("div",{className:"text-lg transition-transform duration-200 group-hover:scale-110",children:e==="fr"?"":""})})},H1=50,di={async addItem(e){if(await $t.searchHistory.count()>=H1){const n=await $t.searchHistory.orderBy("createdAt").first();n&&n.id&&await $t.searchHistory.delete(n.id)}const r={...e,createdAt:Date.now()};await $t.searchHistory.add(r)},async getHistory(){return $t.searchHistory.orderBy("createdAt").reverse().toArray()},async removeItem(e){await $t.searchHistory.delete(e)},async clearHistory(){await $t.searchHistory.clear()},async getItem(e){return $t.searchHistory.get(e)},async getNfoHistoryItemByContent(e){return $t.searchHistory.where("generatedNFO").equals(e).and(t=>t.type==="nfo").first()}};function V1({isOpen:e,onClose:t,onSelectItem:r,currentMode:n}){const{t:a}=Bt(),[s,o]=V.useState([]),[u,d]=V.useState(!1),p=async()=>{d(!0);try{const h=await di.getHistory();o(h)}catch(h){console.error("Failed to load history:",h),o([])}finally{d(!1)}};V.useEffect(()=>{e&&p()},[e]);const _=async h=>{typeof h=="number"&&(await di.removeItem(h),await p())},f=async()=>{await di.clearHistory(),o([])},b=h=>new Date(h).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] shadow-2xl border border-gray-700 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Pl,{className:"w-6 h-6 text-violet-400 mr-3"}),i.jsx("h2",{className:"text-xl font-bold text-white",children:a("history.title")})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[s.length>0&&i.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors text-sm",children:[i.jsx($l,{className:"w-4 h-4"}),i.jsx("span",{children:a("history.clear.all")})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"flex-1 p-6 overflow-auto",children:u?i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsx(Ib,{className:"w-8 h-8 text-violet-400 animate-spin"})}):s.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Pl,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-400 text-lg",children:a("history.empty")}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:a("history.empty.description")})]}):i.jsx("div",{className:"space-y-4",children:s.map(h=>n==="movies"&&(h.type==="movie"||h.type==="tv")||n==="books"&&h.type==="book"||n==="nfo"&&h.type==="nfo"?i.jsx("div",{className:"bg-gray-700/50 rounded-xl p-4 hover:bg-gray-700/70 transition-colors",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex-shrink-0 w-16 h-24 rounded overflow-hidden bg-gray-600",children:h.poster?i.jsx("img",{src:h.type==="book"?h.poster:pt.getImageUrl(h.poster,"w92"),alt:h.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.type==="movie"?i.jsx(hn,{className:"w-6 h-6 text-gray-400"}):h.type==="tv"?i.jsx(Dn,{className:"w-6 h-6 text-gray-400"}):h.type==="book"?i.jsx(Zr,{className:"w-6 h-6 text-gray-400"}):i.jsx(gn,{className:"w-6 h-6 text-gray-400"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[h.type==="movie"?i.jsx(hn,{className:"w-4 h-4 text-emerald-400"}):h.type==="tv"?i.jsx(Dn,{className:"w-4 h-4 text-emerald-400"}):h.type==="book"?i.jsx(Zr,{className:"w-4 h-4 text-emerald-400"}):i.jsx(gn,{className:"w-4 h-4 text-emerald-400"}),i.jsx("h3",{className:"text-white font-semibold",children:h.title}),h.type!=="nfo"&&i.jsxs("span",{className:"text-gray-400",children:["(",h.year,")"]})]}),i.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[i.jsx(Ks,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:b(h.createdAt)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>{r(h),t()},className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-sm font-medium",children:a("history.load")}),i.jsx("button",{onClick:()=>_(h.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:i.jsx($l,{className:"w-4 h-4"})})]})]})},h.id):null)})})]})}):null}class W1{constructor(){_n(this,"baseUrl","https://www.googleapis.com/books/v1");_n(this,"maxResults",40)}async searchBooks(t,r=0){const n=`${this.baseUrl}/volumes?q=${encodeURIComponent(t)}&startIndex=${r}&maxResults=${this.maxResults}&printType=books&orderBy=relevance`,a=await fetch(n);if(!a.ok)throw new Error(`Google Books API error: ${a.status}`);const s=await a.json();return s.items&&(s.items=s.items.filter(o=>{var u;return(u=o.volumeInfo)==null?void 0:u.title}).map(o=>({...o,volumeInfo:{...o.volumeInfo,imageLinks:o.volumeInfo.imageLinks?{...o.volumeInfo.imageLinks,thumbnail:this.getBestImageUrl(o.volumeInfo.imageLinks)||o.volumeInfo.imageLinks.thumbnail}:void 0}}))),s}async getVolumeDetails(t){var s;const r=`${this.baseUrl}/volumes/${t}`,n=await fetch(r);if(!n.ok)throw new Error(`Google Books API error: ${n.status}`);const a=await n.json();if((s=a.volumeInfo)!=null&&s.imageLinks){const o=this.getBestImageUrl(a.volumeInfo.imageLinks);o&&(a.volumeInfo.imageLinks.thumbnail=o)}return a}getHighQualityImage(t){if(!t)return null;const r=["extraLarge","large","medium","small","thumbnail","smallThumbnail"];for(const n of r)if(t[n])return this.normalizeImageUrl(t[n]);return null}getBestImageUrl(t){const r=["extraLarge","large","medium","small","thumbnail","smallThumbnail"];for(const n of r){const a=t[n];if(a)return this.normalizeImageUrl(a)}return null}normalizeImageUrl(t){let r=t.replace("http://","https://");return r.includes("books.google.com")&&(r=r.replace(/[&?]zoom=\d+/,""),r.includes("&w=")||r.includes("?w=")?r=r.replace(/[&?]w=\d+/,"&w=500"):r+=r.includes("?")?"&w=500":"?w=500",r+="&zoom=0.jpg"),r}extractISBN(t){if(!t)return null;const r=t.find(s=>s.type==="ISBN_13"),n=t.find(s=>s.type==="ISBN_10"),a=t.find(s=>s.type==="OTHER");return(r==null?void 0:r.identifier)||(n==null?void 0:n.identifier)||(a==null?void 0:a.identifier)||null}formatISBN(t){return t?t.filter(r=>r.type==="ISBN_10"||r.type==="ISBN_13").map(r=>r.identifier):[]}}const Is=new W1,K1=({onBookSelect:e,onResultSelect:t})=>{const{t:r}=(Bt==null?void 0:Bt())??{t:L=>L},[n,a]=V.useState(""),[s,o]=V.useState([]),[u,d]=V.useState(!1),[p,_]=V.useState(0),[f,b]=V.useState(0),[h,j]=V.useState(!1),[v,C]=V.useState(!1),g=V.useRef(null),x=V.useCallback(async(L,le=0,Re=!1)=>{if(!L.trim()){o([]),C(!1),_(0),j(!1);return}d(!0);try{const O=await Is.searchBooks(L,le),ne=O.items||[];o(E=>Re?[...E,...ne]:ne),_(O.totalItems||0),b(le),j(le+ne.length<(O.totalItems||0)),C(!0)}catch(O){console.error("Erreur lors de la recherche:",O),o([]),_(0),j(!1),C(!1)}finally{d(!1)}},[]),w=L=>{a(L),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{x(L)},500)},S=()=>{const L=f+40;x(n,L,!0)},I=L=>{e==null||e(L),t==null||t(L),C(!1),a(""),o([])},$=L=>!L||L.length===0?r("ebook.unknown.author")||"Auteur inconnu":L.length===1?L[0]:L.length===2?`${L[0]} & ${L[1]}`:`${L[0]} ${r("ebook.more",{count:L.length-1})||`+${L.length-1}`}`,M=(L,le)=>L?L.length<=le?L:L.substring(0,le)+"...":"",P=L=>{if(!L)return null;if(Is.getHighQualityImage){const le=Is.getHighQualityImage(L);if(le)return le}return L.thumbnail||L.smallThumbnail||null};return V.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]),i.jsxs("div",{className:"relative w-full max-w-2xl mx-auto search-container",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:i.jsx(Hg,{className:"w-5 h-5 text-gray-400 group-focus-within:text-emerald-300"})}),i.jsx("input",{type:"text",value:n,onChange:L=>w(L.target.value),placeholder:r("ebook.search.placeholder")||"Rechercher un livre par titre, auteur ou ISBN...",className:"w-full pl-12 pr-10 py-4 text-lg bg-gray-800/60 backdrop-blur-sm border-2 border-gray-700/50 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:border-emerald-500/70 focus:bg-gray-800/80 transition-all duration-300"}),u&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx(Tb,{className:"w-5 h-5 text-emerald-400 animate-spin"})})]}),v&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-md border border-gray-700/50 rounded-2xl shadow-2xl z-50 max-h-[50vh] overflow-y-auto",children:[p>0&&i.jsxs("div",{className:"px-4 py-3 border-b border-gray-700/50 flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-emerald-300",children:[i.jsx("strong",{children:p.toLocaleString()})," ",r("ebook.search.results")||"rsultats"]}),i.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Fermer les rsultats",children:i.jsx(Cb,{className:"w-4 h-4"})})]}),s.length===0&&!u&&n&&i.jsxs("div",{className:"px-4 py-8 text-center",children:[i.jsx(Zr,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-400",children:r("search.no.results")||"Aucun rsultat"})]}),u&&s.length===0&&i.jsxs("div",{className:"px-4 py-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-emerald-500 border-t-transparent mx-auto mb-3"}),i.jsx("p",{className:"text-emerald-300",children:r("ebook.search.loading")||"Chargement..."})]}),s.map(L=>i.jsx("div",{onClick:()=>I(L),className:"px-4 py-4 border-b border-gray-700/30 hover:bg-gray-700/30 cursor-pointer transition-colors group last:border-b-0",children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:P(L.volumeInfo.imageLinks)?i.jsx("img",{src:P(L.volumeInfo.imageLinks),alt:L.volumeInfo.title,className:"w-16 h-24 object-cover rounded-lg shadow-lg group-hover:shadow-xl transition-shadow",loading:"lazy"}):i.jsx("div",{className:"w-16 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 rounded-lg flex items-center justify-center border border-emerald-400/20",children:i.jsx(Zr,{className:"w-6 h-6 text-emerald-400"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-white font-semibold text-lg leading-tight mb-1 group-hover:text-emerald-300 transition-colors",children:M(L.volumeInfo.title||"",60)}),L.volumeInfo.subtitle&&i.jsx("p",{className:"text-gray-400 text-sm mb-2 leading-tight",children:M(L.volumeInfo.subtitle,80)}),i.jsxs("div",{className:"space-y-1",children:[L.volumeInfo.authors&&i.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[i.jsx(Ki,{className:"w-3 h-3 mr-2 text-emerald-400 flex-shrink-0"}),i.jsx("span",{children:$(L.volumeInfo.authors)})]}),L.volumeInfo.publishedDate&&i.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[i.jsx(Ks,{className:"w-3 h-3 mr-2 text-emerald-400 flex-shrink-0"}),i.jsx("span",{children:new Date(L.volumeInfo.publishedDate).getFullYear()})]}),L.volumeInfo.categories&&L.volumeInfo.categories.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[L.volumeInfo.categories.slice(0,2).map((le,Re)=>i.jsx("span",{className:"px-2 py-1 bg-emerald-500/10 text-emerald-300 text-xs rounded-full border border-emerald-400/20",children:le},Re)),L.volumeInfo.categories.length>2&&i.jsxs("span",{className:"text-gray-400 text-xs px-1 py-1",children:["+",L.volumeInfo.categories.length-2," ",r("ebook.showMore")||"de plus"]})]})]})]})]})},L.id)),h&&!u&&s.length>0&&i.jsx("div",{className:"px-4 py-4 text-center border-t border-gray-700/50",children:i.jsx("button",{onClick:S,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors",children:r("ebook.search.loadMore")||"Charger plus"})}),h&&u&&s.length>0&&i.jsx("div",{className:"px-4 py-4 text-center border-t border-gray-700/50",children:i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-emerald-500 border-t-transparent mx-auto"})})]})]})},Qu={Fiction:"Fiction","Literary Fiction":"Fiction littraire","Historical Fiction":"Fiction historique","Science Fiction":"Science-fiction",Fantasy:"Fantasy",Mystery:"Mystre",Thriller:"Thriller",Romance:"Romance",Horror:"Horreur",Adventure:"Aventure",Crime:"Policier",Detective:"Policier",Suspense:"Suspense",Western:"Western","Young Adult Fiction":"Fiction jeune adulte","Children's Fiction":"Fiction pour enfants",Biography:"Biographie",Autobiography:"Autobiographie",Memoir:"Mmoires",History:"Histoire",Philosophy:"Philosophie",Psychology:"Psychologie",Religion:"Religion",Spirituality:"Spiritualit","Self-Help":"Dveloppement personnel",Health:"Sant",Fitness:"Fitness",Cooking:"Cuisine",Travel:"Voyage",Nature:"Nature",Science:"Science",Technology:"Technologie",Medicine:"Mdecine",Law:"Droit",Politics:"Politique",Economics:"conomie",Business:"Business",Management:"Management",Education:"ducation",Art:"Art",Music:"Musique",Photography:"Photographie",Sports:"Sport",Games:"Jeux",Humor:"Humour",Comics:"Bande dessine","Graphic Novels":"Roman graphique",Poetry:"Posie",Drama:"Thtre",Essays:"Essais",Reference:"Rfrence",Dictionary:"Dictionnaire",Encyclopedia:"Encyclopdie",Textbook:"Manuel scolaire","Study Guide":"Guide d'tude","Language Arts":"Arts du langage",Literature:"Littrature",Classics:"Classiques","Computer Science":"Informatique",Programming:"Programmation","Web Development":"Dveloppement web",Database:"Base de donnes",Networking:"Rseaux",Security:"Scurit","Artificial Intelligence":"Intelligence artificielle","Machine Learning":"Apprentissage automatique","Juvenile Fiction":"Fiction jeunesse","Juvenile Nonfiction":"Documentaire jeunesse","Children's Books":"Livres pour enfants","Picture Books":"Albums illustrs","Early Readers":"Premiers lecteurs","True Crime":"Faits divers","Current Events":"Actualits","Social Science":"Sciences sociales",Anthropology:"Anthropologie",Sociology:"Sociologie",Geography:"Gographie","Environmental Science":"Sciences environnementales",Mathematics:"Mathmatiques",Physics:"Physique",Chemistry:"Chimie",Biology:"Biologie",Astronomy:"Astronomie",Geology:"Gologie",Architecture:"Architecture",Design:"Design",Fashion:"Mode",Gardening:"Jardinage",Crafts:"Artisanat",Hobbies:"Loisirs",Pets:"Animaux de compagnie",Family:"Famille",Parenting:"Parentalit",Relationships:"Relations","Personal Growth":"Dveloppement personnel",Meditation:"Mditation",Yoga:"Yoga","Alternative Medicine":"Mdecine alternative",Diet:"Rgime",Nutrition:"Nutrition",Wine:"Vin",Beer:"Bire",Cocktails:"Cocktails"};function Ml(e){const t=e.trim();if(Qu[t])return Qu[t];for(const[r,n]of Object.entries(Qu))if(t.toLowerCase().includes(r.toLowerCase())||r.toLowerCase().includes(t.toLowerCase()))return n;return t}const Gh=e=>e?e.split(",").map(t=>{const r=t.trim();return`[url=https://www.sharewood.tv/torrents?tags=${encodeURIComponent(r)}]${r}[/url]`}).join(", "):"";class q1{generateBBCode(t,r=1){return r===1?this.generateBBCodeStyle1(t):r===2?this.generateBBCodeStyle2(t):this.generateBBCodeStyle3(t)}generateBBCodeStyle1(t){var $,M;const{book:r,specs:n,coverImage:a}=t,s=n.title||r.volumeInfo.title||"Titre inconnu",o=n.subtitle||r.volumeInfo.subtitle||"",u=this.formatAuthors(n.authors||r.volumeInfo.authors),d=n.publisher||r.volumeInfo.publisher||"",p=n.publishedDate||r.volumeInfo.publishedDate||"",_=n.year||(p?new Date(p).getFullYear():""),f=this.stripHtml(n.description||r.volumeInfo.description||""),b=n.mainCategory||Ml((($=r.volumeInfo.categories)==null?void 0:$[0])||"")||"",h=n.isbn||this.getISBN(n.industryIdentifiers||r.volumeInfo.industryIdentifiers)||"",j=n.pageCount||r.volumeInfo.pageCount||"",v=r.volumeInfo.infoLink||"",C=n.bookDisplayNumber||((M=r.volumeInfo.seriesInfo)==null?void 0:M.bookDisplayNumber)||"",g=n.edition||"",x=n.source||"",w=n.fileName||"",S=n.notes||"";let I=`[center][b][font=Verdana][color=#3d85c6][size=29]${s}

[/size][size=18](${_})[/size][/color][/font][/b]

[img]${a}[/img][color=#ea9999][i]

[/i][/color][color=#ea9999][i][b][font=Verdana][size=29]
${o}[/size][/font][/b][/i][/color]

[img]https://i.imgur.com/zNnPX3V.png[/img]

[font=Verdana][size=13][b][color=#3d85c6]Auteurs :[/color][/b] [i]${u}[/i]`;return d&&(I+=`
[b][color=#3d85c6]Editeur :[/color][/b] [i]${d}[/i]`),I+=`
[b][color=#3d85c6]Genres :[/color][/b] ${Gh(b)}
[b][color=#3d85c6]Anne :[/color][/b] [i]${_}[/i]`,p&&(I+=`
[b][color=#3d85c6]Date de sortie :[/color][/b] [i]${p}[/i]`),I+=`
[b][color=#3d85c6]Pages :[/color][/b] [i]${j}[/i]`,C&&(I+=`
[b][color=#3d85c6]Tome n  :[/color][/b] [i]${C}[/i]`),g&&(I+=`
[color=#3d85c6][b]dition :[/b] [/color][i]${g}[/i]`),I+=`
[color=#3d85c6][b]ISBN :[/b] [/color][i]${h}[/i]

[size=13][url=${v}][b][color=#1e84cc]Plus d'info  >> Google Book[/color][/b][/url][/size]

[img]https://i.imgur.com/ATVsdeo.png[/img]

[font=Verdana][size=13]${f}[/size][/font]


[img]https://i.imgur.com/Ji92VqD.png[/img]`,x&&(I+=`
[b][color=#3d85c6]Source :[/color][/b] [i]${x}[/i]`),I+=`
[color=#3d85c6][b]Format :[/b] [/color][i]${n.format}[/i]
[b][color=#3d85c6]Qualit :[/color][/b] [i]${n.quality}[/i]

[b][color=#3d85c6]Langue :[/color][/b][i]${(n.language||r.volumeInfo.language).toUpperCase()}[/i]


[img]https://i.imgur.com/ZutFbjb.png[/img]`,w&&(I+=`
[b][color=#3d85c6]Release :[/color][/b] [i]${w}[/i]`),S&&(I+=`
[b][color=#3d85c6]Notes :[/color][/b] [i]${S}[/i]`),I+=`
[b][color=#3d85c6]Taille totale :[/color][/b] ${n.fileSize.value} ${n.fileSize.unit}
[color=#3d85c6][b]Nombre de fichier [/b][/color]: ${n.numberOfFiles||"1"}[/size][/font][/center]`,I}generateBBCodeStyle2(t){var w;const{book:r,specs:n,coverImage:a}=t,s=n.title||r.volumeInfo.title||"Titre inconnu",o=n.subtitle||r.volumeInfo.subtitle||"",u=this.formatAuthors(n.authors||r.volumeInfo.authors),d=n.publisher||r.volumeInfo.publisher||"",p=n.publishedDate||r.volumeInfo.publishedDate||"",_=n.year||(p?new Date(p).getFullYear():""),f=this.stripHtml(n.description||r.volumeInfo.description||""),b=n.isbn||this.getISBN(n.industryIdentifiers||r.volumeInfo.industryIdentifiers)||"",h=n.pageCount||r.volumeInfo.pageCount||"",j=r.volumeInfo.infoLink||"",v=n.bookDisplayNumber||((w=r.volumeInfo.seriesInfo)==null?void 0:w.bookDisplayNumber)||"",C=n.fileName||"",g=n.notes||"";let x=`[center][color=#10b981][size=29][b]${s}[/b][/size][/color]

[color=#10b981][size=29][b]${o}[/b][/size][/color]

[size=10] [/size]

[size=29][b][img]${a}[/img][/b][/size]

[color=#10b981][b][size=16]    [/size][/b][/color]

[size=16][color=#10b981][b]Auteur :[/b] ${u}
[b]Anne :[/b] ${_}`;return v&&(x+=`
[b]Tome n [/b]:  ${v}`),d&&(x+=`
[b]Editeur :[/b] ${d}`),x+=`
[b]Nombres de pages [/b]:  ${h}
[b]ISBN [/b]:  ${b}

[size=13][url=${j}][b][color=#1e84cc]Voir >> [img]https://i.imgur.com/vCfx0LD.png[/img][/color][/b][/url][/size]

[b]Synopsis[/b][b] :[/b] [/color]

${f}

[/size]

[size=16]
[color=#10b981][b]Format :[/b][/color] ${n.format}
[color=#10b981][b]Qualit :[/b][/color] ${n.quality}

[color=#10b981][b]Langue :[/b][/color] ${(n.language||r.volumeInfo.language).toUpperCase()}`,C&&(x+=`
[color=#10b981][b]Nom de la release :[/b][/color] ${C}`),g&&(x+=`

[color=#10b981][b]Notes :[/b][/color] [i]${g}[/i]`),n.numberOfFiles&&(x+=`

[color=#10b981][b]Nombre de fichiers :[/b][/color] ${n.numberOfFiles}`),x+=`
[color=#10b981][b]Poids Total :[/b][/color] ${n.fileSize.value} ${n.fileSize.unit}

[/size]
[/center]`,x}generateBBCodeStyle3(t){var M,P;const{book:r,specs:n,coverImage:a}=t,s=n.title||r.volumeInfo.title||"Titre inconnu",o=n.subtitle||r.volumeInfo.subtitle||"",u=this.formatAuthors(n.authors||r.volumeInfo.authors),d=n.publisher||r.volumeInfo.publisher||"",p=n.publishedDate||r.volumeInfo.publishedDate||"",_=n.year||(r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():""),f=this.stripHtml(n.description||r.volumeInfo.description||""),b=n.mainCategory||Ml(((M=r.volumeInfo.categories)==null?void 0:M[0])||"")||"",h=n.isbn||this.getISBN(n.industryIdentifiers||r.volumeInfo.industryIdentifiers)||"",j=n.pageCount||r.volumeInfo.pageCount||"",v=r.volumeInfo.infoLink||"",C=n.bookDisplayNumber||((P=r.volumeInfo.seriesInfo)==null?void 0:P.bookDisplayNumber)||"",g=n.edition||"",x=n.source||"",w=n.fileName||"",S=n.notes||"",I=(n.language||r.volumeInfo.language).toUpperCase();let $=`[table][tr][td] [/td][td][table][tr][td][table][tr][td][table][tr][td]
&nbsp; &nbsp; &nbsp; [img width=550]${a}[/img] &nbsp; &nbsp; &nbsp; [/td][td] [/td][/tr][/table][/td][td][table][tr][td]
  [/td][td]   [/td][/tr][/table][/td][td][table][tr][td][table][tr][td][table][tr][td][color=#3d85c6][size=29] ${s}[/size][/color][/td][/tr][tr][td][table][tr][td]  ${_} - ${Gh(b)} - ${j} pages  [/td][td][size=10]   [/size][/td][td] &nbsp; - [url=${v}][img]https://i.imgur.com/vCfx0LD.png[/img][/url] &nbsp; &nbsp; [/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][i][color=#c27ba0][size=18][center][b]"${o}"[/b][/center][/size][/color][/i]
[/td][/tr][tr][td] 
[/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Auteurs : &nbsp;[/color][/b] ${u}[/td][/tr][tr][td][b][color=#3d85c6]Editeur : &nbsp;[/color][/b] ${d}[/td][/tr]`;return g&&p?$+=`[tr][td][b][color=#3d85c6]Edition : &nbsp;[/color][/b] ${g}  [b][color=#3d85c6]  Parution : &nbsp;[/color][/b] ${p}[/td][/tr]`:g&&!p?$+=`[tr][td][b][color=#3d85c6]Edition : &nbsp;[/color][/b] ${g}[/td][/tr]`:!g&&p&&($+=`[tr][td][b][color=#3d85c6]Parution : &nbsp;[/color][/b] ${p}[/td][/tr]`),$+=`[tr][td][b][color=#3d85c6][/color][/b][/td][td] [/td][/tr][/table][/td][/tr][tr][td]  [br] [/br][b][color=#3d85c6]Synopsis &nbsp;[br] [/br] [br] [/br][/color][/b][/td][/tr][tr][td]  &nbsp; ${f}[br] [/br][hr=#FF0000][/hr][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Format :  &nbsp;[/color][/b][/td][td]${n.format}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Qualit :  &nbsp;[/right][/color][/b][/td][td]${n.quality}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6]Tome n : &nbsp;[/color][/b][/td][td]${C}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Source  : &nbsp;[/right][/color][/b][/td][td]&nbsp;${x}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td] [b][color=#3d85c6]Taille totale : &nbsp;[/color][/b][/td][td]${n.fileSize.value} ${n.fileSize.unit}[/td][td] &nbsp; [/td][td][b][color=#3d85c6]&nbsp;&nbsp;&nbsp;[right]Nb de fichiers : &nbsp;[/right][/color][/b][/td][td]&nbsp;${n.numberOfFiles||"1"}[/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][b][color=#3d85c6] Langue : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${I}[/size][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][br] [/br][b][color=#3d85c6]ISBN : &nbsp;[/color][/b][/td][td][br] [/br][/td][/tr][/table][/td][/tr][tr][td][table][tr][td][size=13]&nbsp;&nbsp;${h}[/size][br] [/br][/td][td][br] [/br][/td][/tr][/table][/td][/tr][/table][/td][/tr][/table][/td][/tr][tr][td][hr=#FF0000][/hr][/td][/tr]`,w&&($+=`[tr][td][b][color=#3d85c6]Nom release : &nbsp; [/color][/b] [br] [/br] ${w}[/td][/tr]`),S&&($+=`[tr][td][b][color=#3d85c6][br] [/br]Notes:  [/color][/b] [br] [/br] ${S}[/td][/tr]`),$+="[/table][/td][/tr][/table]",$}generateHTML(t){var h;const{book:r,specs:n,coverImage:a}=t,s=r.volumeInfo.title||"Titre inconnu",o=this.formatAuthors(r.volumeInfo.authors),u=r.volumeInfo.publisher||"diteur inconnu",d=r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():"Anne inconnue",p=r.volumeInfo.description||"Aucun synopsis disponible.",_=((h=r.volumeInfo.categories)==null?void 0:h.join(", "))||"Non spcifi",f=this.getISBN(r.volumeInfo.industryIdentifiers),b=r.volumeInfo.pageCount||"Non spcifi";return`<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${s} - Fiche eBook</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #ffffff;
            background: linear-gradient(135deg, #064e3b, #065f46, #047857);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(17, 24, 39, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #10b981;
        }
        h1 {
            color: #10b981;
            font-size: 2.5em;
            margin: 0 0 10px 0;
            font-weight: 700;
        }
        .subtitle {
            color: #9ca3af;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        .cover {
            text-align: center;
            margin: 20px 0;
        }
        .cover img {
            max-width: 200px;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        .section {
            margin: 30px 0;
        }
        .section-title {
            color: #059669;
            font-size: 1.5em;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .info-item {
            background: rgba(31, 41, 55, 0.6);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
        .label {
            color: #10b981;
            font-weight: 600;
            margin-bottom: 5px;
        }
        .value {
            color: #f3f4f6;
        }
        .synopsis {
            background: rgba(31, 41, 55, 0.6);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #10b981;
            margin: 20px 0;
        }
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(75, 85, 99, 0.3);
            color: #9ca3af;
            font-size: 0.9em;
        }
        .notes {
            background: rgba(31, 41, 55, 0.6);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #10b981;
            margin: 20px 0;
            font-style: italic;
        }
        @media print {
            body { background: white; color: black; }
            .container { box-shadow: none; background: white; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>${s}</h1>
            ${r.volumeInfo.subtitle?`<div class="subtitle">${r.volumeInfo.subtitle}</div>`:""}
        </div>

        ${a?`<div class="cover"><img src="${a}" alt="${s}"></div>`:""}

        <div class="section">
            <h2 class="section-title"> Informations gnrales</h2>
            <div class="info-grid">
                <div class="info-item">
                    <div class="label">Auteur(s)</div>
                    <div class="value">${o}</div>
                </div>
                <div class="info-item">
                    <div class="label">diteur</div>
                    <div class="value">${u}</div>
                </div>
                <div class="info-item">
                    <div class="label">Anne</div>
                    <div class="value">${d}</div>
                </div>
                <div class="info-item">
                    <div class="label">Pages</div>
                    <div class="value">${b}</div>
                </div>
                <div class="info-item">
                    <div class="label">Langue</div>
                    <div class="value">${(r.volumeInfo.language||n.language).toUpperCase()}</div>
                </div>
                <div class="info-item">
                    <div class="label">Catgories</div>
                    <div class="value">${_}</div>
                </div>
                ${f?`<div class="info-item"><div class="label">ISBN</div><div class="value">${f}</div></div>`:""}
            </div>
        </div>

        <div class="section">
            <h2 class="section-title"> Synopsis</h2>
            <div class="synopsis">${p}</div>
        </div>

        <div class="section">
            <h2 class="section-title"> Spcifications techniques</h2>
            <div class="specs-grid">
${n.fileName?`<div class="info-item"><div class="label">Nom du fichier</div><div class="value">${n.fileName}</div></div>`:""}
                <div class="info-item">
                    <div class="label">Format</div>
                    <div class="value">${n.format}</div>
                </div>
                <div class="info-item">
                    <div class="label">Taille</div>
                    <div class="value">${n.fileSize.value} ${n.fileSize.unit}</div>
                </div>
                <div class="info-item">
                    <div class="label">Qualit</div>
                    <div class="value">${n.quality}</div>
                </div>

${n.source?`<div class="info-item"><div class="label">Source</div><div class="value">${n.source}</div></div>`:""}
                ${n.edition?`<div class="info-item"><div class="label">dition</div><div class="value">${n.edition}</div></div>`:""}
                ${n.numberOfFiles?`<div class="info-item"><div class="label">Nombre de fichiers</div><div class="value">${n.numberOfFiles}</div></div>`:""}
                ${n.uploadedBy?`<div class="info-item"><div class="label">Upload par</div><div class="value">${n.uploadedBy}</div></div>`:""}
            </div>
        </div>

        ${n.notes?`
        <div class="section">
            <h2 class="section-title"> Notes</h2>
            <div class="notes">${n.notes}</div>
        </div>`:""}

        <div class="footer">
            Fiche gnre avec <strong>FicheGen</strong>
        </div>
    </div>
</body>
</html>`}generateMarkdown(t){var h;const{book:r,specs:n,coverImage:a}=t,s=r.volumeInfo.title||"Titre inconnu",o=this.formatAuthors(r.volumeInfo.authors),u=r.volumeInfo.publisher||"diteur inconnu",d=r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():"Anne inconnue",p=this.stripHtml(r.volumeInfo.description||""),_=((h=r.volumeInfo.categories)==null?void 0:h.join(", "))||"Non spcifi",f=this.getISBN(r.volumeInfo.industryIdentifiers),b=r.volumeInfo.pageCount||"Non spcifi";return`# ${s}
${r.volumeInfo.subtitle?`## ${r.volumeInfo.subtitle}`:""}

${a?`![${s}](${a})`:""}

##  Informations gnrales

- **Auteur(s) :** ${o}
- **diteur :** ${u}
- **Anne de publication :** ${d}
- **Pages :** ${b}
- **Langue :** ${(r.volumeInfo.language||n.language).toUpperCase()}
- **Catgories :** ${_}
${f?`- **ISBN :** ${f}`:""}

##  Synopsis

> ${p||"Aucun synopsis disponible."}

##  Spcifications techniques

${n.fileName?`- **Nom du fichier :** ${n.fileName}
`:""}- **Format :** ${n.format}
- **Taille :** ${n.fileSize.value} ${n.fileSize.unit}
- **Qualit :** ${n.quality}
${n.source?`- **Source :** ${n.source}`:""}
${n.edition?`- **dition :** ${n.edition}`:""}
${n.numberOfFiles?`- **Nombre de fichiers :** ${n.numberOfFiles}`:""}
${n.uploadedBy?`- **Upload par :** ${n.uploadedBy}`:""}

${n.notes?`##  Notes

> ${n.notes}`:""}

---
*Fiche gnre avec FicheGen*`}generateText(t){var b;const{book:r,specs:n}=t,a=r.volumeInfo.title||"Titre inconnu",s=this.formatAuthors(r.volumeInfo.authors),o=r.volumeInfo.publisher||"diteur inconnu",u=r.volumeInfo.publishedDate?new Date(r.volumeInfo.publishedDate).getFullYear():"Anne inconnue",d=this.stripHtml(r.volumeInfo.description||""),p=((b=r.volumeInfo.categories)==null?void 0:b.join(", "))||"Non spcifi",_=this.getISBN(r.volumeInfo.industryIdentifiers),f=r.volumeInfo.pageCount||"Non spcifi";return`${a.toUpperCase()}
${r.volumeInfo.subtitle?r.volumeInfo.subtitle:""}


INFORMATIONS GNRALES


Auteur(s): ${s}
diteur: ${o}
Anne de publication: ${u}
Pages: ${f}
Langue: ${(r.volumeInfo.language||n.language).toUpperCase()}
Catgories: ${p}
${_?`ISBN: ${_}`:""}


SYNOPSIS


${d||"Aucun synopsis disponible."}


SPCIFICATIONS TECHNIQUES


${n.fileName?`Nom du fichier: ${n.fileName}
`:""}Format: ${n.format}
Taille: ${n.fileSize.value} ${n.fileSize.unit}
Qualit: ${n.quality}
${n.source?`Source: ${n.source}`:""}
${n.edition?`dition: ${n.edition}`:""}
${n.numberOfFiles?`Nombre de fichiers: ${n.numberOfFiles}`:""}
${n.uploadedBy?`Upload par: ${n.uploadedBy}`:""}

${n.notes?`
NOTES


${n.notes}

`:""}
Fiche gnre avec FicheGen
`}formatAuthors(t){return!t||t.length===0?"Auteur inconnu":t.length===1?t[0]:t.length===2?`${t[0]} & ${t[1]}`:t.join(", ")}stripHtml(t){const r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}getISBN(t){if(!t)return null;const r=t.find(s=>s.type==="ISBN_13"),n=t.find(s=>s.type==="ISBN_10"),a=t.find(s=>s.type==="OTHER");return(r==null?void 0:r.identifier)||(n==null?void 0:n.identifier)||(a==null?void 0:a.identifier)||null}}const Wo=new q1;function G1({isOpen:e,onClose:t,onCoverChange:r,currentCover:n}){const{t:a}=Bt(),[s,o]=V.useState(""),[u,d]=V.useState(!1);if(!e)return null;const p=f=>{f.preventDefault(),s.trim()&&(r(s.trim()),t(),o(""),d(!1))},_=()=>{t(),o(""),d(!1)};return i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl max-w-md w-full shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[i.jsx(Wi,{className:"w-5 h-5 mr-2 text-emerald-400"}),a("modal.cover.title")]}),i.jsx("button",{onClick:_,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[n&&i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-400 mb-2",children:a("modal.cover.current")}),i.jsx("img",{src:n,alt:"Cover actuelle",className:"w-20 h-28 object-cover rounded-lg mx-auto border border-gray-600",onError:f=>{f.currentTarget.src=getPlaceholderSvg()}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("modal.cover.url")}),i.jsx("input",{type:"url",value:s,onChange:f=>{o(f.target.value),d(!1)},placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",required:!0})]}),s&&i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-400 mb-2",children:a("modal.cover.preview")}),u?i.jsx("div",{className:"w-20 h-28 bg-gray-800 border border-red-500 rounded-lg mx-auto flex items-center justify-center",children:i.jsx("span",{className:"text-red-400 text-xs text-center px-2",children:a("modal.cover.error")})}):i.jsx("img",{src:s,alt:"Aperu",className:"w-20 h-28 object-cover rounded-lg mx-auto border border-gray-600",onError:()=>d(!0)})]}),i.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Al,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-sm text-blue-300",children:[i.jsx("p",{className:"font-medium mb-1",children:a("modal.cover.help.title")}),i.jsx("p",{className:"text-blue-300/80",children:a("modal.cover.help.description")})]})]})}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:_,className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:a("modal.cover.cancel")}),i.jsx("button",{type:"submit",disabled:!s.trim()||u,className:"flex-1 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:a("modal.cover.confirm")})]})]})]})})}function Yh({book:e,ebookSpecs:t,isPreview:r=!1,selectedCover:n,onCoverChange:a}){var L,le,Re,O;const{t:s}=Bt(),[o,u]=V.useState(!1),[d,p]=V.useState(!1),[_,f]=V.useState(!1),b=()=>`data:image/svg+xml;base64,${btoa(`
          <svg width="128" height="192" viewBox="0 0 128 192" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="128" height="192" fill="#374151"/>
                <path d="M32 48h64v8H32v-8zm0 16h64v8H32v-8zm0 16h48v8H32v-8z" fill="#6B7280"/>
                <rect x="48" y="96" width="32" height="32" rx="4" fill="#6B7280"/>
            </svg>

        `)}`,h=()=>{if(n)return n;const ne=e.volumeInfo.imageLinks||{};return ne.extraLarge||ne.large||ne.medium||ne.small||ne.thumbnail||ne.smallThumbnail||b()},[j,v]=V.useState(1),C={book:e,specs:t,coverImage:h()},g=t?Wo.generateBBCode(C,j):"",x=ne=>{v(ne)},w=e.volumeInfo.authors||[];w.length>3&&w.slice(0,3),w.length>3;const S=((le=(L=e.volumeInfo.industryIdentifiers)==null?void 0:L.find(ne=>ne.type==="ISBN_13"))==null?void 0:le.identifier)||((O=(Re=e.volumeInfo.industryIdentifiers)==null?void 0:Re.find(ne=>ne.type==="ISBN_10"))==null?void 0:O.identifier)||"",I=e.volumeInfo.description||"",$=I.length>300?I.slice(0,300)+"...":I,M=ne=>`${ne.fileSize.value} ${ne.fileSize.unit}`,P=ne=>{if(!t)return;const E={book:e,specs:t,coverImage:h()};let ge="",qe=`${e.volumeInfo.title.replace(/[^a-z0-9]/gi,"_")}`,me="text/plain";switch(ne){case"html":ge=Wo.generateHTML(E),qe+=".html",me="text/html";break;case"markdown":ge=Wo.generateMarkdown(E),qe+=".md",me="text/markdown";break;case"text":ge=Wo.generateText(E),qe+=".txt",me="text/plain";break}const xe=new Blob([ge],{type:me}),H=URL.createObjectURL(xe),K=document.createElement("a");K.href=H,K.download=qe,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(H)};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-md border border-gray-700/50 rounded-2xl overflow-hidden shadow-2xl",children:[i.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-600/20 to-teal-600/20 p-6 border-b border-gray-700/50",children:[i.jsxs("div",{className:"flex items-start space-x-6",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:h(),alt:e.volumeInfo.title,className:"w-32 h-48 object-cover rounded-lg border border-gray-600/50 shadow-lg group-hover:scale-105 transition-transform duration-300",onError:ne=>{ne.currentTarget.src=b()}}),a&&!r&&i.jsx("button",{onClick:()=>f(!0),className:"absolute inset-0 bg-black/60 backdrop-blur-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium px-3 py-1 bg-emerald-600 rounded-md",children:s("card.change.poster")})})]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-2 leading-tight",children:(t==null?void 0:t.title)||e.volumeInfo.title}),((t==null?void 0:t.subtitle)||e.volumeInfo.subtitle)&&i.jsx("h3",{className:"text-xl text-gray-300 mb-3",children:(t==null?void 0:t.subtitle)||e.volumeInfo.subtitle}),((t==null?void 0:t.authors)||w).length>0&&i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(Ki,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),i.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[((t==null?void 0:t.authors)||w).slice(0,3).map((ne,E)=>i.jsxs("span",{className:"text-emerald-400 font-medium",children:[ne,E<Math.min(3,((t==null?void 0:t.authors)||w).length)-1&&", "]},E)),((t==null?void 0:t.authors)||w).length>3&&i.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["+",((t==null?void 0:t.authors)||w).length-3," ",s("ebook.more")]})]})]}),i.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.volumeInfo.averageRating!==void 0&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ds,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsxs("span",{className:"text-white font-medium",children:[e.volumeInfo.averageRating,"/5"]}),e.volumeInfo.ratingsCount&&i.jsxs("span",{className:"text-gray-400 text-sm",children:["(",e.volumeInfo.ratingsCount," ",s("ebook.ratings"),")"]})]}),e.volumeInfo.seriesInfo&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kc,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-gray-300",children:e.volumeInfo.seriesInfo.bookDisplayNumber})]}),e.volumeInfo.infoLink&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Al,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),i.jsx("a",{href:`https://books.google.fr/books?id=${e.id}&printsec=frontcover&hl=fr&source=gbs_ge_summary_r&cad=0`,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 truncate",children:"Google Book"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[((t==null?void 0:t.year)||(t==null?void 0:t.publishedDate)||e.volumeInfo.publishedDate)&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ks,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-gray-300",children:(t==null?void 0:t.year)||(t!=null&&t.publishedDate?new Date(t.publishedDate).getFullYear():new Date(e.volumeInfo.publishedDate).getFullYear())})]}),((t==null?void 0:t.publisher)||e.volumeInfo.publisher)&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Nb,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-gray-300 truncate",children:(t==null?void 0:t.publisher)||e.volumeInfo.publisher})]}),((t==null?void 0:t.pageCount)||e.volumeInfo.pageCount)&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kc,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{className:"text-gray-300",children:[(t==null?void 0:t.pageCount)||e.volumeInfo.pageCount," pages"]})]}),((t==null?void 0:t.language)||e.volumeInfo.language)&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zs,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-gray-300",children:((t==null?void 0:t.language)||e.volumeInfo.language).toUpperCase()})]})]}),S&&i.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[i.jsx(zg,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{className:"text-gray-300",children:["ISBN: ",S]})]})]})]}),!r&&i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:i.jsxs("div",{className:"flex flex-col space-y-3",children:[i.jsx("div",{className:"text-white text-sm font-medium text-center mb-2",children:s("card.export.actions")}),i.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-3 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors text-sm font-medium",children:[i.jsx(Wi,{className:"w-4 h-4"}),i.jsx("span",{children:s("card.change.poster")})]}),i.jsxs("div",{className:"border-t border-white/10 pt-3",children:[i.jsx("div",{className:"text-white text-xs font-medium text-center mb-2 opacity-75",children:s("card.export.formats")}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>P("html"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(tu,{className:"w-3 h-3"}),i.jsx("span",{children:"HTML"})]}),i.jsxs("button",{onClick:()=>P("markdown"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(gn,{className:"w-3 h-3"}),i.jsx("span",{children:"MD"})]}),i.jsxs("button",{onClick:()=>P("text"),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(Zd,{className:"w-3 h-3"}),i.jsx("span",{children:"TXT"})]}),i.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-center space-x-2 px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-xs font-medium",children:[i.jsx(Rn,{className:"w-3 h-3"}),i.jsx("span",{children:"BB"})]})]})]})]})})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[I&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center",children:[i.jsx(Zr,{className:"w-5 h-5 mr-2 text-emerald-400"}),s("card.synopsis")]}),i.jsxs("div",{className:"bg-gray-800/60 border border-gray-700/50 rounded-xl p-4",children:[i.jsx("div",{className:`text-gray-300 leading-relaxed ${!o&&I.length>300?"line-clamp-4":""}`,dangerouslySetInnerHTML:{__html:o?I:$}}),I.length>300&&i.jsx("button",{onClick:()=>u(!o),className:"text-emerald-400 hover:text-emerald-300 text-sm font-medium mt-2 transition-colors",children:s(o?"ebook.showLess":"ebook.showMore")})]})]}),e.volumeInfo.categories&&e.volumeInfo.categories.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[i.jsx(Gc,{className:"w-5 h-5 mr-2 text-emerald-400"}),s("ebook.categories")]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.volumeInfo.categories.map((ne,E)=>i.jsx("span",{className:"px-3 py-1 bg-emerald-600/20 text-emerald-300 rounded-full text-sm border border-emerald-600/30",children:Ml(ne)},E))})]}),t&&!r&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-6 items-start",children:i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[i.jsx(Rn,{className:"w-5 h-5 mr-2 text-emerald-400"}),s("ebook.technical.specs")]}),i.jsxs("div",{className:"bg-gray-800/60 border border-gray-700/50 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-gray-400",children:[s("ebook.format")," :"]}),i.jsx("span",{className:"text-white ml-2 font-medium",children:t.format})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-gray-400",children:[s("ebook.quality")," :"]}),i.jsx("span",{className:"text-white ml-2 font-medium",children:t.quality})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-gray-400",children:[s("ebook.size")," :"]}),i.jsx("span",{className:"text-white ml-2 font-medium",children:M(t)})]}),t.year&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Anne :"}),i.jsx("span",{className:"text-white ml-2 font-medium",children:t.year})]}),t.edition&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"dition :"}),i.jsx("span",{className:"text-white ml-2 font-medium",children:t.edition})]}),t.numberOfFiles&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Nb fichiers :"}),i.jsx("span",{className:"text-white ml-2 font-medium",children:t.numberOfFiles})]}),t.fileName&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Nom fichier :"}),i.jsx("span",{className:"text-white ml-2 font-medium",children:t.fileName})]}),t.source&&i.jsxs("div",{children:[i.jsxs("span",{className:"text-gray-400",children:[s("ebook.source")," :"]}),i.jsx("span",{className:"text-white ml-2 font-medium",children:t.source})]}),(t.language||e.volumeInfo.language)&&i.jsxs("div",{children:[i.jsxs("span",{className:"text-gray-400",children:[s("ebook.language")," :"]}),i.jsx("span",{className:"text-white ml-2 font-medium",children:t.language||e.volumeInfo.language})]})]}),t.notes&&i.jsxs("div",{className:"pt-3 border-t border-gray-700/30",children:[i.jsxs("span",{className:"text-gray-400",children:[s("ebook.notes")," :"]}),i.jsx("p",{className:"text-white mt-1 text-sm",children:t.notes})]})]})]})}),i.jsxs("div",{className:"text-center pt-4 border-t border-gray-700/30",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-400",children:[i.jsx("span",{children:s("card.data.provided")}),i.jsxs("a",{href:e.volumeInfo.canonicalVolumeLink||`https://books.google.com/books?id=${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-emerald-400 hover:text-emerald-300 transition-colors",children:[i.jsx("span",{children:"Google Books"}),i.jsx(Al,{className:"w-3 h-3"})]})]}),S&&i.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["ISBN: ",S]})]})]})]}),i.jsx(af,{isOpen:d,onClose:()=>p(!1),bbcode:g,title:e.volumeInfo.title,ebookData:e,onStyleChange:x}),i.jsx(G1,{isOpen:_,onClose:()=>f(!1),onCoverChange:ne=>{a&&a(ne),f(!1)},currentCover:h()})]})}const Qh=["ePUB","CBR","CBZ","PDF","MOBI","AZW3","FB2","TXT","DJVU","Autre"],Zh=["MP3","FLAC","Autre"],Xh=["Original","3200x4307","2560x3361","2100 x 2700","1650x2169","1622x2200","1325x1721","760 x 1060","Autre"],Jh=["320 kbps","160 kbps","128 kbps","64 kbps","Autre"],Y1=["Ko","Mo","Go"];function Q1({onSave:e,onCancel:t,initialSpecs:r,bookData:n}){var _;const{t:a}=Bt(),[s,o]=V.useState(()=>{var b,h,j,v;const f={isAudiobook:(r==null?void 0:r.isAudiobook)||!1,fileName:(r==null?void 0:r.fileName)||"",fileSize:(r==null?void 0:r.fileSize)||{value:1,unit:"Mo"},format:(r==null?void 0:r.format)||"ePub",quality:(r==null?void 0:r.quality)||"Original",source:(r==null?void 0:r.source)||"",edition:(r==null?void 0:r.edition)||void 0,language:(r==null?void 0:r.language)||"fr",notes:(r==null?void 0:r.notes)||void 0,publisher:(r==null?void 0:r.publisher)||void 0,year:(r==null?void 0:r.year)||new Date().getFullYear(),isbn:(r==null?void 0:r.isbn)||void 0,title:r==null?void 0:r.title,subtitle:r==null?void 0:r.subtitle,authors:r==null?void 0:r.authors,pageCount:r==null?void 0:r.pageCount,description:r==null?void 0:r.description,mainCategory:r==null?void 0:r.mainCategory,bookDisplayNumber:r==null?void 0:r.bookDisplayNumber,numberOfFiles:r==null?void 0:r.numberOfFiles};if(n!=null&&n.volumeInfo){const{volumeInfo:C}=n;if(f.title=C.title,f.subtitle=C.subtitle,f.authors=C.authors,f.publisher=C.publisher,f.publishedDate=C.publishedDate,C.publishedDate&&(f.year=new Date(C.publishedDate).getFullYear()),f.description=C.description,C.industryIdentifiers){f.industryIdentifiers=C.industryIdentifiers.map(w=>({type:w.type,identifier:w.identifier}));const g=(b=C.industryIdentifiers.find(w=>w.type==="ISBN_13"))==null?void 0:b.identifier,x=(h=C.industryIdentifiers.find(w=>w.type==="ISBN_10"))==null?void 0:h.identifier;f.isbn=g||x||((j=C.industryIdentifiers[0])==null?void 0:j.identifier)}f.pageCount=C.pageCount,f.language=C.language||"fr",C.categories&&C.categories.length>0&&(f.mainCategory=Ml(C.categories[0])),(v=C.seriesInfo)!=null&&v.bookDisplayNumber&&(f.bookDisplayNumber=C.seriesInfo.bookDisplayNumber)}return f});V.useEffect(()=>{r&&o(f=>({...f,...r,fileSize:r.fileSize||f.fileSize}))},[r]),V.useEffect(()=>{o(f=>{if(f.isAudiobook){const b=Zh.includes(f.format)?f.format:"MP3",h=Jh.includes(f.quality)?f.quality:"320 kbps";return{...f,format:b,quality:h}}else{const b=Qh.includes(f.format)?f.format:"ePub",h=Xh.includes(f.quality)?f.quality:"Original";return{...f,format:b,quality:h}}})},[s.isAudiobook]);const u=(f,b)=>{o(h=>({...h,[f]:b}))},d=(f,b)=>{o(h=>({...h,fileSize:{...h.fileSize,[f]:b}}))},p=f=>{var b,h,j,v,C,g;f.preventDefault(),e({...s,fileName:((b=s.fileName)==null?void 0:b.trim())||"",source:((h=s.source)==null?void 0:h.trim())||"",edition:((j=s.edition)==null?void 0:j.trim())||void 0,notes:((v=s.notes)==null?void 0:v.trim())||void 0,publisher:((C=s.publisher)==null?void 0:C.trim())||void 0,isbn:((g=s.isbn)==null?void 0:g.trim())||void 0})};return i.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800/60 backdrop-blur-sm rounded-2xl p-8 border border-gray-700/50",children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors mr-4",children:[i.jsx(Mg,{className:"w-4 h-4"}),i.jsx("span",{children:a("specs.back")})]}),i.jsx(Zr,{className:"w-6 h-6 text-violet-400 mr-3"}),i.jsx("h2",{className:"text-2xl font-bold text-white",children:a("ebook.specs.title")})]})}),i.jsxs("form",{onSubmit:p,className:"space-y-8",children:[i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[i.jsx(gn,{className:"w-5 h-5 mr-2 text-blue-400"}),"Informations sur le fichier"]}),i.jsxs("div",{className:"mb-6 flex items-center justify-end space-x-3",children:[i.jsx("span",{className:"text-white font-medium",children:"Livre audio"}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:s.isAudiobook,onChange:f=>u("isAudiobook",f.target.checked),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.filename")}),i.jsx("input",{type:"text",value:s.fileName,onChange:f=>u("fileName",f.target.value),placeholder:"MonLivre.epub",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.size")}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"number",value:s.fileSize.value,onChange:f=>d("value",parseFloat(f.target.value)||0),min:"0",step:"0.1",className:"w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"}),i.jsx("select",{value:s.fileSize.unit,onChange:f=>d("unit",f.target.value),className:"w-20 bg-gray-700 border border-gray-600 rounded-lg px-2 py-2 text-white focus:outline-none focus:border-violet-500",children:Y1.map(f=>i.jsx("option",{value:f,children:f},f))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.format")}),i.jsx("select",{value:s.format,onChange:f=>u("format",f.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:s.isAudiobook?Zh.map(f=>i.jsx("option",{value:f,children:f},f)):Qh.map(f=>i.jsx("option",{value:f,children:f},f))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.quality")}),i.jsx("select",{value:s.quality,onChange:f=>u("quality",f.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500",children:s.isAudiobook?Jh.map(f=>i.jsx("option",{value:f,children:f},f)):Xh.map(f=>i.jsx("option",{value:f,children:f},f))})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[i.jsx(Kc,{className:"w-5 h-5 mr-2 text-green-400"}),"Mtadonnes du livre"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Titre"}),i.jsx("input",{type:"text",value:s.title||"",onChange:f=>u("title",f.target.value),placeholder:"Titre du livre",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sous-titre"}),i.jsx("input",{type:"text",value:s.subtitle||"",onChange:f=>u("subtitle",f.target.value),placeholder:"Sous-titre (optionnel)",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[i.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[i.jsx(Ki,{className:"w-4 h-4"}),i.jsx("span",{children:"Auteurs"})]}),i.jsx("input",{type:"text",value:((_=s.authors)==null?void 0:_.join(", "))||"",onChange:f=>u("authors",f.target.value.split(",").map(b=>b.trim())),placeholder:"Spars par des virgules",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.publisher")}),i.jsx("input",{type:"text",value:s.publisher||"",onChange:f=>u("publisher",f.target.value),placeholder:"Nom de l'diteur",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[i.jsx(Ks,{className:"w-4 h-4"}),i.jsx("span",{children:a("ebook.year")})]}),i.jsx("input",{type:"number",value:s.year||"",onChange:f=>u("year",f.target.value?parseInt(f.target.value):void 0),placeholder:"2023",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ISBN"}),i.jsx("input",{type:"text",value:s.isbn||"",onChange:f=>u("isbn",f.target.value),placeholder:"978-2-123456-78-9",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Numro du tome"}),i.jsx("input",{type:"text",value:s.bookDisplayNumber||"",onChange:f=>u("bookDisplayNumber",f.target.value),placeholder:"Tome 1, Volume 2...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.edition")}),i.jsx("input",{type:"text",value:s.edition||"",onChange:f=>u("edition",f.target.value),placeholder:"dition spciale, rvise...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[i.jsx(zs,{className:"w-4 h-4 inline-block mr-1"}),a("ebook.language")]}),i.jsx("input",{type:"text",value:s.language,onChange:f=>u("language",f.target.value),placeholder:"fr, en, es...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[i.jsx(zg,{className:"w-4 h-4"}),i.jsx("span",{children:"Pages"})]}),i.jsx("input",{type:"number",value:s.pageCount||"",onChange:f=>u("pageCount",f.target.value?parseInt(f.target.value):void 0),placeholder:"Nombre de pages",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-300 mb-2",children:[i.jsx(Gc,{className:"w-4 h-4"}),i.jsx("span",{children:"Catgorie principale"})]}),i.jsx("input",{type:"text",value:s.mainCategory||"",onChange:f=>u("mainCategory",f.target.value),placeholder:"Genre, catgorie...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date de publication"}),i.jsx("input",{type:"text",value:s.publishedDate||"",onChange:f=>u("publishedDate",f.target.value),placeholder:"YYYY-MM-DD ou YYYY",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[i.jsx(jb,{className:"w-4 h-4 inline-block mr-1"}),"Description"]}),i.jsx("textarea",{value:s.description||"",onChange:f=>u("description",f.target.value),placeholder:"Rsum ou description du livre",rows:5,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[i.jsx(Gc,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Informations de la release"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a("ebook.source")}),i.jsx("input",{type:"text",value:s.source||"",onChange:f=>u("source",f.target.value),placeholder:"Source du fichier",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre de fichiers"}),i.jsx("input",{type:"number",value:s.numberOfFiles||"",onChange:f=>u("numberOfFiles",f.target.value?parseInt(f.target.value):void 0),placeholder:"1",min:"1",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500"})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[i.jsx(Pb,{className:"w-4 h-4 inline-block mr-1"}),a("specs.notes")]}),i.jsx("textarea",{value:s.notes||"",onChange:f=>u("notes",f.target.value),placeholder:a("specs.notes.placeholder"),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-violet-500"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:a("ebook.cancel")}),i.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:[i.jsx(Lg,{className:"w-4 h-4"}),i.jsx("span",{children:a("ebook.generate.sheet")})]})]})]})]})}function Z1({generatedNFO:e}={}){const{t}=Bt(),[r,n]=V.useState(!1),[a,s]=V.useState(!1),[o,u]=V.useState(e||null),[d,p]=V.useState(null);V.useEffect(()=>{(async()=>{if(e){u(e);const S=await di.getNfoHistoryItemByContent(e);S!=null&&S.fileName&&p(S.fileName)}else u(null),p(null)})()},[e]);const _=V.useRef(null),f=w=>{w.preventDefault(),n(!0)},b=w=>{w.preventDefault(),n(!1)},h=async w=>{w.preventDefault(),n(!1);const I=Array.from(w.dataTransfer.files)[0];I&&(I.type.startsWith("video/")||I.name.match(/\.(mkv|avi|mp4|mov|wmv|flv|webm|m4v|3gp|ogv|iso|ts|m2ts)$/i))&&await v(I)},j=async w=>{var I;const S=(I=w.target.files)==null?void 0:I[0];S&&await v(S),w.target.value=""},v=async w=>{s(!0),p(w.name);try{const S=await Wg.analyzeFile(w);u(S),await di.addItem({type:"nfo",title:w.name,year:new Date().getFullYear(),poster:null,generatedNFO:S,fileName:w.name})}catch(S){console.error("Erreur lors de la gnration du NFO:",S),alert(t("nfo.generator.error"))}finally{s(!1)}},C=()=>{if(!o)return;const w=new Blob([o],{type:"text/plain"}),S=URL.createObjectURL(w),I=document.createElement("a");I.href=S,I.download=d?`${d.replace(/\.[^/.]+$/,"")}.nfo`:"mediainfo.nfo",document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(S)},g=()=>{o&&(navigator.clipboard.writeText(o),alert(t("nfo.generator.copy.success")))},x=()=>{u(null),p(null)};return i.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("h2",{className:"text-5xl md:text-6xl font-bold bg-clip-text text-transparent mb-6 leading-tight bg-gradient-to-r from-blue-400 via-cyan-400 to-sky-400",children:[t("nfo.generator.title"),i.jsx("br",{}),i.jsx("span",{className:"text-4xl md:text-5xl",children:t("nfo.generator.subtitle")})]}),i.jsx("div",{className:"w-24 h-1 mx-auto mb-6 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500"})]}),i.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:t("nfo.generator.description")})]}),o?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Qa,{className:"w-5 h-5 text-blue-400"}),i.jsx("div",{children:i.jsx("p",{className:"text-white font-medium",children:t("nfo.generator.success")})})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("button",{onClick:g,className:"px-4 py-2 bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white transition-colors rounded-lg border border-gray-600/50 hover:border-gray-500 flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),i.jsx("span",{children:t("nfo.generator.copy")})]}),i.jsxs("button",{onClick:C,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white transition-colors rounded-lg flex items-center space-x-2",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:t("nfo.generator.download")})]}),i.jsxs("button",{onClick:x,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white transition-colors rounded-lg flex items-center space-x-2",children:[i.jsx(rn,{className:"w-4 h-4"}),i.jsx("span",{children:t("nfo.generator.new")})]})]})]}),i.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-gray-700/50 rounded-xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-700/50 px-4 py-3 border-b border-gray-600/50",children:[i.jsx("h3",{className:"text-white font-medium",children:t("nfo.generator.content.title")})," ",i.jsx("p",{className:"text-gray-400 text-sm",children:d})]}),i.jsx("div",{className:"p-4 max-h-[600px] overflow-y-auto",children:i.jsx("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap break-words",children:o})})]})]}):i.jsx("div",{onDragOver:f,onDragLeave:b,onDrop:h,className:"relative transition-all duration-300",children:i.jsx("div",{className:`relative bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm border-2 border-dashed rounded-2xl px-48 py-12 transition-all duration-300 ${r?"border-blue-400 bg-blue-500/10 shadow-lg shadow-blue-500/20":"border-gray-600/50 hover:border-gray-500/70"}`,children:a?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-500/20 rounded-full mb-4",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-500 border-t-transparent"})}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t("nfo.generator.analyzing.title")}),i.jsx("p",{className:"text-gray-400",children:t("nfo.generator.analyzing.desc")})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-full mb-6",children:i.jsx(Qa,{className:"w-10 h-10 text-blue-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:t(r?"nfo.generator.drop.title":"nfo.generator.drop.subtitle")}),i.jsx("p",{className:"text-gray-400 mb-6",children:t(r?"nfo.generator.drop.analyzing":"nfo.generator.drop.desc")}),i.jsx("div",{className:"flex items-center justify-center space-x-4",children:i.jsxs("button",{onClick:()=>{var w;return(w=_.current)==null?void 0:w.click()},className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-blue-500/25 flex items-center space-x-2",children:[i.jsx(Yc,{className:"w-5 h-5"}),i.jsx("span",{children:t("nfo.generator.select.button")})]})}),i.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-2 text-xs text-gray-500",children:[i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MKV"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"ISO"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MP4"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"AVI"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"MOV"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"TS"}),i.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded",children:"M2TS"})]})]})})}),i.jsx("input",{ref:_,type:"file",accept:"video/*,.mkv,.avi,.mp4,.mov,.wmv,.flv,.webm,.m4v,.3gp,.ogv,.iso,.ts,.m2ts",onChange:j,className:"hidden"})]})}const em="fichegen_migration_v1_completed",X1=async()=>{if(!localStorage.getItem(em)){console.log("Running data migration from localStorage to IndexedDB...");try{const t=localStorage.getItem("language");t&&(await $t.settings.put({key:"language",value:t}),localStorage.removeItem("language"));const r=localStorage.getItem("tmdb_api_key");r&&(await $t.settings.put({key:"tmdb_api_key",value:r}),localStorage.removeItem("tmdb_api_key"));const n="fichegen_history",a=localStorage.getItem(n);if(a){const o=JSON.parse(a);if(Array.isArray(o)){const u=o.map(({id:d,...p})=>p);await $t.searchHistory.bulkAdd(u),localStorage.removeItem(n)}}const s=[];for(let o=0;o<localStorage.length;o++){const u=localStorage.key(o);if(u&&u.startsWith("ebook_specs_")){const d=u.replace("ebook_specs_",""),p=localStorage.getItem(u);p&&s.push({id:d,specs:JSON.parse(p)})}}s.length>0&&(await $t.ebookSpecs.bulkAdd(s),s.forEach(o=>localStorage.removeItem(`ebook_specs_${o.id}`))),localStorage.setItem(em,"true"),console.log("Data migration completed successfully.")}catch(t){console.error("Error during data migration:",t)}}};function Zu(){const{t:e,language:t}=Bt(),r=Sg(),n=vi(),s=n.pathname.includes("/nfo")?"nfo":n.pathname.includes("/books")?"books":"movies",[o,u]=V.useState(""),[d,p]=V.useState(!1),[_,f]=V.useState(!1),[b,h]=V.useState(!1),[j,v]=V.useState(!1),[C,g]=V.useState(!1),[x,w]=V.useState(!1),[S,I]=V.useState(null),[$,M]=V.useState(null),[P,L]=V.useState(null),[le,Re]=V.useState(null),[O,ne]=V.useState(null),[E,ge]=V.useState(null),[qe,me]=V.useState(null),[xe,H]=V.useState(null),[K,Z]=V.useState(null),[X,Ie]=V.useState(null),[Ae,De]=V.useState(null),[q,Se]=V.useState(null);V.useEffect(()=>{(async()=>{const He=await $t.settings.get("tmdb_api_key");He&&(u(He.value),pt.setApiKey(He.value))})()},[]);const we=async Ce=>{u(Ce),await $t.settings.put({key:"tmdb_api_key",value:Ce}),pt.setApiKey(Ce)},re=Ce=>{ge(Ce)},Ye=Ce=>{H(Ce)},Ee=async Ce=>{I(Ce),M(null),L(null),Re(null),me(Ce.poster_path),f(!0);try{if(Ce.media_type==="movie"){const[He,ut]=await Promise.all([pt.getMovie(Ce.id,t),pt.getMovieCredits(Ce.id,t)]);M(He),Re(ut)}else if(Ce.media_type==="tv"){const[He,ut]=await Promise.all([pt.getTVShow(Ce.id,t),pt.getTVCredits(Ce.id,t)]);L(He),Re(ut)}h(!0)}catch(He){console.error("Erreur lors du chargement des dtails:",He)}f(!1)},Ue=()=>{h(!1),v(!0)},Je=()=>{h(!1),s==="movies"?z():Qe()},k=V.useCallback((Ce,He)=>!S||!$&&!P||!le?null:{type:S.media_type,title:($==null?void 0:$.title)||(P==null?void 0:P.name)||"",year:$?new Date($.release_date).getFullYear():P?new Date(P.first_air_date).getFullYear():0,poster:He,movieData:$?{...$,poster_path:He}:void 0,tvShowData:P?{...P,poster_path:He}:void 0,credits:le,torrentSpecs:Ce,generatedNFO:xe||void 0},[S,$,P,le,xe]),ve=Ce=>{ne(Ce),v(!1),ge(null);const He=k(Ce,qe);He&&di.addItem(He),window.scrollTo({top:0,behavior:"smooth"})},pe=()=>{v(!1),h(!0)},z=V.useCallback(()=>{I(null),M(null),L(null),Re(null),ne(null),v(!1),h(!1),ge(null),me(null)},[]),F=Ce=>{var He,ut,hr,Mt,Vt,mt,sr,Lt,Ge,_r,mr,pr;if(Ce.type==="nfo")H(Ce.generatedNFO||null);else if(Ce.type==="book")ke("books"),Z(Ce.bookData||null),Ie(Ce.bookData||null),De(Ce.ebookSpecs||null),Se(Ce.poster),h(!1),v(!1),ge(null),H(null);else{const Ve={id:((He=Ce.movieData)==null?void 0:He.id)||((ut=Ce.tvShowData)==null?void 0:ut.id)||0,title:(hr=Ce.movieData)==null?void 0:hr.title,name:(Mt=Ce.tvShowData)==null?void 0:Mt.name,media_type:Ce.type,poster_path:Ce.poster,backdrop_path:((Vt=Ce.movieData)==null?void 0:Vt.backdrop_path)||((mt=Ce.tvShowData)==null?void 0:mt.backdrop_path)||null,release_date:(sr=Ce.movieData)==null?void 0:sr.release_date,first_air_date:(Lt=Ce.tvShowData)==null?void 0:Lt.first_air_date,vote_average:((Ge=Ce.movieData)==null?void 0:Ge.vote_average)||((_r=Ce.tvShowData)==null?void 0:_r.vote_average)||0,overview:((mr=Ce.movieData)==null?void 0:mr.overview)||((pr=Ce.tvShowData)==null?void 0:pr.overview)||""};s==="nfo"&&ke("movies"),I(Ve),M(Ce.movieData||null),L(Ce.tvShowData||null),Re(Ce.credits||null),ne(Ce.torrentSpecs||null),me(Ce.poster),H(Ce.generatedNFO||null),v(!1),h(!1),ge(null)}},J=Ce=>{if(me(Ce),S&&I({...S,poster_path:Ce}),O){const He=k(O,Ce);He&&di.addItem(He)}};V.useCallback(()=>{h(!0)},[]);const je=Ce=>{if(P){const He=P.seasons.find(ut=>ut.season_number===Ce);if(He){const ut={...P,name:`${P.name} - ${He.name}`,overview:He.overview||P.overview,poster_path:He.poster_path||P.poster_path,first_air_date:He.air_date||P.first_air_date,number_of_episodes:He.episode_count,selectedSeason:He};L(ut),me(He.poster_path||P.poster_path),h(!1),v(!0)}}},de=async Ce=>{Z(Ce),f(!0);try{const He=await Is.getVolumeDetails(Ce.id);Ie(He),Se(Is.getHighQualityImage(He.volumeInfo.imageLinks));const ut=await $t.ebookSpecs.get(He.id);De(ut?ut.specs:null),h(!0)}catch(He){console.error("Error fetching book details:",He),Ie(Ce),Se(Is.getHighQualityImage(Ce.volumeInfo.imageLinks));const ut=await $t.ebookSpecs.get(Ce.id);De(ut?ut.specs:null),h(!0)}f(!1)},ue=async Ce=>{if(De(Ce),v(!1),X&&await $t.ebookSpecs.put({id:X.id,specs:Ce}),X){const He={type:"book",title:X.volumeInfo.title,year:X.volumeInfo.publishedDate?new Date(X.volumeInfo.publishedDate).getFullYear():0,poster:q,bookData:X,ebookSpecs:Ce};await di.addItem(He)}window.scrollTo({top:0,behavior:"smooth"})},he=()=>{v(!1),h(!0)},ze=Ce=>{Se(Ce)},ke=Ce=>{Qe(),Ce==="nfo"?(H(null),r("/nfo")):r(Ce==="books"?"/books":"/")},Qe=()=>{I(null),M(null),L(null),Re(null),ne(null),me(null),ge(null),Z(null),Ie(null),De(null),Se(null),h(!1),v(!1),f(!1),H(null)};return i.jsxs("div",{className:`min-h-screen relative overflow-hidden flex flex-col transition-all duration-500 ${s==="nfo"?"bg-gradient-to-br from-blue-900 via-cyan-900 to-sky-900":s==="books"?"bg-gradient-to-br from-emerald-900 via-green-900 to-teal-900":"bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900"}`,children:[i.jsx("div",{className:`absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] via-transparent to-transparent pointer-events-none transition-colors duration-500 ${s==="nfo"?"from-blue-400/20":s==="books"?"from-emerald-400/20":"from-purple-400/20"}`}),i.jsx("div",{className:`absolute top-1/4 left-1/4 w-96 h-96 rounded-full blur-3xl animate-pulse pointer-events-none transition-colors duration-500 ${s==="nfo"?"bg-blue-500/10":s==="books"?"bg-emerald-500/10":"bg-violet-500/10"}`}),i.jsx("div",{className:`absolute bottom-1/4 right-1/4 w-80 h-80 rounded-full blur-3xl animate-pulse delay-1000 pointer-events-none transition-colors duration-500 ${s==="nfo"?"bg-cyan-500/10":s==="books"?"bg-green-500/10":"bg-blue-500/10"}`}),i.jsx("header",{className:"border-b border-white/10 bg-black/30 backdrop-blur-md sticky top-0 z-40",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer",onClick:()=>r("/"),children:[i.jsx("div",{className:"p-2 bg-violet-600 rounded-xl",children:i.jsx(qu,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),i.jsxs("div",{className:"hidden sm:block",children:[i.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:e("header.title")}),i.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:e("header.subtitle")})]})]}),i.jsx("div",{className:"hidden lg:flex absolute left-1/2 transform -translate-x-1/2",children:i.jsxs("div",{className:"flex items-center bg-gray-800/60 border border-gray-700/50 rounded-xl p-1",children:[i.jsxs("button",{onClick:()=>ke("movies"),className:`flex items-center space-x-2 px-3 md:px-4 py-2 rounded-lg transition-all duration-200 ${s==="movies"?"bg-violet-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[i.jsx(qu,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:e("nav.movies")})]}),i.jsxs("button",{onClick:()=>ke("books"),className:`flex items-center space-x-2 px-3 md:px-4 py-2 rounded-lg transition-all duration-200 ${s==="books"?"bg-emerald-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[i.jsx(Zr,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:e("nav.books")})]}),i.jsxs("button",{onClick:()=>window.open("https://jukop22.github.io/ziknfo/","_blank"),className:"flex items-center space-x-2 px-3 md:px-4 py-2 rounded-lg transition-all duration-200 text-gray-300 hover:text-white hover:bg-gray-700/60",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 feather feather-music",children:[i.jsx("path",{d:"M9 18V5l12-2v13"}),i.jsx("circle",{cx:"6",cy:"18",r:"3"}),i.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),i.jsx("span",{className:"text-sm",children:"Audio"})]})]})}),i.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[i.jsx(U1,{}),i.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[i.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-2 px-3 md:px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors",children:[i.jsx(Pl,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:e("history.button")})]}),i.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-3 md:px-4 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors",children:[i.jsx(Ah,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"API"})]}),i.jsxs("button",{onClick:()=>ke("nfo"),className:`flex items-center space-x-2 px-3 md:px-4 py-2 rounded-xl transition-colors ${s==="nfo"?"bg-blue-600 text-white shadow-lg":"bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 text-gray-300 hover:text-white"}`,children:[i.jsx(Qa,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"NFO"})]})]}),i.jsx("button",{className:"md:hidden p-2 text-white hover:bg-white/10 rounded-lg transition-colors",onClick:()=>w(!x),children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[i.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),i.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),i.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})]}),i.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-white/10",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsxs("div",{className:"flex items-center bg-gray-800/60 border border-gray-700/50 rounded-xl p-1",children:[i.jsxs("button",{onClick:()=>ke("movies"),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${s==="movies"?"bg-violet-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[i.jsx(qu,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:e("nav.movies")})]}),i.jsxs("button",{onClick:()=>ke("books"),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${s==="books"?"bg-emerald-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700/60"}`,children:[i.jsx(Zr,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:e("nav.books")})]}),i.jsxs("button",{onClick:()=>window.open("https://jukop22.github.io/ziknfo/","_blank"),className:"flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 text-gray-300 hover:text-white hover:bg-gray-700/60",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 feather feather-music",children:[i.jsx("path",{d:"M9 18V5l12-2v13"}),i.jsx("circle",{cx:"6",cy:"18",r:"3"}),i.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),i.jsx("span",{className:"text-sm",children:"Audio"})]})]})}),x&&i.jsxs("div",{className:"grid grid-cols-3 gap-2 md:hidden",children:[i.jsxs("button",{onClick:()=>{g(!0),w(!1)},className:"flex flex-col items-center px-2 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors text-xs",children:[i.jsx(Pl,{className:"w-4 h-4 mb-1"}),i.jsx("span",{children:e("history.button")})]}),i.jsxs("button",{onClick:()=>{p(!0),w(!1)},className:"flex flex-col items-center px-2 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors text-xs",children:[i.jsx(Ah,{className:"w-4 h-4 mb-1"}),i.jsx("span",{children:"API"})]}),i.jsxs("button",{onClick:()=>{ke("nfo"),w(!1)},className:"flex flex-col items-center px-2 py-2 bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-colors text-xs",children:[i.jsx(Qa,{className:"w-4 h-4 mb-1"}),i.jsx("span",{children:"NFO"})]})]})]})]})}),i.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 relative z-10 flex-1",children:[s==="nfo"&&i.jsx("div",{className:"mb-12",children:i.jsx(Z1,{generatedNFO:xe})}),s!=="nfo"&&!b&&!j&&!S&&!K&&i.jsxs("div",{className:"mb-12",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("h2",{className:`text-5xl md:text-6xl font-bold bg-clip-text text-transparent mb-6 leading-tight ${s==="books"?"bg-gradient-to-r from-emerald-400 via-green-400 to-teal-400":"bg-gradient-to-r from-violet-400 via-purple-400 to-blue-400"}`,children:[e(s==="books"?"ebook.create":"app.create"),i.jsx("br",{}),i.jsx("span",{className:"text-4xl md:text-5xl",children:e(s==="books"?"ebook.professional":"app.professional")})]}),i.jsx("div",{className:`w-24 h-1 mx-auto mb-6 rounded-full ${s==="books"?"bg-gradient-to-r from-emerald-500 to-teal-500":"bg-gradient-to-r from-violet-500 to-blue-500"}`})]}),i.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:e(s==="books"?"ebook.description":"app.description")})]}),s==="movies"?i.jsx(j1,{onResultSelect:Ee,onTechnicalSpecsFound:re,onNFOGenerated:Ye,apiKey:o,language:t}):i.jsx(K1,{onBookSelect:de,language:t})]}),_&&s!=="nfo"&&i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"inline-flex items-center space-x-3",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-500"}),i.jsx("span",{className:"text-white text-lg",children:e("app.loading")})]})}),j&&(S||K)&&!b&&s!=="nfo"&&i.jsxs("div",{className:"mb-8",children:[E&&s==="movies"&&i.jsx("div",{className:"mb-6 bg-green-500/10 border border-green-500/30 rounded-xl p-4",children:i.jsxs("p",{className:"text-green-300",children:[i.jsx("strong",{children:e("app.specs.detected")})," ",e("app.specs.message")]})}),s==="movies"?i.jsx(B1,{onSave:ve,onCancel:pe,initialSpecs:E||(O?{video:O.video,audio:O.audio,subtitles:O.subtitles,source:O.source,releaseGroup:O.releaseGroup,notes:O.notes,numberOfFiles:O.numberOfFiles}:void 0)}):i.jsx(Q1,{onSave:ue,onCancel:he,bookData:X,initialSpecs:Ae})]}),b&&(S||K)&&!_&&!j&&s!=="nfo"&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[s==="books"?i.jsx(Zr,{className:"w-6 h-6 text-emerald-400"}):(S==null?void 0:S.media_type)==="movie"?i.jsx(hn,{className:"w-6 h-6 text-violet-400"}):i.jsx(Dn,{className:"w-6 h-6 text-violet-400"}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:e("app.preview.title")})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:Je,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.preview.change")}),i.jsx("button",{onClick:Ue,className:"px-6 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:e("app.preview.continue")})]})]}),i.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 mb-6",children:i.jsxs("p",{className:"text-blue-300",children:[i.jsx("strong",{children:e("app.preview.check")})," ",e("app.preview.verify")]})}),$&&le&&i.jsx(Lh,{movie:$,credits:le,isPreview:!0,selectedPoster:qe,onPosterChange:J}),P&&le&&s==="movies"&&i.jsx(Uh,{tvShow:P,credits:le,isPreview:!0,selectedPoster:qe,onPosterChange:J,onSeasonSelect:je}),s==="books"&&K&&X&&i.jsx(Yh,{book:X,isPreview:!0,selectedCover:q,onCoverChange:ze})]}),S&&!_&&!j&&!b&&O&&s==="movies"&&s!=="nfo"&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[S.media_type==="movie"?i.jsx(hn,{className:"w-6 h-6 text-violet-400"}):i.jsx(Dn,{className:"w-6 h-6 text-violet-400"}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:e("app.sheet.generated")})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors",children:e("app.sheet.edit.specs")}),i.jsx("button",{onClick:z,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.sheet.new")})]})]}),$&&le&&i.jsx(Lh,{movie:$,credits:le,torrentSpecs:O,selectedPoster:qe,onPosterChange:J,generatedNFO:xe}),P&&le&&i.jsx(Uh,{tvShow:P,credits:le,torrentSpecs:O,selectedPoster:qe,onPosterChange:J,generatedNFO:xe})]}),X&&!_&&!j&&!b&&Ae&&s==="books"&&s!=="nfo"&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Zr,{className:"w-6 h-6 text-emerald-400"}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:e("ebook.sheet.generated")})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors",children:e("app.sheet.edit.specs")}),i.jsx("button",{onClick:Qe,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:e("app.sheet.new")})]})]}),i.jsx(Yh,{book:X,ebookSpecs:Ae,selectedCover:q,onCoverChange:ze})]}),!S&&!X&&!_&&!j&&!b&&s!=="nfo"&&i.jsxs("div",{className:"text-center py-20",children:[i.jsxs("div",{className:"mb-12",children:[s==="movies"?i.jsxs("div",{className:"flex justify-center space-x-6 mb-8",children:[i.jsx("div",{className:"p-6 bg-gradient-to-br from-violet-500/20 to-purple-600/20 rounded-3xl backdrop-blur-sm border border-violet-400/20 shadow-2xl",children:i.jsx(hn,{className:"w-16 h-16 text-violet-400"})}),i.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-500/20 to-cyan-600/20 rounded-3xl backdrop-blur-sm border border-blue-400/20 shadow-2xl",children:i.jsx(Dn,{className:"w-16 h-16 text-blue-400"})})]}):i.jsx("div",{className:"flex justify-center mb-8",children:i.jsx("div",{className:"p-6 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 rounded-3xl backdrop-blur-sm border border-emerald-400/20 shadow-2xl",children:i.jsx(Zr,{className:"w-16 h-16 text-emerald-400"})})}),i.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-4",children:e(s==="books"?"ebook.ready.title":"app.ready.title")}),i.jsx("p",{className:"text-gray-300 text-lg max-w-lg mx-auto",children:e(s==="books"?"ebook.ready.description":"app.ready.description")})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:s==="movies"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 backdrop-blur-sm border border-green-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-green-400/30",children:i.jsx("span",{className:"text-green-400 text-3xl font-bold",children:"1"})}),i.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step1")}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step1.desc")})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-600/10 backdrop-blur-sm border border-blue-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400/20 to-cyan-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-blue-400/30",children:i.jsx("span",{className:"text-blue-400 text-3xl font-bold",children:"2"})}),i.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step2")}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step2.desc")})]}),i.jsxs("div",{className:"bg-gradient-to-br from-violet-500/10 to-purple-600/10 backdrop-blur-sm border border-violet-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-400/20 to-purple-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-violet-400/30",children:i.jsx("span",{className:"text-violet-400 text-3xl font-bold",children:"3"})}),i.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("app.step3")}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("app.step3.desc")})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-green-600/10 backdrop-blur-sm border border-emerald-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-400/20 to-green-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-emerald-400/30",children:i.jsx("span",{className:"text-emerald-400 text-3xl font-bold",children:"1"})}),i.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("ebook.step1")}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("ebook.step1.desc")})]}),i.jsxs("div",{className:"bg-gradient-to-br from-teal-500/10 to-cyan-600/10 backdrop-blur-sm border border-teal-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-400/20 to-cyan-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-teal-400/30",children:i.jsx("span",{className:"text-teal-400 text-3xl font-bold",children:"2"})}),i.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("ebook.step2")}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("ebook.step2.desc")})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-600/10 backdrop-blur-sm border border-green-400/20 rounded-2xl p-8 text-center hover:scale-105 transition-transform duration-300 shadow-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-2xl mx-auto mb-6 flex items-center justify-center border border-green-400/30",children:i.jsx("span",{className:"text-green-400 text-3xl font-bold",children:"3"})}),i.jsx("h4",{className:"text-white font-bold text-lg mb-3",children:e("ebook.step3")}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e("ebook.step3.desc")})]})]})})]})]}),i.jsx("footer",{className:"border-t border-white/10 bg-black/30 backdrop-blur-md mt-auto relative",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-gray-300 text-sm font-medium",children:e("footer.version")})})})}),i.jsx(L1,{isOpen:d,onClose:()=>p(!1),onSave:we,currentApiKey:o}),i.jsx(V1,{isOpen:C,onClose:()=>g(!1),currentMode:s,onSelectItem:F})]})}function J1(){const[e,t]=V.useState(!0);return V.useEffect(()=>{(async()=>{await X1(),t(!1)})()},[]),e?i.jsx("div",{className:"bg-gray-900 min-h-screen flex items-center justify-center text-white",children:i.jsx("p",{children:"Migrating data..."})}):i.jsx(_1,{children:i.jsx(ub,{basename:"/fichegen",children:i.jsxs(zy,{children:[i.jsx(il,{path:"/",element:i.jsx(Zu,{})}),i.jsx(il,{path:"/books",element:i.jsx(Zu,{})}),i.jsx(il,{path:"/nfo",element:i.jsx(Zu,{})})]})})})}hg(document.getElementById("root")).render(i.jsx(V.StrictMode,{children:i.jsx(J1,{})}));
